var m6=Object.defineProperty;var g6=(e,t,r)=>t in e?m6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ub=(e,t,r)=>g6(e,typeof t!="symbol"?t+"":t,r);import{B as Me,c as ym,b as xm,d as wm,f as Sm,g as km,h as Cm,i as _m,k as jm,u as fe,j as a,K as o2,l as s2,m as l2,R as c2,n as u2,o as d2,p as h2,T as f2,M as p2,q as m2,r as g2,s as v2,t as b2,v as y2,N as x2,A as w2,w as S2,x as k2,y as C2,z as _2,I as j2,E as P2,P as $2,F as I2,G as T2,H as N2,J as E2,L as z2,O as D2,Q as O2,U as F2,V as Dr,W as Bp,S as zi,X as v6,Y as b6,Z as lu,_ as y6,$ as x6,a0 as w6,a1 as us,D as At,e as Nt,a2 as Pm,a as S6,a3 as k6,a4 as Qs,a5 as ss}from"./elements-controls-CEF3ps2B.js";import{c as C6,a as X,u as ch,g as cu,R as wt,K as id,d as $m,e as _6,f as M2,h as L2,i as j6,j as P6,C as Im,k as $6,D as A2,l as I6,m as ls,r as T6,n as R2,o as N6,p as E6,q as z6,P as D6}from"./vendor-dnd-CM3d3Uyb.js";import{a as O6,u as Zd}from"./vendor-zustand-BXhos0xP.js";import{L as B2,M as U2,D as V2,F as W2,G as H2,W as G2,O as Z2,P as q2,a as X2,N as Y2,T as K2,b as J2,R as Q2,c as ek,B as tk,E as rk,d as nk,e as ak,f as ik,V as ok,g as sk,h as lk,i as ck,j as uk,k as dk,l as hk,m as fk,n as pk,o as mk,p as gk,q as vk,r as bk,s as yk,K as xk,t as wk,u as Sk,v as kk,w as Ck,x as _k,C as jk,S as Pk,y as $k,z as Ik,A as Tk,H as Nk,I as Ek,J as zk,Q as Dk,U as Ok,X as Fk,Y as Mk,Z as Di}from"./elements-displays-D1fLVOT1.js";import{P as Lk,F as Ak,G as Rk,C as Bk,T as Uk,W as Vk,H as Wk,V as Hk}from"./elements-containers-A9REFZLZ.js";import{I as F6,S as Gk,R as Zk,L as qk,A as Xk}from"./elements-decorative-4FhBPFnX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var od={},Vb;function M6(){if(Vb)return od;Vb=1;var e=C6();return od.createRoot=e.createRoot,od.hydrateRoot=e.hydrateRoot,od}var L6=M6();let A6={data:""},R6=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||A6},B6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,U6=/\/\*[^]*?\*\/|  +/g,Wb=/\n+/g,Xa=(e,t)=>{let r="",n="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+s+";":n+=o[1]=="f"?Xa(s,o):o+"{"+Xa(s,o[1]=="k"?"":t)+"}":typeof s=="object"?n+=Xa(s,t?t.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,d):d?d+" "+c:c)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Xa.p?Xa.p(o,s):o+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},ua={},Yk=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Yk(e[r]);return t}return e},V6=(e,t,r,n,i)=>{let o=Yk(e),s=ua[o]||(ua[o]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(o));if(!ua[s]){let c=o!==e?e:(u=>{let h,p,l=[{}];for(;h=B6.exec(u.replace(U6,""));)h[4]?l.shift():h[3]?(p=h[3].replace(Wb," ").trim(),l.unshift(l[0][p]=l[0][p]||{})):l[0][h[1]]=h[2].replace(Wb," ").trim();return l[0]})(e);ua[s]=Xa(i?{["@keyframes "+s]:c}:c,r?"":"."+s)}let d=r&&ua.g?ua.g:null;return r&&(ua.g=ua[s]),((c,u,h,p)=>{p?u.data=u.data.replace(p,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(ua[s],t,n,d),s},W6=(e,t,r)=>e.reduce((n,i,o)=>{let s=t[o];if(s&&s.call){let d=s(r),c=d&&d.props&&d.props.className||/^go/.test(d)&&d;s=c?"."+c:d&&typeof d=="object"?d.props?"":Xa(d,""):d===!1?"":d}return n+i+(s??"")},"");function uh(e){let t=this||{},r=e.call?e(t.p):e;return V6(r.unshift?r.raw?W6(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,R6(t.target),t.g,t.o,t.k)}let Kk,Up,Vp;uh.bind({g:1});let _a=uh.bind({k:1});function H6(e,t,r,n){Xa.p=t,Kk=e,Up=r,Vp=n}function ai(e,t){let r=this||{};return function(){let n=arguments;function i(o,s){let d=Object.assign({},o),c=d.className||i.className;r.p=Object.assign({theme:Up&&Up()},d),r.o=/ *go\d+/.test(c),d.className=uh.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=d.as||e,delete d.as),Vp&&u[0]&&Vp(d),Kk(u,d)}return i}}var G6=e=>typeof e=="function",qd=(e,t)=>G6(e)?e(t):e,Z6=(()=>{let e=0;return()=>(++e).toString()})(),Jk=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),q6=20,Tm="default",Qk=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return Qk(e,{type:e.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},Rd=[],eC={toasts:[],pausedAt:void 0,settings:{toastLimit:q6}},Xn={},tC=(e,t=Tm)=>{Xn[t]=Qk(Xn[t]||eC,e),Rd.forEach(([r,n])=>{r===t&&n(Xn[t])})},rC=e=>Object.keys(Xn).forEach(t=>tC(e,t)),X6=e=>Object.keys(Xn).find(t=>Xn[t].toasts.some(r=>r.id===e)),dh=(e=Tm)=>t=>{tC(t,e)},Y6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},K6=(e={},t=Tm)=>{let[r,n]=X.useState(Xn[t]||eC),i=X.useRef(Xn[t]);X.useEffect(()=>(i.current!==Xn[t]&&n(Xn[t]),Rd.push([t,n]),()=>{let s=Rd.findIndex(([d])=>d===t);s>-1&&Rd.splice(s,1)}),[t]);let o=r.toasts.map(s=>{var d,c,u;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((d=e[s.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((c=e[s.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Y6[s.type],style:{...e.style,...(u=e[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:o}},J6=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Z6()}),uu=e=>(t,r)=>{let n=J6(t,e,r);return dh(n.toasterId||X6(n.id))({type:2,toast:n}),n.id},ur=(e,t)=>uu("blank")(e,t);ur.error=uu("error");ur.success=uu("success");ur.loading=uu("loading");ur.custom=uu("custom");ur.dismiss=(e,t)=>{let r={type:3,toastId:e};t?dh(t)(r):rC(r)};ur.dismissAll=e=>ur.dismiss(void 0,e);ur.remove=(e,t)=>{let r={type:4,toastId:e};t?dh(t)(r):rC(r)};ur.removeAll=e=>ur.remove(void 0,e);ur.promise=(e,t,r)=>{let n=ur.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?qd(t.success,i):void 0;return o?ur.success(o,{id:n,...r,...r==null?void 0:r.success}):ur.dismiss(n),i}).catch(i=>{let o=t.error?qd(t.error,i):void 0;o?ur.error(o,{id:n,...r,...r==null?void 0:r.error}):ur.dismiss(n)}),e};var Q6=1e3,e3=(e,t="default")=>{let{toasts:r,pausedAt:n}=K6(e,t),i=X.useRef(new Map).current,o=X.useCallback((p,l=Q6)=>{if(i.has(p))return;let f=setTimeout(()=>{i.delete(p),s({type:4,toastId:p})},l);i.set(p,f)},[]);X.useEffect(()=>{if(n)return;let p=Date.now(),l=r.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(p-f.createdAt);if(m<0){f.visible&&ur.dismiss(f.id);return}return setTimeout(()=>ur.dismiss(f.id,t),m)});return()=>{l.forEach(f=>f&&clearTimeout(f))}},[r,n,t]);let s=X.useCallback(dh(t),[t]),d=X.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=X.useCallback((p,l)=>{s({type:1,toast:{id:p,height:l}})},[s]),u=X.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),h=X.useCallback((p,l)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:b}=l||{},S=r.filter(y=>(y.position||b)===(p.position||b)&&y.height),x=S.findIndex(y=>y.id===p.id),w=S.filter((y,_)=>_<x&&y.visible).length;return S.filter(y=>y.visible).slice(...f?[w+1]:[0,w]).reduce((y,_)=>y+(_.height||0)+m,0)},[r]);return X.useEffect(()=>{r.forEach(p=>{if(p.dismissed)o(p.id,p.removeDelay);else{let l=i.get(p.id);l&&(clearTimeout(l),i.delete(p.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:c,startPause:d,endPause:u,calculateOffset:h}}},t3=_a`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r3=_a`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n3=_a`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,a3=ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,i3=_a`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o3=ai("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${i3} 1s linear infinite;
`,s3=_a`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,l3=_a`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c3=ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${l3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,u3=ai("div")`
  position: absolute;
`,d3=ai("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,h3=_a`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f3=ai("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${h3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,p3=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?X.createElement(f3,null,t):t:r==="blank"?null:X.createElement(d3,null,X.createElement(o3,{...n}),r!=="loading"&&X.createElement(u3,null,r==="error"?X.createElement(a3,{...n}):X.createElement(c3,{...n})))},m3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,v3="0%{opacity:0;} 100%{opacity:1;}",b3="0%{opacity:1;} 100%{opacity:0;}",y3=ai("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,x3=ai("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w3=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=Jk()?[v3,b3]:[m3(r),g3(r)];return{animation:t?`${_a(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_a(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},S3=X.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?w3(e.position||t||"top-center",e.visible):{opacity:0},o=X.createElement(p3,{toast:e}),s=X.createElement(x3,{...e.ariaProps},qd(e.message,e));return X.createElement(y3,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:o,message:s}):X.createElement(X.Fragment,null,o,s))});H6(X.createElement);var k3=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let o=X.useCallback(s=>{if(s){let d=()=>{let c=s.getBoundingClientRect().height;n(e,c)};d(),new MutationObserver(d).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return X.createElement("div",{ref:o,className:t,style:r},i)},C3=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Jk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},_3=uh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,sd=16,j3=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:s,containerClassName:d})=>{let{toasts:c,handlers:u}=e3(r,o);return X.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:sd,left:sd,right:sd,bottom:sd,pointerEvents:"none",...s},className:d,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let p=h.position||t,l=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),f=C3(p,l);return X.createElement(k3,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?_3:"",style:f},h.type==="custom"?qd(h.message,h):i?i(h):X.createElement(S3,{toast:h,position:p}))}))},$t=ur;const ld=43200,Hb=1440,Gb=Symbol.for("constructDateFrom");function Nm(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Gb in e?e[Gb](t):e instanceof Date?new e.constructor(t):new Date(t)}function ei(e,t){return Nm(e,e)}let P3={};function $3(){return P3}function Zb(e){const t=ei(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Em(e,...t){const r=Nm.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Bd(e,t){const r=+ei(e)-+ei(t);return r<0?-1:r>0?1:r}function I3(e){return Nm(e,Date.now())}function T3(e,t,r){const[n,i]=Em(r==null?void 0:r.in,e,t),o=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return o*12+s}function N3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function E3(e,t){return+ei(e)-+ei(t)}function z3(e,t){const r=ei(e);return r.setHours(23,59,59,999),r}function D3(e,t){const r=ei(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function O3(e,t){const r=ei(e);return+z3(r)==+D3(r)}function F3(e,t,r){const[n,i,o]=Em(r==null?void 0:r.in,e,e,t),s=Bd(i,o),d=Math.abs(T3(i,o));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*d);let c=Bd(i,o)===-s;O3(n)&&d===1&&Bd(n,o)===1&&(c=!1);const u=s*(d-+c);return u===0?0:u}function M3(e,t,r){const n=E3(e,t)/1e3;return N3(r==null?void 0:r.roundingMethod)(n)}const L3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A3=(e,t,r)=>{let n;const i=L3[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const R3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V3={date:Bf({formats:R3,defaultWidth:"full"}),time:Bf({formats:B3,defaultWidth:"full"}),dateTime:Bf({formats:U3,defaultWidth:"full"})},W3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H3=(e,t,r,n)=>W3[e];function el(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):s;i=e.formattingValues[d]||e.formattingValues[s]}else{const s=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const G3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},q3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Q3={ordinalNumber:J3,era:el({values:G3,defaultWidth:"wide"}),quarter:el({values:Z3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:el({values:q3,defaultWidth:"wide"}),day:el({values:X3,defaultWidth:"wide"}),dayPeriod:el({values:Y3,defaultWidth:"wide",formattingValues:K3,defaultFormattingWidth:"wide"})};function tl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(d)?t5(d,p=>p.test(s)):e5(d,p=>p.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(s.length);return{value:u,rest:h}}}function e5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function t5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function r5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;const d=t.slice(i.length);return{value:s,rest:d}}}const n5=/^(\d+)(th|st|nd|rd)?/i,a5=/\d+/i,i5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o5={any:[/^b/i,/^(a|c)/i]},s5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l5={any:[/1/i,/2/i,/3/i,/4/i]},c5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},d5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},h5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},f5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m5={ordinalNumber:r5({matchPattern:n5,parsePattern:a5,valueCallback:e=>parseInt(e,10)}),era:tl({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any"}),quarter:tl({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tl({matchPatterns:c5,defaultMatchWidth:"wide",parsePatterns:u5,defaultParseWidth:"any"}),day:tl({matchPatterns:d5,defaultMatchWidth:"wide",parsePatterns:h5,defaultParseWidth:"any"}),dayPeriod:tl({matchPatterns:f5,defaultMatchWidth:"any",parsePatterns:p5,defaultParseWidth:"any"})},g5={code:"en-US",formatDistance:A3,formatLong:V3,formatRelative:H3,localize:Q3,match:m5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function v5(e,t,r){const n=$3(),i=(r==null?void 0:r.locale)??n.locale??g5,o=2520,s=Bd(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[c,u]=Em(r==null?void 0:r.in,...s>0?[t,e]:[e,t]),h=M3(u,c),p=(Zb(u)-Zb(c))/1e3,l=Math.round((h-p)/60);let f;if(l<2)return r!=null&&r.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,d):h<10?i.formatDistance("lessThanXSeconds",10,d):h<20?i.formatDistance("lessThanXSeconds",20,d):h<40?i.formatDistance("halfAMinute",0,d):h<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):l===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",l,d);if(l<45)return i.formatDistance("xMinutes",l,d);if(l<90)return i.formatDistance("aboutXHours",1,d);if(l<Hb){const m=Math.round(l/60);return i.formatDistance("aboutXHours",m,d)}else{if(l<o)return i.formatDistance("xDays",1,d);if(l<ld){const m=Math.round(l/Hb);return i.formatDistance("xDays",m,d)}else if(l<ld*2)return f=Math.round(l/ld),i.formatDistance("aboutXMonths",f,d)}if(f=F3(u,c),f<12){const m=Math.round(l/ld);return i.formatDistance("xMonths",m,d)}else{const m=f%12,b=Math.trunc(f/12);return m<3?i.formatDistance("aboutXYears",b,d):m<9?i.formatDistance("overXYears",b,d):i.formatDistance("almostXYears",b+1,d)}}function nC(e,t){return v5(e,I3(e),t)}function zm(e){return{id:crypto.randomUUID(),type:"knob",name:"Knob",x:0,y:0,width:60,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#949494",indicatorColor:"#ffffff",trackWidth:4,showLabel:!1,labelText:"Knob",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Dm(e){return{id:crypto.randomUUID(),type:"slider",name:"Slider",x:0,y:0,width:40,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"vertical",value:.5,min:0,max:1,trackColor:"#374151",trackFillColor:"#949494",trackWidth:6,thumbColor:"#ffffff",thumbWidth:20,thumbHeight:20,showLabel:!1,labelText:"Slider",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Om(e){return{id:crypto.randomUUID(),type:"button",name:"Button",x:0,y:0,width:80,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,mode:"momentary",label:"Button",pressed:!1,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500",backgroundColor:"#949494",textColor:"#ffffff",borderColor:"#6b7280",borderRadius:0,borderWidth:1,...e}}function Fm(e){return{id:crypto.randomUUID(),type:"rangeslider",name:"RangeSlider",x:0,y:0,width:200,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"horizontal",min:0,max:1,minValue:.25,maxValue:.75,trackColor:"#374151",fillColor:"#949494",thumbColor:"#ffffff",thumbWidth:20,thumbHeight:20,...e}}function Mm(e){return{id:crypto.randomUUID(),type:"dropdown",name:"Dropdown",x:0,y:0,width:150,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,options:["Option 1","Option 2","Option 3"],selectedIndex:0,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",backgroundColor:"#1f2937",textColor:"#ffffff",borderColor:"#374151",borderRadius:0,...e}}function Lm(e){return{id:crypto.randomUUID(),type:"checkbox",name:"Checkbox",x:0,y:0,width:100,height:24,rotation:0,zIndex:0,locked:!1,visible:!0,checked:!1,label:"Checkbox",labelPosition:"right",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",checkColor:"#949494",borderColor:"#374151",backgroundColor:"#1f2937",textColor:"#ffffff",...e}}function Am(e){return{id:crypto.randomUUID(),type:"radiogroup",name:"RadioGroup",x:0,y:0,width:150,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,options:["Option 1","Option 2","Option 3"],selectedIndex:0,orientation:"vertical",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",radioColor:"#949494",borderColor:"#374151",backgroundColor:"transparent",textColor:"#ffffff",spacing:8,...e}}function Rm(e){return{id:crypto.randomUUID(),type:"textfield",name:"TextField",x:0,y:0,width:150,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,value:"",placeholder:"Enter text...",maxLength:0,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",textColor:"#ffffff",textAlign:"left",backgroundColor:"#1f2937",padding:8,borderColor:"#374151",borderWidth:1,borderRadius:0,...e}}function Bm(e){const t=(e==null?void 0:e.bandCount)??7,r=(e==null?void 0:e.bandValues)??Array(t).fill(.5);return{...{id:crypto.randomUUID(),type:"multislider",name:"Multi-Slider",x:0,y:0,width:200,height:120,rotation:0,zIndex:0,locked:!1,visible:!0,bandCount:t,bandValues:r,min:0,max:1,labelStyle:"index",customLabels:null,labelColor:"#888888",labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",linkMode:"independent",trackColor:"#374151",fillColor:"#949494",thumbColor:"#ffffff",bandGap:2},...e,bandCount:t,bandValues:r}}function Um(e){return{id:crypto.randomUUID(),type:"steppedknob",name:"Stepped Knob",x:0,y:0,width:60,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,stepCount:12,showStepIndicators:!0,showStepMarks:!1,stepIndicatorSize:1.3,stepMarkLength:6,stepMarkWidth:1,trackColor:"#374151",fillColor:"#949494",indicatorColor:"#ffffff",trackWidth:4,showLabel:!1,labelText:"Stepped",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Vm(e){return{id:crypto.randomUUID(),type:"centerdetentknob",name:"Center Detent",x:0,y:0,width:60,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,snapThreshold:.05,showCenterMark:!0,trackColor:"#374151",fillColor:"#949494",indicatorColor:"#ffffff",trackWidth:4,showLabel:!1,labelText:"Pan",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Wm(e){return{id:crypto.randomUUID(),type:"dotindicatorknob",name:"Dot Indicator",x:0,y:0,width:60,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,dotRadius:4,trackColor:"#374151",indicatorColor:"#ffffff",trackWidth:4,showLabel:!1,labelText:"Dot",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Hm(e){return{id:crypto.randomUUID(),type:"bipolarslider",name:"Bipolar Slider",x:0,y:0,width:40,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"vertical",value:.5,min:0,max:1,centerValue:.5,centerLineColor:"rgba(255, 255, 255, 0.5)",centerSnap:!1,centerSnapThreshold:.02,trackColor:"#374151",trackFillColor:"#949494",negativeFillColor:"#ef4444",positiveFillColor:"#22c55e",thumbColor:"#ffffff",thumbWidth:20,thumbHeight:20,showLabel:!1,labelText:"Pan",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function Gm(e){return{id:crypto.randomUUID(),type:"crossfadeslider",name:"Crossfade",x:0,y:0,width:200,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:0,max:1,labelA:"A",labelB:"B",labelColor:"#888888",labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",trackColor:"#374151",trackFillColor:"#949494",thumbColor:"#ffffff",thumbWidth:20,thumbHeight:20,...e}}function Zm(e){return{id:crypto.randomUUID(),type:"notchedslider",name:"Notched Slider",x:0,y:0,width:40,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"vertical",value:.5,min:0,max:1,trackColor:"#374151",trackFillColor:"#949494",thumbColor:"#ffffff",thumbWidth:20,thumbHeight:20,notchCount:5,notchPositions:null,showNotchLabels:!1,notchColor:"rgba(255, 255, 255, 0.5)",notchLength:12,notchLabelFontSize:10,showLabel:!1,labelText:"Notched",labelPosition:"bottom",labelDistance:4,labelFontSize:12,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#ffffff",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:12,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#a0a0a0",...e}}function qm(e){return{id:crypto.randomUUID(),type:"asciislider",name:"ASCII Slider",x:0,y:0,width:280,height:24,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:0,max:100,barWidth:20,filledChar:"█",emptyChar:"░",leftBracket:"",rightBracket:"",showLabel:!1,labelText:"Label",labelPosition:"left",showMinMax:!1,showValue:!0,valuePosition:"right",valueFormat:"percentage",valueSuffix:"",valueDecimalPlaces:0,minLabel:"0%",maxLabel:"100%",fontSize:14,fontFamily:"Courier New, Consolas, monospace",fontWeight:"400",textColor:"#00ff00",lineHeight:1,backgroundColor:"transparent",padding:0,borderRadius:0,borderWidth:0,borderColor:"#374151",textAlign:"left",selectable:!1,dragSensitivity:100,...e}}function Xm(e){return{id:crypto.randomUUID(),type:"asciibutton",name:"ASCII Button",x:0,y:0,width:100,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,pressed:!1,mode:"toggle",normalArt:`┌──────┐
│ PLAY │
└──────┘`,pressedArt:`╔══════╗
║ PLAY ║
╚══════╝`,fontSize:14,fontFamily:"Courier New, Consolas, monospace",fontWeight:"400",textColor:"#00ff00",pressedTextColor:"#00ffff",lineHeight:1,backgroundColor:"transparent",pressedBackgroundColor:"transparent",padding:4,borderRadius:0,borderWidth:0,borderColor:"#374151",textAlign:"center",selectable:!1,...e}}function Ym(e){return{id:crypto.randomUUID(),type:"rockerswitch",name:"Rocker Switch",x:0,y:0,width:40,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,position:1,mode:"latch-all-positions",showLabels:!0,upLabel:"UP",downLabel:"DN",labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",backgroundColor:"#374151",switchColor:"#949494",borderColor:"#6b7280",labelColor:"#888888",...e}}function Km(e){return{id:crypto.randomUUID(),type:"rotaryswitch",name:"Rotary Switch",x:0,y:0,width:80,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,positionCount:4,currentPosition:0,positionLabels:null,rotationAngle:270,labelLayout:"radial",backgroundColor:"#374151",pointerColor:"#ffffff",labelColor:"#888888",labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",borderColor:"#6b7280",...e}}function Jm(e){const t=(e==null?void 0:e.segmentCount)??3,r=(e==null?void 0:e.segments)??[{displayMode:"text",text:"A"},{displayMode:"text",text:"B"},{displayMode:"text",text:"C"}];return{id:crypto.randomUUID(),type:"segmentbutton",name:"Segment Button",x:0,y:0,width:180,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,segmentCount:t,segments:r,selectionMode:"single",selectedIndices:[0],orientation:"horizontal",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500",backgroundColor:"#374151",selectedColor:"#949494",textColor:"#888888",selectedTextColor:"#ffffff",borderColor:"#6b7280",iconSize:16,iconColor:"#888888",selectedIconColor:"#ffffff",...e}}function Qm(e){return{id:crypto.randomUUID(),type:"iconbutton",name:"Icon Button",x:0,y:0,width:40,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,iconSource:"builtin",builtInIcon:Me.Play,mode:"momentary",pressed:!1,backgroundColor:"#374151",iconColor:"#ffffff",borderColor:"#6b7280",borderRadius:0,...e}}function eg(e){return{id:crypto.randomUUID(),type:"toggleswitch",name:"Toggle Switch",x:0,y:0,width:50,height:26,rotation:0,zIndex:0,locked:!1,visible:!0,isOn:!1,onColor:"#22c55e",offColor:"#374151",thumbColor:"#ffffff",borderColor:"#6b7280",showLabels:!1,onLabel:"ON",offLabel:"OFF",labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"400",labelColor:"#888888",...e}}function tg(e){return{id:crypto.randomUUID(),type:"powerbutton",name:"Power Button",x:0,y:0,width:60,height:60,rotation:0,zIndex:0,locked:!1,visible:!0,isOn:!1,ledPosition:"top",ledSize:6,ledOnColor:"#22c55e",ledOffColor:"#374151",label:"POWER",fontSize:10,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600",backgroundColor:"#374151",textColor:"#ffffff",borderColor:"#6b7280",borderRadius:0,...e}}function rg(e){return{id:crypto.randomUUID(),type:"stepper",name:"Stepper",x:0,y:0,width:120,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,value:0,min:0,max:100,step:1,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",buttonColor:"#374151",buttonHoverColor:"#4b5563",textColor:"#ffffff",backgroundColor:"#1f2937",borderColor:"#6b7280",borderRadius:0,showValue:!0,valueFormat:"numeric",valueSuffix:"",decimalPlaces:0,orientation:"horizontal",buttonSize:24,...e}}function ng(e){return{id:crypto.randomUUID(),type:"breadcrumb",name:"Breadcrumb",x:0,y:0,width:200,height:24,rotation:0,zIndex:0,locked:!1,visible:!0,items:[{id:"1",label:"Root"},{id:"2",label:"Folder"},{id:"3",label:"Current"}],separator:"/",linkColor:"#3b82f6",currentColor:"#ffffff",separatorColor:"#6b7280",hoverColor:"#60a5fa",fontSize:12,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",maxVisibleItems:0,...e}}function ag(e){return{id:crypto.randomUUID(),type:"tabbar",name:"Tab Bar",x:0,y:0,width:300,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,tabs:[{id:"tab1",label:"Tab 1",showLabel:!0,showIcon:!1},{id:"tab2",label:"Tab 2",showLabel:!0,showIcon:!1},{id:"tab3",label:"Tab 3",showLabel:!0,showIcon:!1}],activeTabIndex:0,orientation:"horizontal",tabHeight:40,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500",indicatorStyle:"background",indicatorColor:"#949494",backgroundColor:"#1f2937",textColor:"#888888",activeTextColor:"#ffffff",borderColor:"#374151",...e}}function ig(e){return{id:crypto.randomUUID(),type:"tagselector",name:"Tag Selector",x:0,y:0,width:300,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,availableTags:[{id:"tag1",label:"Bass"},{id:"tag2",label:"Lead"},{id:"tag3",label:"Pad"},{id:"tag4",label:"Keys"},{id:"tag5",label:"Drums"}],selectedTags:[],showInput:!0,inputPlaceholder:"Add tag...",inputBackgroundColor:"#1f2937",inputTextColor:"#ffffff",inputBorderColor:"#374151",fontSize:12,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",chipBackgroundColor:"#374151",chipTextColor:"#ffffff",chipRemoveColor:"#ef4444",chipBorderRadius:4,dropdownBackgroundColor:"#1f2937",dropdownTextColor:"#ffffff",dropdownHoverColor:"#374151",...e}}function og(e){return{id:crypto.randomUUID(),type:"treeview",name:"Tree View",x:0,y:0,width:250,height:300,rotation:0,zIndex:0,locked:!1,visible:!0,data:[{id:"presets",name:"Presets",children:[{id:"bass",name:"Bass",children:[{id:"bass-1",name:"Wobble Bass"},{id:"bass-2",name:"Sub Bass"},{id:"bass-3",name:"Pluck Bass"}]},{id:"lead",name:"Lead",children:[{id:"lead-1",name:"Synth Lead"},{id:"lead-2",name:"Square Lead"}]},{id:"pad",name:"Pad",children:[{id:"pad-1",name:"Warm Pad"},{id:"pad-2",name:"Dark Pad"}]}]},{id:"favorites",name:"Favorites",children:[]}],selectedId:void 0,expandedIds:["presets"],rowHeight:28,indent:20,backgroundColor:"#1f2937",textColor:"#ffffff",selectedBackgroundColor:"#374151",selectedTextColor:"#ffffff",hoverBackgroundColor:"#2d3748",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",disableEdit:!0,disableDrag:!0,...e}}function sg(e){return{id:crypto.randomUUID(),type:"multiselectdropdown",name:"Multi-Select Dropdown",x:0,y:0,width:180,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,options:["Option 1","Option 2","Option 3","Option 4"],selectedIndices:[],maxSelections:0,fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",backgroundColor:"#1f2937",textColor:"#ffffff",borderColor:"#374151",borderRadius:0,dropdownMaxHeight:200,...e}}function lg(e){return{id:crypto.randomUUID(),type:"combobox",name:"Combo Box",x:0,y:0,width:180,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,options:["Option 1","Option 2","Option 3","Option 4"],selectedValue:"",placeholder:"Type or select...",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",backgroundColor:"#1f2937",textColor:"#ffffff",borderColor:"#374151",borderRadius:0,dropdownMaxHeight:200,...e}}function cg(e){return{id:crypto.randomUUID(),type:"menubutton",name:"Menu Button",x:0,y:0,width:100,height:32,rotation:0,zIndex:0,locked:!1,visible:!0,label:"Menu",menuItems:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3",divider:!0},{id:"4",label:"Item 4"}],fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500",backgroundColor:"#374151",textColor:"#ffffff",borderColor:"#6b7280",borderRadius:0,...e}}function ug(e){return{id:crypto.randomUUID(),type:"label",name:"Label",x:0,y:0,width:100,height:30,rotation:0,zIndex:0,locked:!1,visible:!0,text:"Label",fontSize:14,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",color:"#ffffff",textAlign:"left",...e}}function dg(e){return{id:crypto.randomUUID(),type:"meter",name:"Meter",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"vertical",value:.75,min:0,max:1,colorStops:[{position:0,color:"#10b981"},{position:.7,color:"#eab308"},{position:.9,color:"#ef4444"}],backgroundColor:"#1f2937",showPeakHold:!0,...e}}function hg(e){return{id:crypto.randomUUID(),type:"dbdisplay",name:"dB Display",x:0,y:0,width:80,height:30,rotation:0,zIndex:0,locked:!1,visible:!0,value:-12,minDb:-60,maxDb:0,decimalPlaces:1,showUnit:!0,fontSize:16,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,...e}}function fg(e){return{id:crypto.randomUUID(),type:"frequencydisplay",name:"Frequency Display",x:0,y:0,width:100,height:30,rotation:0,zIndex:0,locked:!1,visible:!0,value:1e3,decimalPlaces:1,autoSwitchKHz:!0,showUnit:!0,fontSize:16,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#949494",backgroundColor:"#1f2937",padding:8,...e}}function pg(e){return{id:crypto.randomUUID(),type:"gainreductionmeter",name:"GR Meter",x:0,y:0,width:30,height:120,rotation:0,zIndex:0,locked:!1,visible:!0,orientation:"vertical",value:.25,maxReduction:-24,meterColor:"#f59e0b",backgroundColor:"#1f2937",showValue:!0,fontSize:10,fontFamily:"Inter",fontWeight:"400",textColor:"#9ca3af",...e}}function mg(e){return{id:crypto.randomUUID(),type:"presetbrowser",name:"Preset Browser",x:0,y:0,width:200,height:250,rotation:0,zIndex:0,locked:!1,visible:!0,presets:["Factory/Init","Factory/Bass","Factory/Lead","Factory/Pad","User/My Preset 1","User/My Preset 2"],selectedIndex:0,showFolders:!0,showSearch:!0,backgroundColor:"#1f2937",itemColor:"transparent",selectedColor:"#949494",textColor:"#e5e7eb",selectedTextColor:"#ffffff",fontSize:13,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"400",itemHeight:28,borderColor:"#374151",borderRadius:0,...e}}function gg(e){return{id:crypto.randomUUID(),type:"waveform",name:"Waveform",x:0,y:0,width:200,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,backgroundColor:"#1f2937",waveformColor:"#949494",borderColor:"#374151",borderWidth:1,showGrid:!1,gridColor:"#374151",zoomLevel:1,...e}}function vg(e){return{id:crypto.randomUUID(),type:"oscilloscope",name:"Oscilloscope",x:0,y:0,width:200,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,backgroundColor:"#0f172a",traceColor:"#22c55e",borderColor:"#374151",borderWidth:1,showGrid:!0,gridColor:"#1e3a5f",gridDivisions:8,timeDiv:10,amplitudeScale:1,triggerLevel:.5,...e}}function bg(e){return{id:crypto.randomUUID(),type:"modulationmatrix",name:"ModMatrix",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,sources:["LFO 1","LFO 2","ENV 1","Velocity"],destinations:["Pitch","Filter","Volume","Pan"],cellSize:24,cellColor:"#374151",activeColor:"#949494",borderColor:"#1f2937",headerBackground:"#1f2937",headerColor:"#ffffff",headerFontSize:11,headerFontFamily:"Inter",headerFontWeight:"500",previewActiveConnections:[[0,1],[2,0]],...e}}function yg(e){return{id:crypto.randomUUID(),type:"numericdisplay",name:"Numeric Display",x:0,y:0,width:100,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:0,max:100,decimalPlaces:2,unit:"",fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",showGhostSegments:!1,unitDisplay:"suffix",borderColor:"#374151",...e}}function xg(e){return{id:crypto.randomUUID(),type:"timedisplay",name:"Time Display",x:0,y:0,width:120,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:0,max:1e3,decimalPlaces:2,bpm:120,timeSignature:4,fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",showGhostSegments:!1,borderColor:"#374151",...e}}function wg(e){return{id:crypto.randomUUID(),type:"percentagedisplay",name:"Percentage Display",x:0,y:0,width:90,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,decimalPlaces:0,fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",showGhostSegments:!1,borderColor:"#374151",...e}}function Sg(e){return{id:crypto.randomUUID(),type:"ratiodisplay",name:"Ratio Display",x:0,y:0,width:100,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.2,min:1,max:20,decimalPlaces:1,infinityThreshold:20,fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",showGhostSegments:!1,borderColor:"#374151",...e}}function kg(e){return{id:crypto.randomUUID(),type:"notedisplay",name:"Note Display",x:0,y:0,width:80,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.47,min:0,max:127,preferSharps:!0,showMidiNumber:!1,showOctave:!0,fontSize:14,midiNumberFontSize:14,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",borderColor:"#374151",...e}}function Cg(e){return{id:crypto.randomUUID(),type:"bpmdisplay",name:"BPM Display",x:0,y:0,width:120,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:20,max:300,decimalPlaces:2,showLabel:!0,fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",padding:8,fontStyle:"modern",bezelStyle:"inset",showGhostSegments:!1,borderColor:"#374151",...e}}function _g(e){return{id:crypto.randomUUID(),type:"editabledisplay",name:"Editable Display",x:0,y:0,width:100,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.5,min:0,max:100,format:"numeric",decimalPlaces:2,fontSize:18,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",borderColor:"#374151",padding:8,...e}}function jg(e){return{id:crypto.randomUUID(),type:"multivaluedisplay",name:"Multi-Value Display",x:0,y:0,width:150,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,values:[{value:.5,min:0,max:100,format:"numeric",label:"Value 1",decimalPlaces:1},{value:.75,min:0,max:100,format:"numeric",label:"Value 2",decimalPlaces:1}],layout:"vertical",fontSize:16,fontFamily:"Roboto Mono, monospace",fontWeight:"400",textColor:"#10b981",backgroundColor:"#1f2937",borderColor:"#374151",padding:8,...e}}const Wr=[{startDb:-1/0,endDb:-18,color:"#10b981"},{startDb:-18,endDb:-6,color:"#eab308"},{startDb:-6,endDb:1/0,color:"#ef4444"}];function Pg(e){return{id:crypto.randomUUID(),type:"rmsmetermo",name:"RMS Meter",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"RMS",...e}}function $g(e){return{id:crypto.randomUUID(),type:"rmsmeterstereo",name:"RMS Meter Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,valueL:.8,valueR:.78,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"RMS",showChannelLabels:!0,...e}}function Ig(e){const t=[{startDb:-20,endDb:0,color:"#10b981"},{startDb:0,endDb:3,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"vumetermono",name:"VU Meter",x:0,y:0,width:30,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,value:.35,minDb:-20,maxDb:3,orientation:"vertical",segmentCount:23,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"VU",...e}}function Tg(e){const t=[{startDb:-20,endDb:0,color:"#10b981"},{startDb:0,endDb:3,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"vumeterstereo",name:"VU Meter Stereo",x:0,y:0,width:80,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,value:.35,valueL:.35,valueR:.33,minDb:-20,maxDb:3,orientation:"vertical",segmentCount:23,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"VU",showChannelLabels:!0,...e}}function Ng(e){return{id:crypto.randomUUID(),type:"ppmtype1mono",name:"PPM Type I",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.69,minDb:-50,maxDb:5,orientation:"vertical",segmentCount:55,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"PPM_TYPE_I",...e}}function Eg(e){return{id:crypto.randomUUID(),type:"ppmtype1stereo",name:"PPM Type I Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.69,valueL:.69,valueR:.67,minDb:-50,maxDb:5,orientation:"vertical",segmentCount:55,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"PPM_TYPE_I",showChannelLabels:!0,...e}}function zg(e){return{id:crypto.randomUUID(),type:"ppmtype2mono",name:"PPM Type II",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.69,minDb:-50,maxDb:5,orientation:"vertical",segmentCount:55,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"PPM_TYPE_II",...e}}function Dg(e){return{id:crypto.randomUUID(),type:"ppmtype2stereo",name:"PPM Type II Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.69,valueL:.69,valueR:.67,minDb:-50,maxDb:5,orientation:"vertical",segmentCount:55,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"PPM_TYPE_II",showChannelLabels:!0,...e}}function Og(e){return{id:crypto.randomUUID(),type:"truepeakmetermono",name:"True Peak Meter",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"TRUE_PEAK",...e}}function Fg(e){return{id:crypto.randomUUID(),type:"truepeakmeterstereo",name:"True Peak Meter Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,valueL:.8,valueR:.78,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"TRUE_PEAK",showChannelLabels:!0,...e}}function Mg(e){return{id:crypto.randomUUID(),type:"lufsmomomo",name:"LUFS Momentary",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_M",unit:"LUFS",...e}}function Lg(e){return{id:crypto.randomUUID(),type:"lufsmomostereo",name:"LUFS Momentary Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,valueL:.8,valueR:.78,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_M",unit:"LUFS",showChannelLabels:!0,...e}}function Ag(e){return{id:crypto.randomUUID(),type:"lufsshortmono",name:"LUFS Short-term",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_S",unit:"LUFS",...e}}function Rg(e){return{id:crypto.randomUUID(),type:"lufsshortstereo",name:"LUFS Short-term Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,valueL:.8,valueR:.78,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_S",unit:"LUFS",showChannelLabels:!0,...e}}function Bg(e){return{id:crypto.randomUUID(),type:"lufsintmono",name:"LUFS Integrated",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_I",unit:"LUFS",...e}}function Ug(e){return{id:crypto.randomUUID(),type:"lufsintstereo",name:"LUFS Integrated Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.8,valueL:.8,valueR:.78,minDb:-60,maxDb:0,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:Wr,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"LUFS_I",unit:"LUFS",showChannelLabels:!0,...e}}function Vg(e){const t=[{startDb:-32,endDb:0,color:"#10b981"},{startDb:0,endDb:12,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k12metermono",name:"K-12 Meter",x:0,y:0,width:30,height:180,rotation:0,zIndex:0,locked:!1,visible:!0,value:.45,minDb:-32,maxDb:12,orientation:"vertical",segmentCount:44,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-12",...e}}function Wg(e){const t=[{startDb:-32,endDb:0,color:"#10b981"},{startDb:0,endDb:12,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k12meterstereo",name:"K-12 Meter Stereo",x:0,y:0,width:80,height:180,rotation:0,zIndex:0,locked:!1,visible:!0,value:.45,valueL:.45,valueR:.43,minDb:-32,maxDb:12,orientation:"vertical",segmentCount:44,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-12",showChannelLabels:!0,...e}}function Hg(e){const t=[{startDb:-34,endDb:0,color:"#10b981"},{startDb:0,endDb:14,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k14metermono",name:"K-14 Meter",x:0,y:0,width:30,height:180,rotation:0,zIndex:0,locked:!1,visible:!0,value:.46,minDb:-34,maxDb:14,orientation:"vertical",segmentCount:48,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-14",...e}}function Gg(e){const t=[{startDb:-34,endDb:0,color:"#10b981"},{startDb:0,endDb:14,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k14meterstereo",name:"K-14 Meter Stereo",x:0,y:0,width:80,height:180,rotation:0,zIndex:0,locked:!1,visible:!0,value:.46,valueL:.46,valueR:.44,minDb:-34,maxDb:14,orientation:"vertical",segmentCount:48,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-14",showChannelLabels:!0,...e}}function Zg(e){const t=[{startDb:-40,endDb:0,color:"#10b981"},{startDb:0,endDb:20,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k20metermono",name:"K-20 Meter",x:0,y:0,width:30,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.47,minDb:-40,maxDb:20,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-20",...e}}function qg(e){const t=[{startDb:-40,endDb:0,color:"#10b981"},{startDb:0,endDb:20,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"k20meterstereo",name:"K-20 Meter Stereo",x:0,y:0,width:80,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,value:.47,valueL:.47,valueR:.45,minDb:-40,maxDb:20,orientation:"vertical",segmentCount:60,segmentGap:1,scalePosition:"outside",showMajorTicks:!0,showMinorTicks:!0,showNumericReadout:!1,colorZones:t,showPeakHold:!0,peakHoldStyle:"line",peakHoldDuration:2e3,ballisticsType:"K_SYSTEM",kType:"K-20",showChannelLabels:!0,...e}}function Xg(e){const t=[{start:-1,end:0,color:"#ef4444"},{start:0,end:.5,color:"#eab308"},{start:.5,end:1,color:"#10b981"}];return{id:crypto.randomUUID(),type:"correlationmeter",name:"Correlation Meter",x:0,y:0,width:200,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:.7,orientation:"horizontal",barHeight:12,showScale:!0,scalePosition:"below",showNumericReadout:!0,colorZones:t,...e}}function Yg(e){const t=[{start:0,end:100,color:"#10b981"},{start:100,end:150,color:"#eab308"},{start:150,end:200,color:"#ef4444"}];return{id:crypto.randomUUID(),type:"stereowidthmeter",name:"Stereo Width Meter",x:0,y:0,width:200,height:40,rotation:0,zIndex:0,locked:!1,visible:!0,value:1,orientation:"horizontal",barHeight:12,showScale:!0,scalePosition:"below",showNumericReadout:!0,colorZones:t,...e}}function Kc(e){return{id:crypto.randomUUID(),type:"image",name:"Image",x:0,y:0,width:100,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,src:"",assetId:void 0,fit:"contain",...e}}function Xd(e){return{id:crypto.randomUUID(),type:"svggraphic",name:"SVG Graphic",x:0,y:0,width:100,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,assetId:void 0,flipH:!1,flipV:!1,opacity:1,...e}}function Kg(e){return{id:crypto.randomUUID(),type:"rectangle",name:"Rectangle",x:0,y:0,width:150,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,fillColor:"#374151",fillOpacity:1,borderWidth:2,borderColor:"#1f2937",borderStyle:"solid",borderRadius:0,...e}}function Jg(e){return{id:crypto.randomUUID(),type:"line",name:"Line",x:0,y:0,width:200,height:2,rotation:0,zIndex:0,locked:!1,visible:!0,strokeWidth:2,strokeColor:"#374151",strokeStyle:"solid",...e}}function Qg(e){return{id:crypto.randomUUID(),type:"asciiart",name:"ASCII Art",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,contentType:"static",content:`+--------+
| ASCII  |
|  ART   |
+--------+`,noiseCharacters:".:!*#$@%&",noiseIntensity:.5,noiseWidth:40,noiseHeight:20,noiseRefreshRate:100,noiseParameterId:"",fontSize:12,fontFamily:"Courier New, Consolas, monospace",fontWeight:"400",textColor:"#00ff00",lineHeight:1,backgroundColor:"transparent",padding:8,borderRadius:0,borderWidth:0,borderColor:"#374151",overflow:"hidden",selectable:!1,...e}}function e0(e){return{id:crypto.randomUUID(),type:"scrollingwaveform",name:"Scrolling Waveform",x:0,y:0,width:200,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,displayMode:"line",waveformColor:"#00ff88",backgroundColor:"#1a1a1a",showGrid:!1,gridColor:"#333333",canvasScale:1,...e}}function t0(e){return{id:crypto.randomUUID(),type:"spectrumanalyzer",name:"Spectrum Analyzer",x:0,y:0,width:256,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,fftSize:2048,frequencyScale:"log",colorGradient:"default",barGap:2,backgroundColor:"#1a1a1a",showGrid:!1,gridColor:"#333333",showFrequencyLabels:!0,showDbScale:!0,canvasScale:1,...e}}function r0(e){return{id:crypto.randomUUID(),type:"spectrogram",name:"Spectrogram",x:0,y:0,width:256,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,fftSize:2048,colorMap:"default",backgroundColor:"#1a1a1a",showFrequencyLabels:!0,showTimeLabels:!0,canvasScale:1,...e}}function n0(e){return{id:crypto.randomUUID(),type:"goniometer",name:"Goniometer",x:0,y:0,width:150,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,traceColor:"#00ff88",backgroundColor:"#1a1a1a",showGrid:!0,gridColor:"#333333",showAxisLines:!0,canvasScale:1,...e}}function a0(e){return{id:crypto.randomUUID(),type:"vectorscope",name:"Vectorscope",x:0,y:0,width:150,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,traceColor:"#00ff88",backgroundColor:"#1a1a1a",showGrid:!0,gridColor:"#333333",showAxisLines:!0,canvasScale:1,...e}}function i0(e){return{id:crypto.randomUUID(),type:"eqcurve",name:"EQ Curve",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,bands:[{frequency:250,gain:0,Q:1},{frequency:1e3,gain:0,Q:1},{frequency:4e3,gain:0,Q:1}],bandCount:3,minDb:-24,maxDb:24,minFreq:20,maxFreq:2e4,showGrid:!0,gridColor:"#333333",showFrequencyLabels:!0,showDbLabels:!0,curveColor:"#00ff88",lineWidth:2,showFill:!1,fillColor:"rgba(0, 255, 136, 0.2)",fillOpacity:.2,showIndividualBands:!1,handleColor:"#00ff88",handleHoverColor:"#00ffff",backgroundColor:"#1a1a1a",canvasScale:1,...e}}function o0(e){return{id:crypto.randomUUID(),type:"compressorcurve",name:"Compressor Curve",x:0,y:0,width:200,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,threshold:-18,ratio:4,knee:6,minDb:-60,maxDb:0,displayMode:"transfer",showGrid:!0,gridColor:"#333333",showDbLabels:!0,curveColor:"#00ff88",lineWidth:2,showFill:!1,fillColor:"rgba(0, 255, 136, 0.2)",handleColor:"#00ff88",handleHoverColor:"#00ffff",backgroundColor:"#1a1a1a",canvasScale:1,...e}}function s0(e){return{id:crypto.randomUUID(),type:"envelopedisplay",name:"Envelope Display",x:0,y:0,width:250,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,attack:.1,decay:.15,sustain:.7,release:.2,curveType:"exponential",showStageColors:!1,attackColor:"#00ff88",decayColor:"#00ccff",sustainColor:"#ffaa00",releaseColor:"#ff4444",curveColor:"#00ff88",lineWidth:2,showFill:!1,fillColor:"rgba(0, 255, 136, 0.2)",showGrid:!1,gridColor:"#333333",showStageMarkers:!0,handleColor:"#00ff88",handleHoverColor:"#00ffff",backgroundColor:"#1a1a1a",canvasScale:1,...e}}function l0(e){return{id:crypto.randomUUID(),type:"lfodisplay",name:"LFO Display",x:0,y:0,width:200,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,shape:"sine",pulseWidth:.5,showGrid:!1,gridColor:"#333333",waveformColor:"#00ff88",lineWidth:2,showFill:!1,fillColor:"rgba(0, 255, 136, 0.2)",backgroundColor:"#1a1a1a",canvasScale:1,...e}}function c0(e){return{id:crypto.randomUUID(),type:"filterresponse",name:"Filter Response",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,filterType:"lowpass",cutoffFrequency:1e3,resonance:1,gain:0,minDb:-48,maxDb:12,minFreq:20,maxFreq:2e4,showGrid:!0,gridColor:"#333333",showFrequencyLabels:!0,showDbLabels:!0,curveColor:"#00ff88",lineWidth:2,showFill:!1,fillColor:"rgba(0, 255, 136, 0.2)",handleColor:"#00ff88",handleHoverColor:"#00ffff",backgroundColor:"#1a1a1a",canvasScale:1,...e}}function u0(e){return{id:crypto.randomUUID(),type:"pianokeyboard",name:"Piano Keyboard",x:0,y:0,width:400,height:120,rotation:0,zIndex:0,locked:!1,visible:!0,startNote:36,endNote:84,showNoteLabels:!0,labelOctavesOnly:!0,whiteKeyColor:"#ffffff",blackKeyColor:"#1a1a1a",activeKeyColor:"#3b82f6",labelColor:"#666666",whiteKeyWidth:24,blackKeyWidthRatio:.6,fontSize:10,fontFamily:"Inter",fontWeight:"400",activeNotes:[],...e}}function d0(e){return{id:crypto.randomUUID(),type:"drumpad",name:"Drum Pad",x:0,y:0,width:80,height:80,rotation:0,zIndex:0,locked:!1,visible:!0,label:"PAD",midiNote:36,isPressed:!1,velocity:100,backgroundColor:"#374151",pressedColor:"#3b82f6",labelColor:"#ffffff",borderColor:"#6b7280",borderRadius:0,borderWidth:2,fontSize:14,fontFamily:"Inter",fontWeight:"600",showVelocity:!0,...e}}function h0(e){const t=(e==null?void 0:e.rows)??4,r=(e==null?void 0:e.columns)??4,n=t*r,i=Array.from({length:n},(o,s)=>`${s+1}`);return{id:crypto.randomUUID(),type:"padgrid",name:"Pad Grid",x:0,y:0,width:320,height:320,rotation:0,zIndex:0,locked:!1,visible:!0,rows:t,columns:r,padLabels:(e==null?void 0:e.padLabels)??i,startNote:36,activePads:[],padColor:"#374151",activePadColor:"#3b82f6",labelColor:"#ffffff",borderColor:"#1f2937",gridGap:4,fontSize:12,fontFamily:"Inter",fontWeight:"600",padBorderRadius:0,...e}}function f0(e){const t=(e==null?void 0:e.stepCount)??16,r=(e==null?void 0:e.rowCount)??1,n=Array.from({length:t*r},()=>({active:!1,velocity:.75}));return{id:crypto.randomUUID(),type:"stepsequencer",name:"Step Sequencer",x:0,y:0,width:400,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,stepCount:t,rowCount:r,steps:(e==null?void 0:e.steps)??n,currentStep:-1,stepOffColor:"#374151",stepOnColor:"#3b82f6",stepActiveColor:"#22c55e",gridLineColor:"#4b5563",backgroundColor:"#1f2937",beatsPerMeasure:4,highlightDownbeats:!0,downbeatColor:"#4b5563",showVelocity:!0,velocityHeight:20,fontSize:10,fontFamily:"Inter",fontWeight:"400",labelColor:"#9ca3af",...e}}function p0(e){return{id:crypto.randomUUID(),type:"xypad",name:"XY Pad",x:0,y:0,width:200,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,xValue:.5,yValue:.5,xLabel:"X",yLabel:"Y",showLabels:!0,showGrid:!0,gridDivisions:4,gridColor:"#374151",cursorSize:16,cursorColor:"#3b82f6",showCrosshair:!0,crosshairColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"#1f2937",borderColor:"#4b5563",fontSize:10,fontFamily:"Inter",fontWeight:"400",labelColor:"#9ca3af",...e}}function m0(e){return{id:crypto.randomUUID(),type:"wavetabledisplay",name:"Wavetable Display",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,frameCount:16,currentFrame:0,perspectiveAngle:25,frameSpacing:8,waveformColor:"#3b82f6",currentFrameColor:"#22c55e",backgroundColor:"#1f2937",gridColor:"#374151",showGrid:!0,showFrameLabels:!1,fillWaveform:!1,fontSize:10,fontFamily:"Inter",fontWeight:"400",labelColor:"#9ca3af",...e}}function g0(e){const t=(e==null?void 0:e.harmonicCount)??16,r=Array.from({length:t},(n,i)=>1/(i+1));return{id:crypto.randomUUID(),type:"harmoniceditor",name:"Harmonic Editor",x:0,y:0,width:320,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,harmonicCount:t,harmonicValues:(e==null?void 0:e.harmonicValues)??r,showFundamental:!0,showHarmonicNumbers:!0,barColor:"#3b82f6",selectedBarColor:"#22c55e",backgroundColor:"#1f2937",gridColor:"#374151",labelColor:"#9ca3af",barGap:2,barBorderRadius:0,fontSize:9,fontFamily:"Inter",fontWeight:"400",selectedHarmonic:-1,...e}}function v0(e){return{id:crypto.randomUUID(),type:"looppoints",name:"Loop Points",x:0,y:0,width:400,height:100,rotation:0,zIndex:0,locked:!1,visible:!0,sampleLength:44100,loopStart:.25,loopEnd:.75,crossfadeLength:.05,showWaveform:!0,showCrossfade:!0,showTimeRuler:!0,waveformColor:"#6b7280",loopRegionColor:"rgba(59, 130, 246, 0.2)",startMarkerColor:"#22c55e",endMarkerColor:"#ef4444",crossfadeColor:"rgba(251, 191, 36, 0.3)",backgroundColor:"#1f2937",rulerColor:"#4b5563",markerWidth:2,markerHandleSize:10,fontSize:10,fontFamily:"Inter",fontWeight:"400",labelColor:"#9ca3af",...e}}function b0(e){return{id:crypto.randomUUID(),type:"envelopeeditor",name:"Envelope Editor",x:0,y:0,width:300,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,attack:.1,decay:.2,sustain:.7,release:.3,attackCurve:"exponential",decayCurve:"exponential",releaseCurve:"exponential",showGrid:!0,showLabels:!0,showValues:!0,lineColor:"#3b82f6",fillColor:"rgba(59, 130, 246, 0.2)",pointColor:"#ffffff",activePointColor:"#22c55e",gridColor:"#374151",backgroundColor:"#1f2937",labelColor:"#9ca3af",pointSize:8,fontSize:10,fontFamily:"Inter",fontWeight:"400",selectedPoint:null,...e}}function y0(e){return{id:crypto.randomUUID(),type:"sampledisplay",name:"Sample Display",x:0,y:0,width:400,height:120,rotation:0,zIndex:0,locked:!1,visible:!0,viewStart:0,viewEnd:1,zoomLevel:1,selectionStart:.25,selectionEnd:.5,showSelection:!0,showZeroLine:!0,showTimeRuler:!0,showPeaks:!0,waveformColor:"#3b82f6",peakColor:"#ef4444",zeroLineColor:"#4b5563",selectionColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"#1f2937",rulerColor:"#4b5563",labelColor:"#9ca3af",fontSize:10,fontFamily:"Inter",fontWeight:"400",...e}}function x0(e){const t=[];for(let r=0;r<4;r++)t.push({id:`out-${r}`,label:`Out ${r+1}`,x:.1,y:(r+.5)/4,type:"output"}),t.push({id:`in-${r}`,label:`In ${r+1}`,x:.9,y:(r+.5)/4,type:"input"});return{id:crypto.randomUUID(),type:"patchbay",name:"Patch Bay",x:0,y:0,width:300,height:200,rotation:0,zIndex:0,locked:!1,visible:!0,rows:4,columns:2,points:(e==null?void 0:e.points)??t,cables:(e==null?void 0:e.cables)??[],showLabels:!0,showGrid:!0,inputColor:"#22c55e",outputColor:"#ef4444",cableColors:["#3b82f6","#f59e0b","#8b5cf6","#ec4899","#10b981"],backgroundColor:"#1f2937",gridColor:"#374151",labelColor:"#9ca3af",pointSize:12,cableWidth:3,fontSize:10,fontFamily:"Inter",fontWeight:"400",selectedCable:null,draggingFrom:null,...e}}function w0(e){const t=[{id:"input-1",label:"Input",x:0,y:1,width:2,height:1,type:"input"},{id:"process-1",label:"Filter",x:3,y:1,width:2,height:1,type:"process"},{id:"output-1",label:"Output",x:6,y:1,width:2,height:1,type:"output"}],r=[{id:"conn-1",fromBlockId:"input-1",toBlockId:"process-1",fromPort:"right",toPort:"left"},{id:"conn-2",fromBlockId:"process-1",toBlockId:"output-1",fromPort:"right",toPort:"left"}];return{id:crypto.randomUUID(),type:"signalflow",name:"Signal Flow",x:0,y:0,width:400,height:150,rotation:0,zIndex:0,locked:!1,visible:!0,gridCellSize:40,gridRows:3,gridColumns:10,blocks:(e==null?void 0:e.blocks)??t,connections:(e==null?void 0:e.connections)??r,showGrid:!0,showLabels:!0,animateSignal:!1,inputBlockColor:"#22c55e",outputBlockColor:"#ef4444",processBlockColor:"#3b82f6",mixerBlockColor:"#f59e0b",splitterBlockColor:"#8b5cf6",connectionColor:"#6b7280",signalColor:"#22c55e",backgroundColor:"#1f2937",gridColor:"#374151",labelColor:"#ffffff",blockBorderWidth:2,connectionWidth:2,fontSize:11,fontFamily:"Inter",fontWeight:"500",selectedBlock:null,...e}}function b5(e,t){const r={id:(t==null?void 0:t.id)||crypto.randomUUID(),x:(t==null?void 0:t.x)??0,y:(t==null?void 0:t.y)??0,...(t==null?void 0:t.name)&&{name:t.name},...(t==null?void 0:t.parentId)&&{parentId:t.parentId}};switch(e.toLowerCase()){case"knob":return zm({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"steppedknob":return Um({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"centerdetentknob":return Vm({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"dotindicatorknob":return Wm({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"slider":return Dm({...r,width:(t==null?void 0:t.width)??30,height:(t==null?void 0:t.height)??120});case"rangeslider":return Fm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??30});case"multislider":return Bm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??100});case"bipolarslider":return Hm({...r,width:(t==null?void 0:t.width)??30,height:(t==null?void 0:t.height)??120});case"crossfadeslider":return Gm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??30});case"notchedslider":return Zm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??30});case"asciislider":return qm({...r,width:(t==null?void 0:t.width)??280,height:(t==null?void 0:t.height)??24});case"asciibutton":return Xm({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??60});case"button":return Om({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"iconbutton":return Qm({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??40});case"powerbutton":return tg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??40});case"toggleswitch":return eg({...r,width:(t==null?void 0:t.width)??50,height:(t==null?void 0:t.height)??26});case"rockerswitch":return Ym({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??60});case"rotaryswitch":return Km({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"segmentbutton":return Jm({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??30});case"checkbox":return Lm({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??24});case"radiogroup":return Am({...r,width:(t==null?void 0:t.width)??120,height:(t==null?void 0:t.height)??80});case"dropdown":return Mm({...r,width:(t==null?void 0:t.width)??120,height:(t==null?void 0:t.height)??30});case"multiselectdropdown":return sg({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??30});case"combobox":return lg({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??30});case"menubutton":return cg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??30});case"tabbar":return ag({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??40});case"breadcrumb":return ng({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??30});case"stepper":return rg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??30});case"tagselector":return ig({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??60});case"treeview":return og({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"label":return ug({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??24});case"textfield":return Rm({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??30});case"numericdisplay":return yg({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"dbdisplay":return hg({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"frequencydisplay":return fg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??30});case"timedisplay":return xg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??30});case"percentagedisplay":return wg({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"ratiodisplay":return Sg({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"notedisplay":return kg({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??30});case"bpmdisplay":return Cg({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"editabledisplay":return _g({...r,width:(t==null?void 0:t.width)??80,height:(t==null?void 0:t.height)??30});case"multivaluedisplay":return jg({...r,width:(t==null?void 0:t.width)??120,height:(t==null?void 0:t.height)??80});case"meter":return dg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"gainreductionmeter":return pg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"rmsmetermo":return Pg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"rmsmeterstereo":return $g({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"vumetermono":return Ig({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"vumeterstereo":return Tg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"ppmtype1mono":return Ng({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"ppmtype1stereo":return Eg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"ppmtype2mono":return zg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"ppmtype2stereo":return Dg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"truepeakmetermono":return Og({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"truepeakmeterstereo":return Fg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"lufsmomomo":return Mg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"lufsmomostereo":return Lg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"lufsshortmono":return Ag({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"lufsshortstereo":return Rg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"lufsintmono":return Bg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"lufsintstereo":return Ug({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"k12metermono":return Vg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"k12meterstereo":return Wg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"k14metermono":return Hg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"k14meterstereo":return Gg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"k20metermono":return Zg({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??100});case"k20meterstereo":return qg({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??100});case"correlationmeter":return Xg({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??20});case"stereowidthmeter":return Yg({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??20});case"waveform":return gg({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??80});case"oscilloscope":return vg({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"scrollingwaveform":return e0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??80});case"spectrumanalyzer":return t0({...r,width:(t==null?void 0:t.width)??250,height:(t==null?void 0:t.height)??150});case"spectrogram":return r0({...r,width:(t==null?void 0:t.width)??250,height:(t==null?void 0:t.height)??150});case"goniometer":return n0({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??150});case"vectorscope":return a0({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??150});case"eqcurve":return i0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??150});case"compressorcurve":return o0({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??150});case"envelopedisplay":return s0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??100});case"lfodisplay":return l0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??100});case"filterresponse":return c0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??100});case"panel":return jm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"frame":return _m({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"groupbox":return Cm({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"collapsible":return km({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??200});case"tooltip":return Sm({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??60});case"windowchrome":return wm({...r,width:(t==null?void 0:t.width)??400,height:(t==null?void 0:t.height)??300});case"horizontalspacer":return xm({...r,width:(t==null?void 0:t.width)??40,height:(t==null?void 0:t.height)??20});case"verticalspacer":return ym({...r,width:(t==null?void 0:t.width)??20,height:(t==null?void 0:t.height)??40});case"image":return Kc({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??100});case"svggraphic":return Xd({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??100});case"rectangle":return Kg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??60});case"line":return Jg({...r,width:(t==null?void 0:t.width)??100,height:(t==null?void 0:t.height)??2});case"asciiart":return Qg({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??200});case"modulationmatrix":return bg({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??200});case"presetbrowser":return mg({...r,width:(t==null?void 0:t.width)??250,height:(t==null?void 0:t.height)??200});case"pianokeyboard":return u0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??80});case"drumpad":return d0({...r,width:(t==null?void 0:t.width)??60,height:(t==null?void 0:t.height)??60});case"padgrid":return h0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??200});case"stepsequencer":return f0({...r,width:(t==null?void 0:t.width)??400,height:(t==null?void 0:t.height)??100});case"xypad":return p0({...r,width:(t==null?void 0:t.width)??150,height:(t==null?void 0:t.height)??150});case"wavetabledisplay":return m0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??120});case"harmoniceditor":return g0({...r,width:(t==null?void 0:t.width)??250,height:(t==null?void 0:t.height)??100});case"looppoints":return v0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??80});case"envelopeeditor":return b0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??150});case"sampledisplay":return y0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??100});case"patchbay":return x0({...r,width:(t==null?void 0:t.width)??200,height:(t==null?void 0:t.height)??150});case"signalflow":return w0({...r,width:(t==null?void 0:t.width)??300,height:(t==null?void 0:t.height)??150});default:return console.warn(`Unknown element type: ${e}`),null}}function hh(){const e=fe(o=>o.isPro),t=fe(o=>o.validationState),r=fe(o=>o.license),n=fe(o=>o.setLicense),i=fe(o=>o.clearLicense);return{isPro:e,isValidating:t==="validating",isExpired:t==="expired",license:r,setLicense:n,clearLicense:i}}const y5={asciislider:!0,asciibutton:!0,asciiart:!0,rmsmetermo:!0,rmsmeterstereo:!0,vumetermono:!0,vumeterstereo:!0,ppmtype1mono:!0,ppmtype1stereo:!0,ppmtype2mono:!0,ppmtype2stereo:!0,truepeakmetermono:!0,truepeakmeterstereo:!0,lufsmomomo:!0,lufsmomostereo:!0,lufsshortmono:!0,lufsshortstereo:!0,lufsintmono:!0,lufsintstereo:!0,k12metermono:!0,k12meterstereo:!0,k14metermono:!0,k14meterstereo:!0,k20metermono:!0,k20meterstereo:!0,correlationmeter:!0,stereowidthmeter:!0,scrollingwaveform:!0,spectrumanalyzer:!0,spectrogram:!0,goniometer:!0,vectorscope:!0,eqcurve:!0,compressorcurve:!0,envelopedisplay:!0,lfodisplay:!0,filterresponse:!0,breadcrumb:!0,pianokeyboard:!0,drumpad:!0,padgrid:!0,stepsequencer:!0,xypad:!0,wavetabledisplay:!0,harmoniceditor:!0,looppoints:!0,envelopeeditor:!0,sampledisplay:!0,patchbay:!0,signalflow:!0};function qc(e){return e in y5}function qb(e){const t=e%12;return[1,3,6,8,10].includes(t)}function x5(e){const t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(e/12)-1;return`${t[e%12]}${r}`}function aC({config:e}){const{startNote:t,endNote:r,showNoteLabels:n,labelOctavesOnly:i,whiteKeyColor:o,blackKeyColor:s,activeKeyColor:d,labelColor:c,whiteKeyWidth:u,blackKeyWidthRatio:h,fontSize:p,fontFamily:l,fontWeight:f,activeNotes:m,width:b,height:S}=e,x=[],w=[];for(let N=t;N<=r;N++)qb(N)?w.push(N):x.push(N);const y=b/x.length,_=y*h,P=S*.6,T=N=>N*y,M=N=>{let O=0;for(let B=t;B<N;B++)qb(B)||O++;return O*y-_/2};return a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${b} ${S}`,style:{overflow:"visible"},children:[x.map((N,O)=>{const B=m.includes(N),Z=T(O),D=n&&(!i||N%12===0);return a.jsxs("g",{children:[a.jsx("rect",{x:Z,y:0,width:y-1,height:S,fill:B?d:o,stroke:"#333",strokeWidth:1,rx:2}),D&&a.jsx("text",{x:Z+y/2,y:S-8,textAnchor:"middle",fill:c,fontSize:p,fontFamily:l,fontWeight:f,children:i?`C${Math.floor(N/12)-1}`:x5(N)})]},N)}),w.map(N=>{const O=m.includes(N),B=M(N);return a.jsx("rect",{x:B,y:0,width:_,height:P,fill:O?d:s,rx:2},N)})]})}function iC({config:e}){const{label:t,isPressed:r,velocity:n,backgroundColor:i,pressedColor:o,labelColor:s,borderColor:d,borderWidth:c,fontSize:u,fontFamily:h,fontWeight:p,showVelocity:l,width:f,height:m}=e,b=r?o:i,S=l&&r?n/127:1;return a.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:b,border:`${c}px solid ${d}`,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",opacity:S,transition:"all 0.05s ease-out",transform:r?"scale(0.95)":"scale(1)"},children:[a.jsx("span",{style:{color:s,fontSize:`${u}px`,fontFamily:h,fontWeight:p,userSelect:"none",textAlign:"center"},children:t}),l&&a.jsx("div",{style:{position:"absolute",bottom:4,left:4,right:4,height:4,backgroundColor:"rgba(0,0,0,0.3)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${n/127*100}%`,height:"100%",backgroundColor:o,transition:"width 0.1s"}})})]})}function oC({config:e}){const{rows:t,columns:r,padLabels:n,activePads:i,padColor:o,activePadColor:s,labelColor:d,borderColor:c,gridGap:u,fontSize:h,fontFamily:p,fontWeight:l,width:f,height:m}=e,b=(f-u*(r+1))/r,S=(m-u*(t+1))/t,x=[];for(let w=0;w<t;w++)for(let y=0;y<r;y++){const _=w*r+y,P=i.includes(_),T=n[_]||`${_+1}`;x.push(a.jsx("div",{style:{position:"absolute",left:u+y*(b+u),top:u+w*(S+u),width:b,height:S,backgroundColor:P?s:o,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.05s ease-out",transform:P?"scale(0.95)":"scale(1)"},children:a.jsx("span",{style:{color:d,fontSize:`${h}px`,fontFamily:p,fontWeight:l,userSelect:"none"},children:T})},_))}return a.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:c,position:"relative"},children:x})}function sC({config:e}){const t=fe(B=>B.updateElement),r=(B,Z,D)=>{D.stopPropagation();const U=B*e.stepCount+Z,z=[...e.steps],G=z[U];G&&(z[U]={...G,active:!G.active},t(e.id,{steps:z}))},{stepCount:n,rowCount:i,steps:o,currentStep:s,stepOffColor:d,stepOnColor:c,stepActiveColor:u,gridLineColor:h,backgroundColor:p,beatsPerMeasure:l,highlightDownbeats:f,downbeatColor:m,showVelocity:b,velocityHeight:S,width:x,height:w}=e,y=b?w-S:w,_=x/n,P=y/i,T=2,M=[],N=[];for(let B=0;B<i;B++)for(let Z=0;Z<n;Z++){const D=B*n+Z,U=o[D]||{active:!1,velocity:.75},z=f&&Z%l===0,G=Z===s;let ne=d;if(U.active?ne=G?u:c:z&&(ne=m),M.push(a.jsx("rect",{x:Z*_+T,y:B*P+T,width:_-T*2,height:P-T*2,fill:ne,opacity:U.active?1:.5,style:{cursor:"pointer"},onClick:A=>r(B,Z,A)},`step-${B}-${Z}`)),b&&B===0){const A=U.active?U.velocity*(S-4):0;N.push(a.jsx("rect",{x:Z*_+T,y:y+S-A-2,width:_-T*2,height:A,fill:c},`vel-${Z}`))}}const O=[];for(let B=0;B<=n;B++)B%l===0&&O.push(a.jsx("line",{x1:B*_,y1:0,x2:B*_,y2:y,stroke:h,strokeWidth:1},`grid-${B}`));return a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${x} ${w}`,style:{backgroundColor:p},children:[O,M,b&&a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:0,y1:y,x2:x,y2:y,stroke:h,strokeWidth:1}),N]}),s>=0&&a.jsx("rect",{x:s*_,y:0,width:_,height:y,fill:"rgba(255,255,255,0.1)"})]})}function lC({config:e}){const t=fe(U=>U.updateElement),r=X.useRef(null),n=X.useRef(!1),{xValue:i,yValue:o,xLabel:s,yLabel:d,showLabels:c,showGrid:u,gridDivisions:h,gridColor:p,cursorSize:l,cursorColor:f,showCrosshair:m,crosshairColor:b,backgroundColor:S,borderColor:x,fontSize:w,fontFamily:y,fontWeight:_,labelColor:P,width:T,height:M}=e,N=i*T,O=(1-o)*M,B=X.useCallback((U,z)=>{if(!r.current)return;const G=r.current.getBoundingClientRect(),ne=Math.max(0,Math.min(1,(U-G.left)/G.width)),A=Math.max(0,Math.min(1,1-(z-G.top)/G.height));t(e.id,{xValue:ne,yValue:A})},[e.id,t]),Z=X.useCallback(U=>{U.stopPropagation(),U.preventDefault(),n.current=!0,B(U.clientX,U.clientY)},[B]);X.useEffect(()=>{const U=G=>{n.current&&B(G.clientX,G.clientY)},z=()=>{n.current=!1};return document.addEventListener("mousemove",U),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",z)}},[B]);const D=[];if(u){for(let U=1;U<h;U++){const z=U/h*T;D.push(a.jsx("line",{x1:z,y1:0,x2:z,y2:M,stroke:p,strokeWidth:1},`v-${U}`))}for(let U=1;U<h;U++){const z=U/h*M;D.push(a.jsx("line",{x1:0,y1:z,x2:T,y2:z,stroke:p,strokeWidth:1},`h-${U}`))}}return a.jsxs("div",{ref:r,onMouseDown:Z,style:{width:"100%",height:"100%",position:"relative",backgroundColor:S,border:`1px solid ${x}`,overflow:"hidden",cursor:"crosshair"},children:[a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${T} ${M}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:[D,m&&a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:N,y1:0,x2:N,y2:M,stroke:b,strokeWidth:1}),a.jsx("line",{x1:0,y1:O,x2:T,y2:O,stroke:b,strokeWidth:1})]}),a.jsx("circle",{cx:N,cy:O,r:l/2,fill:f,stroke:"#fff",strokeWidth:2})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{position:"absolute",bottom:4,left:"50%",transform:"translateX(-50%)",fontSize:w,fontFamily:y,fontWeight:_,color:P,userSelect:"none",pointerEvents:"none"},children:s}),a.jsx("span",{style:{position:"absolute",left:4,top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontSize:w,fontFamily:y,fontWeight:_,color:P,userSelect:"none",pointerEvents:"none"},children:d})]})]})}function w5(e,t){const r=[];for(let n=0;n<t;n++){const i=n/t,o=Math.sin(i*Math.PI*2),s=Math.sin(i*Math.PI*4)*(.5-e*.02),d=Math.sin(i*Math.PI*6)*(.3-e*.01);r.push((o+s+d)/1.8)}return r}function cC({config:e}){const{frameCount:t,currentFrame:r,perspectiveAngle:n,frameSpacing:i,waveformColor:o,currentFrameColor:s,backgroundColor:d,gridColor:c,showGrid:u,fillWaveform:h,width:p,height:l}=e,f=64,m=l*.4,b=l*.8,S=[];for(let w=0;w<t;w++){const y=w5(w,f),_=-w*i,P=w*(n/90)*20,T=.3+w/t*.7;let M="";y.forEach((B,Z)=>{const D=P+Z/f*(p-P*2),U=b+_+B*m*-1;M+=Z===0?`M ${D} ${U}`:` L ${D} ${U}`});const N=w===r,O=N?s:o;S.push(a.jsxs("g",{opacity:T,children:[h&&a.jsx("path",{d:`${M} L ${p-P*2+P} ${b+_} L ${P} ${b+_} Z`,fill:O,fillOpacity:.2}),a.jsx("path",{d:M,fill:"none",stroke:O,strokeWidth:N?2:1})]},w))}const x=[];return u&&x.push(a.jsx("line",{x1:0,y1:b,x2:p,y2:b,stroke:c,strokeWidth:1,strokeDasharray:"4 4"},"center")),a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${p} ${l}`,style:{backgroundColor:d,borderRadius:4},children:[x,S]})}function uC({config:e}){const t=fe(U=>U.updateElement),r=X.useRef(null),n=X.useRef(null),{harmonicCount:i,harmonicValues:o,showFundamental:s,showHarmonicNumbers:d,barColor:c,selectedBarColor:u,backgroundColor:h,gridColor:p,labelColor:l,barGap:f,fontSize:m,fontFamily:b,fontWeight:S,selectedHarmonic:x,width:w,height:y}=e,_=d?16:0,P=y-_,T=(w-f*(i+1))/i,M=X.useCallback((U,z)=>{if(!r.current)return;const G=r.current.getBoundingClientRect(),ne=U-G.top,A=1-Math.max(0,Math.min(1,ne/P)),k=[...o];k[z]=A,t(e.id,{harmonicValues:k,selectedHarmonic:z})},[e.id,o,P,t]),N=X.useCallback((U,z)=>{z.stopPropagation(),z.preventDefault(),n.current=U,M(z.clientY,U)},[M]);X.useEffect(()=>{const U=G=>{n.current!==null&&M(G.clientY,n.current)},z=()=>{n.current=null};return document.addEventListener("mousemove",U),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",z)}},[M]);const O=[],B=[],Z=[];for(let U=0;U<i;U++){const G=(o[U]||0)*P,ne=f+U*(T+f),A=P-G,k=U===x,j=U===0;O.push(a.jsx("rect",{x:ne,y:A,width:T,height:G,fill:k?u:c,opacity:j&&s?1:.8},`bar-${U}`)),Z.push(a.jsx("rect",{x:ne,y:0,width:T,height:P,fill:"transparent",style:{cursor:"ns-resize"},onMouseDown:$=>N(U,$)},`hit-${U}`)),d&&B.push(a.jsx("text",{x:ne+T/2,y:P+_-4,textAnchor:"middle",fill:j&&s?u:l,fontSize:m,fontFamily:b,fontWeight:j?"600":S,children:U+1},`label-${U}`))}const D=[];for(let U=0;U<=4;U++){const z=U/4*P;D.push(a.jsx("line",{x1:0,y1:z,x2:w,y2:z,stroke:p,strokeWidth:1,strokeDasharray:U===0?"none":"4 4"},`grid-${U}`))}return a.jsxs("svg",{ref:r,width:"100%",height:"100%",viewBox:`0 0 ${w} ${y}`,style:{backgroundColor:h},children:[D,O,Z,B]})}function S5(e,t){const r=[];let n=t;const i=()=>(n=n*1103515245+12345&2147483647,n/2147483647);for(let o=0;o<e;o++){const s=o/e,d=Math.sin(s*Math.PI)*.8+.2,c=Math.sin(s*50)*i()*.5+Math.sin(s*120)*.3;r.push(c*d)}return r}function dC({config:e}){const t=fe(R=>R.updateElement),r=X.useRef(null),n=X.useRef(null),{loopStart:i,loopEnd:o,crossfadeLength:s,showWaveform:d,showCrossfade:c,showTimeRuler:u,waveformColor:h,loopRegionColor:p,startMarkerColor:l,endMarkerColor:f,crossfadeColor:m,backgroundColor:b,rulerColor:S,markerWidth:x,markerHandleSize:w,fontSize:y,fontFamily:_,labelColor:P,width:T,height:M}=e,N=u?20:0,O=M-N,B=N+O/2,Z=i*T,D=o*T,U=s*T,z=200,G=e.id.split("").reduce((R,W)=>R+W.charCodeAt(0),0),ne=X.useMemo(()=>S5(z,G),[G]),A=X.useMemo(()=>{let R="";return ne.forEach((W,Y)=>{const te=Y/z*T,ie=B+W*(O/2-4);R+=Y===0?`M ${te} ${ie}`:` L ${te} ${ie}`}),R},[ne,T,B,O]),k=X.useCallback(R=>{if(!r.current||!n.current)return;const W=r.current.getBoundingClientRect(),Y=Math.max(0,Math.min(1,(R-W.left)/W.width));if(n.current==="start"){const te=Math.min(Y,o-.01);t(e.id,{loopStart:te})}else{const te=Math.max(Y,i+.01);t(e.id,{loopEnd:te})}},[e.id,i,o,t]),j=X.useCallback(R=>{R.stopPropagation(),R.preventDefault(),n.current="start"},[]),$=X.useCallback(R=>{R.stopPropagation(),R.preventDefault(),n.current="end"},[]);X.useEffect(()=>{const R=Y=>{n.current&&k(Y.clientX)},W=()=>{n.current=null};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",W),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",W)}},[k]);const F=[];if(u)for(let R=0;R<=10;R++){const W=R/10*T,Y=R%5===0?8:4;F.push(a.jsx("line",{x1:W,y1:0,x2:W,y2:Y,stroke:S,strokeWidth:1},`tick-${R}`))}return a.jsxs("svg",{ref:r,width:"100%",height:"100%",viewBox:`0 0 ${T} ${M}`,style:{backgroundColor:b},children:[u&&a.jsxs("g",{children:[a.jsx("line",{x1:0,y1:N,x2:T,y2:N,stroke:S,strokeWidth:1}),F,a.jsx("text",{x:4,y:N-6,fill:P,fontSize:y,fontFamily:_,children:"0.0s"}),a.jsx("text",{x:T-4,y:N-6,fill:P,fontSize:y,fontFamily:_,textAnchor:"end",children:"1.0s"})]}),a.jsx("rect",{x:Z,y:N,width:D-Z,height:O,fill:p}),c&&a.jsxs(a.Fragment,{children:[a.jsx("rect",{x:Z,y:N,width:U,height:O,fill:m}),a.jsx("rect",{x:D-U,y:N,width:U,height:O,fill:m})]}),d&&a.jsx("path",{d:A,fill:"none",stroke:h,strokeWidth:1}),a.jsxs("g",{onMouseDown:j,style:{cursor:"ew-resize"},children:[a.jsx("line",{x1:Z,y1:N,x2:Z,y2:M,stroke:l,strokeWidth:x}),a.jsx("rect",{x:Z-w/2,y:N,width:w,height:w,fill:l}),a.jsx("rect",{x:Z-w,y:N,width:w*2,height:M-N,fill:"transparent"})]}),a.jsxs("g",{onMouseDown:$,style:{cursor:"ew-resize"},children:[a.jsx("line",{x1:D,y1:N,x2:D,y2:M,stroke:f,strokeWidth:x}),a.jsx("rect",{x:D-w/2,y:N,width:w,height:w,fill:f}),a.jsx("rect",{x:D-w,y:N,width:w*2,height:M-N,fill:"transparent"})]})]})}function Uf(e,t){switch(t){case"exponential":return e*e;case"logarithmic":return Math.sqrt(e);case"linear":default:return e}}function hC({config:e}){const t=fe(Q=>Q.updateElement),r=X.useRef(null),n=X.useRef(null),{attack:i,decay:o,sustain:s,release:d,attackCurve:c,decayCurve:u,releaseCurve:h,showGrid:p,showLabels:l,showValues:f,lineColor:m,fillColor:b,pointColor:S,activePointColor:x,gridColor:w,backgroundColor:y,labelColor:_,pointSize:P,fontSize:T,fontFamily:M,fontWeight:N,selectedPoint:O,width:B,height:Z}=e,D=l?24:8,U=B-D*2,z=Z-D*2,G=.3,ne=i+o+G+d,A=Q=>D+Q/ne*U,k=Q=>D+(1-Q)*z,j=i,$=i+o,F=i+o+G,R=ne,W=()=>{const Q=[];Q.push(`M ${A(0)} ${k(0)}`);for(let ge=1;ge<=20;ge++){const ye=ge/20,_e=ye*i,H=Uf(ye,c);Q.push(`L ${A(_e)} ${k(H)}`)}for(let ge=1;ge<=20;ge++){const ye=ge/20,_e=j+ye*o,H=1-Uf(ye,u)*(1-s);Q.push(`L ${A(_e)} ${k(H)}`)}Q.push(`L ${A(F)} ${k(s)}`);for(let ge=1;ge<=20;ge++){const ye=ge/20,_e=F+ye*d,H=s*(1-Uf(ye,h));Q.push(`L ${A(_e)} ${k(H)}`)}return Q.join(" ")},Y=()=>W()+` L ${A(R)} ${k(0)} L ${A(0)} ${k(0)} Z`,te=X.useCallback((Q,he,ge)=>{if(!r.current)return;const ye=r.current.getBoundingClientRect(),_e=(Q-ye.left-D)/U,H=1-(he-ye.top-D)/z,Se=Math.max(.01,Math.min(.99,_e*ne)),Ce=Math.max(0,Math.min(1,H));switch(ge){case"attack":t(e.id,{attack:Math.max(.01,Math.min(Se,.5)),selectedPoint:"attack"});break;case"decay":t(e.id,{decay:Math.max(.01,Math.min(.5,Se-i)),selectedPoint:"decay"});break;case"sustain":t(e.id,{sustain:Ce,selectedPoint:"sustain"});break;case"release":t(e.id,{release:Math.max(.01,Math.min(.5,ne-F)),selectedPoint:"release"});break}},[e.id,i,U,z,D,ne,F,t]),ie=X.useCallback((Q,he)=>{he.stopPropagation(),he.preventDefault(),n.current=Q,t(e.id,{selectedPoint:Q})},[e.id,t]);X.useEffect(()=>{const Q=ge=>{n.current&&te(ge.clientX,ge.clientY,n.current)},he=()=>{n.current=null};return document.addEventListener("mousemove",Q),document.addEventListener("mouseup",he),()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",he)}},[te]);const J=[];if(p){for(let Q=0;Q<=4;Q++){const he=D+Q/4*z;J.push(a.jsx("line",{x1:D,y1:he,x2:B-D,y2:he,stroke:w,strokeWidth:1,strokeDasharray:Q===0||Q===4?"none":"4 4"},`h-${Q}`))}for(let Q=0;Q<=4;Q++){const he=D+Q/4*U;J.push(a.jsx("line",{x1:he,y1:D,x2:he,y2:Z-D,stroke:w,strokeWidth:1,strokeDasharray:Q===0||Q===4?"none":"4 4"},`v-${Q}`))}}const ee=[{id:"attack",x:A(j),y:k(1),label:"A"},{id:"decay",x:A($),y:k(s),label:"D"},{id:"sustain",x:A(F),y:k(s),label:"S"},{id:"release",x:A(R),y:k(0),label:"R"}];return a.jsxs("svg",{ref:r,width:"100%",height:"100%",viewBox:`0 0 ${B} ${Z}`,style:{backgroundColor:y},children:[J,a.jsx("path",{d:Y(),fill:b}),a.jsx("path",{d:W(),fill:"none",stroke:m,strokeWidth:2}),ee.map(Q=>a.jsxs("g",{children:[a.jsx("circle",{cx:Q.x,cy:Q.y,r:P+4,fill:"transparent",style:{cursor:"pointer"},onMouseDown:he=>ie(Q.id,he)}),a.jsx("circle",{cx:Q.x,cy:Q.y,r:P/2,fill:O===Q.id?x:S,stroke:m,strokeWidth:2}),l&&a.jsx("text",{x:Q.x,y:Z-4,textAnchor:"middle",fill:_,fontSize:T,fontFamily:M,fontWeight:N,children:Q.label})]},Q.id)),f&&a.jsxs("text",{x:D,y:D-4,fill:_,fontSize:T,fontFamily:M,fontWeight:N,children:["A:",i.toFixed(2)," D:",o.toFixed(2)," S:",s.toFixed(2)," R:",d.toFixed(2)]})]})}function k5(e){const t=[];for(let r=0;r<e;r++){const n=r/e,i=Math.sin(n*Math.PI),o=4+Math.sin(n*6)*2,s=Math.sin(n*o*Math.PI*20)*i,d=(Math.random()-.5)*.1;t.push(s+d)}return t}function fC({config:e}){const t=fe(Y=>Y.updateElement),r=X.useRef(null),[n,i]=X.useState(null),o=X.useRef({x:0,viewStart:0,viewEnd:1}),{viewStart:s,viewEnd:d,selectionStart:c,selectionEnd:u,showSelection:h,showZeroLine:p,showTimeRuler:l,showPeaks:f,waveformColor:m,peakColor:b,zeroLineColor:S,selectionColor:x,backgroundColor:w,rulerColor:y,labelColor:_,fontSize:P,fontFamily:T,fontWeight:M,width:N,height:O}=e,B=l?20:0,Z=O-B,D=Z/2,[U]=X.useState(()=>k5(1e3)),z=Math.floor(s*U.length),ne=Math.ceil(d*U.length)-z,A=()=>{const Y=[],te=Math.max(1,Math.floor(ne/N));for(let ie=0;ie<N;ie++){const J=z+Math.floor(ie/N*ne),ee=Math.min(J+te,U.length);let Q=0;for(let ge=J;ge<ee;ge++){const ye=U[ge]||0;Q=Math.max(Q,ye)}const he=D-Q*(Z/2-4);ie===0?Y.push(`M ${ie} ${he}`):Y.push(`L ${ie} ${he}`)}return Y.join(" ")},k=()=>{const Y=[],te=Math.max(1,Math.floor(ne/N));for(let ie=0;ie<N;ie+=10){const J=z+Math.floor(ie/N*ne),ee=Math.min(J+te*10,U.length);let Q=0;for(let he=J;he<ee;he++)Q=Math.max(Q,Math.abs(U[he]||0));Q>.9&&Y.push({x:ie,level:Q})}return Y},j=X.useCallback(Y=>{var Q;Y.stopPropagation(),Y.preventDefault();const te=(Q=r.current)==null?void 0:Q.getBoundingClientRect();if(!te)return;const J=(Y.clientX-te.left)/N,ee=s+J*(d-s);h&&ee>=c&&ee<=u?i("selection"):i("pan"),o.current={x:Y.clientX,viewStart:s,viewEnd:d}},[s,d,N,h,c,u]);X.useEffect(()=>{const Y=ie=>{if(!n||!r.current)return;const ee=(ie.clientX-o.current.x)/N*(o.current.viewEnd-o.current.viewStart);if(n==="pan"){const Q=Math.max(0,Math.min(1-(d-s),o.current.viewStart-ee)),he=o.current.viewEnd-o.current.viewStart;t(e.id,{viewStart:Q,viewEnd:Q+he})}},te=()=>{i(null)};return n&&(document.addEventListener("mousemove",Y),document.addEventListener("mouseup",te)),()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",te)}},[n,e.id,N,d,s,t]);const $=X.useCallback(Y=>{var H;Y.preventDefault();const te=(H=r.current)==null?void 0:H.getBoundingClientRect();if(!te)return;const J=(Y.clientX-te.left)/N,ee=s+J*(d-s),Q=Y.deltaY>0?1.1:.9,he=d-s,ge=Math.max(.01,Math.min(1,he*Q)),ye=Math.max(0,ee-J*ge),_e=Math.min(1,ye+ge);t(e.id,{viewStart:ye,viewEnd:_e,zoomLevel:1/ge})},[e.id,s,d,N,t]),F=f?k():[],R=(c-s)/(d-s)*N,W=(u-c)/(d-s)*N;return a.jsxs("svg",{ref:r,width:"100%",height:"100%",viewBox:`0 0 ${N} ${O}`,style:{backgroundColor:w,cursor:n?"grabbing":"grab"},onMouseDown:j,onWheel:$,children:[h&&R>=0&&R<N&&a.jsx("rect",{x:Math.max(0,R),y:0,width:Math.min(W,N-R),height:Z,fill:x}),p&&a.jsx("line",{x1:0,y1:D,x2:N,y2:D,stroke:S,strokeWidth:1}),a.jsx("path",{d:A(),fill:"none",stroke:m,strokeWidth:1}),a.jsx("g",{transform:`translate(0, ${D}) scale(1, -1) translate(0, ${-D})`,children:a.jsx("path",{d:A(),fill:"none",stroke:m,strokeWidth:1,opacity:.7})}),F.map((Y,te)=>a.jsx("rect",{x:Y.x,y:0,width:2,height:4,fill:b},te)),l&&a.jsxs("g",{transform:`translate(0, ${Z})`,children:[a.jsx("rect",{x:0,y:0,width:N,height:B,fill:w}),a.jsx("line",{x1:0,y1:0,x2:N,y2:0,stroke:y,strokeWidth:1}),[0,.25,.5,.75,1].map(Y=>{const te=s+Y*(d-s),ie=Y*N;return a.jsxs("g",{children:[a.jsx("line",{x1:ie,y1:0,x2:ie,y2:6,stroke:y,strokeWidth:1}),a.jsxs("text",{x:ie,y:B-4,textAnchor:"middle",fill:_,fontSize:P,fontFamily:T,fontWeight:M,children:[(te*100).toFixed(0),"%"]})]},Y)})]})]})}function pC({config:e}){const t=fe(U=>U.updateElement),r=X.useRef(null),[n,i]=X.useState({fromPoint:null,currentX:0,currentY:0}),{points:o,cables:s,showLabels:d,showGrid:c,inputColor:u,outputColor:h,cableColors:p,backgroundColor:l,gridColor:f,labelColor:m,pointSize:b,cableWidth:S,fontSize:x,fontFamily:w,fontWeight:y,selectedCable:_,width:P,height:T}=e,M=U=>({x:U.x*P,y:U.y*T}),N=(U,z)=>{const G=z.x-U.x,ne=Math.abs(G)*.5;return`M ${U.x} ${U.y} C ${U.x+ne} ${U.y}, ${z.x-ne} ${z.y}, ${z.x} ${z.y}`},O=X.useCallback((U,z)=>{var ne;z.stopPropagation(),z.preventDefault();const G=(ne=r.current)==null?void 0:ne.getBoundingClientRect();G&&i({fromPoint:U,currentX:z.clientX-G.left,currentY:z.clientY-G.top})},[]),B=X.useCallback(U=>{if(n.fromPoint&&n.fromPoint.id!==U.id){const z=n.fromPoint.type==="output"?n.fromPoint:U,G=n.fromPoint.type==="output"?U:n.fromPoint;if(z.type==="output"&&G.type==="input"&&!s.some(A=>A.fromPointId===z.id&&A.toPointId===G.id)){const A={id:crypto.randomUUID(),fromPointId:z.id,toPointId:G.id,color:p[s.length%p.length]??"#FF0000"};t(e.id,{cables:[...s,A]})}}i({fromPoint:null,currentX:0,currentY:0})},[e.id,s,p,n.fromPoint,t]),Z=X.useCallback((U,z)=>{z.stopPropagation(),_===U.id?t(e.id,{cables:s.filter(G=>G.id!==U.id),selectedCable:null}):t(e.id,{selectedCable:U.id})},[e.id,s,_,t]);X.useEffect(()=>{const U=G=>{if(n.fromPoint&&r.current){const ne=r.current.getBoundingClientRect();i(A=>({...A,currentX:G.clientX-ne.left,currentY:G.clientY-ne.top}))}},z=()=>{i({fromPoint:null,currentX:0,currentY:0})};return n.fromPoint&&(document.addEventListener("mousemove",U),document.addEventListener("mouseup",z)),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",z)}},[n.fromPoint]);const D=[];if(c){for(let z=40;z<P;z+=40)D.push(a.jsx("line",{x1:z,y1:0,x2:z,y2:T,stroke:f,strokeWidth:1,strokeDasharray:"4 4"},`v-${z}`));for(let z=40;z<T;z+=40)D.push(a.jsx("line",{x1:0,y1:z,x2:P,y2:z,stroke:f,strokeWidth:1,strokeDasharray:"4 4"},`h-${z}`))}return a.jsxs("svg",{ref:r,width:"100%",height:"100%",viewBox:`0 0 ${P} ${T}`,style:{backgroundColor:l},children:[D,s.map(U=>{const z=o.find(j=>j.id===U.fromPointId),G=o.find(j=>j.id===U.toPointId);if(!z||!G)return null;const ne=M(z),A=M(G),k=_===U.id;return a.jsxs("g",{children:[a.jsx("path",{d:N(ne,A),fill:"none",stroke:"transparent",strokeWidth:S+8,style:{cursor:"pointer"},onClick:j=>Z(U,j)}),a.jsx("path",{d:N(ne,A),fill:"none",stroke:U.color,strokeWidth:k?S+2:S,strokeLinecap:"round",opacity:k?1:.8})]},U.id)}),n.fromPoint&&a.jsx("path",{d:N(M(n.fromPoint),{x:n.currentX,y:n.currentY}),fill:"none",stroke:p[s.length%p.length],strokeWidth:S,strokeLinecap:"round",strokeDasharray:"8 4",opacity:.6}),o.map(U=>{var k;const z=M(U),G=U.type==="output",ne=G?h:u,A=((k=n.fromPoint)==null?void 0:k.id)===U.id;return a.jsxs("g",{children:[a.jsx("circle",{cx:z.x,cy:z.y,r:b+4,fill:"transparent",style:{cursor:"pointer"},onMouseDown:j=>O(U,j),onClick:()=>B(U)}),a.jsx("circle",{cx:z.x,cy:z.y,r:b/2,fill:l,stroke:ne,strokeWidth:A?3:2}),a.jsx("circle",{cx:z.x,cy:z.y,r:b/4,fill:ne}),d&&a.jsx("text",{x:z.x+(G?-b-4:b+4),y:z.y+4,textAnchor:G?"end":"start",fill:m,fontSize:x,fontFamily:w,fontWeight:y,children:U.label})]},U.id)}),a.jsx("text",{x:P/2,y:T-8,textAnchor:"middle",fill:m,fontSize:x-1,fontFamily:w,fontWeight:y,opacity:.6,children:"Drag from output to input to connect"})]})}function mC({config:e}){const t=fe(G=>G.updateElement),{gridCellSize:r,blocks:n,connections:i,showGrid:o,showLabels:s,inputBlockColor:d,outputBlockColor:c,processBlockColor:u,mixerBlockColor:h,splitterBlockColor:p,connectionColor:l,backgroundColor:f,gridColor:m,labelColor:b,blockBorderWidth:S,connectionWidth:x,fontSize:w,fontFamily:y,fontWeight:_,selectedBlock:P,width:T,height:M}=e,N=(G,ne)=>{if(ne)return ne;switch(G){case"input":return d;case"output":return c;case"process":return u;case"mixer":return h;case"splitter":return p;default:return u}},O=G=>({x:G.x*r,y:G.y*r,width:G.width*r,height:G.height*r}),B=(G,ne)=>{const A=O(G);switch(ne){case"left":return{x:A.x,y:A.y+A.height/2};case"right":return{x:A.x+A.width,y:A.y+A.height/2};case"top":return{x:A.x+A.width/2,y:A.y};case"bottom":return{x:A.x+A.width/2,y:A.y+A.height}}},Z=G=>{const ne=n.find(Y=>Y.id===G.fromBlockId),A=n.find(Y=>Y.id===G.toBlockId);if(!ne||!A)return"";const k=B(ne,G.fromPort),j=B(A,G.toPort),$=j.x-k.x,F=j.y-k.y,R=k.x+$/2,W=k.y+F/2;return Math.abs($)>Math.abs(F)?`M ${k.x} ${k.y} C ${R} ${k.y}, ${R} ${j.y}, ${j.x} ${j.y}`:`M ${k.x} ${k.y} C ${k.x} ${W}, ${j.x} ${W}, ${j.x} ${j.y}`},D=X.useCallback((G,ne)=>{ne.stopPropagation(),t(e.id,{selectedBlock:P===G?null:G})},[e.id,P,t]),U=[];if(o){for(let G=0;G<=T;G+=r)U.push(a.jsx("line",{x1:G,y1:0,x2:G,y2:M,stroke:m,strokeWidth:1,opacity:.3},`v-${G}`));for(let G=0;G<=M;G+=r)U.push(a.jsx("line",{x1:0,y1:G,x2:T,y2:G,stroke:m,strokeWidth:1,opacity:.3},`h-${G}`))}const z=`arrow-${e.id}`;return a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${T} ${M}`,style:{backgroundColor:f},children:[a.jsx("defs",{children:a.jsx("marker",{id:z,markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:l})})}),U,i.map(G=>a.jsx("path",{d:Z(G),fill:"none",stroke:l,strokeWidth:x,markerEnd:`url(#${z})`},G.id)),n.map(G=>{const ne=O(G),A=N(G.type,G.color),k=P===G.id;return a.jsxs("g",{children:[a.jsx("rect",{x:ne.x,y:ne.y,width:ne.width,height:ne.height,fill:f,stroke:A,strokeWidth:k?S+2:S,style:{cursor:"pointer"},onClick:j=>D(G.id,j)}),a.jsx("rect",{x:ne.x,y:ne.y,width:4,height:ne.height,fill:A}),s&&a.jsx("text",{x:ne.x+ne.width/2,y:ne.y+ne.height/2+w/3,textAnchor:"middle",fill:b,fontSize:w,fontFamily:y,fontWeight:_,children:G.label}),["left","right","top","bottom"].map(j=>{const $=B(G,j),F=i.some(R=>R.fromBlockId===G.id&&R.fromPort===j||R.toBlockId===G.id&&R.toPort===j);return!F&&j!=="left"&&j!=="right"?null:a.jsx("circle",{cx:$.x,cy:$.y,r:4,fill:F?A:m},j)})]},G.id)}),a.jsx("g",{transform:`translate(8, ${M-20})`,children:[{type:"input",color:d,label:"In"},{type:"process",color:u,label:"Proc"},{type:"output",color:c,label:"Out"}].map((G,ne)=>a.jsxs("g",{transform:`translate(${ne*50}, 0)`,children:[a.jsx("rect",{x:0,y:0,width:12,height:12,fill:G.color}),a.jsx("text",{x:16,y:10,fill:b,fontSize:w-2,fontFamily:y,fontWeight:_,children:G.label})]},G.type))})]})}const C5=new Map([["knob",o2],["slider",s2],["button",l2],["rangeslider",c2],["dropdown",u2],["checkbox",d2],["radiogroup",h2],["textfield",f2],["multislider",p2],["steppedknob",m2],["centerdetentknob",g2],["dotindicatorknob",v2],["bipolarslider",b2],["crossfadeslider",y2],["notchedslider",x2],["asciislider",w2],["asciibutton",S2],["rockerswitch",k2],["rotaryswitch",C2],["segmentbutton",_2],["iconbutton",j2],["toggleswitch",P2],["powerbutton",$2],["multiselectdropdown",I2],["combobox",T2],["menubutton",N2],["stepper",E2],["breadcrumb",z2],["tabbar",D2],["tagselector",O2],["treeview",F2],["label",B2],["meter",U2],["dbdisplay",V2],["frequencydisplay",W2],["gainreductionmeter",H2],["waveform",G2],["oscilloscope",Z2],["presetbrowser",q2],["modulationmatrix",X2],["numericdisplay",Y2],["timedisplay",K2],["percentagedisplay",J2],["ratiodisplay",Q2],["notedisplay",ek],["bpmdisplay",tk],["editabledisplay",rk],["multivaluedisplay",nk],["rmsmetermo",ak],["rmsmeterstereo",ik],["vumetermono",ok],["vumeterstereo",sk],["ppmtype1mono",lk],["ppmtype1stereo",ck],["ppmtype2mono",uk],["ppmtype2stereo",dk],["truepeakmetermono",hk],["truepeakmeterstereo",fk],["lufsmomomo",pk],["lufsmomostereo",mk],["lufsshortmono",gk],["lufsshortstereo",vk],["lufsintmono",bk],["lufsintstereo",yk],["k12metermono",xk],["k12meterstereo",wk],["k14metermono",Sk],["k14meterstereo",kk],["k20metermono",Ck],["k20meterstereo",_k],["correlationmeter",jk],["stereowidthmeter",Pk],["scrollingwaveform",$k],["spectrumanalyzer",Ik],["spectrogram",Tk],["goniometer",Nk],["vectorscope",Ek],["compressorcurve",zk],["envelopedisplay",Dk],["eqcurve",Ok],["filterresponse",Fk],["lfodisplay",Mk],["panel",Lk],["frame",Ak],["groupbox",Rk],["collapsible",Bk],["tooltip",Uk],["windowchrome",Vk],["horizontalspacer",Wk],["verticalspacer",Hk],["image",F6],["svggraphic",Gk],["rectangle",Zk],["line",qk],["asciiart",Xk],["pianokeyboard",aC],["drumpad",iC],["padgrid",oC],["stepsequencer",sC],["xypad",lC],["wavetabledisplay",cC],["harmoniceditor",uC],["looppoints",dC],["envelopeeditor",hC],["sampledisplay",fC],["patchbay",pC],["signalflow",mC]]);function gC(e){return C5.get(e)}function _5({id:e,elementType:t,name:r,variant:n}){const i=fe(x=>x.editingContainerId),o=fe(x=>x.addChildToContainer),{isPro:s}=hh(),d=qc(t),c=!d||s,{attributes:u,listeners:h,setNodeRef:p,isDragging:l}=ch({id:`palette-${e}`,data:{elementType:t,variant:n},disabled:!c}),f=()=>{var x;if(c&&i){const w=fe.getState().elements.find(M=>M.id===i),y=((x=w==null?void 0:w.children)==null?void 0:x.length)||0,_=y%5*30+20,P=Math.floor(y/5)*30+20,T=b5(t,{x:_,y:P,...n});T&&o(i,T)}},b=(()=>{const x={id:`preview-${e}`,name:"Preview",x:0,y:0};switch(t){case"knob":return zm({...x,diameter:40,width:40,height:40,...n});case"steppedknob":return Um({...x,diameter:40,width:40,height:40,...n});case"centerdetentknob":return Vm({...x,diameter:40,width:40,height:40,...n});case"dotindicatorknob":return Wm({...x,diameter:40,width:40,height:40,...n});case"slider":return Dm({...x,width:(n==null?void 0:n.orientation)==="horizontal"?60:20,height:(n==null?void 0:n.orientation)==="horizontal"?20:60,thumbWidth:12,thumbHeight:12,...n});case"rangeslider":return Fm({...x,width:60,height:20,thumbWidth:8,thumbHeight:8,...n});case"multislider":return Bm({...x,width:60,height:40,bandCount:4,...n});case"bipolarslider":return Hm({...x,width:20,height:60,thumbWidth:12,thumbHeight:12,...n});case"crossfadeslider":return Gm({...x,width:60,height:20,thumbWidth:12,thumbHeight:12,...n});case"notchedslider":return Zm({...x,width:60,height:20,thumbWidth:12,thumbHeight:12,notchCount:5,...n});case"asciislider":return qm({...x,width:70,height:20,barWidth:8,fontSize:10,showValue:!1,showMinMax:!1,...n});case"asciiart":return Qg({...x,width:60,height:40,content:`+-+
|#|
+-+`,fontSize:8,...n});case"asciibutton":return Xm({...x,width:55,height:40,fontSize:8,normalArt:`┌───┐
│BTN│
└───┘`,pressedArt:`╔═══╗
║BTN║
╚═══╝`,...n});case"button":return Om({...x,width:60,height:30,label:(n==null?void 0:n.mode)==="toggle"?"TGL":"BTN",...n});case"iconbutton":return Qm({...x,width:32,height:32,...n});case"toggleswitch":return eg({...x,width:50,height:26,...n});case"powerbutton":return tg({...x,width:40,height:40,...n});case"rockerswitch":return Ym({...x,width:40,height:50,...n});case"rotaryswitch":return Km({...x,width:50,height:50,...n});case"segmentbutton":return Jm({...x,width:60,height:24,segments:[{displayMode:"text",text:"A"},{displayMode:"text",text:"B"},{displayMode:"text",text:"C"}],...n});case"label":return ug({...x,width:60,height:24,text:"Aa",fontSize:12,...n});case"numericdisplay":return yg({...x,width:50,height:20,fontSize:10,...n});case"timedisplay":return xg({...x,width:60,height:20,fontSize:10,...n});case"percentagedisplay":return wg({...x,width:50,height:20,fontSize:10,...n});case"ratiodisplay":return Sg({...x,width:50,height:20,fontSize:10,...n});case"notedisplay":return kg({...x,width:50,height:20,fontSize:10,...n});case"bpmdisplay":return Cg({...x,width:50,height:20,fontSize:10,...n});case"editabledisplay":return _g({...x,width:50,height:20,fontSize:10,...n});case"multivaluedisplay":return jg({...x,width:60,height:50,fontSize:8,padding:4,values:[{value:.5,min:0,max:100,format:"numeric",label:"V1",decimalPlaces:0},{value:.75,min:0,max:100,format:"numeric",label:"V2",decimalPlaces:0}],...n});case"meter":return dg({...x,width:16,height:60,...n});case"rmsmetermo":return Pg({...x,width:16,height:60,...n});case"rmsmeterstereo":return $g({...x,width:32,height:60,...n});case"vumetermono":return Ig({...x,width:16,height:60,...n});case"vumeterstereo":return Tg({...x,width:32,height:60,...n});case"ppmtype1mono":return Ng({...x,width:16,height:60,...n});case"ppmtype1stereo":return Eg({...x,width:32,height:60,...n});case"ppmtype2mono":return zg({...x,width:16,height:60,...n});case"ppmtype2stereo":return Dg({...x,width:32,height:60,...n});case"truepeakmetermono":return Og({...x,width:16,height:60,...n});case"truepeakmeterstereo":return Fg({...x,width:32,height:60,...n});case"lufsmomomo":return Mg({...x,width:16,height:60,...n});case"lufsmomostereo":return Lg({...x,width:32,height:60,...n});case"lufsshortmono":return Ag({...x,width:16,height:60,...n});case"lufsshortstereo":return Rg({...x,width:32,height:60,...n});case"lufsintmono":return Bg({...x,width:16,height:60,...n});case"lufsintstereo":return Ug({...x,width:32,height:60,...n});case"k12metermono":return Vg({...x,width:16,height:60,...n});case"k12meterstereo":return Wg({...x,width:32,height:60,...n});case"k14metermono":return Hg({...x,width:16,height:60,...n});case"k14meterstereo":return Gg({...x,width:32,height:60,...n});case"k20metermono":return Zg({...x,width:16,height:60,...n});case"k20meterstereo":return qg({...x,width:32,height:60,...n});case"correlationmeter":return Xg({...x,width:60,height:16,...n});case"stereowidthmeter":return Yg({...x,width:60,height:16,...n});case"dbdisplay":return hg({...x,width:50,height:20,fontSize:10,padding:4,...n});case"frequencydisplay":return fg({...x,width:60,height:20,fontSize:10,padding:4,...n});case"gainreductionmeter":return pg({...x,width:16,height:60,fontSize:8,showValue:!1,...n});case"waveform":return gg({...x,width:60,height:40,showGrid:!1,...n});case"oscilloscope":return vg({...x,width:60,height:40,showGrid:!0,gridDivisions:4,...n});case"scrollingwaveform":return e0({...x,width:60,height:40,...n});case"spectrumanalyzer":return t0({...x,width:60,height:40,...n});case"spectrogram":return r0({...x,width:60,height:40,...n});case"goniometer":return n0({...x,width:50,height:50,...n});case"vectorscope":return a0({...x,width:50,height:50,...n});case"eqcurve":return i0({...x,width:60,height:40,...n});case"compressorcurve":return o0({...x,width:50,height:50,...n});case"envelopedisplay":return s0({...x,width:60,height:40,...n});case"lfodisplay":return l0({...x,width:60,height:40,...n});case"filterresponse":return c0({...x,width:60,height:40,...n});case"dropdown":return Mm({...x,width:60,height:24,options:["Option 1","Option 2"],...n});case"checkbox":return Lm({...x,width:60,height:20,label:"Check",...n});case"radiogroup":return Am({...x,width:60,height:50,options:["A","B"],spacing:4,...n});case"textfield":return Rm({...x,width:60,height:24,placeholder:"Text",...n});case"stepper":return rg({...x,width:60,height:24,...n});case"breadcrumb":return ng({...x,width:60,height:20,items:[{id:"a",label:"A"},{id:"b",label:"B"}],fontSize:8,...n});case"multiselectdropdown":return sg({...x,width:60,height:24,options:["A","B","C"],...n});case"combobox":return lg({...x,width:60,height:24,options:["A","B","C"],...n});case"menubutton":return cg({...x,width:60,height:24,label:"Menu",menuItems:[{id:"1",label:"Item"}],...n});case"tabbar":return ag({...x,width:60,height:24,tabs:[{id:"1",label:"A",showLabel:!0,showIcon:!1},{id:"2",label:"B",showLabel:!0,showIcon:!1}],tabHeight:20,...n});case"tagselector":return ig({...x,width:60,height:30,availableTags:[{id:"1",label:"Tag"}],selectedTags:[],...n});case"treeview":return og({...x,width:60,height:50,data:[{id:"1",name:"Item",children:[]}],fontSize:8,...n});case"image":return Kc({...x,width:50,height:50,...n});case"svggraphic":return Xd({...x,width:50,height:50,...n});case"rectangle":return Kg({...x,width:50,height:30,...n});case"line":return Jg({...x,width:50,height:2,...n});case"panel":return jm({...x,width:50,height:40,...n});case"frame":return _m({...x,width:50,height:40,...n});case"groupbox":return Cm({...x,width:50,height:40,headerFontSize:8,headerText:"Group",...n});case"collapsible":return km({...x,width:50,height:50,headerFontSize:8,headerHeight:16,headerText:"Collapsible",maxContentHeight:30,...n});case"modulationmatrix":return bg({...x,width:60,height:50,cellSize:8,headerFontSize:6,sources:["S1","S2","S3"],destinations:["D1","D2","D3"],...n});case"presetbrowser":return mg({...x,width:60,height:50,presets:["Init"],...n});case"tooltip":return Sm({...x,width:50,height:30,...n});case"horizontalspacer":return xm({...x,width:60,height:20,...n});case"verticalspacer":return ym({...x,width:20,height:60,...n});case"windowchrome":return wm({...x,width:60,height:24,...n});case"pianokeyboard":return u0({...x,width:60,height:30,startNote:48,endNote:60,whiteKeyWidth:8,showNoteLabels:!1,...n});case"drumpad":return d0({...x,width:40,height:40,label:"PAD",...n});case"padgrid":return h0({...x,width:50,height:50,rows:2,columns:2,gridGap:2,...n});case"stepsequencer":return f0({...x,width:60,height:30,stepCount:8,rowCount:1,showVelocity:!1,...n});case"xypad":return p0({...x,width:50,height:50,showLabels:!1,gridDivisions:2,...n});case"wavetabledisplay":return m0({...x,width:60,height:40,frameCount:8,...n});case"harmoniceditor":return g0({...x,width:60,height:35,harmonicCount:8,showHarmonicNumbers:!1,...n});case"looppoints":return v0({...x,width:60,height:30,showTimeRuler:!1,...n});case"envelopeeditor":return b0({...x,width:60,height:35,showLabels:!1,showValues:!1,...n});case"sampledisplay":return y0({...x,width:60,height:35,showTimeRuler:!1,...n});case"patchbay":return x0({...x,width:60,height:50,rows:2,columns:2,showLabels:!1,...n});case"signalflow":return w0({...x,width:60,height:35,gridCellSize:20,gridRows:2,gridColumns:3,showLabels:!1,blocks:[{id:"in",label:"In",x:0,y:.5,width:1,height:1,type:"input"},{id:"out",label:"Out",x:2,y:.5,width:1,height:1,type:"output"}],connections:[{id:"c1",fromBlockId:"in",toBlockId:"out",fromPort:"right",toPort:"left"}],...n});default:return null}})(),S=()=>{if(!b)return a.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-400",children:"?"})});const x={width:`${b.width}px`,height:`${b.height}px`,position:"relative"};switch(b.type){case"knob":return a.jsx("div",{style:x,children:a.jsx(o2,{config:b})});case"steppedknob":return a.jsx("div",{style:x,children:a.jsx(m2,{config:b})});case"centerdetentknob":return a.jsx("div",{style:x,children:a.jsx(g2,{config:b})});case"dotindicatorknob":return a.jsx("div",{style:x,children:a.jsx(v2,{config:b})});case"slider":return a.jsx("div",{style:x,children:a.jsx(s2,{config:b})});case"rangeslider":return a.jsx("div",{style:x,children:a.jsx(c2,{config:b})});case"multislider":return a.jsx("div",{style:x,children:a.jsx(p2,{config:b})});case"bipolarslider":return a.jsx("div",{style:x,children:a.jsx(b2,{config:b})});case"crossfadeslider":return a.jsx("div",{style:x,children:a.jsx(y2,{config:b})});case"notchedslider":return a.jsx("div",{style:x,children:a.jsx(x2,{config:b})});case"asciislider":return a.jsx("div",{style:x,children:a.jsx(w2,{config:b,isPreview:!0})});case"asciiart":return a.jsx("div",{style:x,children:a.jsx(Xk,{config:b})});case"asciibutton":return a.jsx("div",{style:x,children:a.jsx(S2,{config:b})});case"button":return a.jsx("div",{style:x,children:a.jsx(l2,{config:b})});case"iconbutton":return a.jsx("div",{style:x,children:a.jsx(j2,{config:b})});case"toggleswitch":return a.jsx("div",{style:x,children:a.jsx(P2,{config:b})});case"powerbutton":return a.jsx("div",{style:x,children:a.jsx($2,{config:b})});case"rockerswitch":return a.jsx("div",{style:x,children:a.jsx(k2,{config:b})});case"rotaryswitch":return a.jsx("div",{style:x,children:a.jsx(C2,{config:b})});case"segmentbutton":return a.jsx("div",{style:x,children:a.jsx(_2,{config:b})});case"label":return a.jsx("div",{style:x,children:a.jsx(B2,{config:b})});case"numericdisplay":return a.jsx("div",{style:x,children:a.jsx(Y2,{config:b})});case"timedisplay":return a.jsx("div",{style:x,children:a.jsx(K2,{config:b})});case"percentagedisplay":return a.jsx("div",{style:x,children:a.jsx(J2,{config:b})});case"ratiodisplay":return a.jsx("div",{style:x,children:a.jsx(Q2,{config:b})});case"notedisplay":return a.jsx("div",{style:x,children:a.jsx(ek,{config:b})});case"bpmdisplay":return a.jsx("div",{style:x,children:a.jsx(tk,{config:b})});case"editabledisplay":return a.jsx("div",{style:x,children:a.jsx(rk,{config:b})});case"multivaluedisplay":return a.jsx("div",{style:x,children:a.jsx(nk,{config:b})});case"meter":return a.jsx("div",{style:x,children:a.jsx(U2,{config:b})});case"rmsmetermo":return a.jsx("div",{style:x,children:a.jsx(ak,{config:b})});case"rmsmeterstereo":return a.jsx("div",{style:x,children:a.jsx(ik,{config:b})});case"vumetermono":return a.jsx("div",{style:x,children:a.jsx(ok,{config:b})});case"vumeterstereo":return a.jsx("div",{style:x,children:a.jsx(sk,{config:b})});case"ppmtype1mono":return a.jsx("div",{style:x,children:a.jsx(lk,{config:b})});case"ppmtype1stereo":return a.jsx("div",{style:x,children:a.jsx(ck,{config:b})});case"ppmtype2mono":return a.jsx("div",{style:x,children:a.jsx(uk,{config:b})});case"ppmtype2stereo":return a.jsx("div",{style:x,children:a.jsx(dk,{config:b})});case"truepeakmetermono":return a.jsx("div",{style:x,children:a.jsx(hk,{config:b})});case"truepeakmeterstereo":return a.jsx("div",{style:x,children:a.jsx(fk,{config:b})});case"lufsmomomo":return a.jsx("div",{style:x,children:a.jsx(pk,{config:b})});case"lufsmomostereo":return a.jsx("div",{style:x,children:a.jsx(mk,{config:b})});case"lufsshortmono":return a.jsx("div",{style:x,children:a.jsx(gk,{config:b})});case"lufsshortstereo":return a.jsx("div",{style:x,children:a.jsx(vk,{config:b})});case"lufsintmono":return a.jsx("div",{style:x,children:a.jsx(bk,{config:b})});case"lufsintstereo":return a.jsx("div",{style:x,children:a.jsx(yk,{config:b})});case"k12metermono":return a.jsx("div",{style:x,children:a.jsx(xk,{config:b})});case"k12meterstereo":return a.jsx("div",{style:x,children:a.jsx(wk,{config:b})});case"k14metermono":return a.jsx("div",{style:x,children:a.jsx(Sk,{config:b})});case"k14meterstereo":return a.jsx("div",{style:x,children:a.jsx(kk,{config:b})});case"k20metermono":return a.jsx("div",{style:x,children:a.jsx(Ck,{config:b})});case"k20meterstereo":return a.jsx("div",{style:x,children:a.jsx(_k,{config:b})});case"correlationmeter":return a.jsx("div",{style:x,children:a.jsx(jk,{config:b})});case"stereowidthmeter":return a.jsx("div",{style:x,children:a.jsx(Pk,{config:b})});case"dbdisplay":return a.jsx("div",{style:x,children:a.jsx(V2,{config:b})});case"frequencydisplay":return a.jsx("div",{style:x,children:a.jsx(W2,{config:b})});case"gainreductionmeter":return a.jsx("div",{style:x,children:a.jsx(H2,{config:b})});case"waveform":return a.jsx("div",{style:x,children:a.jsx(G2,{config:b})});case"oscilloscope":return a.jsx("div",{style:x,children:a.jsx(Z2,{config:b})});case"scrollingwaveform":return a.jsx("div",{style:x,children:a.jsx($k,{config:b})});case"spectrumanalyzer":return a.jsx("div",{style:x,children:a.jsx(Ik,{config:b})});case"spectrogram":return a.jsx("div",{style:x,children:a.jsx(Tk,{config:b})});case"goniometer":return a.jsx("div",{style:x,children:a.jsx(Nk,{config:b})});case"vectorscope":return a.jsx("div",{style:x,children:a.jsx(Ek,{config:b})});case"eqcurve":return a.jsx("div",{style:x,children:a.jsx(Ok,{config:b})});case"compressorcurve":return a.jsx("div",{style:x,children:a.jsx(zk,{config:b})});case"envelopedisplay":return a.jsx("div",{style:x,children:a.jsx(Dk,{config:b})});case"lfodisplay":return a.jsx("div",{style:x,children:a.jsx(Mk,{config:b})});case"filterresponse":return a.jsx("div",{style:x,children:a.jsx(Fk,{config:b})});case"dropdown":return a.jsx("div",{style:x,children:a.jsx(u2,{config:b})});case"checkbox":return a.jsx("div",{style:x,children:a.jsx(d2,{config:b})});case"radiogroup":return a.jsx("div",{style:x,children:a.jsx(h2,{config:b})});case"textfield":return a.jsx("div",{style:x,children:a.jsx(f2,{config:b})});case"stepper":return a.jsx("div",{style:x,children:a.jsx(E2,{config:b})});case"breadcrumb":return a.jsx("div",{style:x,children:a.jsx(z2,{config:b})});case"multiselectdropdown":return a.jsx("div",{style:x,children:a.jsx(I2,{config:b})});case"combobox":return a.jsx("div",{style:x,children:a.jsx(T2,{config:b})});case"menubutton":return a.jsx("div",{style:x,children:a.jsx(N2,{config:b})});case"tabbar":return a.jsx("div",{style:x,children:a.jsx(D2,{config:b})});case"tagselector":return a.jsx("div",{style:x,children:a.jsx(O2,{config:b})});case"treeview":return a.jsx("div",{style:x,children:a.jsx(F2,{config:b})});case"image":return a.jsx("div",{style:x,children:a.jsx("div",{className:"w-full h-full bg-gray-600 rounded flex items-center justify-center",children:a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-gray-400",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),a.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),a.jsx("polyline",{points:"21 15 16 10 5 21",strokeWidth:"2"})]})})});case"svggraphic":return a.jsx("div",{style:x,children:a.jsx(Gk,{config:b})});case"rectangle":return a.jsx("div",{style:x,children:a.jsx(Zk,{config:b})});case"line":return a.jsx("div",{style:x,children:a.jsx(qk,{config:b})});case"panel":return a.jsx("div",{style:x,children:a.jsx(Lk,{config:b})});case"frame":return a.jsx("div",{style:x,children:a.jsx(Ak,{config:b})});case"groupbox":return a.jsx("div",{style:x,children:a.jsx(Rk,{config:b})});case"collapsible":return a.jsx("div",{style:x,children:a.jsx(Bk,{config:b})});case"modulationmatrix":return a.jsx("div",{style:x,children:a.jsx(X2,{config:b})});case"presetbrowser":return a.jsx("div",{style:x,children:a.jsx(q2,{config:b})});case"tooltip":return a.jsx("div",{style:x,children:a.jsx(Uk,{config:b})});case"horizontalspacer":return a.jsx("div",{style:x,children:a.jsx(Wk,{config:b})});case"verticalspacer":return a.jsx("div",{style:x,children:a.jsx(Hk,{config:b})});case"windowchrome":return a.jsx("div",{style:x,children:a.jsx(Vk,{config:b})});case"pianokeyboard":return a.jsx("div",{style:x,children:a.jsx(aC,{config:b})});case"drumpad":return a.jsx("div",{style:x,children:a.jsx(iC,{config:b})});case"padgrid":return a.jsx("div",{style:x,children:a.jsx(oC,{config:b})});case"stepsequencer":return a.jsx("div",{style:x,children:a.jsx(sC,{config:b})});case"xypad":return a.jsx("div",{style:x,children:a.jsx(lC,{config:b})});case"wavetabledisplay":return a.jsx("div",{style:x,children:a.jsx(cC,{config:b})});case"harmoniceditor":return a.jsx("div",{style:x,children:a.jsx(uC,{config:b})});case"looppoints":return a.jsx("div",{style:x,children:a.jsx(dC,{config:b})});case"envelopeeditor":return a.jsx("div",{style:x,children:a.jsx(hC,{config:b})});case"sampledisplay":return a.jsx("div",{style:x,children:a.jsx(fC,{config:b})});case"patchbay":return a.jsx("div",{style:x,children:a.jsx(pC,{config:b})});case"signalflow":return a.jsx("div",{style:x,children:a.jsx(mC,{config:b})});default:return null}};return a.jsxs("div",{ref:p,...c?h:{},...u,onClick:f,className:`
        relative flex flex-col items-center gap-1 p-2
        border border-gray-700 rounded
        ${i?"cursor-pointer":c?"cursor-grab active:cursor-grabbing":"cursor-not-allowed"}
        hover:bg-gray-700 hover:border-gray-600
        transition-colors
        ${l?"opacity-50":"opacity-100"}
      `,title:c?void 0:"Pro feature - upgrade to use",children:[a.jsx("div",{className:"flex items-center justify-center min-h-16",children:S()}),d&&!s&&a.jsx("div",{className:"absolute top-1 right-1 bg-violet-500 text-white font-bold px-1.5 py-0.5 rounded pointer-events-none select-none",style:{fontSize:"8px",lineHeight:"10px"},children:"PRO"}),a.jsx("span",{className:"text-xs text-gray-300 text-center",children:r})]})}class j5 extends X.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){console.error(`PaletteItem error for ${this.props.itemName}:`,t,r)}render(){return this.state.hasError?a.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 border border-red-700 rounded opacity-50",children:[a.jsx("div",{className:"w-12 h-12 bg-red-900 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-red-400",children:"Error"})}),a.jsx("span",{className:"text-xs text-red-400 text-center",children:this.props.itemName})]}):this.props.children}}function P5({category:e,isExpanded:t,onToggle:r}){return a.jsxs("div",{className:"border-b border-gray-700",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-3 bg-gray-800 hover:bg-gray-750 transition-colors text-left",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:e.name}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:`text-gray-400 transition-transform ${t?"rotate-90":""}`,children:a.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t&&a.jsx("div",{className:"grid grid-cols-2 gap-2 p-2 bg-gray-850",children:e.items.map(n=>a.jsx(j5,{itemName:n.name,children:a.jsx(_5,{id:n.id,elementType:n.type,name:n.name,variant:n.variant})},n.id))})]})}var Vf={exports:{}},Wf,Xb;function $5(){if(Xb)return Wf;Xb=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wf=e,Wf}var Hf,Yb;function I5(){if(Yb)return Hf;Yb=1;var e=$5();function t(){}function r(){}return r.resetWarningCache=t,Hf=function(){function n(s,d,c,u,h,p){if(p!==e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},Hf}var Kb;function T5(){return Kb||(Kb=1,Vf.exports=I5()()),Vf.exports}var N5=T5();const Ft=cu(N5);function Oi(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function d(h){try{u(n.next(h))}catch(p){s(p)}}function c(h){try{u(n.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(d,c)}u((n=n.apply(e,t||[])).next())})}const E5=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function fs(e,t,r){const n=z5(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&Jb(n,"path",o),Jb(n,"relativePath",o),n}function z5(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=E5.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Jb(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const D5=[".DS_Store","Thumbs.db"];function O5(e){return Oi(this,void 0,void 0,function*(){return Yd(e)&&F5(e.dataTransfer)?R5(e.dataTransfer,e.type):M5(e)?L5(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?A5(e):[]})}function F5(e){return Yd(e)}function M5(e){return Yd(e)&&Yd(e.target)}function Yd(e){return typeof e=="object"&&e!==null}function L5(e){return Wp(e.target.files).map(t=>fs(t))}function A5(e){return Oi(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>fs(r))})}function R5(e,t){return Oi(this,void 0,void 0,function*(){if(e.items){const r=Wp(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(B5));return Qb(vC(n))}return Qb(Wp(e.files).map(r=>fs(r)))})}function Qb(e){return e.filter(t=>D5.indexOf(t.name)===-1)}function Wp(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function B5(e){if(typeof e.webkitGetAsEntry!="function")return ey(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?bC(t):ey(e,t)}function vC(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?vC(r):[r]],[])}function ey(e,t){return Oi(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,fs(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return fs(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function U5(e){return Oi(this,void 0,void 0,function*(){return e.isDirectory?bC(e):V5(e)})}function bC(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(s=>Oi(this,void 0,void 0,function*(){if(s.length){const d=Promise.all(s.map(U5));i.push(d),o()}else try{const d=yield Promise.all(i);r(d)}catch(d){n(d)}}),s=>{n(s)})}o()})}function V5(e){return Oi(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=fs(n,e.fullPath);t(i)},n=>{r(n)})})})}var cd={},ty;function W5(){return ty||(ty=1,cd.__esModule=!0,cd.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(s){var d=s.trim().toLowerCase();return d.charAt(0)==="."?n.toLowerCase().endsWith(d):d.endsWith("/*")?o===d.replace(/\/.*$/,""):i===d})}return!0}),cd}var H5=W5();const Gf=cu(H5);function ry(e){return q5(e)||Z5(e)||xC(e)||G5()}function G5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q5(e){if(Array.isArray(e))return Hp(e)}function ny(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ny(Object(r),!0).forEach(function(n){yC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ny(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jc(e,t){return K5(e)||Y5(e,t)||xC(e,t)||X5()}function X5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xC(e,t){if(e){if(typeof e=="string")return Hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hp(e,t)}}function Hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,d;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(c){o=!0,d=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw d}}return n}}function K5(e){if(Array.isArray(e))return e}var J5=typeof Gf=="function"?Gf:Gf.default,Q5="file-invalid-type",eP="file-too-large",tP="file-too-small",rP="too-many-files",nP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Q5,message:"File type must be ".concat(n)}},iy=function(t){return{code:eP,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},oy=function(t){return{code:tP,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},aP={code:rP,message:"Too many files"};function wC(e,t){var r=e.type==="application/x-moz-file"||J5(e,t);return[r,r?null:nP(t)]}function SC(e,t,r){if(Pi(e.size))if(Pi(t)&&Pi(r)){if(e.size>r)return[!1,iy(r)];if(e.size<t)return[!1,oy(t)]}else{if(Pi(t)&&e.size<t)return[!1,oy(t)];if(Pi(r)&&e.size>r)return[!1,iy(r)]}return[!0,null]}function Pi(e){return e!=null}function iP(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,d=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(c){var u=wC(c,r),h=Jc(u,1),p=h[0],l=SC(c,n,i),f=Jc(l,1),m=f[0],b=d?d(c):null;return p&&m&&!b})}function Kd(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ud(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function sy(e){e.preventDefault()}function oP(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function sP(e){return e.indexOf("Edge/")!==-1}function lP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return oP(e)||sP(e)}function Hn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(d){return!Kd(n)&&d&&d.apply(void 0,[n].concat(o)),Kd(n)})}}function cP(){return"showOpenFilePicker"in window}function uP(e){if(Pi(e)){var t=Object.entries(e).filter(function(r){var n=Jc(r,2),i=n[0],o=n[1],s=!0;return kC(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(CC))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=Jc(n,2),o=i[0],s=i[1];return ay(ay({},r),{},yC({},o,s))},{});return[{description:"Files",accept:t}]}return e}function dP(e){if(Pi(e))return Object.entries(e).reduce(function(t,r){var n=Jc(r,2),i=n[0],o=n[1];return[].concat(ry(t),[i],ry(o))},[]).filter(function(t){return kC(t)||CC(t)}).join(",")}function hP(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function fP(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function kC(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function CC(e){return/^.*\.[\w]+$/.test(e)}var pP=["children"],mP=["open"],gP=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],vP=["refKey","onChange","onClick"];function bP(e){return wP(e)||xP(e)||_C(e)||yP()}function yP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wP(e){if(Array.isArray(e))return Gp(e)}function Zf(e,t){return CP(e)||kP(e,t)||_C(e,t)||SP()}function SP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _C(e,t){if(e){if(typeof e=="string")return Gp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gp(e,t)}}function Gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,d;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(c){o=!0,d=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw d}}return n}}function CP(e){if(Array.isArray(e))return e}function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ly(Object(r),!0).forEach(function(n){Zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jd(e,t){if(e==null)return{};var r=_P(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _P(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var S0=X.forwardRef(function(e,t){var r=e.children,n=Jd(e,pP),i=du(n),o=i.open,s=Jd(i,mP);return X.useImperativeHandle(t,function(){return{open:o}},[o]),wt.createElement(X.Fragment,null,r(qt(qt({},s),{},{open:o})))});S0.displayName="Dropzone";var jC={disabled:!1,getFilesFromEvent:O5,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};S0.defaultProps=jC;S0.propTypes={children:Ft.func,accept:Ft.objectOf(Ft.arrayOf(Ft.string)),multiple:Ft.bool,preventDropOnDocument:Ft.bool,noClick:Ft.bool,noKeyboard:Ft.bool,noDrag:Ft.bool,noDragEventsBubbling:Ft.bool,minSize:Ft.number,maxSize:Ft.number,maxFiles:Ft.number,disabled:Ft.bool,getFilesFromEvent:Ft.func,onFileDialogCancel:Ft.func,onFileDialogOpen:Ft.func,useFsAccessApi:Ft.bool,autoFocus:Ft.bool,onDragEnter:Ft.func,onDragLeave:Ft.func,onDragOver:Ft.func,onDrop:Ft.func,onDropAccepted:Ft.func,onDropRejected:Ft.func,onError:Ft.func,validator:Ft.func};var qp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function du(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=qt(qt({},jC),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,d=t.multiple,c=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,p=t.onDragOver,l=t.onDrop,f=t.onDropAccepted,m=t.onDropRejected,b=t.onFileDialogCancel,S=t.onFileDialogOpen,x=t.useFsAccessApi,w=t.autoFocus,y=t.preventDropOnDocument,_=t.noClick,P=t.noKeyboard,T=t.noDrag,M=t.noDragEventsBubbling,N=t.onError,O=t.validator,B=X.useMemo(function(){return dP(r)},[r]),Z=X.useMemo(function(){return uP(r)},[r]),D=X.useMemo(function(){return typeof S=="function"?S:cy},[S]),U=X.useMemo(function(){return typeof b=="function"?b:cy},[b]),z=X.useRef(null),G=X.useRef(null),ne=X.useReducer(jP,qp),A=Zf(ne,2),k=A[0],j=A[1],$=k.isFocused,F=k.isFileDialogActive,R=X.useRef(typeof window<"u"&&window.isSecureContext&&x&&cP()),W=function(){!R.current&&F&&setTimeout(function(){if(G.current){var ke=G.current.files;ke.length||(j({type:"closeDialog"}),U())}},300)};X.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[G,F,U,R]);var Y=X.useRef([]),te=function(ke){z.current&&z.current.contains(ke.target)||(ke.preventDefault(),Y.current=[])};X.useEffect(function(){return y&&(document.addEventListener("dragover",sy,!1),document.addEventListener("drop",te,!1)),function(){y&&(document.removeEventListener("dragover",sy),document.removeEventListener("drop",te))}},[z,y]),X.useEffect(function(){return!n&&w&&z.current&&z.current.focus(),function(){}},[z,w,n]);var ie=X.useCallback(function(pe){N?N(pe):console.error(pe)},[N]),J=X.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe),Y.current=[].concat(bP(Y.current),[pe.target]),ud(pe)&&Promise.resolve(i(pe)).then(function(ke){if(!(Kd(pe)&&!M)){var Ie=ke.length,Re=Ie>0&&iP({files:ke,accept:B,minSize:s,maxSize:o,multiple:d,maxFiles:c,validator:O}),Be=Ie>0&&!Re;j({isDragAccept:Re,isDragReject:Be,isDragActive:!0,type:"setDraggedFiles"}),u&&u(pe)}}).catch(function(ke){return ie(ke)})},[i,u,ie,M,B,s,o,d,c,O]),ee=X.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe);var ke=ud(pe);if(ke&&pe.dataTransfer)try{pe.dataTransfer.dropEffect="copy"}catch{}return ke&&p&&p(pe),!1},[p,M]),Q=X.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe);var ke=Y.current.filter(function(Re){return z.current&&z.current.contains(Re)}),Ie=ke.indexOf(pe.target);Ie!==-1&&ke.splice(Ie,1),Y.current=ke,!(ke.length>0)&&(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ud(pe)&&h&&h(pe))},[z,h,M]),he=X.useCallback(function(pe,ke){var Ie=[],Re=[];pe.forEach(function(Be){var ot=wC(Be,B),st=Zf(ot,2),pt=st[0],Rt=st[1],St=SC(Be,s,o),or=Zf(St,2),Tr=or[0],rr=or[1],Nr=O?O(Be):null;if(pt&&Tr&&!Nr)Ie.push(Be);else{var pn=[Rt,rr];Nr&&(pn=pn.concat(Nr)),Re.push({file:Be,errors:pn.filter(function(Qn){return Qn})})}}),(!d&&Ie.length>1||d&&c>=1&&Ie.length>c)&&(Ie.forEach(function(Be){Re.push({file:Be,errors:[aP]})}),Ie.splice(0)),j({acceptedFiles:Ie,fileRejections:Re,isDragReject:Re.length>0,type:"setFiles"}),l&&l(Ie,Re,ke),Re.length>0&&m&&m(Re,ke),Ie.length>0&&f&&f(Ie,ke)},[j,d,B,s,o,c,l,f,m,O]),ge=X.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe),Y.current=[],ud(pe)&&Promise.resolve(i(pe)).then(function(ke){Kd(pe)&&!M||he(ke,pe)}).catch(function(ke){return ie(ke)}),j({type:"reset"})},[i,he,ie,M]),ye=X.useCallback(function(){if(R.current){j({type:"openDialog"}),D();var pe={multiple:d,types:Z};window.showOpenFilePicker(pe).then(function(ke){return i(ke)}).then(function(ke){he(ke,null),j({type:"closeDialog"})}).catch(function(ke){hP(ke)?(U(ke),j({type:"closeDialog"})):fP(ke)?(R.current=!1,G.current?(G.current.value=null,G.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(ke)});return}G.current&&(j({type:"openDialog"}),D(),G.current.value=null,G.current.click())},[j,D,U,x,he,ie,Z,d]),_e=X.useCallback(function(pe){!z.current||!z.current.isEqualNode(pe.target)||(pe.key===" "||pe.key==="Enter"||pe.keyCode===32||pe.keyCode===13)&&(pe.preventDefault(),ye())},[z,ye]),H=X.useCallback(function(){j({type:"focus"})},[]),Se=X.useCallback(function(){j({type:"blur"})},[]),Ce=X.useCallback(function(){_||(lP()?setTimeout(ye,0):ye())},[_,ye]),se=function(ke){return n?null:ke},ae=function(ke){return P?null:se(ke)},xe=function(ke){return T?null:se(ke)},$e=function(ke){M&&ke.stopPropagation()},ue=X.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=pe.refKey,Ie=ke===void 0?"ref":ke,Re=pe.role,Be=pe.onKeyDown,ot=pe.onFocus,st=pe.onBlur,pt=pe.onClick,Rt=pe.onDragEnter,St=pe.onDragOver,or=pe.onDragLeave,Tr=pe.onDrop,rr=Jd(pe,gP);return qt(qt(Zp({onKeyDown:ae(Hn(Be,_e)),onFocus:ae(Hn(ot,H)),onBlur:ae(Hn(st,Se)),onClick:se(Hn(pt,Ce)),onDragEnter:xe(Hn(Rt,J)),onDragOver:xe(Hn(St,ee)),onDragLeave:xe(Hn(or,Q)),onDrop:xe(Hn(Tr,ge)),role:typeof Re=="string"&&Re!==""?Re:"presentation"},Ie,z),!n&&!P?{tabIndex:0}:{}),rr)}},[z,_e,H,Se,Ce,J,ee,Q,ge,P,T,n]),V=X.useCallback(function(pe){pe.stopPropagation()},[]),me=X.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=pe.refKey,Ie=ke===void 0?"ref":ke,Re=pe.onChange,Be=pe.onClick,ot=Jd(pe,vP),st=Zp({accept:B,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:se(Hn(Re,ge)),onClick:se(Hn(Be,V)),tabIndex:-1},Ie,G);return qt(qt({},st),ot)}},[G,r,d,ge,n]);return qt(qt({},k),{},{isFocused:$&&!n,getRootProps:ue,getInputProps:me,rootRef:z,inputRef:G,open:se(ye)})}function jP(e,t){switch(t.type){case"focus":return qt(qt({},e),{},{isFocused:!0});case"blur":return qt(qt({},e),{},{isFocused:!1});case"openDialog":return qt(qt({},qp),{},{isFileDialogActive:!0});case"closeDialog":return qt(qt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return qt(qt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return qt(qt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return qt({},qp);default:return e}}function cy(){}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var qf,uy;function PP(){if(uy)return qf;uy=1,qf=function(r){return r!=null&&(e(r)||t(r)||!!r._isBuffer)};function e(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}return qf}var Xf,dy;function $P(){if(dy)return Xf;dy=1;var e=PP(),t=Object.prototype.toString;return Xf=function(n){if(typeof n>"u")return"undefined";if(n===null)return"null";if(n===!0||n===!1||n instanceof Boolean)return"boolean";if(typeof n=="string"||n instanceof String)return"string";if(typeof n=="number"||n instanceof Number)return"number";if(typeof n=="function"||n instanceof Function)return"function";if(typeof Array.isArray<"u"&&Array.isArray(n))return"array";if(n instanceof RegExp)return"regexp";if(n instanceof Date)return"date";var i=t.call(n);return i==="[object RegExp]"?"regexp":i==="[object Date]"?"date":i==="[object Arguments]"?"arguments":i==="[object Error]"?"error":e(n)?"buffer":i==="[object Set]"?"set":i==="[object WeakSet]"?"weakset":i==="[object Map]"?"map":i==="[object WeakMap]"?"weakmap":i==="[object Symbol]"?"symbol":i==="[object Int8Array]"?"int8array":i==="[object Uint8Array]"?"uint8array":i==="[object Uint8ClampedArray]"?"uint8clampedarray":i==="[object Int16Array]"?"int16array":i==="[object Uint16Array]"?"uint16array":i==="[object Int32Array]"?"int32array":i==="[object Uint32Array]"?"uint32array":i==="[object Float32Array]"?"float32array":i==="[object Float64Array]"?"float64array":"object"},Xf}var Yf={exports:{}},hy;function IP(){return hy||(hy=1,(function(e){(function(){function t(r,n){if(typeof n!="function")return r;var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[n(o,r[o])||o]=r[o]);return i}e.exports?e.exports=t:window.rename=t})()})(Yf)),Yf.exports}/*!
 * deep-rename-keys <https://github.com/jonschlinkert/deep-rename-keys>
 *
 * Copyright (c) 2015 Jon Schlinkert, contributors.
 * Licensed under the MIT license.
 */var Kf,fy;function TP(){if(fy)return Kf;fy=1;var e=$P(),t=IP();return Kf=function r(n,i){var o=e(n);if(o!=="object"&&o!=="array")throw new Error("expected an object");var s=[];o==="object"&&(n=t(n,i),s={});for(var d in n)if(n.hasOwnProperty(d)){var c=n[d];e(c)==="object"||e(c)==="array"?s[d]=r(c,i):s[d]=c}return s},Kf}var NP=TP();const EP=cu(NP);var Jf={exports:{}},py;function PC(){return py||(py=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(s,d,c){this.fn=s,this.context=d,this.once=c||!1}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],c,u;if(this._eventsCount===0)return d;for(u in c=this._events)t.call(c,u)&&d.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(c)):d},o.prototype.listeners=function(d,c){var u=r?r+d:d,h=this._events[u];if(c)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,l=h.length,f=new Array(l);p<l;p++)f[p]=h[p].fn;return f},o.prototype.emit=function(d,c,u,h,p,l){var f=r?r+d:d;if(!this._events[f])return!1;var m=this._events[f],b=arguments.length,S,x;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,u),!0;case 4:return m.fn.call(m.context,c,u,h),!0;case 5:return m.fn.call(m.context,c,u,h,p),!0;case 6:return m.fn.call(m.context,c,u,h,p,l),!0}for(x=1,S=new Array(b-1);x<b;x++)S[x-1]=arguments[x];m.fn.apply(m.context,S)}else{var w=m.length,y;for(x=0;x<w;x++)switch(m[x].once&&this.removeListener(d,m[x].fn,void 0,!0),b){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,c);break;case 3:m[x].fn.call(m[x].context,c,u);break;case 4:m[x].fn.call(m[x].context,c,u,h);break;default:if(!S)for(y=1,S=new Array(b-1);y<b;y++)S[y-1]=arguments[y];m[x].fn.apply(m[x].context,S)}}return!0},o.prototype.on=function(d,c,u){var h=new i(c,u||this),p=r?r+d:d;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},o.prototype.once=function(d,c,u){var h=new i(c,u||this,!0),p=r?r+d:d;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},o.prototype.removeListener=function(d,c,u,h){var p=r?r+d:d;if(!this._events[p])return this;if(!c)return--this._eventsCount===0?this._events=new n:delete this._events[p],this;var l=this._events[p];if(l.fn)l.fn===c&&(!h||l.once)&&(!u||l.context===u)&&(--this._eventsCount===0?this._events=new n:delete this._events[p]);else{for(var f=0,m=[],b=l.length;f<b;f++)(l[f].fn!==c||h&&!l[f].once||u&&l[f].context!==u)&&m.push(l[f]);m.length?this._events[p]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new n:delete this._events[p]}return this},o.prototype.removeAllListeners=function(d){var c;return d?(c=r?r+d:d,this._events[c]&&(--this._eventsCount===0?this._events=new n:delete this._events[c])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,o.EventEmitter=o,e.exports=o})(Jf)),Jf.exports}var Qf,my;function zP(){if(my)return Qf;my=1;function e(u,h,p){return h in u?Object.defineProperty(u,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[h]=p,u}var t=PC(),r=function(){},n={data:"state-data",cdata:"state-cdata",tagBegin:"state-tag-begin",tagName:"state-tag-name",tagEnd:"state-tag-end",attributeNameStart:"state-attribute-name-start",attributeName:"state-attribute-name",attributeNameEnd:"state-attribute-name-end",attributeValueBegin:"state-attribute-value-begin",attributeValue:"state-attribute-value"},i={lt:"action-lt",gt:"action-gt",space:"action-space",equal:"action-equal",quote:"action-quote",slash:"action-slash",char:"action-char",error:"action-error"},o={text:"text",openTag:"open-tag",closeTag:"close-tag",attributeName:"attribute-name",attributeValue:"attribute-value"},s={" ":i.space,"	":i.space,"\n":i.space,"\r":i.space,"<":i.lt,">":i.gt,'"':i.quote,"'":i.quote,"=":i.equal,"/":i.slash},d=function(h){return s[h]||i.char},c=function(h){var p,l,f,m,b,S,x,w,y,_;h=Object.assign({debug:!1},h);var P=new t,T=n.data,M="",N="",O="",B="",Z="",D="",U=function(ne,A){if(!(N[0]==="?"||N[0]==="!")){var k={type:ne,value:A};h.debug&&console.log("emit:",k),P.emit("data",k)}};P.stateMachine=(_={},e(_,n.data,(p={},e(p,i.lt,function(){M.trim()&&U(o.text,M),N="",Z=!1,T=n.tagBegin}),e(p,i.char,function(G){M+=G}),p)),e(_,n.cdata,e({},i.char,function(G){M+=G,M.substr(-3)==="]]>"&&(U(o.text,M.slice(0,-3)),M="",T=n.data)})),e(_,n.tagBegin,(l={},e(l,i.space,r),e(l,i.char,function(G){N=G,T=n.tagName}),e(l,i.slash,function(){N="",Z=!0}),l)),e(_,n.tagName,(f={},e(f,i.space,function(){Z?T=n.tagEnd:(T=n.attributeNameStart,U(o.openTag,N))}),e(f,i.gt,function(){U(Z?o.closeTag:o.openTag,N),M="",T=n.data}),e(f,i.slash,function(){T=n.tagEnd,U(o.openTag,N)}),e(f,i.char,function(G){N+=G,N==="![CDATA["&&(T=n.cdata,M="",N="")}),f)),e(_,n.tagEnd,(m={},e(m,i.gt,function(){U(o.closeTag,N),M="",T=n.data}),e(m,i.char,r),m)),e(_,n.attributeNameStart,(b={},e(b,i.char,function(G){O=G,T=n.attributeName}),e(b,i.gt,function(){M="",T=n.data}),e(b,i.space,r),e(b,i.slash,function(){Z=!0,T=n.tagEnd}),b)),e(_,n.attributeName,(S={},e(S,i.space,function(){T=n.attributeNameEnd}),e(S,i.equal,function(){U(o.attributeName,O),T=n.attributeValueBegin}),e(S,i.gt,function(){B="",U(o.attributeName,O),U(o.attributeValue,B),M="",T=n.data}),e(S,i.slash,function(){Z=!0,B="",U(o.attributeName,O),U(o.attributeValue,B),T=n.tagEnd}),e(S,i.char,function(G){O+=G}),S)),e(_,n.attributeNameEnd,(x={},e(x,i.space,r),e(x,i.equal,function(){U(o.attributeName,O),T=n.attributeValueBegin}),e(x,i.gt,function(){B="",U(o.attributeName,O),U(o.attributeValue,B),M="",T=n.data}),e(x,i.char,function(G){B="",U(o.attributeName,O),U(o.attributeValue,B),O=G,T=n.attributeName}),x)),e(_,n.attributeValueBegin,(w={},e(w,i.space,r),e(w,i.quote,function(G){D=G,B="",T=n.attributeValue}),e(w,i.gt,function(){B="",U(o.attributeValue,B),M="",T=n.data}),e(w,i.char,function(G){D="",B=G,T=n.attributeValue}),w)),e(_,n.attributeValue,(y={},e(y,i.space,function(G){D?B+=G:(U(o.attributeValue,B),T=n.attributeNameStart)}),e(y,i.quote,function(G){D===G?(U(o.attributeValue,B),T=n.attributeNameStart):B+=G}),e(y,i.gt,function(G){D?B+=G:(U(o.attributeValue,B),M="",T=n.data)}),e(y,i.slash,function(G){D?B+=G:(U(o.attributeValue,B),Z=!0,T=n.tagEnd)}),e(y,i.char,function(G){B+=G}),y)),_);var z=function(ne){h.debug&&console.log(T,ne);var A=P.stateMachine[T],k=A[d(ne)]||A[i.error]||A[i.char];k(ne)};return P.write=function(G){for(var ne=G.length,A=0;A<ne;A++)z(G[A])},P};return Qf={State:n,Action:i,Type:o,create:c},Qf}var ep,gy;function DP(){if(gy)return ep;gy=1;var e=PC(),t=zP(),r=t.Type,n={element:"element",text:"text"},i=function(c){return Object.assign({name:"",type:n.element,value:"",parent:null,attributes:{},children:[]},c)},o=function(c){c=Object.assign({stream:!1,parentNodes:!0,doneEvent:"done",tagPrefix:"tag:",emitTopLevelOnly:!1,debug:!1},c);var u=void 0,h=void 0,p=void 0,l=void 0,f=new e,m=function(S){switch(S.type){case r.openTag:if(p===null)p=h,p.name=S.value;else{var x=i({name:S.value,parent:p});p.children.push(x),p=x}break;case r.closeTag:var w=p.parent;if(c.parentNodes||(p.parent=null),p.name!==S.value)break;c.stream&&w===h&&(h.children=[],p.parent=null),(!c.emitTopLevelOnly||w===h)&&(f.emit(c.tagPrefix+p.name,p),f.emit("tag",p.name,p)),p===h&&(u.removeAllListeners("data"),f.emit(c.doneEvent,p),h=null),p=w;break;case r.text:p&&p.children.push(i({type:n.text,value:S.value,parent:c.parentNodes?p:null}));break;case r.attributeName:l=S.value,p.attributes[l]="";break;case r.attributeValue:p.attributes[l]=S.value;break}};return f.reset=function(){u=t.create({debug:c.debug}),u.on("data",m),h=i(),p=null,l="",f.parse=u.write},f.reset(),f},s=function(c,u){u=Object.assign({},u,{stream:!1,tagPrefix:":"});var h=o(u),p=void 0;return h.on("done",function(l){p=l}),h.parse(c),p};return ep={parseSync:s,create:o,NodeType:n},ep}var OP=DP(),FP=function(t){var r=OP.parseSync("<root>".concat(t,"</root>"),{parentNodes:!1}),n=r.children&&r.children.length>0&&r.children.every(function(i){return i.name==="svg"});if(n)return r.children.length===1?r.children[0]:r.children;throw Error("nothing to parse")},MP=function(t){return EP(t,function(r){return AP(r)?r:LP(r)})},LP=function(t){return t.replace(/[-|:]([a-z])/gi,function(r,n){return n.toUpperCase()})},AP=function(t){return/^(data|aria)(-\w+)/.test(t)},RP=function(t){if(t){var r=String(t);return/[&<>]/.test(r)?"<![CDATA[".concat(r.replace(/]]>/,"]]]]><![CDATA[>"),"]]>"):r}return""},BP=function(t){return String(t).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},UP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transformNode,i=n===void 0?function(c){return c}:n,o=r.camelcase,s=o===void 0?!1:o,d=function(u){var h;return h=i(u),s&&(h=MP(h)),h};return d(FP(t))};function k0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(function(n,i){try{var o=UP.apply(void 0,t);n(o)}catch(s){i(s)}})}var VP=function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transformAttr,i=n===void 0?function(f,m,b){return"".concat(f,'="').concat(b(m),'"')}:n,o=r.transformNode,s=o===void 0?function(f){return f}:o,d=r.selfClose,c=d===void 0?!0:d;if(Array.isArray(t))return t.map(function(f){return e(f,{transformAttr:i,selfClose:c,transformNode:s})}).join("");var u=s(t);if(u.type==="text")return RP(u.value);var h="";for(var p in u.attributes){var l=i(p,u.attributes[p],BP,u.name);h+=l?" ".concat(l):""}return u.children&&u.children.length>0||!c?"<".concat(u.name).concat(h,">").concat(e(u.children,{transformAttr:i,transformNode:s,selfClose:c}),"</").concat(u.name,">"):"<".concat(u.name).concat(h,"/>")};function WP(e){const t=e.toLowerCase();return t.includes("indicator")||t.includes("pointer")?"indicator":t.includes("thumb")||t.includes("handle")?"thumb":t.includes("track")||t.includes("background")?"track":t.includes("fill")||t.includes("progress")?"fill":t.includes("glow")||t.includes("highlight")?"glow":"unknown"}function $C(e,t){var o,s;const r=((o=e.attributes)==null?void 0:o.id)||"",i=((s=e.attributes)==null?void 0:s["inkscape:label"])||""||r;if(i){const d=WP(i);d!=="unknown"&&t.push({name:i,type:d,element:e})}if(e.children)for(const d of e.children)$C(d,t)}async function HP(e){var s,d,c;const t=await k0(e),r=((s=t.attributes)==null?void 0:s.viewBox)||null;let n=100,i=100;if(r){const u=r.split(/\s+/);u.length>=4&&(n=parseFloat(u[2]??"100")||100,i=parseFloat(u[3]??"100")||100)}else{const u=(d=t.attributes)==null?void 0:d.width,h=(c=t.attributes)==null?void 0:c.height;n=parseFloat(u||"100"),i=parseFloat(h||"100")}const o=[];return $C(t,o),{layers:o,viewBox:r,width:n,height:i,svgString:e}}function tp(e){return`data:image/svg+xml,${encodeURIComponent(e)}`}function GP(e){const t=e.toLowerCase();return t.includes("indicator")||t.includes("pointer")||t.includes("needle")?"indicator":t.includes("track")||t.includes("bg")||t.includes("base")?"track":t.includes("thumb")||t.includes("handle")||t.includes("grip")?"thumb":t.includes("fill")||t.includes("progress")||t.includes("value")?"fill":t.includes("glow")||t.includes("highlight")||t.includes("hover")?"glow":t.includes("background")||t.includes("backdrop")?"background":"unknown"}async function ZP(e){const t=await k0(e),r=[];function n(i){var c,u;const o=((c=i.attributes)==null?void 0:c.id)||"",d=((u=i.attributes)==null?void 0:u["inkscape:label"])||""||o;if(d&&r.push({id:o||`layer-${r.length}`,name:d,svgContent:VP(i),suggestedType:GP(d)}),i.children)for(const h of i.children)n(h)}return n(t),r}async function qP(e){var n,i,o;const t=await k0(e),r=(n=t.attributes)==null?void 0:n.viewBox;if(r){const s=String(r).split(/[\s,]+/);if(s.length>=4)return{width:parseFloat(s[2]||"100")||100,height:parseFloat(s[3]||"100")||100}}return{width:parseFloat(String(((i=t.attributes)==null?void 0:i.width)||"100")),height:parseFloat(String(((o=t.attributes)==null?void 0:o.height)||"100"))}}const XP=[{value:"indicator",label:"Indicator (rotates)"},{value:"track",label:"Track (static)"},{value:"thumb",label:"Thumb (moves)"},{value:"fill",label:"Fill (grows)"},{value:"glow",label:"Glow (highlight)"},{value:"background",label:"Background"},{value:"unknown",label:"Unused"}];function YP({layer:e,onAssign:t}){return a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-800 rounded",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded flex-shrink-0",dangerouslySetInnerHTML:{__html:`<svg viewBox="0 0 100 100" class="w-full h-full">${e.svgContent}</svg>`}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",e.id]})]}),a.jsx("select",{value:e.assignedType||e.suggestedType,onChange:r=>t(e.id,r.target.value),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm text-white",children:XP.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]})}function KP({svgContent:e,onComplete:t,onCancel:r}){const[n,i]=X.useState([]),[o,s]=X.useState("knob"),[d,c]=X.useState({width:100,height:100}),[u,h]=X.useState(!0);X.useState(()=>{(async()=>{try{const m=await ZP(e),b=await qP(e);i(m),c(b)}catch(m){console.error("Failed to extract layers:",m)}finally{h(!1)}})()});const p=X.useCallback((f,m)=>{i(b=>b.map(S=>S.id===f?{...S,assignedType:m}:S))},[]),l=X.useCallback(()=>{const f={indicator:void 0,track:void 0,thumb:void 0,fill:void 0,glow:void 0,background:void 0,unknown:void 0};n.forEach(m=>{const b=m.assignedType||m.suggestedType;b!=="unknown"&&(f[b]=m.svgContent)}),t({elementType:o,layers:f,originalSvg:e,width:d.width,height:d.height})},[n,o,e,d,t]);return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"SVG Design Mode"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign SVG layers to element parts"})]}),u?a.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading layers..."}):a.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Preview"}),a.jsx("div",{className:"bg-gray-700 rounded aspect-square flex items-center justify-center",dangerouslySetInnerHTML:{__html:e}}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.width," x ",d.height]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Element Type"}),a.jsxs("select",{value:o,onChange:f=>s(f.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[a.jsx("option",{value:"knob",children:"Knob"}),a.jsx("option",{value:"slider",children:"Slider"}),a.jsx("option",{value:"button",children:"Button"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:["Layers (",n.length,")"]}),n.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:'No named groups found. SVG must use <g id="..."> for layers.'}):a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.map(f=>a.jsx(YP,{layer:f,onAssign:p},f.id))})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-300 hover:text-white",children:"Cancel"}),a.jsx("button",{onClick:l,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Element"})]})]})})}function JP(){const[e,t]=X.useState(null),[r,n]=X.useState(null),[i,o]=X.useState(!1),[s,d]=X.useState(!1),c=fe(T=>T.addElement),u=fe(T=>T.scale),h=fe(T=>T.offsetX),p=fe(T=>T.offsetY),l=fe(T=>T.selectedLayerId),f=X.useCallback(async T=>{const M=T[0];if(M)try{const N=await M.text(),O=await HP(N);t(O),n(null)}catch(N){n("Failed to parse SVG file"),console.error(N)}},[]),{getRootProps:m,getInputProps:b,isDragActive:S}=du({onDrop:f,accept:{"image/svg+xml":[".svg"]},maxFiles:1}),x=()=>{if(!e)return;const T=document.querySelector(".canvas-viewport"),M=(T==null?void 0:T.clientWidth)||800,N=(T==null?void 0:T.clientHeight)||600,O=(M/2-h)/u,B=(N/2-p)/u,Z=O-e.width/2,D=B-e.height/2,U=tp(e.svgString),z=Kc({x:Z,y:D,width:e.width,height:e.height,src:U,name:"Custom SVG"});z.layerId=l||"default",c(z),t(null),o(!1)},w=()=>{t(null),n(null),o(!1)},y=()=>{d(!0)},_=T=>{if(!e)return;const M=document.querySelector(".canvas-viewport"),N=(M==null?void 0:M.clientWidth)||800,O=(M==null?void 0:M.clientHeight)||600,B=(N/2-h)/u,Z=(O/2-p)/u,D=B-T.width/2,U=Z-T.height/2,z=tp(T.originalSvg),G=Kc({x:D,y:U,width:T.width,height:T.height,src:z,name:`Custom ${T.elementType}`});G.layerId=l||"default",c(G),d(!1),t(null),o(!1)},P=()=>{d(!1)};return i?a.jsxs("div",{className:"mt-4 p-4 bg-gray-750 rounded border border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-200",children:"Import Custom SVG"}),a.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-300",children:"×"})]}),e?a.jsxs("div",{children:[a.jsx("div",{className:"mb-3 flex justify-center",children:a.jsx("img",{src:tp(e.svgString),alt:"SVG Preview",className:"max-w-full max-h-24 border border-gray-600 rounded"})}),a.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Size: ",e.width," × ",e.height]}),e.layers.length>0?a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs font-medium text-gray-300 mb-1",children:"Detected Layers:"}),a.jsx("ul",{className:"text-xs text-gray-400 space-y-1",children:e.layers.map((T,M)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`
                      px-1.5 py-0.5 rounded text-xs
                      ${T.type==="indicator"?"bg-blue-900 text-blue-300":""}
                      ${T.type==="thumb"?"bg-green-900 text-green-300":""}
                      ${T.type==="track"?"bg-gray-600 text-gray-300":""}
                      ${T.type==="fill"?"bg-purple-900 text-purple-300":""}
                      ${T.type==="glow"?"bg-yellow-900 text-yellow-300":""}
                    `,children:T.type}),a.jsx("span",{children:T.name})]},M))})]}):a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"No named layers detected. SVG will be added as static image."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,className:"flex-1 px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:"Add as Image"}),a.jsx("button",{onClick:y,className:"flex-1 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:"Design Mode"})]}),a.jsx("button",{onClick:w,className:"w-full px-3 py-1.5 text-gray-400 hover:text-gray-300 text-sm transition-colors",children:"Cancel"})]})]}):a.jsxs("div",{...m(),className:`
            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer
            ${S?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}
          `,children:[a.jsx("input",{...b()}),S?a.jsx("p",{className:"text-sm text-blue-400",children:"Drop SVG file here..."}):a.jsx("p",{className:"text-sm text-gray-400",children:"Drag SVG file here or click to browse"})]}),r&&a.jsx("p",{className:"text-red-400 text-xs mt-2",children:r}),s&&e&&a.jsx(KP,{svgContent:e.svgString,onComplete:_,onCancel:P})]}):a.jsx("button",{onClick:()=>o(!0),className:"w-full mt-4 px-4 py-2 border border-dashed border-gray-600 rounded text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors",children:"+ Import Custom SVG"})}const vy=[{name:"Rotary Controls",items:[{id:"knob-standard",type:"knob",name:"Knob"},{id:"steppedknob",type:"steppedknob",name:"Stepped Knob"},{id:"centerdetentknob",type:"centerdetentknob",name:"Center Detent"},{id:"dotindicatorknob",type:"dotindicatorknob",name:"Dot Indicator"}]},{name:"Linear Controls",items:[{id:"slider",type:"slider",name:"Slider",variant:{orientation:"vertical"}},{id:"rangeslider",type:"rangeslider",name:"Range Slider"},{id:"multislider",type:"multislider",name:"Multi-Slider"},{id:"bipolarslider",type:"bipolarslider",name:"Bipolar Slider"},{id:"crossfadeslider",type:"crossfadeslider",name:"Crossfade"},{id:"notchedslider",type:"notchedslider",name:"Notched Slider"},{id:"asciislider",type:"asciislider",name:"ASCII Slider"}]},{name:"Buttons",items:[{id:"button",type:"button",name:"Button",variant:{mode:"momentary"}},{id:"iconbutton",type:"iconbutton",name:"Icon Button"},{id:"toggleswitch",type:"toggleswitch",name:"Toggle Switch"},{id:"powerbutton",type:"powerbutton",name:"Power Button"},{id:"rockerswitch",type:"rockerswitch",name:"Rocker Switch"},{id:"rotaryswitch",type:"rotaryswitch",name:"Rotary Switch"},{id:"segmentbutton",type:"segmentbutton",name:"Segment Button"},{id:"asciibutton",type:"asciibutton",name:"ASCII Button"}]},{name:"Value Displays",items:[{id:"label",type:"label",name:"Label"},{id:"numericdisplay",type:"numericdisplay",name:"Numeric Display"},{id:"timedisplay",type:"timedisplay",name:"Time Display"},{id:"percentagedisplay",type:"percentagedisplay",name:"Percentage Display"},{id:"ratiodisplay",type:"ratiodisplay",name:"Ratio Display"},{id:"notedisplay",type:"notedisplay",name:"Note Display"},{id:"bpmdisplay",type:"bpmdisplay",name:"BPM Display"},{id:"editabledisplay",type:"editabledisplay",name:"Editable Display"},{id:"multivaluedisplay",type:"multivaluedisplay",name:"Multi-Value Display"}]},{name:"Meters",items:[{id:"meter-vertical",type:"meter",name:"Meter",variant:{orientation:"vertical"}},{id:"rmsmetermo",type:"rmsmetermo",name:"RMS Meter"},{id:"rmsmeterstereo",type:"rmsmeterstereo",name:"RMS Meter (Stereo)"},{id:"vumetermono",type:"vumetermono",name:"VU Meter"},{id:"vumeterstereo",type:"vumeterstereo",name:"VU Meter (Stereo)"},{id:"ppmtype1mono",type:"ppmtype1mono",name:"PPM Type I"},{id:"ppmtype1stereo",type:"ppmtype1stereo",name:"PPM Type I (Stereo)"},{id:"ppmtype2mono",type:"ppmtype2mono",name:"PPM Type II"},{id:"ppmtype2stereo",type:"ppmtype2stereo",name:"PPM Type II (Stereo)"},{id:"truepeakmetermono",type:"truepeakmetermono",name:"True Peak"},{id:"truepeakmeterstereo",type:"truepeakmeterstereo",name:"True Peak (Stereo)"},{id:"lufsmomomo",type:"lufsmomomo",name:"LUFS Momentary"},{id:"lufsmomostereo",type:"lufsmomostereo",name:"LUFS Momentary (Stereo)"},{id:"lufsshortmono",type:"lufsshortmono",name:"LUFS Short-term"},{id:"lufsshortstereo",type:"lufsshortstereo",name:"LUFS Short-term (Stereo)"},{id:"lufsintmono",type:"lufsintmono",name:"LUFS Integrated"},{id:"lufsintstereo",type:"lufsintstereo",name:"LUFS Integrated (Stereo)"},{id:"k12metermono",type:"k12metermono",name:"K-12 Meter"},{id:"k12meterstereo",type:"k12meterstereo",name:"K-12 Meter (Stereo)"},{id:"k14metermono",type:"k14metermono",name:"K-14 Meter"},{id:"k14meterstereo",type:"k14meterstereo",name:"K-14 Meter (Stereo)"},{id:"k20metermono",type:"k20metermono",name:"K-20 Meter"},{id:"k20meterstereo",type:"k20meterstereo",name:"K-20 Meter (Stereo)"},{id:"correlationmeter",type:"correlationmeter",name:"Correlation Meter"},{id:"stereowidthmeter",type:"stereowidthmeter",name:"Stereo Width Meter"}]},{name:"Audio Displays",items:[{id:"dbdisplay",type:"dbdisplay",name:"dB Display"},{id:"frequencydisplay",type:"frequencydisplay",name:"Frequency Display"},{id:"gainreductionmeter",type:"gainreductionmeter",name:"GR Meter"},{id:"waveform",type:"waveform",name:"Waveform"},{id:"oscilloscope",type:"oscilloscope",name:"Oscilloscope"}]},{name:"Form Controls",items:[{id:"dropdown",type:"dropdown",name:"Dropdown"},{id:"checkbox",type:"checkbox",name:"Checkbox"},{id:"radiogroup",type:"radiogroup",name:"Radio Group"},{id:"textfield",type:"textfield",name:"Text Field"}]},{name:"Navigation & Selection",items:[{id:"stepper",type:"stepper",name:"Stepper"},{id:"breadcrumb",type:"breadcrumb",name:"Breadcrumb"},{id:"multiselectdropdown",type:"multiselectdropdown",name:"Multi-Select Dropdown"},{id:"combobox",type:"combobox",name:"Combo Box"},{id:"menubutton",type:"menubutton",name:"Menu Button"},{id:"tabbar",type:"tabbar",name:"Tab Bar"},{id:"tagselector",type:"tagselector",name:"Tag Selector"},{id:"treeview",type:"treeview",name:"Tree View"}]},{name:"Images & Decorative",items:[{id:"image",type:"image",name:"Image"},{id:"svggraphic",type:"svggraphic",name:"SVG Graphic"},{id:"rectangle",type:"rectangle",name:"Rectangle"},{id:"line",type:"line",name:"Line"},{id:"asciiart",type:"asciiart",name:"ASCII Art"}]},{name:"Containers",items:[{id:"panel",type:"panel",name:"Panel"},{id:"frame",type:"frame",name:"Frame"},{id:"groupbox",type:"groupbox",name:"Group Box"},{id:"collapsible",type:"collapsible",name:"Collapsible"},{id:"tooltip",type:"tooltip",name:"Tooltip"},{id:"horizontalspacer",type:"horizontalspacer",name:"Horizontal Spacer"},{id:"verticalspacer",type:"verticalspacer",name:"Vertical Spacer"},{id:"windowchrome",type:"windowchrome",name:"Window Chrome"}]},{name:"Complex Widgets",items:[{id:"modulationmatrix",type:"modulationmatrix",name:"Mod Matrix"},{id:"presetbrowser",type:"presetbrowser",name:"Preset Browser"}]},{name:"Specialized Audio",items:[{id:"pianokeyboard",type:"pianokeyboard",name:"Piano Keyboard"},{id:"drumpad",type:"drumpad",name:"Drum Pad"},{id:"padgrid",type:"padgrid",name:"Pad Grid"},{id:"stepsequencer",type:"stepsequencer",name:"Step Sequencer"},{id:"xypad",type:"xypad",name:"XY Pad"},{id:"wavetabledisplay",type:"wavetabledisplay",name:"Wavetable"},{id:"harmoniceditor",type:"harmoniceditor",name:"Harmonic Editor"},{id:"looppoints",type:"looppoints",name:"Loop Points"},{id:"envelopeeditor",type:"envelopeeditor",name:"Envelope Editor"},{id:"sampledisplay",type:"sampledisplay",name:"Sample Display"},{id:"patchbay",type:"patchbay",name:"Patch Bay"},{id:"signalflow",type:"signalflow",name:"Signal Flow"}]}];function IC(){const{isPro:e}=hh(),[t,r]=X.useState(new Set([0,1,2])),[n,i]=X.useState(""),[o,s]=X.useState(""),d=X.useRef(null),[c,u]=X.useState(()=>{const w=localStorage.getItem("palette-hide-pro");return w===null?!0:w==="true"}),h=!e||c;X.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const p=w=>{s(w),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{i(w.toLowerCase().trim())},200)},l=()=>{s(""),i(""),d.current&&clearTimeout(d.current)},f=()=>{u(w=>{const y=!w;return localStorage.setItem("palette-hide-pro",String(y)),y})},m=X.useMemo(()=>{let w=vy;return w=w.map(y=>({...y,items:[...y.items].sort((_,P)=>{const T=qc(_.type),M=qc(P.type);return T===M?0:T?1:-1})})),n&&(w=w.map(y=>({...y,items:y.items.filter(_=>_.name.toLowerCase().includes(n)||_.type.toLowerCase().includes(n))})).filter(y=>y.items.length>0)),h&&(w=w.map(y=>({...y,items:y.items.filter(_=>!qc(_.type))})).filter(y=>y.items.length>0)),w},[n,h]),b=(w,y)=>n?m.some(_=>_.name===y):t.has(w),S=w=>{n||r(y=>{const _=new Set(y);return _.has(w)?_.delete(w):_.add(w),_})},x=w=>vy.findIndex(y=>y.name===w);return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"p-2 border-b border-gray-700",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:w=>p(w.target.value),placeholder:"Search elements...",className:"w-full px-3 py-1.5 pl-8 pr-8 bg-gray-700 border border-gray-600 rounded text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),a.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o&&a.jsx("button",{onClick:l,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n&&a.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[m.reduce((w,y)=>w+y.items.length,0)," element",m.reduce((w,y)=>w+y.items.length,0)!==1?"s":""," found"]})]}),e&&a.jsxs("div",{className:"px-2 py-1.5 border-b border-gray-700 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Hide Pro elements"}),a.jsx("button",{onClick:f,className:`
              relative w-8 h-4 rounded-full transition-colors
              ${c?"bg-violet-500":"bg-gray-600"}
            `,children:a.jsx("div",{className:`
                absolute top-0.5 w-3 h-3 rounded-full bg-white transition-transform
                ${c?"left-4":"left-0.5"}
              `})})]}),m.map(w=>{const y=x(w.name);return a.jsx(P5,{category:w,isExpanded:b(y,w.name),onToggle:()=>S(y)},w.name)}),n&&m.length===0&&a.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['No elements found for "',o,'"']}),!n&&a.jsx(JP,{})]})}const QP=1024*1024,by=5e3,e$=["script","foreignObject","animate","animateTransform","animateMotion","set"];function t$(e){const t=[];return e$.forEach(r=>{const n=e.getElementsByTagName(r);n.length>0&&t.push({tag:r,count:n.length})}),t}function r$(e){return e.size>QP?{valid:!1,error:`File too large (${(e.size/1024/1024).toFixed(2)}MB). Maximum is 1MB.`}:{valid:!0}}function C0(e){if(e.toUpperCase().includes("<!DOCTYPE"))return{valid:!1,error:"DOCTYPE not allowed. Remove <!DOCTYPE> declaration and try again."};const r=new DOMParser().parseFromString(e,"image/svg+xml");if(r.querySelector("parsererror"))return{valid:!1,error:"Invalid SVG format. File could not be parsed."};const o=r.querySelectorAll("*").length;if(o>by)return{valid:!1,error:`Too many elements (${o}). Maximum is ${by}.`};const s=t$(r);return s.length>0?{valid:!1,error:`Rejected: SVG contains dangerous elements that cannot be sanitized: ${s.map(({tag:c,count:u})=>`<${c}> (${u})`).join(", ")}`}:{valid:!0,metadata:{size:e.length,elementCount:o}}}function n$(e){const r=new DOMParser().parseFromString(e,"image/svg+xml");if(r.querySelector("parsererror"))return{elementCount:0,hasScripts:!1,hasExternalRefs:!1,viewBox:null,width:null,height:null};const i=r.documentElement;return{elementCount:r.getElementsByTagName("*").length,hasScripts:r.querySelectorAll("script").length>0,hasExternalRefs:!!i.innerHTML.match(/url\s*\(\s*['"]?https?:/i),viewBox:i.getAttribute("viewBox"),width:i.getAttribute("width"),height:i.getAttribute("height")}}const Ud=["logo","icon","decoration","background"];function a$({isOpen:e,onClose:t}){const[r,n]=X.useState(null),[,i]=X.useState(""),[o,s]=X.useState(""),[d,c]=X.useState(null),[u,h]=X.useState(""),[p,l]=X.useState([]),[f,m]=X.useState(null),[b,S]=X.useState(!1),[x,w]=X.useState(null),y=fe(z=>z.addAsset);X.useEffect(()=>()=>{d&&URL.revokeObjectURL(d)},[d]);const _=X.useCallback(async z=>{const G=z[0];if(!G)return;const ne=r$(G);if(!ne.valid){$t.error(ne.error||"File validation failed");return}try{const A=await G.text(),k=C0(A);if(m(k),!k.valid){$t.error(k.error||"Invalid SVG content");return}const j=Dr(A);try{const R=Bp(j);w(R)}catch{w(null)}const $=new Blob([j],{type:"image/svg+xml"}),F=URL.createObjectURL($);n(G),i(A),s(j),c(F),$t.success("SVG loaded successfully")}catch(A){$t.error("Failed to read file"),console.error("File read error:",A)}},[]),{getRootProps:P,getInputProps:T,isDragActive:M}=du({accept:{"image/svg+xml":[".svg"]},multiple:!1,maxFiles:1,onDrop:_}),N=X.useCallback(z=>{l(G=>G.includes(z)?G.filter(ne=>ne!==z):[...G,z])},[]),O=X.useCallback(async()=>{if(!(!r||!o||!u.trim()||!(f!=null&&f.valid))){S(!0);try{const z=n$(o);y({name:u.trim(),svgContent:o,categories:p,fileSize:r.size,elementCount:z.elementCount}),$t.success(`Asset "${u}" imported successfully`),B(),t()}catch(z){$t.error("Failed to import asset"),console.error("Import error:",z)}finally{S(!1)}}},[r,o,u,f,p,y,t]),B=X.useCallback(()=>{d&&URL.revokeObjectURL(d),n(null),i(""),s(""),c(null),h(""),l([]),m(null),w(null)},[d]),Z=X.useCallback(()=>{B(),t()},[B,t]);if(!e)return null;const D=f==null?void 0:f.metadata,U=!r||!o||!u.trim()||!(f!=null&&f.valid)||b;return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Import SVG Asset"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add an SVG file to your asset library"})]}),a.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-white text-xl",children:"x"})]}),a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[a.jsxs("div",{...P(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${M?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:[a.jsx("input",{...T()}),a.jsx("p",{className:"text-gray-300",children:M?"Drop SVG file here...":"Drag & drop an SVG file here"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or click to select file"})]}),r&&(f==null?void 0:f.valid)&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[a.jsx("h3",{className:"font-medium text-white mb-3",children:"Preview"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-700 rounded flex items-center justify-center",children:o&&a.jsx(zi,{content:o,className:"max-w-full max-h-full",style:{width:"96px",height:"96px"}})}),a.jsxs("div",{className:"flex-1 text-sm text-gray-300 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"File:"})," ",r.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Size:"})," ",(r.size/1024).toFixed(2)," KB"]}),D&&a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Elements:"})," ",D.elementCount]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[a.jsx("h3",{className:"font-medium text-white mb-2",children:"Validation"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx("span",{children:"✓"}),a.jsx("span",{children:"File size within limits"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx("span",{children:"✓"}),a.jsx("span",{children:"Element count within limits"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx("span",{children:"✓"}),a.jsx("span",{children:"No dangerous elements found"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx("span",{children:"✓"}),a.jsx("span",{children:"SVG format valid"})]})]})]}),x&&a.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[a.jsx("h3",{className:"font-medium text-white mb-2",children:"Detected Layers"}),(()=>{const z=x.indicator.length>0||x.track.length>0||x.arc.length>0;return x.indicator.length+x.track.length+x.arc.length+x.glow.length+x.shadow.length+x.unmapped.length===0?a.jsx("p",{className:"text-sm text-gray-400",children:"No named layers detected. This SVG can be used as a static graphic."}):a.jsxs("div",{className:"space-y-2 text-sm",children:[x.indicator.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 w-20",children:"Indicator:"}),a.jsx("span",{className:"text-gray-300",children:x.indicator.join(", ")})]}),x.track.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 w-20",children:"Track:"}),a.jsx("span",{className:"text-gray-300",children:x.track.join(", ")})]}),x.arc.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 w-20",children:"Arc:"}),a.jsx("span",{className:"text-gray-300",children:x.arc.join(", ")})]}),x.glow.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 w-20",children:"Glow:"}),a.jsx("span",{className:"text-gray-300",children:x.glow.join(", ")})]}),x.shadow.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 w-20",children:"Shadow:"}),a.jsx("span",{className:"text-gray-300",children:x.shadow.join(", ")})]}),x.unmapped.length>0&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-gray-500 w-20",children:"Other:"}),a.jsxs("span",{className:"text-gray-400 text-xs",children:[x.unmapped.slice(0,5).join(", "),x.unmapped.length>5?` +${x.unmapped.length-5} more`:""]})]}),z&&a.jsxs("div",{className:"mt-3 p-2 bg-blue-900/30 border border-blue-700/50 rounded text-blue-300 text-xs",children:[a.jsx("strong",{children:"Tip:"})," This SVG has knob-compatible layers. To use it as an interactive knob with rotation, import it via ",a.jsx("span",{className:"font-mono",children:"Manage Knob Styles"})," in the Knob properties panel instead."]})]})})()]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Asset Name ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:u,onChange:z=>h(z.target.value),placeholder:"Enter a name for this asset",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Categories"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Ud.map(z=>a.jsxs("label",{className:"flex items-center gap-2 px-3 py-1 bg-gray-800 rounded cursor-pointer hover:bg-gray-700 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:p.includes(z),onChange:()=>N(z),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300 capitalize",children:z})]},z))})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-3",children:[a.jsx("button",{onClick:Z,className:"px-4 py-2 text-gray-300 hover:text-white text-sm",children:"Cancel"}),a.jsx("button",{onClick:O,disabled:U,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Importing...":"Import Asset"})]})]})})}function i$({onSearch:e}){const[t,r]=X.useState(""),n=X.useRef(null);X.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]);const i=s=>{r(s),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{e(s)},300)},o=()=>{r(""),e(""),n.current&&clearTimeout(n.current)};return a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:t,onChange:s=>i(s.target.value),placeholder:"Search assets...",className:"w-full px-3 py-2 pl-9 pr-9 bg-gray-700 border border-gray-600 rounded text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t&&a.jsx("button",{onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function yy({name:e,isExpanded:t,onToggle:r,children:n}){return a.jsxs("div",{className:"border-b border-gray-700",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-3 bg-gray-800 hover:bg-gray-750 transition-colors text-left",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:e}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:`text-gray-400 transition-transform ${t?"rotate-90":""}`,children:a.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t&&a.jsx("div",{className:"grid grid-cols-2 gap-2 p-2 bg-gray-850",children:n})]})}function o$({value:e,onSave:t}){const[r,n]=X.useState(!1),[i,o]=X.useState(e),s=X.useRef(null);X.useEffect(()=>{o(e)},[e]),X.useEffect(()=>{r&&s.current&&(s.current.focus(),s.current.select())},[r]);const d=()=>{const h=i.trim();h===""?o(e):h!==e&&t(h),n(!1)},c=()=>{o(e),n(!1)},u=h=>{h.key==="Enter"?(h.preventDefault(),d()):h.key==="Escape"&&(h.preventDefault(),c())};return r?a.jsx("input",{ref:s,type:"text",value:i,onChange:h=>o(h.target.value),onKeyDown:u,onBlur:d,className:"text-xs text-white bg-gray-700 rounded px-1 py-0.5 w-full text-center border border-blue-500 focus:outline-none"}):a.jsx("span",{onClick:()=>n(!0),className:"text-xs text-gray-300 text-center line-clamp-2 w-full cursor-pointer hover:underline",title:"Click to rename",children:e})}function xy({asset:e,isSelected:t=!1,onClick:r,onRename:n,onDeleteClick:i}){const{attributes:o,listeners:s,setNodeRef:d,transform:c,isDragging:u}=ch({id:`asset-${e.id}`,data:{type:"library-asset",assetId:e.id}}),h=c?{transform:`translate3d(${c.x}px, ${c.y}px, 0)`}:void 0,p=l=>{l.preventDefault(),l.stopPropagation(),i&&i()};return a.jsxs("div",{ref:d,...s,...o,style:h,onClick:r,onContextMenu:p,className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-gray-750 transition-colors cursor-pointer ${t?"ring-2 ring-blue-500 bg-gray-750":""} ${u?"opacity-50":""}`,children:[a.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded flex items-center justify-center overflow-hidden",children:a.jsx(zi,{content:e.svgContent,className:"max-w-full max-h-full",style:{objectFit:"contain"}})}),a.jsx("div",{className:"w-full",onClick:l=>l.stopPropagation(),children:a.jsx(o$,{value:e.name,onSave:l=>n==null?void 0:n(l)})})]})}function s$(e){const t=fe(n=>n.elements),r=X.useMemo(()=>e?t.filter(n=>n.type==="image"&&n.assetId===e):[],[t,e]);return{usageCount:r.length,elementNames:r.map(n=>n.name||n.id)}}function l$({asset:e,isOpen:t,onClose:r,onConfirm:n}){const{usageCount:i,elementNames:o}=s$(e==null?void 0:e.id);return!t||!e?null:a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:r}),a.jsxs("div",{className:"relative bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 border border-gray-700",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-700",children:a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Delete Asset?"})}),a.jsx("div",{className:"px-6 py-4",children:i===0?a.jsxs("p",{className:"text-gray-300 text-sm",children:["Are you sure you want to delete ",a.jsx("span",{className:"font-semibold text-white",children:e.name}),"?"]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-yellow-400 text-sm font-medium",children:["This asset is used by ",i," element",i>1?"s":"",":"]}),a.jsx("ul",{className:"list-disc list-inside text-gray-300 text-sm space-y-1 ml-2",children:o.map((s,d)=>a.jsx("li",{children:s},d))}),a.jsx("p",{className:"text-gray-300 text-sm",children:"These elements will lose their SVG content. Delete anyway?"})]})}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-700 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded hover:bg-gray-700",children:"Cancel"}),a.jsx("button",{onClick:()=>{n(),r()},className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-500 transition-colors",children:"Delete"})]})]})]})}const TC="1.0.0",NC="Effect Starter",EC="Basic template for audio effect plugins with input/output controls",zC="effect",DC={canvasWidth:400,canvasHeight:300,backgroundColor:"#1a1a2e",created:"2025-01-01",author:"Faceplate"},OC=[{id:"input-gain-knob",type:"knob",name:"Input",x:40,y:100,width:60,height:60,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#3b82f6",indicatorColor:"#ffffff",trackWidth:4,showLabel:!0,labelText:"Input",labelPosition:"bottom",labelDistance:8,labelFontSize:11,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"db",valueSuffix:"",valueDecimalPlaces:1,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"mix-knob",type:"knob",name:"Mix",x:170,y:100,width:60,height:60,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#10b981",indicatorColor:"#ffffff",trackWidth:4,showLabel:!0,labelText:"Mix",labelPosition:"bottom",labelDistance:8,labelFontSize:11,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"percentage",valueSuffix:"",valueDecimalPlaces:0,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"output-gain-knob",type:"knob",name:"Output",x:300,y:100,width:60,height:60,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:60,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#3b82f6",indicatorColor:"#ffffff",trackWidth:4,showLabel:!0,labelText:"Output",labelPosition:"bottom",labelDistance:8,labelFontSize:11,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"db",valueSuffix:"",valueDecimalPlaces:1,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"bypass-button",type:"button",name:"Bypass",x:170,y:220,width:60,height:28,rotation:0,zIndex:1,locked:!1,visible:!0,mode:"toggle",label:"Bypass",pressed:!1,fontSize:11,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500",backgroundColor:"#374151",textColor:"#d1d5db",borderColor:"#4b5563",borderRadius:4,borderWidth:1}],FC={version:TC,name:NC,description:EC,category:zC,metadata:DC,elements:OC},c$=Object.freeze(Object.defineProperty({__proto__:null,category:zC,default:FC,description:EC,elements:OC,metadata:DC,name:NC,version:TC},Symbol.toStringTag,{value:"Module"})),MC="1.0.0",LC="Instrument Starter",AC="Basic template for virtual instrument plugins with oscillator and filter controls",RC="instrument",BC={canvasWidth:600,canvasHeight:400,backgroundColor:"#1a1a2e",created:"2025-01-01",author:"Faceplate"},UC=[{id:"osc-label",type:"label",name:"Oscillator Label",x:30,y:20,width:100,height:20,rotation:0,zIndex:1,locked:!1,visible:!0,text:"OSCILLATOR",fontSize:11,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600",textColor:"#6b7280",textAlign:"left",verticalAlign:"middle",backgroundColor:"transparent",borderRadius:0,padding:0},{id:"osc-pitch-knob",type:"knob",name:"Pitch",x:30,y:50,width:50,height:50,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:50,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#8b5cf6",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"Pitch",labelPosition:"bottom",labelDistance:6,labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"osc-fine-knob",type:"knob",name:"Fine",x:100,y:50,width:50,height:50,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:50,value:.5,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#8b5cf6",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"Fine",labelPosition:"bottom",labelDistance:6,labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"filter-label",type:"label",name:"Filter Label",x:220,y:20,width:80,height:20,rotation:0,zIndex:1,locked:!1,visible:!0,text:"FILTER",fontSize:11,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600",textColor:"#6b7280",textAlign:"left",verticalAlign:"middle",backgroundColor:"transparent",borderRadius:0,padding:0},{id:"filter-cutoff-knob",type:"knob",name:"Cutoff",x:220,y:50,width:50,height:50,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:50,value:.7,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#f59e0b",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"Cutoff",labelPosition:"bottom",labelDistance:6,labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"hz",valueSuffix:"",valueDecimalPlaces:0,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"filter-res-knob",type:"knob",name:"Resonance",x:290,y:50,width:50,height:50,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:50,value:.3,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#f59e0b",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"Res",labelPosition:"bottom",labelDistance:6,labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"percentage",valueSuffix:"",valueDecimalPlaces:0,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"amp-label",type:"label",name:"Amp Label",x:420,y:20,width:80,height:20,rotation:0,zIndex:1,locked:!1,visible:!0,text:"AMP",fontSize:11,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600",textColor:"#6b7280",textAlign:"left",verticalAlign:"middle",backgroundColor:"transparent",borderRadius:0,padding:0},{id:"amp-attack-knob",type:"knob",name:"Attack",x:420,y:50,width:40,height:40,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:40,value:.1,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#10b981",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"A",labelPosition:"bottom",labelDistance:4,labelFontSize:9,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"amp-decay-knob",type:"knob",name:"Decay",x:470,y:50,width:40,height:40,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:40,value:.3,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#10b981",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"D",labelPosition:"bottom",labelDistance:4,labelFontSize:9,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"amp-sustain-knob",type:"knob",name:"Sustain",x:520,y:50,width:40,height:40,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:40,value:.7,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#10b981",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"S",labelPosition:"bottom",labelDistance:4,labelFontSize:9,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"amp-release-knob",type:"knob",name:"Release",x:570,y:50,width:40,height:40,rotation:0,zIndex:1,locked:!1,visible:!0,diameter:40,value:.4,min:0,max:1,startAngle:-135,endAngle:135,style:"arc",trackColor:"#374151",fillColor:"#10b981",indicatorColor:"#ffffff",trackWidth:3,showLabel:!0,labelText:"R",labelPosition:"bottom",labelDistance:4,labelFontSize:9,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"numeric",valueSuffix:"",valueDecimalPlaces:2,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"},{id:"master-volume",type:"slider",name:"Master Volume",x:550,y:180,width:30,height:150,rotation:0,zIndex:1,locked:!1,visible:!0,orientation:"vertical",value:.75,min:0,max:1,trackColor:"#374151",trackFillColor:"#3b82f6",trackWidth:6,thumbColor:"#d1d5db",thumbWidth:24,thumbHeight:12,showLabel:!0,labelText:"Master",labelPosition:"bottom",labelDistance:8,labelFontSize:10,labelFontFamily:"Inter, system-ui, sans-serif",labelFontWeight:"500",labelColor:"#9ca3af",showValue:!1,valuePosition:"top",valueDistance:4,valueFormat:"db",valueSuffix:"",valueDecimalPlaces:1,valueFontSize:10,valueFontFamily:"Inter, system-ui, sans-serif",valueFontWeight:"400",valueColor:"#9ca3af"}],VC={version:MC,name:LC,description:AC,category:RC,metadata:BC,elements:UC},u$=Object.freeze(Object.defineProperty({__proto__:null,category:RC,default:VC,description:AC,elements:UC,metadata:BC,name:LC,version:MC},Symbol.toStringTag,{value:"Module"})),WC="1.0.0",HC="Test Template",GC="Template for testing purposes",ZC="test",qC={canvasWidth:400,canvasHeight:300,backgroundColor:"#1a1a2e",created:"2025-01-01",author:"Faceplate"},XC=[],YC={version:WC,name:HC,description:GC,category:ZC,metadata:qC,elements:XC},d$=Object.freeze(Object.defineProperty({__proto__:null,category:ZC,default:YC,description:GC,elements:XC,metadata:qC,name:HC,version:WC},Symbol.toStringTag,{value:"Module"}));O6((e,t)=>({templates:[FC,VC,YC],selectedTemplate:null,selectTemplate:r=>e({selectedTemplate:r}),getTemplatesByCategory:r=>t().templates.filter(n=>n.category===r)}));function h$({isOpen:e,onClose:t,existingStyle:r}){const n=fe(ne=>ne.addKnobStyle),i=fe(ne=>ne.updateKnobStyle),[o,s]=X.useState("upload"),[d,c]=X.useState(""),[u,h]=X.useState(""),[p,l]=X.useState(null),[f,m]=X.useState({}),[b,S]=X.useState(-135),[x,w]=X.useState(135),[y,_]=X.useState(null),P=X.useRef(null);X.useEffect(()=>{if(!e)s("upload"),c(""),h(""),l(null),m({}),S(-135),w(135),_(null);else if(r){c(r.svgContent),h(r.name),S(r.minAngle),w(r.maxAngle);const ne=Bp(r.svgContent);l(ne);const A={},k=[...ne.indicator,...ne.track,...ne.arc,...ne.glow,...ne.shadow,...ne.unmapped];k.forEach(j=>{A[j]="exclude"}),r.layers&&Object.entries(r.layers).forEach(([j,$])=>{$&&k.includes($)&&(A[$]=j)}),m(A),s("mapping")}},[e,r]),X.useEffect(()=>{if(!P.current||!y)return;const ne=P.current.querySelector("svg");if(!ne)return;let A=ne.querySelector(`#${CSS.escape(y)}`);if(A||(A=ne.querySelector(`.${CSS.escape(y)}`)),!A)return;const k=A,j=k.style.stroke,$=k.style.strokeWidth,F=k.style.filter;k.style.stroke="#00ff00",k.style.strokeWidth="3",k.style.filter="drop-shadow(0 0 6px #00ff00)";const R=Array.from(ne.querySelectorAll("[id], [class]"));return R.forEach(W=>{W!==A&&(W.style.opacity="0.3")}),()=>{k.style.stroke=j,k.style.strokeWidth=$,k.style.filter=F,R.forEach(W=>{W.style.opacity="1"})}},[y]);const T=X.useCallback(async ne=>{const A=ne[0];if(A)try{const k=await A.text(),j=C0(k);if(!j.valid){$t.error(`Invalid SVG: ${j.error}`);return}const $=Dr(k),F=Bp($);v6(F);const R={},W=[...F.indicator,...F.track,...F.arc,...F.glow,...F.shadow,...F.unmapped];W.forEach(te=>{F.indicator.includes(te)?R[te]="indicator":F.track.includes(te)?R[te]="track":F.arc.includes(te)?R[te]="arc":F.glow.includes(te)?R[te]="glow":F.shadow.includes(te)?R[te]="shadow":R[te]="exclude"}),c($),l(F),m(R),h(A.name.replace(/\.svg$/i,""));const Y=W.length-F.unmapped.length;Y>0?$t.success(`Auto-detected ${Y} layer${Y!==1?"s":""} from naming conventions`,{duration:3e3}):W.length>0&&$t(`Found ${W.length} layer${W.length!==1?"s":""} - please map them manually`,{icon:"📋",duration:3e3}),s("mapping")}catch{$t.error("Failed to read SVG file")}},[]),{getRootProps:M,getInputProps:N,isDragActive:O}=du({onDrop:T,accept:{"image/svg+xml":[".svg"]},multiple:!1}),B=(ne,A)=>{m(k=>({...k,[ne]:A}))},Z=()=>{const ne={};return Object.entries(f).forEach(([A,k])=>{k!=="exclude"&&!ne[k]&&(ne[k]=A)}),ne},D=Object.values(f).includes("indicator"),z=p?(()=>{const ne=Object.values(f),A=ne.filter(j=>j!=="exclude").length,k=ne.filter(j=>j==="exclude").length;return{matchedCount:A,unmappedCount:k,hasIndicator:ne.includes("indicator")}})():null,G=()=>{if(!u.trim()){$t.error("Please enter a style name");return}if(!D){$t.error("At least one layer must be mapped as Indicator");return}const ne=Z();r?(i(r.id,{name:u.trim(),svgContent:d,layers:ne,minAngle:b,maxAngle:x}),$t.success(`Knob style "${u}" updated`)):(n({name:u.trim(),svgContent:d,layers:ne,minAngle:b,maxAngle:x}),$t.success(`Knob style "${u}" created`)),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:[o==="upload"&&"Import Knob Design",o==="mapping"&&(r?"Re-map Layers":"Map Layers"),o==="config"&&(r?"Update Style":"Configure Style")]}),o==="upload"&&a.jsxs("div",{...M(),className:`
              border-2 border-dashed rounded-lg p-8 text-center cursor-pointer
              transition-colors
              ${O?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}
            `,children:[a.jsx("input",{...N()}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("p",{className:"mb-2",children:"Drag & drop an SVG file here"}),a.jsx("p",{className:"text-sm",children:"or click to browse"})]})]}),o==="mapping"&&p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview"}),a.jsx("div",{className:"w-32 h-32 mx-auto",ref:P,children:a.jsx(zi,{content:d,style:{width:"100%",height:"100%"}})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Hover a layer to highlight"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Detected Layers"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Object.keys(f).map(ne=>{const A=!p.unmapped.includes(ne),k=f[ne],j=y===ne;return a.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors ${j?"bg-green-900/50":"hover:bg-gray-700/50"}`,onMouseEnter:()=>_(ne),onMouseLeave:()=>_(null),children:[a.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${k==="exclude"?"bg-gray-600":A?"bg-green-500":"bg-blue-500"}`,title:A?"Auto-detected":"Manually mapped"}),a.jsx("span",{className:"text-sm text-gray-300 flex-1 truncate",title:ne,children:ne}),a.jsxs("select",{value:k,onChange:$=>B(ne,$.target.value),className:`bg-gray-700 border text-white rounded px-2 py-1 text-sm ${k==="exclude"?"border-gray-600 text-gray-400":"border-gray-500"}`,children:[a.jsx("option",{value:"indicator",children:"Indicator"}),a.jsx("option",{value:"track",children:"Track"}),a.jsx("option",{value:"arc",children:"Arc"}),a.jsx("option",{value:"glow",children:"Glow"}),a.jsx("option",{value:"shadow",children:"Shadow"}),a.jsx("option",{value:"exclude",children:"Exclude"})]})]},ne)})}),a.jsxs("div",{className:"flex gap-3 mt-2 text-xs text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Auto-detected"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," Manual"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-600"})," Excluded"]})]})]})]}),z&&a.jsxs("div",{className:`p-3 rounded mb-4 ${z.hasIndicator?"bg-green-900/30 border border-green-700":"bg-amber-900/30 border border-amber-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:z.hasIndicator?"text-green-400":"text-amber-400",children:z.hasIndicator?"✓":"⚠"}),a.jsxs("span",{className:"text-sm font-medium text-gray-200",children:[z.matchedCount," layer",z.matchedCount!==1?"s":""," mapped",z.unmappedCount>0&&a.jsxs("span",{className:"text-gray-400",children:[" • ",z.unmappedCount," excluded"]})]})]}),!z.hasIndicator&&a.jsx("p",{className:"text-sm text-amber-400",children:"At least one layer must be mapped as Indicator"})]}),a.jsxs("div",{className:"flex gap-2",children:[!r&&a.jsx("button",{onClick:()=>s("upload"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Back"}),a.jsx("button",{onClick:()=>s("config"),disabled:!D,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white rounded px-4 py-2",children:"Next"})]})]}),o==="config"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Style Name"}),a.jsx("input",{type:"text",value:u,onChange:ne=>h(ne.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2",placeholder:"My Knob Style"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Min Angle (°)"}),a.jsx("input",{type:"number",value:b,onChange:ne=>S(Number(ne.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Angle (°)"}),a.jsx("input",{type:"number",value:x,onChange:ne=>w(Number(ne.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2"})]})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Rotation range: ",x-b,"° (Default: 270° from -135° to +135°)"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>s("mapping"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Back"}),a.jsx("button",{onClick:G,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2",children:r?"Update Style":"Create Style"})]})]}),a.jsx("button",{onClick:t,className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Cancel"})]})}):null}function f$({isOpen:e,onClose:t}){const r=fe(w=>w.knobStyles),n=fe(w=>w.elements),i=fe(w=>w.removeKnobStyle),o=fe(w=>w.updateKnobStyle),[s,d]=X.useState(!1),[c,u]=X.useState(null),[h,p]=X.useState(null),[l,f]=X.useState(""),m=w=>n.filter(y=>y.type==="knob"&&"styleId"in y&&y.styleId===w).length,b=(w,y)=>{const _=m(w);_>0&&!window.confirm(`"${y}" is used by ${_} knob element${_>1?"s":""}. Delete anyway? Knobs will revert to default style.`)||(i(w),$t.success(`Deleted style "${y}"`))},S=(w,y)=>{p(w),f(y)},x=()=>{h&&l.trim()&&(o(h,{name:l.trim()}),$t.success("Style renamed")),p(null),f("")};return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage Knob Styles"}),a.jsxs("button",{onClick:()=>d(!0),className:"w-full mb-4 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 flex items-center justify-center gap-2",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Import New Knob Style"})]}),r.length===0?a.jsx("p",{className:"text-gray-400 text-center py-8",children:"No knob styles yet. Import one to get started."}):a.jsx("div",{className:"space-y-2",children:r.map(w=>{const y=m(w.id),_=h===w.id;return a.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 p-3 rounded",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0 bg-gray-900 rounded",children:a.jsx(zi,{content:w.svgContent,style:{width:"100%",height:"100%"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[_?a.jsx("input",{type:"text",value:l,onChange:P=>f(P.target.value),onKeyDown:P=>{P.key==="Enter"&&x(),P.key==="Escape"&&p(null)},onBlur:x,autoFocus:!0,className:"bg-gray-600 border border-gray-500 text-white rounded px-2 py-1 text-sm w-full"}):a.jsx("div",{className:"font-medium text-white truncate",children:w.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:[w.maxAngle-w.minAngle,"° range",y>0&&` • Used by ${y} knob${y>1?"s":""}`]})]}),!_&&a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsx("button",{onClick:()=>S(w.id,w.name),className:"text-blue-400 hover:text-blue-300 text-sm px-2 py-1",children:"Rename"}),a.jsx("button",{onClick:()=>u(w.id),className:"text-green-400 hover:text-green-300 text-sm px-2 py-1",children:"Re-map"}),a.jsx("button",{onClick:()=>b(w.id,w.name),className:"text-red-400 hover:text-red-300 text-sm px-2 py-1",children:"Delete"})]})]},w.id)})}),a.jsx("button",{onClick:t,className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Close"})]})}),a.jsx(h$,{isOpen:s||c!==null,onClose:()=>{d(!1),u(null)},existingStyle:c?r.find(w=>w.id===c):void 0})]}):null}const wy={rotary:"Rotary",linear:"Linear",arc:"Arc",button:"Button",meter:"Meter"};function p$(e){switch(e){case"rotary":return["indicator","track","arc","glow","shadow"];case"linear":return["thumb","track","fill"];case"arc":return["thumb","track","fill","arc"];case"button":return["normal","pressed","icon","label","on","off","indicator","led","position-0","position-1","position-2","base","selector","highlight"];case"meter":return["body","fill","fill-green","fill-yellow","fill-red","scale","peak"]}}function rp(e){switch(e){case"rotary":return["indicator"];case"linear":return["thumb"];case"arc":return["thumb"];case"button":return["normal"];case"meter":return["body"]}}function KC({isOpen:e,onClose:t,category:r,existingStyle:n}){const i=fe(R=>R.addElementStyle),o=fe(R=>R.updateElementStyle),[s,d]=X.useState("upload"),[c,u]=X.useState(r),[h,p]=X.useState(""),[l,f]=X.useState(""),[m,b]=X.useState({}),[S,x]=X.useState([]),[w,y]=X.useState(null),_=X.useRef(null),[P,T]=X.useState(-135),[M,N]=X.useState(135),[O,B]=X.useState(50);X.useEffect(()=>{if(!e)d("upload"),u(r),p(""),f(""),b({}),x([]),y(null),T(-135),N(135),B(50);else if(n){u(n.category),p(n.svgContent),f(n.name);const R={};Object.entries(n.layers).forEach(([W,Y])=>{Y&&(R[Y]=W)}),b(R),x(Object.keys(R)),(n.category==="rotary"||n.category==="arc")&&(T(n.minAngle),N(n.maxAngle)),n.category==="arc"&&B(n.arcRadius),d("mapping")}},[e,r,n]);const Z=X.useCallback(async R=>{const W=R[0];if(W){if(!c){$t.error("Please select a category first");return}try{const Y=await W.text(),te=C0(Y);if(!te.valid){$t.error(`Invalid SVG: ${te.error}`);return}const ie=Dr(Y),J=b6(ie,c),ee={},Q=[];Object.entries(J).forEach(([ge,ye])=>{ye.forEach(_e=>{Q.includes(_e)||Q.push(_e),ee[_e]||(ee[_e]=ge)})}),p(ie),b(ee),x(Q),f(W.name.replace(/\.svg$/i,""));const he=Object.keys(ee).length;he>0?$t.success(`Auto-detected ${he} layer${he!==1?"s":""}`,{duration:3e3}):Q.length>0&&$t(`Found ${Q.length} layer${Q.length!==1?"s":""} - please map them manually`,{icon:"📋",duration:3e3}),d("mapping")}catch{$t.error("Failed to read SVG file")}}},[c]),{getRootProps:D,getInputProps:U,isDragActive:z}=du({onDrop:Z,accept:{"image/svg+xml":[".svg"]},multiple:!1}),G=c?rp(c).every(R=>Object.values(m).includes(R)):!1,ne=(R,W)=>{const Y={...m};Object.keys(Y).forEach(te=>{Y[te]===R&&delete Y[te]}),W&&(Y[W]=R),b(Y)},A=()=>{const R={};return Object.entries(m).forEach(([W,Y])=>{R[Y]||(R[Y]=W)}),R},k=()=>{if(!c){$t.error("Please select a category");return}if(!l.trim()){$t.error("Please enter a style name");return}if(!G){const Y=rp(c);$t.error(`All required roles must be mapped: ${Y.join(", ")}`);return}const R=A(),W={name:l.trim(),svgContent:h,layers:R};n?(o(n.id,W),$t.success(`Style "${l}" updated`)):(i(c==="rotary"?{...W,category:c,minAngle:P,maxAngle:M}:c==="arc"?{...W,category:c,minAngle:P,maxAngle:M,arcRadius:O}:{...W,category:c}),$t.success(`${wy[c]} style "${l}" created`)),t()};if(X.useEffect(()=>{if(!_.current||!w)return;const R=_.current.querySelector("svg");if(!R)return;let W=R.querySelector(`#${CSS.escape(w)}`);if(W||(W=R.querySelector(`.${CSS.escape(w)}`)),!W)return;const Y=W,te=Y.style.stroke,ie=Y.style.strokeWidth,J=Y.style.filter;Y.style.stroke="#00ff00",Y.style.strokeWidth="3",Y.style.filter="drop-shadow(0 0 4px #00ff00)";const ee=Array.from(R.querySelectorAll("[id], [class]"));return ee.forEach(Q=>{Q!==W&&(Q.style.opacity="0.3")}),()=>{Y.style.stroke=te,Y.style.strokeWidth=ie,Y.style.filter=J,ee.forEach(Q=>{Q.style.opacity="1"})}},[w]),!e)return null;const j=c?p$(c):[],$=c?rp(c):[],F=c?wy[c]:"";return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100]",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:[s==="upload"&&`Import ${F||"Element"} Design`,s==="mapping"&&"Map Layers",s==="config"&&"Configure Style"]}),s==="upload"&&a.jsxs(a.Fragment,{children:[!r&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Element Category"}),a.jsxs("select",{value:c||"",onChange:R=>u(R.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2",children:[a.jsx("option",{value:"",children:"Select category..."}),a.jsx("option",{value:"rotary",children:"Rotary (Knobs)"}),a.jsx("option",{value:"linear",children:"Linear (Sliders)"}),a.jsx("option",{value:"arc",children:"Arc (Arc Sliders)"}),a.jsx("option",{value:"button",children:"Button (Buttons, Switches)"}),a.jsx("option",{value:"meter",children:"Meter (Level Meters)"})]})]}),a.jsxs("div",{...D(),className:`
                border-2 border-dashed rounded-lg p-8 text-center cursor-pointer
                transition-colors
                ${z?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}
                ${c?"":"opacity-50 pointer-events-none"}
              `,children:[a.jsx("input",{...U()}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("p",{className:"mb-2",children:c?"Drag & drop an SVG file here":"Select a category first"}),c&&a.jsx("p",{className:"text-sm",children:"or click to browse"})]})]})]}),s==="mapping"&&c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview"}),a.jsx("div",{className:"w-full aspect-square relative",ref:_,children:a.jsx(zi,{content:h,style:{width:"100%",height:"100%"}})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Hover a role to highlight its layer"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Layer Assignments"}),a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left py-2 text-gray-400 font-normal",children:"Role"}),a.jsx("th",{className:"text-left py-2 text-gray-400 font-normal",children:"Layer"})]})}),a.jsx("tbody",{children:j.map(R=>{var J;const W=$.includes(R),Y=((J=Object.entries(m).find(([ee,Q])=>Q===R))==null?void 0:J[0])||"",te=!!Y,ie=w===Y&&te;return a.jsxs("tr",{className:`border-b border-gray-700 transition-colors ${te?"cursor-pointer hover:bg-green-900/30":"cursor-default opacity-60"} ${ie?"bg-green-900/50":""}`,onMouseEnter:()=>te&&y(Y),onMouseLeave:()=>y(null),children:[a.jsxs("td",{className:"py-2",children:[a.jsx("span",{className:"capitalize",children:R}),W&&a.jsx("span",{className:"text-red-400 ml-1",title:"Required",children:"*"}),te&&a.jsx("span",{className:"text-green-400 ml-1",title:"Hover to highlight",children:"◉"})]}),a.jsx("td",{className:"py-2",children:a.jsxs("select",{value:Y,onChange:ee=>ne(R,ee.target.value),className:"bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm w-full",children:[a.jsx("option",{value:"",children:"(none)"}),S.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})})]},R)})})]})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.jsx("span",{className:"text-red-400",children:"*"})," Required roles must be assigned"]})]})]}),!G&&a.jsx("div",{className:"p-3 rounded mb-4 bg-amber-900/30 border border-amber-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-400",children:"⚠"}),a.jsxs("span",{className:"text-sm text-amber-400",children:["Required roles must be mapped: ",$.join(", ")]})]})}),a.jsxs("div",{className:"flex gap-2",children:[!n&&a.jsx("button",{onClick:()=>d("upload"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Back"}),a.jsx("button",{onClick:()=>{c==="rotary"||c==="arc"?d("config"):k()},disabled:!G,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded px-4 py-2",children:c==="rotary"||c==="arc"?"Next":"Save"})]})]}),s==="config"&&(c==="rotary"||c==="arc")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Style Name"}),a.jsx("input",{type:"text",value:l,onChange:R=>f(R.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2",placeholder:`My ${F} Style`})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Min Angle (°)"}),a.jsx("input",{type:"number",value:P,onChange:R=>T(Number(R.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Angle (°)"}),a.jsx("input",{type:"number",value:M,onChange:R=>N(Number(R.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2"})]})]}),c==="arc"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Arc Radius"}),a.jsx("input",{type:"number",value:O,onChange:R=>B(Number(R.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Rotation range: ",M-P,"° (Default: 270° from -135° to +135°)"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>d("mapping"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Back"}),a.jsx("button",{onClick:k,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2",children:n?"Update Style":"Create Style"})]})]}),a.jsx("button",{onClick:t,className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Cancel"})]})})}const m$={rotary:"Rotary",linear:"Linear",arc:"Arc",button:"Button",meter:"Meter"};function g$({isOpen:e,onClose:t,category:r}){const n=fe(O=>O.elementStyles),i=fe(O=>O.elements),o=fe(O=>O.removeElementStyle),s=fe(O=>O.updateElementStyle),d=fe(O=>O.getStylesByCategory),[c,u]=X.useState(null),[h,p]=X.useState(""),[l,f]=X.useState(!1),[m,b]=X.useState(null),S=d(r),x=m$[r],w=O=>i.filter(B=>"styleId"in B&&B.styleId===O).length,y=(O,B)=>{const Z=w(O);Z>0&&!window.confirm(`"${B}" is used by ${Z} element${Z>1?"s":""}. Delete anyway? Elements will revert to default style.`)||(o(O),$t.success(`Deleted style "${B}"`))},_=(O,B)=>{u(O),p(B)},P=()=>{c&&h.trim()&&(s(c,{name:h.trim()}),$t.success("Style renamed")),u(null),p("")},T=()=>{u(null),p("")},M=()=>{f(!0)},N=O=>{b(O)};return e?a.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[90]",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Manage ",x," Styles"]}),a.jsxs("button",{onClick:M,className:"w-full mb-4 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 flex items-center justify-center gap-2",children:[a.jsx("span",{children:"+"}),a.jsxs("span",{children:["Import New ",x," Style"]})]}),S.length===0?a.jsxs("p",{className:"text-gray-400 text-center py-8",children:["No ",x.toLowerCase()," styles yet. Import one to get started."]}):a.jsx("div",{className:"space-y-2",children:S.map(O=>{const B=w(O.id),Z=c===O.id;return a.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 p-3 rounded",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0 bg-gray-900 rounded",children:a.jsx(zi,{content:O.svgContent,style:{width:"100%",height:"100%"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[Z?a.jsx("input",{type:"text",value:h,onChange:D=>p(D.target.value),onKeyDown:D=>{D.key==="Enter"&&P(),D.key==="Escape"&&T()},onBlur:P,autoFocus:!0,className:"bg-gray-600 border border-gray-500 text-white rounded px-2 py-1 text-sm w-full"}):a.jsx("div",{className:"font-medium text-white truncate",children:O.name}),a.jsx("div",{className:"text-xs text-gray-400",children:B>0?`Used by ${B} element${B>1?"s":""}`:"Not used"})]}),!Z&&a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsx("button",{onClick:()=>_(O.id,O.name),className:"text-blue-400 hover:text-blue-300 text-sm px-2 py-1",children:"Rename"}),a.jsx("button",{onClick:()=>N(O.id),className:"text-green-400 hover:text-green-300 text-sm px-2 py-1",children:"Re-map"}),a.jsx("button",{onClick:()=>y(O.id,O.name),className:"text-red-400 hover:text-red-300 text-sm px-2 py-1",children:"Delete"})]})]},O.id)})}),a.jsx("button",{onClick:t,className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white rounded px-4 py-2",children:"Close"})]}),a.jsx(KC,{isOpen:l||m!==null,onClose:()=>{f(!1),b(null)},category:r,existingStyle:m?n.find(O=>O.id===m):void 0})]}):null}function v$(){const[e,t]=X.useState(""),[r,n]=X.useState(new Set([...Ud])),[i,o]=X.useState(null),[s,d]=X.useState(!1),[c,u]=X.useState(null),[h,p]=X.useState(!1),l=fe(Z=>Z.assets),f=fe(Z=>Z.customCategories),m=fe(Z=>Z.updateAsset),b=fe(Z=>Z.removeAsset),S=X.useMemo(()=>{if(!e.trim())return l;const Z=e.toLowerCase();return l.filter(D=>D.name.toLowerCase().includes(Z))},[l,e]),x=X.useMemo(()=>{const Z={};return[...Ud,...f].forEach(U=>{Z[U]=[]}),S.forEach(U=>{U.categories.forEach(z=>{Z[z]&&Z[z].push(U)})}),Z},[S,f]),w=X.useMemo(()=>S.filter(Z=>Z.categories.length===0),[S]),y=Z=>{n(D=>{const U=new Set(D);return U.has(Z)?U.delete(Z):U.add(Z),U})},_=Z=>{o(Z===i?null:Z)},P=(Z,D)=>{m(Z,{name:D})},T=Z=>{u(Z)},M=()=>{c&&(b(c.id),i===c.id&&o(null))};X.useEffect(()=>{const Z=D=>{if(D.key==="Delete"&&i){const U=l.find(z=>z.id===i);U&&T(U)}};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[i,l]);const N=[...Ud,...f],O=l.length>0,B=S.length>0;return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-3 border-b border-gray-700 space-y-2",children:[a.jsxs("button",{onClick:()=>d(!0),className:"w-full py-2 px-3 bg-blue-600 text-white rounded text-sm hover:bg-blue-500 flex items-center justify-center gap-2 font-medium",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Import SVG"})]}),a.jsxs("button",{onClick:()=>p(!0),className:"w-full py-2 px-3 bg-purple-600 text-white rounded text-sm hover:bg-purple-500 flex items-center justify-center gap-2 font-medium",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),a.jsx("span",{children:"Import Element Style"})]})]}),a.jsx("div",{className:"p-3 border-b border-gray-700",children:a.jsx(i$,{onSearch:t})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:O?B?a.jsxs(a.Fragment,{children:[N.map(Z=>{const D=x[Z]||[];return D.length===0?null:a.jsx(yy,{name:Z.charAt(0).toUpperCase()+Z.slice(1),isExpanded:r.has(Z),onToggle:()=>y(Z),children:D.map(U=>a.jsx(xy,{asset:U,isSelected:i===U.id,onClick:()=>_(U.id),onRename:z=>P(U.id,z),onDeleteClick:()=>T(U)},U.id))},Z)}),w.length>0&&a.jsx(yy,{name:"Uncategorized",isExpanded:r.has("uncategorized"),onToggle:()=>y("uncategorized"),children:w.map(Z=>a.jsx(xy,{asset:Z,isSelected:i===Z.id,onClick:()=>_(Z.id),onRename:D=>P(Z.id,D),onDeleteClick:()=>T(Z)},Z.id))})]}):a.jsx("div",{className:"flex items-center justify-center h-full p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-600 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No assets found."}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Try a different search term."})]})}):a.jsx("div",{className:"flex items-center justify-center h-full p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-600 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No assets yet."}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Click 'Import SVG' to add your first asset."})]})})}),a.jsx(a$,{isOpen:s,onClose:()=>d(!1)}),a.jsx(l$,{asset:c,isOpen:c!==null,onClose:()=>u(null),onConfirm:M}),a.jsx(KC,{isOpen:h,onClose:()=>p(!1),category:null})]})}const JC=["shift","alt","meta","mod","ctrl","control"],b$={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Ja(e){return(b$[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function QC(e){return JC.includes(e)}function np(e,t=","){return e.toLowerCase().split(t)}function ap(e,t="+",r=">",n=!1,i,o){let s=[],d=!1;e=e.trim(),e.includes(r)?(d=!0,s=e.toLocaleLowerCase().split(r).map(h=>Ja(h))):s=e.toLocaleLowerCase().split(t).map(h=>Ja(h));const c={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:n},u=s.filter(h=>!JC.includes(h));return{...c,keys:u,description:i,isSequence:d,hotkey:e,metadata:o}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&e_([Ja(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&t_([Ja(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Sa.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Sa.clear()},0)}));const Sa=new Set;function _0(e){return Array.isArray(e)}function y$(e,t=","){return(_0(e)?e:e.split(t)).every(r=>Sa.has(r.trim().toLowerCase()))}function e_(e){const t=Array.isArray(e)?e:[e];Sa.has("meta")&&Sa.forEach(r=>{QC(r)||Sa.delete(r.toLowerCase())}),t.forEach(r=>{Sa.add(r.toLowerCase())})}function t_(e){const t=Array.isArray(e)?e:[e];e==="meta"?Sa.clear():t.forEach(r=>{Sa.delete(r.toLowerCase())})}function x$(e,t,r){(typeof r=="function"&&r(e,t)||r===!0)&&e.preventDefault()}function w$(e,t,r){return typeof r=="function"?r(e,t):r===!0||r===void 0}const S$=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function k$(e){return r_(e,S$)}function r_(e,t=!1){const{target:r,composed:n}=e;let i,o;return C$(r)&&n?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(i=r&&r.tagName,o=r&&r.role),_0(t)?!!(i&&t&&t.some(s=>s.toLowerCase()===i.toLowerCase()||s===o)):!!(i&&t&&t)}function C$(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function _$(e,t){return e.length===0&&t?!1:t?e.some(r=>t.includes(r))||e.includes("*"):!0}const j$=(e,t,r=!1)=>{const{alt:n,meta:i,mod:o,shift:s,ctrl:d,keys:c,useKey:u}=t,{code:h,key:p,ctrlKey:l,metaKey:f,shiftKey:m,altKey:b}=e,S=Ja(h);if(u){if((c==null?void 0:c.length)===1&&c.includes(p.toLowerCase())){if(!r){if(n!==b||s!==m)return!1;if(o){if(!f&&!l)return!1}else if(i!==f||d!==l)return!1}return!0}return!1}if(!(c!=null&&c.includes(S))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(S))return!1;if(!r){if(n!==b&&S!=="alt"||s!==m&&S!=="shift")return!1;if(o){if(!f&&!l)return!1}else if(i!==f&&S!=="meta"&&S!=="os"||d!==l&&S!=="ctrl"&&S!=="control")return!1}return c&&c.length===1&&c.includes(S)?!0:c&&c.length>0?c.includes(S)?y$(c):!1:!c||c.length===0},P$=X.createContext(void 0),$$=()=>X.useContext(P$);function n_(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((r,n)=>r&&n_(e[n],t[n]),!0):e===t}const I$=X.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),T$=()=>X.useContext(I$);function N$(e){const t=X.useRef(void 0);return n_(t.current,e)||(t.current=e),t.current}const Sy=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},E$=typeof window<"u"?X.useLayoutEffect:X.useEffect;function Wt(e,t,r,n){const i=X.useRef(null),o=X.useRef(!1),s=Array.isArray(r)?Array.isArray(n)?void 0:n:r,d=_0(e)?e.join(s==null?void 0:s.delimiter):e,c=Array.isArray(r)?r:Array.isArray(n)?n:void 0,u=X.useCallback(t,c??[]),h=X.useRef(u);c?h.current=u:h.current=t;const p=N$(s),{activeScopes:l}=T$(),f=$$();return E$(()=>{if((p==null?void 0:p.enabled)===!1||!_$(l,p==null?void 0:p.scopes))return;let m=[],b;const S=(_,P=!1)=>{var T;if(!(k$(_)&&!r_(_,p==null?void 0:p.enableOnFormTags))){if(i.current!==null){const M=i.current.getRootNode();if((M instanceof Document||M instanceof ShadowRoot)&&M.activeElement!==i.current&&!i.current.contains(M.activeElement)){Sy(_);return}}(T=_.target)!=null&&T.isContentEditable&&!(p!=null&&p.enableOnContentEditable)||np(d,p==null?void 0:p.delimiter).forEach(M=>{var O,B,Z,D;if(M.includes((p==null?void 0:p.splitKey)??"+")&&M.includes((p==null?void 0:p.sequenceSplitKey)??">")){console.warn(`Hotkey ${M} contains both ${(p==null?void 0:p.splitKey)??"+"} and ${(p==null?void 0:p.sequenceSplitKey)??">"} which is not supported.`);return}const N=ap(M,p==null?void 0:p.splitKey,p==null?void 0:p.sequenceSplitKey,p==null?void 0:p.useKey,p==null?void 0:p.description,p==null?void 0:p.metadata);if(N.isSequence){b=setTimeout(()=>{m=[]},(p==null?void 0:p.sequenceTimeoutMs)??1e3);const U=N.useKey?_.key:Ja(_.code);if(QC(U.toLowerCase()))return;m.push(U);const z=(O=N.keys)==null?void 0:O[m.length-1];if(U!==z){m=[],b&&clearTimeout(b);return}m.length===((B=N.keys)==null?void 0:B.length)&&(h.current(_,N),b&&clearTimeout(b),m=[])}else if(j$(_,N,p==null?void 0:p.ignoreModifiers)||(Z=N.keys)!=null&&Z.includes("*")){if((D=p==null?void 0:p.ignoreEventWhen)!=null&&D.call(p,_)||P&&o.current)return;if(x$(_,N,p==null?void 0:p.preventDefault),!w$(_,N,p==null?void 0:p.enabled)){Sy(_);return}h.current(_,N),P||(o.current=!0)}})}},x=_=>{_.code!==void 0&&(e_(Ja(_.code)),((p==null?void 0:p.keydown)===void 0&&(p==null?void 0:p.keyup)!==!0||p!=null&&p.keydown)&&S(_))},w=_=>{_.code!==void 0&&(t_(Ja(_.code)),o.current=!1,p!=null&&p.keyup&&S(_,!0))},y=i.current||(s==null?void 0:s.document)||document;return y.addEventListener("keyup",w,s==null?void 0:s.eventListenerOptions),y.addEventListener("keydown",x,s==null?void 0:s.eventListenerOptions),f&&np(d,p==null?void 0:p.delimiter).forEach(_=>{f.addHotkey(ap(_,p==null?void 0:p.splitKey,p==null?void 0:p.sequenceSplitKey,p==null?void 0:p.useKey,p==null?void 0:p.description,p==null?void 0:p.metadata))}),()=>{y.removeEventListener("keyup",w,s==null?void 0:s.eventListenerOptions),y.removeEventListener("keydown",x,s==null?void 0:s.eventListenerOptions),f&&np(d,p==null?void 0:p.delimiter).forEach(_=>{f.removeHotkey(ap(_,p==null?void 0:p.splitKey,p==null?void 0:p.sequenceSplitKey,p==null?void 0:p.useKey,p==null?void 0:p.description,p==null?void 0:p.metadata))}),m=[],b&&clearTimeout(b)}},[d,p,l]),i}function a_(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function z$(e,t){return e.reduce((r,n,i)=>{const o=t.get(n);return o&&(r[i]=o),r},Array(e.length))}function dd(e){return e!==null&&e>=0}function D$(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function O$(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const i_=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const o=a_(t,n,r),s=t[i],d=o[i];return!d||!s?null:{x:d.left-s.left,y:d.top-s.top,scaleX:d.width/s.width,scaleY:d.height/s.height}},hd={scaleX:1,scaleY:1},F$=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:o,overIndex:s}=e;const d=(t=o[r])!=null?t:n;if(!d)return null;if(i===r){const u=o[s];return u?{x:0,y:r<s?u.top+u.height-(d.top+d.height):u.top-d.top,...hd}:null}const c=M$(o,i,r);return i>r&&i<=s?{x:0,y:-d.height-c,...hd}:i<r&&i>=s?{x:0,y:d.height+c,...hd}:{x:0,y:0,...hd}};function M$(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return n?r<t?i?n.top-(i.top+i.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const o_="Sortable",s_=wt.createContext({activeIndex:-1,containerId:o_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:i_,disabled:{draggable:!1,droppable:!1}});function L$(e){let{children:t,id:r,items:n,strategy:i=i_,disabled:o=!1}=e;const{active:s,dragOverlay:d,droppableRects:c,over:u,measureDroppableContainers:h}=$m(),p=_6(o_,r),l=d.rect!==null,f=X.useMemo(()=>n.map(T=>typeof T=="object"&&"id"in T?T.id:T),[n]),m=s!=null,b=s?f.indexOf(s.id):-1,S=u?f.indexOf(u.id):-1,x=X.useRef(f),w=!D$(f,x.current),y=S!==-1&&b===-1||w,_=O$(o);M2(()=>{w&&m&&h(f)},[w,f,m,h]),X.useEffect(()=>{x.current=f},[f]);const P=X.useMemo(()=>({activeIndex:b,containerId:p,disabled:_,disableTransforms:y,items:f,overIndex:S,useDragOverlay:l,sortedRects:z$(f,c),strategy:i}),[b,p,_.draggable,_.droppable,y,f,S,c,l,i]);return wt.createElement(s_.Provider,{value:P},t)}const A$=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return a_(r,n,i).indexOf(t)},R$=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:o,newIndex:s,previousItems:d,previousContainerId:c,transition:u}=e;return!u||!n||d!==o&&i===s?!1:r?!0:s!==i&&t===c},B$={duration:200,easing:"ease"},l_="transform",U$=Im.Transition.toString({property:l_,duration:0,easing:"linear"}),V$={roleDescription:"sortable"};function W$(e){let{disabled:t,index:r,node:n,rect:i}=e;const[o,s]=X.useState(null),d=X.useRef(r);return M2(()=>{if(!t&&r!==d.current&&n.current){const c=i.current;if(c){const u=$6(n.current,{ignoreTransform:!0}),h={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(h.x||h.y)&&s(h)}}r!==d.current&&(d.current=r)},[t,r,n,i]),X.useEffect(()=>{o&&s(null)},[o]),o}function H$(e){let{animateLayoutChanges:t=R$,attributes:r,disabled:n,data:i,getNewIndex:o=A$,id:s,strategy:d,resizeObserverConfig:c,transition:u=B$}=e;const{items:h,containerId:p,activeIndex:l,disabled:f,disableTransforms:m,sortedRects:b,overIndex:S,useDragOverlay:x,strategy:w}=X.useContext(s_),y=G$(n,f),_=h.indexOf(s),P=X.useMemo(()=>({sortable:{containerId:p,index:_,items:h},...i}),[p,i,_,h]),T=X.useMemo(()=>h.slice(h.indexOf(s)),[h,s]),{rect:M,node:N,isOver:O,setNodeRef:B}=L2({id:s,data:P,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:Z,activatorEvent:D,activeNodeRect:U,attributes:z,setNodeRef:G,listeners:ne,isDragging:A,over:k,setActivatorNodeRef:j,transform:$}=ch({id:s,data:P,attributes:{...V$,...r},disabled:y.draggable}),F=j6(B,G),R=!!Z,W=R&&!m&&dd(l)&&dd(S),Y=!x&&A,te=Y&&W?$:null,J=W?te??(d??w)({rects:b,activeNodeRect:U,activeIndex:l,overIndex:S,index:_}):null,ee=dd(l)&&dd(S)?o({id:s,items:h,activeIndex:l,overIndex:S}):_,Q=Z==null?void 0:Z.id,he=X.useRef({activeId:Q,items:h,newIndex:ee,containerId:p}),ge=h!==he.current.items,ye=t({active:Z,containerId:p,isDragging:A,isSorting:R,id:s,index:_,items:h,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:u,wasDragging:he.current.activeId!=null}),_e=W$({disabled:!ye,index:_,node:N,rect:M});return X.useEffect(()=>{R&&he.current.newIndex!==ee&&(he.current.newIndex=ee),p!==he.current.containerId&&(he.current.containerId=p),h!==he.current.items&&(he.current.items=h)},[R,ee,p,h]),X.useEffect(()=>{if(Q===he.current.activeId)return;if(Q!=null&&he.current.activeId==null){he.current.activeId=Q;return}const Se=setTimeout(()=>{he.current.activeId=Q},50);return()=>clearTimeout(Se)},[Q]),{active:Z,activeIndex:l,attributes:z,data:P,rect:M,index:_,newIndex:ee,items:h,isOver:O,isSorting:R,isDragging:A,listeners:ne,node:N,overIndex:S,over:k,setNodeRef:F,setActivatorNodeRef:j,setDroppableNodeRef:B,setDraggableNodeRef:G,transform:_e??J,transition:H()};function H(){if(_e||ge&&he.current.newIndex===_)return U$;if(!(Y&&!P6(D)||!u)&&(R||ye))return Im.Transition.toString({...u,property:l_})}}function G$(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}id.Down,id.Right,id.Up,id.Left;function Z$({layer:e,isSelected:t,hasSelectedElements:r,onSelect:n,onDelete:i}){const[o,s]=X.useState(!1),[d,c]=X.useState(e.name),u=X.useRef(null),h=fe(B=>B.updateLayer),p=fe(B=>B.toggleLayerVisibility),l=fe(B=>B.toggleLayerLock);X.useEffect(()=>{o&&u.current&&(u.current.focus(),u.current.select())},[o]),X.useEffect(()=>{o||c(e.name)},[e.name,o]);const f=()=>{const B=d.trim();B===""?c(e.name):B!==e.name&&h(e.id,{name:B}),s(!1)},m=B=>{B.key==="Enter"?(B.preventDefault(),f()):B.key==="Escape"&&(B.preventDefault(),c(e.name),s(!1))},b=()=>{e.id!=="default"&&s(!0)},S=()=>{f()},x=e.id==="default",w=lu[e.color],{attributes:y,listeners:_,setNodeRef:P,transform:T,transition:M,isDragging:N}=H$({id:e.id,disabled:x}),O={transform:Im.Transform.toString(T),transition:M,opacity:N?.4:1};return a.jsxs("div",{ref:P,style:O,className:`
        group flex items-center gap-2 px-3 py-2 cursor-pointer h-10
        ${t?"bg-blue-600/30":"hover:bg-gray-700/50"}
        ${e.visible?"":"opacity-50"}
        ${r?"border-l-2 border-l-blue-500":""}
      `,onClick:()=>n(e.id),onDoubleClick:b,children:[x?a.jsx("div",{className:"w-4 flex-shrink-0"}):a.jsx("div",{...y,..._,className:"flex-shrink-0 text-gray-600 group-hover:text-gray-400 cursor-grab active:cursor-grabbing",children:a.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),a.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),a.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),a.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),a.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),a.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]})}),a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:w},title:`Color: ${e.color}`}),o?a.jsx("input",{ref:u,type:"text",value:d,onChange:B=>c(B.target.value),onKeyDown:m,onBlur:S,className:"flex-1 min-w-0 bg-gray-900 border border-blue-500 rounded px-2 py-0.5 text-sm text-white outline-none",onClick:B=>B.stopPropagation()}):a.jsx("span",{className:"flex-1 min-w-0 text-sm text-gray-200 truncate",children:e.name}),x&&a.jsx("span",{className:"text-xs text-gray-500 bg-gray-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Default"}),a.jsxs("div",{className:"flex items-center gap-0.5 ml-1 flex-shrink-0",children:[a.jsx("button",{onClick:B=>{B.stopPropagation(),p(e.id)},className:`p-1 rounded hover:bg-gray-600 transition-colors ${e.visible?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-400"}`,title:e.visible?"Hide layer (H)":"Show layer (H)",children:e.visible?a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})}),a.jsx("button",{onClick:B=>{B.stopPropagation(),l(e.id)},className:`p-1 rounded hover:bg-gray-600 transition-colors ${e.locked?"text-yellow-500 hover:text-yellow-400":"text-gray-600 hover:text-gray-400"}`,title:e.locked?"Unlock layer":"Lock layer",children:e.locked?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),!x&&i&&a.jsx("button",{onClick:B=>{B.stopPropagation(),i(e)},className:"p-1 rounded hover:bg-red-600/30 transition-colors text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100",title:"Delete layer",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}function q$({layer:e,isOpen:t,onClose:r}){const n=fe(u=>u.elements),i=fe(u=>u.removeElement),o=fe(u=>u.removeLayer),s=X.useMemo(()=>e?n.filter(u=>(u.layerId||"default")===e.id).length:0,[e,n]),d=()=>{if(!e)return;const u=n.filter(h=>(h.layerId||"default")===e.id);for(const h of u)i(h.id);o(e.id),r()};if(!t||!e)return null;const c=lu[e.color];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 max-w-md w-full mx-4",children:[a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Delete Layer"]})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:c}}),a.jsx("span",{className:"text-white font-medium",children:e.name})]}),s>0?a.jsx("div",{className:"bg-red-900/30 border border-red-700 rounded p-3 mb-4",children:a.jsxs("p",{className:"text-red-200 text-sm",children:["This layer contains ",a.jsxs("strong",{children:[s," element",s!==1?"s":""]}),". Deleting this layer will also delete all elements in it."]})}):a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"This layer is empty. Are you sure you want to delete it?"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-300 bg-gray-700 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:d,className:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-500 transition-colors",children:["Delete",s>0?` (${s} element${s!==1?"s":""})`:""]})]})]})})}function X$(){const[e,t]=X.useState(!1),[r,n]=X.useState(""),[i,o]=X.useState("blue"),s=X.useRef(null),d=fe(U=>U.layers),c=fe(U=>U.selectedLayerId),u=fe(U=>U.selectLayer),h=fe(U=>U.addLayer),p=fe(U=>U.getLayersInOrder),l=fe(U=>U.toggleLayerVisibility),f=fe(U=>U.reorderLayers),m=fe(U=>U.elements),b=fe(U=>U.selectedIds),S=fe(U=>U.selectElement),x=X.useMemo(()=>{const U=new Set;for(const z of b){const G=m.find(ne=>ne.id===z);G&&U.add(G.layerId||"default")}return U},[b,m]),[w,y]=X.useState(null);Wt("h",()=>{c&&l(c)},{enabled:!!c}),X.useEffect(()=>{e&&s.current&&s.current.focus()},[e]);const _=()=>{n(""),o("blue"),t(!0)},P=()=>{t(!1),n("")},T=()=>{const U=r.trim();if(U===""){const G=`Layer ${d.filter(ne=>ne.id!=="default").length+1}`;h(G,i)}else h(U,i);t(!1),n("")},M=U=>{U.key==="Enter"?(U.preventDefault(),T()):U.key==="Escape"&&(U.preventDefault(),P())},N=X.useCallback(U=>{u(U);const z=m.find(G=>(G.layerId||"default")===U);z&&S(z.id)},[u,S,m]),B=p().slice().reverse(),Z=B.filter(U=>U.id!=="default").map(U=>U.id),D=U=>{const{active:z,over:G}=U;if(!G||z.id===G.id)return;const ne=B.findIndex(k=>k.id===z.id),A=B.findIndex(k=>k.id===G.id);if(ne!==-1&&A!==-1){const k=p(),j=k.length-1-ne,$=k.length-1-A;f(j,$)}};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-3 border-b border-gray-700 flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"Layers"}),!e&&a.jsx("button",{onClick:_,className:"p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Add new layer",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),e&&a.jsx("div",{className:"p-3 border-b border-gray-700 bg-gray-750",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{ref:s,type:"text",value:r,onChange:U=>n(U.target.value),onKeyDown:M,placeholder:"Layer name (optional)",className:"w-full bg-gray-900 border border-gray-600 rounded px-2 py-1.5 text-sm text-white placeholder-gray-500 outline-none focus:border-blue-500"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Color:"}),a.jsx("div",{className:"flex gap-1",children:y6.map(U=>a.jsx("button",{onClick:()=>o(U),className:`w-5 h-5 rounded-full transition-transform ${i===U?"ring-2 ring-white ring-offset-1 ring-offset-gray-800 scale-110":"hover:scale-110"}`,style:{backgroundColor:lu[U]},title:U.charAt(0).toUpperCase()+U.slice(1)},U))})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("button",{onClick:T,className:"flex-1 py-1.5 px-3 bg-blue-600 text-white rounded text-sm hover:bg-blue-500 transition-colors",children:"Create"}),a.jsx("button",{onClick:P,className:"flex-1 py-1.5 px-3 bg-gray-700 text-gray-300 rounded text-sm hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:B.length===0?a.jsx("div",{className:"flex items-center justify-center h-full p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-600 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No layers yet."}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Click + to create a layer."})]})}):a.jsx(A2,{collisionDetection:I6,onDragEnd:D,children:a.jsx(L$,{items:Z,strategy:F$,children:a.jsx("div",{children:B.map(U=>a.jsx(Z$,{layer:U,isSelected:c===U.id,hasSelectedElements:x.has(U.id),onSelect:N,onDelete:z=>y(z)},U.id))})})})}),a.jsxs("div",{className:"px-3 py-2 border-t border-gray-700 text-xs text-gray-500",children:[d.length," layer",d.length!==1?"s":""]}),a.jsx(q$,{layer:w,isOpen:w!==null,onClose:()=>y(null)})]})}const Y$="vst-ui-fonts",K$=1,Jn="fonts",ti="handles",j0="fonts-directory";function Fi(){return new Promise((e,t)=>{const r=indexedDB.open(Y$,K$);r.onerror=()=>{var n;t(new Error(`Failed to open database: ${(n=r.error)==null?void 0:n.message}`))},r.onsuccess=()=>{e(r.result)},r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains(Jn)||i.createObjectStore(Jn,{keyPath:"family"}),i.objectStoreNames.contains(ti)||i.createObjectStore(ti)}})}async function J$(e){const t=await Fi();return new Promise((r,n)=>{const i=t.transaction(Jn,"readwrite"),s=i.objectStore(Jn).put(e);s.onerror=()=>{var d;n(new Error(`Failed to store font: ${(d=s.error)==null?void 0:d.message}`))},s.onsuccess=()=>{r()},i.oncomplete=()=>{t.close()}})}async function Xl(){const e=await Fi();return new Promise((t,r)=>{const n=e.transaction(Jn,"readonly"),o=n.objectStore(Jn).getAll();o.onerror=()=>{var s;r(new Error(`Failed to get fonts: ${(s=o.error)==null?void 0:s.message}`))},o.onsuccess=()=>{const s=o.result;s.sort((d,c)=>c.addedAt-d.addedAt),t(s)},n.oncomplete=()=>{e.close()}})}async function Q$(e){const t=await Fi();return new Promise((r,n)=>{const i=t.transaction(Jn,"readonly"),s=i.objectStore(Jn).get(e);s.onerror=()=>{var d;n(new Error(`Failed to get font: ${(d=s.error)==null?void 0:d.message}`))},s.onsuccess=()=>{r(s.result)},i.oncomplete=()=>{t.close()}})}async function eI(){const e=await Fi();return new Promise((t,r)=>{const n=e.transaction(Jn,"readwrite"),o=n.objectStore(Jn).clear();o.onerror=()=>{var s;r(new Error(`Failed to clear fonts: ${(s=o.error)==null?void 0:s.message}`))},o.onsuccess=()=>{t()},n.oncomplete=()=>{e.close()}})}async function tI(e){const t=await Fi();return new Promise((r,n)=>{const i=t.transaction(ti,"readwrite"),s=i.objectStore(ti).put(e,j0);s.onerror=()=>{var d;n(new Error(`Failed to store directory handle: ${(d=s.error)==null?void 0:d.message}`))},s.onsuccess=()=>{r()},i.oncomplete=()=>{t.close()}})}async function rI(){const e=await Fi();return new Promise((t,r)=>{const n=e.transaction(ti,"readonly"),o=n.objectStore(ti).get(j0);o.onerror=()=>{var s;r(new Error(`Failed to get directory handle: ${(s=o.error)==null?void 0:s.message}`))},o.onsuccess=()=>{t(o.result||null)},n.oncomplete=()=>{e.close()}})}async function ky(){const e=await Fi();return new Promise((t,r)=>{const n=e.transaction(ti,"readwrite"),o=n.objectStore(ti).delete(j0);o.onerror=()=>{var s;r(new Error(`Failed to clear directory handle: ${(s=o.error)==null?void 0:s.message}`))},o.onsuccess=()=>{t()},n.oncomplete=()=>{e.close()}})}/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||(function(){var e=(function(){try{var r={},n=Object.defineProperty,i=n(r,r,r)&&n}catch{}return i})(),t=function(r){if(this==null)throw TypeError();var n=String(this),i=n.length,o=r?Number(r):0;if(o!=o&&(o=0),!(o<0||o>=i)){var s=n.charCodeAt(o),d;return s>=55296&&s<=56319&&i>o+1&&(d=n.charCodeAt(o+1),d>=56320&&d<=57343)?(s-55296)*1024+d-56320+65536:s}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t})();var P0=0,c_=-3;function Qc(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function nI(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Qc,this.dtree=new Qc}var u_=new Qc,d_=new Qc,$0=new Uint8Array(30),I0=new Uint16Array(30),h_=new Uint8Array(30),f_=new Uint16Array(30),aI=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cy=new Qc,Gn=new Uint8Array(320);function p_(e,t,r,n){var i,o;for(i=0;i<r;++i)e[i]=0;for(i=0;i<30-r;++i)e[i+r]=i/r|0;for(o=n,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}function iI(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}var _y=new Uint16Array(16);function ip(e,t,r,n){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[t[r+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)_y[i]=o,o+=e.table[i];for(i=0;i<n;++i)t[r+i]&&(e.trans[_y[t[r+i]]++]=i)}function oI(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function qn(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function Xp(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,o=e.tag;do n=2*n+(o&1),o>>>=1,++i,r+=t.table[i],n-=t.table[i];while(n>=0);return e.tag=o,e.bitcount-=i,t.trans[r+n]}function sI(e,t,r){var n,i,o,s,d,c;for(n=qn(e,5,257),i=qn(e,5,1),o=qn(e,4,4),s=0;s<19;++s)Gn[s]=0;for(s=0;s<o;++s){var u=qn(e,3,0);Gn[aI[s]]=u}for(ip(Cy,Gn,0,19),d=0;d<n+i;){var h=Xp(e,Cy);switch(h){case 16:var p=Gn[d-1];for(c=qn(e,2,3);c;--c)Gn[d++]=p;break;case 17:for(c=qn(e,3,3);c;--c)Gn[d++]=0;break;case 18:for(c=qn(e,7,11);c;--c)Gn[d++]=0;break;default:Gn[d++]=h;break}}ip(t,Gn,0,n),ip(r,Gn,n,i)}function jy(e,t,r){for(;;){var n=Xp(e,t);if(n===256)return P0;if(n<256)e.dest[e.destLen++]=n;else{var i,o,s,d;for(n-=257,i=qn(e,$0[n],I0[n]),o=Xp(e,r),s=e.destLen-qn(e,h_[o],f_[o]),d=s;d<s+i;++d)e.dest[e.destLen++]=e.dest[d]}}}function lI(e){for(var t,r,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],r=e.source[e.sourceIndex+3],r=256*r+e.source[e.sourceIndex+2],t!==(~r&65535))return c_;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,P0}function cI(e,t){var r=new nI(e,t),n,i,o;do{switch(n=oI(r),i=qn(r,2,0),i){case 0:o=lI(r);break;case 1:o=jy(r,u_,d_);break;case 2:sI(r,r.ltree,r.dtree),o=jy(r,r.ltree,r.dtree);break;default:o=c_}if(o!==P0)throw new Error("Data error")}while(!n);return r.destLen<r.dest.length?typeof r.dest.slice=="function"?r.dest.slice(0,r.destLen):r.dest.subarray(0,r.destLen):r.dest}iI(u_,d_);p_($0,I0,4,3);p_(h_,f_,2,1);$0[28]=0;I0[28]=258;var uI=cI;function so(e,t,r,n,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}function ii(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}ii.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};ii.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};ii.prototype.addX=function(e){this.addPoint(e,null)};ii.prototype.addY=function(e){this.addPoint(null,e)};ii.prototype.addBezier=function(e,t,r,n,i,o,s,d){var c=[e,t],u=[r,n],h=[i,o],p=[s,d];this.addPoint(e,t),this.addPoint(s,d);for(var l=0;l<=1;l++){var f=6*c[l]-12*u[l]+6*h[l],m=-3*c[l]+9*u[l]-9*h[l]+3*p[l],b=3*u[l]-3*c[l];if(m===0){if(f===0)continue;var S=-b/f;0<S&&S<1&&(l===0&&this.addX(so(c[l],u[l],h[l],p[l],S)),l===1&&this.addY(so(c[l],u[l],h[l],p[l],S)));continue}var x=Math.pow(f,2)-4*b*m;if(!(x<0)){var w=(-f+Math.sqrt(x))/(2*m);0<w&&w<1&&(l===0&&this.addX(so(c[l],u[l],h[l],p[l],w)),l===1&&this.addY(so(c[l],u[l],h[l],p[l],w)));var y=(-f-Math.sqrt(x))/(2*m);0<y&&y<1&&(l===0&&this.addX(so(c[l],u[l],h[l],p[l],y)),l===1&&this.addY(so(c[l],u[l],h[l],p[l],y)))}}};ii.prototype.addQuad=function(e,t,r,n,i,o){var s=e+.6666666666666666*(r-e),d=t+2/3*(n-t),c=s+1/3*(i-e),u=d+1/3*(o-t);this.addBezier(e,t,s,d,c,u,i,o)};function dr(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}dr.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};dr.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};dr.prototype.curveTo=dr.prototype.bezierCurveTo=function(e,t,r,n,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:o})};dr.prototype.quadTo=dr.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})};dr.prototype.close=dr.prototype.closePath=function(){this.commands.push({type:"Z"})};dr.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof ii){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};dr.prototype.getBoundingBox=function(){for(var e=new ii,t=0,r=0,n=0,i=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":e.addPoint(s.x,s.y),t=n=s.x,r=i=s.y;break;case"L":e.addPoint(s.x,s.y),n=s.x,i=s.y;break;case"Q":e.addQuad(n,i,s.x1,s.y1,s.x,s.y),n=s.x,i=s.y;break;case"C":e.addBezier(n,i,s.x1,s.y1,s.x2,s.y2,s.x,s.y),n=s.x,i=s.y;break;case"Z":n=t,i=r;break;default:throw new Error("Unexpected path command "+s.type)}}return e.isEmpty()&&e.addPoint(0,0),e};dr.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?e.moveTo(r.x,r.y):r.type==="L"?e.lineTo(r.x,r.y):r.type==="C"?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};dr.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(e)}function r(){for(var s=arguments,d="",c=0;c<arguments.length;c+=1){var u=s[c];u>=0&&c>0&&(d+=" "),d+=t(u)}return d}for(var n="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?n+="M"+r(o.x,o.y):o.type==="L"?n+="L"+r(o.x,o.y):o.type==="C"?n+="C"+r(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?n+="Q"+r(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(n+="Z")}return n};dr.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};dr.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function m_(e){throw new Error(e)}function Py(e,t){e||m_(t)}var lt={fail:m_,argument:Py,assert:Py},$y=32768,Iy=2147483648,ps={},He={},ct={};function In(e){return function(){return e}}He.BYTE=function(e){return lt.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};ct.BYTE=In(1);He.CHAR=function(e){return[e.charCodeAt(0)]};ct.CHAR=In(1);He.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t};ct.CHARARRAY=function(e){return typeof e>"u"?0:e.length};He.USHORT=function(e){return[e>>8&255,e&255]};ct.USHORT=In(2);He.SHORT=function(e){return e>=$y&&(e=-(2*$y-e)),[e>>8&255,e&255]};ct.SHORT=In(2);He.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};ct.UINT24=In(3);He.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};ct.ULONG=In(4);He.LONG=function(e){return e>=Iy&&(e=-(2*Iy-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};ct.LONG=In(4);He.FIXED=He.ULONG;ct.FIXED=ct.ULONG;He.FWORD=He.SHORT;ct.FWORD=ct.SHORT;He.UFWORD=He.USHORT;ct.UFWORD=ct.USHORT;He.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};ct.LONGDATETIME=In(8);He.TAG=function(e){return lt.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};ct.TAG=In(4);He.Card8=He.BYTE;ct.Card8=ct.BYTE;He.Card16=He.USHORT;ct.Card16=ct.USHORT;He.OffSize=He.BYTE;ct.OffSize=ct.BYTE;He.SID=He.USHORT;ct.SID=ct.USHORT;He.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?He.NUMBER16(e):He.NUMBER32(e)};ct.NUMBER=function(e){return He.NUMBER(e).length};He.NUMBER16=function(e){return[28,e>>8&255,e&255]};ct.NUMBER16=In(3);He.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};ct.NUMBER32=In(5);He.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var i="",o=0,s=t.length;o<s;o+=1){var d=t[o];d==="e"?i+=t[++o]==="-"?"c":"b":d==="."?i+="a":d==="-"?i+="e":i+=d}i+=i.length&1?"f":"ff";for(var c=[30],u=0,h=i.length;u<h;u+=2)c.push(parseInt(i.substr(u,2),16));return c};ct.REAL=function(e){return He.REAL(e).length};He.NAME=He.CHARARRAY;ct.NAME=ct.CHARARRAY;He.STRING=He.CHARARRAY;ct.STRING=ct.CHARARRAY;ps.UTF8=function(e,t,r){for(var n=[],i=r,o=0;o<i;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)};ps.UTF16=function(e,t,r){for(var n=[],i=r/2,o=0;o<i;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)};He.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=n&255}return t};ct.UTF16=function(e){return e.length*2};var Yp={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};ps.MACSTRING=function(e,t,r,n){var i=Yp[n];if(i!==void 0){for(var o="",s=0;s<r;s++){var d=e.getUint8(t+s);d<=127?o+=String.fromCharCode(d):o+=i[d&127]}return o}};var fd=typeof WeakMap=="function"&&new WeakMap,pd,dI=function(e){if(!pd){pd={};for(var t in Yp)pd[t]=new String(t)}var r=pd[e];if(r!==void 0){if(fd){var n=fd.get(r);if(n!==void 0)return n}var i=Yp[e];if(i!==void 0){for(var o={},s=0;s<i.length;s++)o[i.charCodeAt(s)]=s+128;return fd&&fd.set(r,o),o}}};He.MACSTRING=function(e,t){var r=dI(t);if(r!==void 0){for(var n=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=128&&(o=r[o],o===void 0))return;n[i]=o}return n}};ct.MACSTRING=function(e,t){var r=He.MACSTRING(e,t);return r!==void 0?r.length:0};function Kp(e){return e>=-128&&e<=127}function hI(e,t,r){for(var n=0,i=e.length;t<i&&n<64&&e[t]===0;)++t,++n;return r.push(128|n-1),t}function fI(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var s=e[o];if(!Kp(s)||s===0&&o+1<i&&e[o+1]===0)break;++o,++n}r.push(n-1);for(var d=t;d<o;++d)r.push(e[d]+256&255);return o}function pI(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var s=e[o];if(s===0||Kp(s)&&o+1<i&&Kp(e[o+1]))break;++o,++n}r.push(64|n-1);for(var d=t;d<o;++d){var c=e[d];r.push(c+65536>>8&255,c+256&255)}return o}He.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];n===0?t=hI(e,t,r):n>=-128&&n<=127?t=fI(e,t,r):t=pI(e,t,r)}return r};He.INDEX=function(e){for(var t=1,r=[t],n=[],i=0;i<e.length;i+=1){var o=He.OBJECT(e[i]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(n.length===0)return[0,0];for(var s=[],d=1+Math.floor(Math.log(t)/Math.log(2))/8|0,c=[void 0,He.BYTE,He.USHORT,He.UINT24,He.ULONG][d],u=0;u<r.length;u+=1){var h=c(r[u]);Array.prototype.push.apply(s,h)}return Array.prototype.concat(He.Card16(e.length),He.OffSize(d),s,n)};ct.INDEX=function(e){return He.INDEX(e).length};He.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var o=parseInt(r[i],0),s=e[o];t=t.concat(He.OPERAND(s.value,s.type)),t=t.concat(He.OPERATOR(o))}return t};ct.DICT=function(e){return He.DICT(e).length};He.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};He.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)lt.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(He.OPERAND(e[n],t[n]));else if(t==="SID")r=r.concat(He.NUMBER(e));else if(t==="offset")r=r.concat(He.NUMBER32(e));else if(t==="number")r=r.concat(He.NUMBER(e));else if(t==="real")r=r.concat(He.REAL(e));else throw new Error("Unknown operand type "+t);return r};He.OP=He.BYTE;ct.OP=ct.BYTE;var md=typeof WeakMap=="function"&&new WeakMap;He.CHARSTRING=function(e){if(md){var t=md.get(e);if(t!==void 0)return t}for(var r=[],n=e.length,i=0;i<n;i+=1){var o=e[i];r=r.concat(He[o.type](o.value))}return md&&md.set(e,r),r};ct.CHARSTRING=function(e){return He.CHARSTRING(e).length};He.OBJECT=function(e){var t=He[e.type];return lt.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};ct.OBJECT=function(e){var t=ct[e.type];return lt.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};He.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],i=[],o=0;o<r;o+=1){var s=e.fields[o],d=He[s.type];lt.argument(d!==void 0,"No encoding function for field type "+s.type+" ("+s.name+")");var c=e[s.name];c===void 0&&(c=s.value);var u=d(c);s.type==="TABLE"?(i.push(t.length),t=t.concat([0,0]),n.push(u)):t=t.concat(u)}for(var h=0;h<n.length;h+=1){var p=i[h],l=t.length;lt.argument(l<65536,"Table "+e.tableName+" too big."),t[p]=l>>8,t[p+1]=l&255,t=t.concat(n[h])}return t};ct.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var i=e.fields[n],o=ct[i.type];lt.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var s=e[i.name];s===void 0&&(s=i.value),t+=o(s),i.type==="TABLE"&&(t+=2)}return t};He.RECORD=He.TABLE;ct.RECORD=ct.TABLE;He.LITERAL=function(e){return e};ct.LITERAL=function(e){return e.length};function br(e,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),s=0;s<o.length;s+=1){var d=o[s],c=r[d];this[d]!==void 0&&(this[d]=c)}}br.prototype.encode=function(){return He.TABLE(this)};br.prototype.sizeOf=function(){return ct.TABLE(this)};function eu(e,t,r){r===void 0&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<t.length;i++)n[i+1]={name:e+i,type:"USHORT",value:t[i]};return n}function Jp(e,t,r){var n=t.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return i}function tu(e,t,r){var n=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i=i.concat(r(t[o],o));return i}function Qd(e){e.format===1?br.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(eu("glyph",e.glyphs))):e.format===2?br.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(tu("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):lt.assert(!1,"Coverage format must be 1 or 2.")}Qd.prototype=Object.create(br.prototype);Qd.prototype.constructor=Qd;function eh(e){br.call(this,"scriptListTable",tu("scriptRecord",e,function(t,r){var n=t.script,i=n.defaultLangSys;return lt.assert(!!i,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new br("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new br("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(eu("featureIndex",i.featureIndexes)))}].concat(tu("langSys",n.langSysRecords,function(o,s){var d=o.langSys;return[{name:"langSysTag"+s,type:"TAG",value:o.tag},{name:"langSys"+s,type:"TABLE",value:new br("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:d.reqFeatureIndex}].concat(eu("featureIndex",d.featureIndexes)))}]})))}]}))}eh.prototype=Object.create(br.prototype);eh.prototype.constructor=eh;function th(e){br.call(this,"featureListTable",tu("featureRecord",e,function(t,r){var n=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new br("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(eu("lookupListIndex",n.lookupListIndexes)))}]}))}th.prototype=Object.create(br.prototype);th.prototype.constructor=th;function rh(e,t){br.call(this,"lookupListTable",Jp("lookup",e,function(r){var n=t[r.lookupType];return lt.assert(!!n,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new br("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat(Jp("subtable",r.subtables,n)))}))}rh.prototype=Object.create(br.prototype);rh.prototype.constructor=rh;var Xe={Table:br,Record:br,Coverage:Qd,ScriptList:eh,FeatureList:th,LookupList:rh,ushortList:eu,tableList:Jp,recordList:tu};function Ty(e,t){return e.getUint8(t)}function nh(e,t){return e.getUint16(t,!1)}function mI(e,t){return e.getInt16(t,!1)}function T0(e,t){return e.getUint32(t,!1)}function g_(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535}function gI(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r}function vI(e,t,r){for(var n=0,i=0;i<r;i+=1)n<<=8,n+=e.getUint8(t+i);return n}function bI(e,t,r){for(var n=[],i=t;i<r;i+=1)n.push(e.getUint8(i));return n}function yI(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t}var xI={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ne(e,t){this.data=e,this.offset=t,this.relativeOffset=0}Ne.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};Ne.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};Ne.prototype.parseCard8=Ne.prototype.parseByte;Ne.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};Ne.prototype.parseCard16=Ne.prototype.parseUShort;Ne.prototype.parseSID=Ne.prototype.parseUShort;Ne.prototype.parseOffset16=Ne.prototype.parseUShort;Ne.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};Ne.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};Ne.prototype.parseULong=function(){var e=T0(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};Ne.prototype.parseOffset32=Ne.prototype.parseULong;Ne.prototype.parseFixed=function(){var e=g_(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};Ne.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(t.getUint8(r+i));return n};Ne.prototype.parseTag=function(){return this.parseString(4)};Ne.prototype.parseLongDateTime=function(){var e=T0(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};Ne.prototype.parseVersion=function(e){var t=nh(this.data,this.offset+this.relativeOffset),r=nh(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+r/e/10};Ne.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=xI[e]*t};Ne.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint32(n),n+=4;return this.relativeOffset+=e*4,t};Ne.prototype.parseOffset16List=Ne.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint16(n),n+=2;return this.relativeOffset+=e*2,t};Ne.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getInt16(n),n+=2;return this.relativeOffset+=e*2,t};Ne.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint8(n++);return this.relativeOffset+=e,t};Ne.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};Ne.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};Ne.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},s=0;s<n.length;s++){var d=n[s],c=t[d];o[d]=c.call(this)}r[i]=o}return r};Ne.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},s=0;s<n.length;s++){var d=n[s],c=t[d];o[d]=c.call(this)}r[i]=o}return r};Ne.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n],o=e[i];r[i]=o.call(this)}return r};Ne.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};Ne.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r};Ne.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new Ne(this.data,this.offset+t).parseStruct(e)};Ne.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new Ne(this.data,this.offset+t).parseStruct(e)};Ne.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,i=new Array(r),o=0;o<r;o++){var s=t[o];if(s===0){i[o]=void 0;continue}if(this.relativeOffset=s,e){for(var d=this.parseOffset16List(),c=new Array(d.length),u=0;u<d.length;u++)this.relativeOffset=s+d[u],c[u]=e.call(this);i[o]=c}else i[o]=this.parseUShortList()}return this.relativeOffset=n,i};Ne.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var n=new Array(r),i=0;i<r;i++)n[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};Ne.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:Ne.uShort,end:Ne.uShort,classId:Ne.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};Ne.list=function(e,t){return function(){return this.parseList(e,t)}};Ne.list32=function(e,t){return function(){return this.parseList32(e,t)}};Ne.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};Ne.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};Ne.pointer=function(e){return function(){return this.parsePointer(e)}};Ne.pointer32=function(e){return function(){return this.parsePointer32(e)}};Ne.tag=Ne.prototype.parseTag;Ne.byte=Ne.prototype.parseByte;Ne.uShort=Ne.offset16=Ne.prototype.parseUShort;Ne.uShortList=Ne.prototype.parseUShortList;Ne.uLong=Ne.offset32=Ne.prototype.parseULong;Ne.uLongList=Ne.prototype.parseULongList;Ne.struct=Ne.prototype.parseStruct;Ne.coverage=Ne.prototype.parseCoverage;Ne.classDef=Ne.prototype.parseClassDef;var Ny={reserved:Ne.uShort,reqFeatureIndex:Ne.uShort,featureIndexes:Ne.uShortList};Ne.prototype.parseScriptList=function(){return this.parsePointer(Ne.recordList({tag:Ne.tag,script:Ne.pointer({defaultLangSys:Ne.pointer(Ny),langSysRecords:Ne.recordList({tag:Ne.tag,langSys:Ne.pointer(Ny)})})}))||[]};Ne.prototype.parseFeatureList=function(){return this.parsePointer(Ne.recordList({tag:Ne.tag,feature:Ne.pointer({featureParams:Ne.offset16,lookupListIndexes:Ne.uShortList})}))||[]};Ne.prototype.parseLookupList=function(e){return this.parsePointer(Ne.list(Ne.pointer(function(){var t=this.parseUShort();lt.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(Ne.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]};Ne.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();lt.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:Ne.offset32,featureTableSubstitutionOffset:Ne.offset32});return r})||[]};var Qe={getByte:Ty,getCard8:Ty,getUShort:nh,getCard16:nh,getShort:mI,getULong:T0,getFixed:g_,getTag:gI,getOffset:vI,getBytes:bI,bytesToString:yI,Parser:Ne};function wI(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var r;e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var i=t.parseULong(),o=t.parseULong(),s=t.parseULong(),d=i;d<=o;d+=1)e.glyphIndexMap[d]=s,s++}function SI(e,t,r,n,i){e.length=t.parseUShort(),e.language=t.parseUShort();var o;e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var s=new Qe.Parser(r,n+i+14),d=new Qe.Parser(r,n+i+16+o*2),c=new Qe.Parser(r,n+i+16+o*4),u=new Qe.Parser(r,n+i+16+o*6),h=n+i+16+o*8,p=0;p<o-1;p+=1)for(var l=void 0,f=s.parseUShort(),m=d.parseUShort(),b=c.parseShort(),S=u.parseUShort(),x=m;x<=f;x+=1)S!==0?(h=u.offset+u.relativeOffset-2,h+=S,h+=(x-m)*2,l=Qe.getUShort(r,h),l!==0&&(l=l+b&65535)):l=x+b&65535,e.glyphIndexMap[x]=l}function kI(e,t){var r={};r.version=Qe.getUShort(e,t),lt.argument(r.version===0,"cmap table version should be 0."),r.numTables=Qe.getUShort(e,t+2);for(var n=-1,i=r.numTables-1;i>=0;i-=1){var o=Qe.getUShort(e,t+4+i*8),s=Qe.getUShort(e,t+4+i*8+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){n=Qe.getULong(e,t+4+i*8+4);break}}if(n===-1)throw new Error("No valid cmap sub-tables found.");var d=new Qe.Parser(e,t+n);if(r.format=d.parseUShort(),r.format===12)wI(r,d);else if(r.format===4)SI(r,d,e,t,n);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function CI(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function _I(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function jI(e){var t=!0,r;for(r=e.length-1;r>0;r-=1){var n=e.get(r);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new Xe.Table("cmap",i);for(o.segments=[],r=0;r<e.length;r+=1){for(var s=e.get(r),d=0;d<s.unicodes.length;d+=1)CI(o,s.unicodes[d],r);o.segments=o.segments.sort(function(w,y){return w.start-y.start})}_I(o);var c=o.segments.length,u=0,h=[],p=[],l=[],f=[],m=[],b=[];for(r=0;r<c;r+=1){var S=o.segments[r];S.end<=65535&&S.start<=65535?(h=h.concat({name:"end_"+r,type:"USHORT",value:S.end}),p=p.concat({name:"start_"+r,type:"USHORT",value:S.start}),l=l.concat({name:"idDelta_"+r,type:"SHORT",value:S.delta}),f=f.concat({name:"idRangeOffset_"+r,type:"USHORT",value:S.offset}),S.glyphId!==void 0&&(m=m.concat({name:"glyph_"+r,type:"USHORT",value:S.glyphId}))):u+=1,!t&&S.glyphIndex!==void 0&&(b=b.concat({name:"cmap12Start_"+r,type:"ULONG",value:S.start}),b=b.concat({name:"cmap12End_"+r,type:"ULONG",value:S.end}),b=b.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:S.glyphIndex}))}if(o.segCountX2=(c-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(c-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(h),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(p),o.fields=o.fields.concat(l),o.fields=o.fields.concat(f),o.fields=o.fields.concat(m),o.cmap4Length=14+h.length*2+2+p.length*2+l.length*2+f.length*2+m.length*2,!t){var x=16+b.length*4;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:x},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:b.length/3}]),o.fields=o.fields.concat(b)}return o}var v_={parse:kI,make:jI},Vd=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],PI=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],$I=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],$i=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function b_(e){this.font=e}b_.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var i=r.get(n),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return n}return null};function y_(e){this.cmap=e}y_.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function ah(e,t){this.encoding=e,this.charset=t}ah.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function N0(e){switch(e.version){case 1:this.names=$i.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<$i.length?this.names[t]=$i[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-$i.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=$i[r+e.glyphNameIndex[r]];break;case 3:this.names=[];break;default:this.names=[];break}}N0.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};N0.prototype.glyphIndexToName=function(e){return this.names[e]};function II(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),i=0;i<n.length;i+=1){var o=n[i],s=r[o];t=e.glyphs.get(s),t.addUnicode(parseInt(o))}for(var d=0;d<e.glyphs.length;d+=1)t=e.glyphs.get(d),e.cffEncoding?e.isCIDFont?t.name="gid"+d:t.name=e.cffEncoding.charset[d]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(d))}function TI(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),n=0;n<r.length;n+=1){var i=r[n],o=t[i];e._IndexToUnicodeMap[o]===void 0?e._IndexToUnicodeMap[o]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(i))}}function NI(e,t){t.lowMemory?TI(e):II(e)}function EI(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()}var Si={line:EI};function zI(e,t){var r=t||new dr;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function dn(e){this.bindConstructorValues(e)}dn.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",zI(this,e.path))};dn.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};dn.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};dn.prototype.getPath=function(e,t,r,n,i){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var o,s;n||(n={});var d=n.xScale,c=n.yScale;if(n.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,r)),s)o=i.hinting.getCommands(s),e=Math.round(e),t=Math.round(t),d=c=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*r;d===void 0&&(d=u),c===void 0&&(c=u)}for(var h=new dr,p=0;p<o.length;p+=1){var l=o[p];l.type==="M"?h.moveTo(e+l.x*d,t+-l.y*c):l.type==="L"?h.lineTo(e+l.x*d,t+-l.y*c):l.type==="Q"?h.quadraticCurveTo(e+l.x1*d,t+-l.y1*c,e+l.x*d,t+-l.y*c):l.type==="C"?h.curveTo(e+l.x1*d,t+-l.y1*c,e+l.x2*d,t+-l.y2*c,e+l.x*d,t+-l.y*c):l.type==="Z"&&h.closePath()}return h};dn.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return lt.argument(t.length===0,"There are still points left in the current contour."),e};dn.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];i.type!=="Z"&&(t.push(i.x),r.push(i.y)),(i.type==="Q"||i.type==="C")&&(t.push(i.x1),r.push(i.y1)),i.type==="C"&&(t.push(i.x2),r.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};dn.prototype.draw=function(e,t,r,n,i){this.getPath(t,r,n,i).draw(e)};dn.prototype.drawPoints=function(e,t,r,n){function i(p,l,f,m){e.beginPath();for(var b=0;b<p.length;b+=1)e.moveTo(l+p[b].x*m,f+p[b].y*m),e.arc(l+p[b].x*m,f+p[b].y*m,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var o=1/this.path.unitsPerEm*n,s=[],d=[],c=this.path,u=0;u<c.commands.length;u+=1){var h=c.commands[u];h.x!==void 0&&s.push({x:h.x,y:-h.y}),h.x1!==void 0&&d.push({x:h.x1,y:-h.y1}),h.x2!==void 0&&d.push({x:h.x2,y:-h.y2})}e.fillStyle="blue",i(s,t,r,o),e.fillStyle="red",i(d,t,r,o)};dn.prototype.drawMetrics=function(e,t,r,n){var i;t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24,i=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",Si.line(e,t,-1e4,t,1e4),Si.line(e,-1e4,r,1e4,r);var o=this.xMin||0,s=this.yMin||0,d=this.xMax||0,c=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",Si.line(e,t+o*i,-1e4,t+o*i,1e4),Si.line(e,t+d*i,-1e4,t+d*i,1e4),Si.line(e,-1e4,r+-s*i,1e4,r+-s*i),Si.line(e,-1e4,r+-c*i,1e4,r+-c*i),e.strokeStyle="green",Si.line(e,t+u*i,-1e4,t+u*i,1e4)};function gd(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(n){e[r]=n},enumerable:!0,configurable:!0})}function E0(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}E0.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};E0.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function DI(e,t){return new dn({index:t,font:e})}function OI(e,t,r,n,i,o){return function(){var s=new dn({index:t,font:e});return s.path=function(){r(s,n,i);var d=o(e.glyphs,s);return d.unitsPerEm=e.unitsPerEm,d},gd(s,"xMin","_xMin"),gd(s,"xMax","_xMax"),gd(s,"yMin","_yMin"),gd(s,"yMax","_yMax"),s}}function FI(e,t,r,n){return function(){var i=new dn({index:t,font:e});return i.path=function(){var o=r(e,i,n);return o.unitsPerEm=e.unitsPerEm,o},i}}var Kn={GlyphSet:E0,glyphLoader:DI,ttfGlyphLoader:OI,cffGlyphLoader:FI};function x_(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!x_(e[r],t[r]))return!1;return!0}else return!1}function Qp(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function Za(e,t,r){var n=[],i=[],o=Qe.getCard16(e,t),s,d;if(o!==0){var c=Qe.getByte(e,t+2);s=t+(o+1)*c+2;for(var u=t+3,h=0;h<o+1;h+=1)n.push(Qe.getOffset(e,u,c)),u+=c;d=s+n[o]}else d=t+2;for(var p=0;p<n.length-1;p+=1){var l=Qe.getBytes(e,s+n[p],s+n[p+1]);r&&(l=r(l)),i.push(l)}return{objects:i,startOffset:t,endOffset:d}}function MI(e,t){var r=[],n=Qe.getCard16(e,t),i,o;if(n!==0){var s=Qe.getByte(e,t+2);i=t+(n+1)*s+2;for(var d=t+3,c=0;c<n+1;c+=1)r.push(Qe.getOffset(e,d,s)),d+=s;o=i+r[n]}else o=t+2;return{offsets:r,startOffset:t,endOffset:o}}function LI(e,t,r,n,i){var o=Qe.getCard16(r,n),s=0;if(o!==0){var d=Qe.getByte(r,n+2);s=n+(o+1)*d+2}var c=Qe.getBytes(r,s+t[e],s+t[e+1]);return c}function AI(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),o=i>>4,s=i&15;if(o===r||(t+=n[o],s===r))break;t+=n[s]}return parseFloat(t)}function RI(e,t){var r,n,i,o;if(t===28)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(t===29)return r=e.parseByte(),n=e.parseByte(),i=e.parseByte(),o=e.parseByte(),r<<24|n<<16|i<<8|o;if(t===30)return AI(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=e.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=e.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function BI(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],i=e[r][1],o=void 0;if(i.length===1?o=i[0]:o=i,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}function w_(e,t,r){t=t!==void 0?t:0;var n=new Qe.Parser(e,t),i=[],o=[];for(r=r!==void 0?r:e.length;n.relativeOffset<r;){var s=n.parseByte();s<=21?(s===12&&(s=1200+n.parseByte()),i.push([s,o]),o=[]):o.push(RI(n,s))}return BI(i)}function Xc(e,t){return t<=390?t=Vd[t]:t=e[t-391],t}function S_(e,t,r){for(var n={},i,o=0;o<t.length;o+=1){var s=t[o];if(Array.isArray(s.type)){var d=[];d.length=s.type.length;for(var c=0;c<s.type.length;c++)i=e[s.op]!==void 0?e[s.op][c]:void 0,i===void 0&&(i=s.value!==void 0&&s.value[c]!==void 0?s.value[c]:null),s.type[c]==="SID"&&(i=Xc(r,i)),d[c]=i;n[s.name]=d}else i=e[s.op],i===void 0&&(i=s.value!==void 0?s.value:null),s.type==="SID"&&(i=Xc(r,i)),n[s.name]=i}return n}function UI(e,t){var r={};return r.formatMajor=Qe.getCard8(e,t),r.formatMinor=Qe.getCard8(e,t+1),r.size=Qe.getCard8(e,t+2),r.offsetSize=Qe.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}var k_=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],C_=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function VI(e,t){var r=w_(e,0,e.byteLength);return S_(r,k_,t)}function __(e,t,r,n){var i=w_(e,t,r);return S_(i,C_,n)}function Ey(e,t,r,n){for(var i=[],o=0;o<r.length;o+=1){var s=new DataView(new Uint8Array(r[o]).buffer),d=VI(s,n);d._subrs=[],d._subrsBias=0,d._defaultWidthX=0,d._nominalWidthX=0;var c=d.private[0],u=d.private[1];if(c!==0&&u!==0){var h=__(e,u+t,c,n);if(d._defaultWidthX=h.defaultWidthX,d._nominalWidthX=h.nominalWidthX,h.subrs!==0){var p=u+h.subrs,l=Za(e,p+t);d._subrs=l.objects,d._subrsBias=Qp(d._subrs)}d._privateDict=h}i.push(d)}return i}function WI(e,t,r,n){var i,o,s=new Qe.Parser(e,t);r-=1;var d=[".notdef"],c=s.parseCard8();if(c===0)for(var u=0;u<r;u+=1)i=s.parseSID(),d.push(Xc(n,i));else if(c===1)for(;d.length<=r;){i=s.parseSID(),o=s.parseCard8();for(var h=0;h<=o;h+=1)d.push(Xc(n,i)),i+=1}else if(c===2)for(;d.length<=r;){i=s.parseSID(),o=s.parseCard16();for(var p=0;p<=o;p+=1)d.push(Xc(n,i)),i+=1}else throw new Error("Unknown charset format "+c);return d}function HI(e,t,r){var n,i={},o=new Qe.Parser(e,t),s=o.parseCard8();if(s===0)for(var d=o.parseCard8(),c=0;c<d;c+=1)n=o.parseCard8(),i[n]=c;else if(s===1){var u=o.parseCard8();n=1;for(var h=0;h<u;h+=1)for(var p=o.parseCard8(),l=o.parseCard8(),f=p;f<=p+l;f+=1)i[f]=n,n+=1}else throw new Error("Unknown encoding format "+s);return new ah(i,r)}function zy(e,t,r){var n,i,o,s,d=new dr,c=[],u=0,h=!1,p=!1,l=0,f=0,m,b,S,x;if(e.isCIDFont){var w=e.tables.cff.topDict._fdSelect[t.index],y=e.tables.cff.topDict._fdArray[w];m=y._subrs,b=y._subrsBias,S=y._defaultWidthX,x=y._nominalWidthX}else m=e.tables.cff.topDict._subrs,b=e.tables.cff.topDict._subrsBias,S=e.tables.cff.topDict._defaultWidthX,x=e.tables.cff.topDict._nominalWidthX;var _=S;function P(N,O){p&&d.closePath(),d.moveTo(N,O),p=!0}function T(){var N;N=c.length%2!==0,N&&!h&&(_=c.shift()+x),u+=c.length>>1,c.length=0,h=!0}function M(N){for(var O,B,Z,D,U,z,G,ne,A,k,j,$,F=0;F<N.length;){var R=N[F];switch(F+=1,R){case 1:T();break;case 3:T();break;case 4:c.length>1&&!h&&(_=c.shift()+x,h=!0),f+=c.pop(),P(l,f);break;case 5:for(;c.length>0;)l+=c.shift(),f+=c.shift(),d.lineTo(l,f);break;case 6:for(;c.length>0&&(l+=c.shift(),d.lineTo(l,f),c.length!==0);)f+=c.shift(),d.lineTo(l,f);break;case 7:for(;c.length>0&&(f+=c.shift(),d.lineTo(l,f),c.length!==0);)l+=c.shift(),d.lineTo(l,f);break;case 8:for(;c.length>0;)n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s+c.shift(),d.curveTo(n,i,o,s,l,f);break;case 10:U=c.pop()+b,z=m[U],z&&M(z);break;case 11:return;case 12:switch(R=N[F],F+=1,R){case 35:n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),G=o+c.shift(),ne=s+c.shift(),A=G+c.shift(),k=ne+c.shift(),j=A+c.shift(),$=k+c.shift(),l=j+c.shift(),f=$+c.shift(),c.shift(),d.curveTo(n,i,o,s,G,ne),d.curveTo(A,k,j,$,l,f);break;case 34:n=l+c.shift(),i=f,o=n+c.shift(),s=i+c.shift(),G=o+c.shift(),ne=s,A=G+c.shift(),k=s,j=A+c.shift(),$=f,l=j+c.shift(),d.curveTo(n,i,o,s,G,ne),d.curveTo(A,k,j,$,l,f);break;case 36:n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),G=o+c.shift(),ne=s,A=G+c.shift(),k=s,j=A+c.shift(),$=k+c.shift(),l=j+c.shift(),d.curveTo(n,i,o,s,G,ne),d.curveTo(A,k,j,$,l,f);break;case 37:n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),G=o+c.shift(),ne=s+c.shift(),A=G+c.shift(),k=ne+c.shift(),j=A+c.shift(),$=k+c.shift(),Math.abs(j-l)>Math.abs($-f)?l=j+c.shift():f=$+c.shift(),d.curveTo(n,i,o,s,G,ne),d.curveTo(A,k,j,$,l,f);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+R),c.length=0}break;case 14:c.length>0&&!h&&(_=c.shift()+x,h=!0),p&&(d.closePath(),p=!1);break;case 18:T();break;case 19:case 20:T(),F+=u+7>>3;break;case 21:c.length>2&&!h&&(_=c.shift()+x,h=!0),f+=c.pop(),l+=c.pop(),P(l,f);break;case 22:c.length>1&&!h&&(_=c.shift()+x,h=!0),l+=c.pop(),P(l,f);break;case 23:T();break;case 24:for(;c.length>2;)n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s+c.shift(),d.curveTo(n,i,o,s,l,f);l+=c.shift(),f+=c.shift(),d.lineTo(l,f);break;case 25:for(;c.length>6;)l+=c.shift(),f+=c.shift(),d.lineTo(l,f);n=l+c.shift(),i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s+c.shift(),d.curveTo(n,i,o,s,l,f);break;case 26:for(c.length%2&&(l+=c.shift());c.length>0;)n=l,i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o,f=s+c.shift(),d.curveTo(n,i,o,s,l,f);break;case 27:for(c.length%2&&(f+=c.shift());c.length>0;)n=l+c.shift(),i=f,o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s,d.curveTo(n,i,o,s,l,f);break;case 28:O=N[F],B=N[F+1],c.push((O<<24|B<<16)>>16),F+=2;break;case 29:U=c.pop()+e.gsubrsBias,z=e.gsubrs[U],z&&M(z);break;case 30:for(;c.length>0&&(n=l,i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s+(c.length===1?c.shift():0),d.curveTo(n,i,o,s,l,f),c.length!==0);)n=l+c.shift(),i=f,o=n+c.shift(),s=i+c.shift(),f=s+c.shift(),l=o+(c.length===1?c.shift():0),d.curveTo(n,i,o,s,l,f);break;case 31:for(;c.length>0&&(n=l+c.shift(),i=f,o=n+c.shift(),s=i+c.shift(),f=s+c.shift(),l=o+(c.length===1?c.shift():0),d.curveTo(n,i,o,s,l,f),c.length!==0);)n=l,i=f+c.shift(),o=n+c.shift(),s=i+c.shift(),l=o+c.shift(),f=s+(c.length===1?c.shift():0),d.curveTo(n,i,o,s,l,f);break;default:R<32?console.log("Glyph "+t.index+": unknown operator "+R):R<247?c.push(R-139):R<251?(O=N[F],F+=1,c.push((R-247)*256+O+108)):R<255?(O=N[F],F+=1,c.push(-(R-251)*256-O-108)):(O=N[F],B=N[F+1],Z=N[F+2],D=N[F+3],F+=4,c.push((O<<24|B<<16|Z<<8|D)/65536))}}}return M(r),t.advanceWidth=_,d}function GI(e,t,r,n){var i=[],o,s=new Qe.Parser(e,t),d=s.parseCard8();if(d===0)for(var c=0;c<r;c++){if(o=s.parseCard8(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");i.push(o)}else if(d===3){var u=s.parseCard16(),h=s.parseCard16();if(h!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var p,l=0;l<u;l++){if(o=s.parseCard8(),p=s.parseCard16(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");if(p>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+p);for(;h<p;h++)i.push(o);h=p}if(p!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+p)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+d);return i}function ZI(e,t,r,n){r.tables.cff={};var i=UI(e,t),o=Za(e,i.endOffset,Qe.bytesToString),s=Za(e,o.endOffset),d=Za(e,s.endOffset,Qe.bytesToString),c=Za(e,d.endOffset);r.gsubrs=c.objects,r.gsubrsBias=Qp(r.gsubrs);var u=Ey(e,t,s.objects,d.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var h=u[0];if(r.tables.cff.topDict=h,h._privateDict&&(r.defaultWidthX=h._privateDict.defaultWidthX,r.nominalWidthX=h._privateDict.nominalWidthX),h.ros[0]!==void 0&&h.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var p=h.fdArray,l=h.fdSelect;if(p===0||l===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");p+=t;var f=Za(e,p),m=Ey(e,t,f.objects,d.objects);h._fdArray=m,l+=t,h._fdSelect=GI(e,l,r.numGlyphs,m.length)}var b=t+h.private[1],S=__(e,b,h.private[0],d.objects);if(r.defaultWidthX=S.defaultWidthX,r.nominalWidthX=S.nominalWidthX,S.subrs!==0){var x=b+S.subrs,w=Za(e,x);r.subrs=w.objects,r.subrsBias=Qp(r.subrs)}else r.subrs=[],r.subrsBias=0;var y;n.lowMemory?(y=MI(e,t+h.charStrings),r.nGlyphs=y.offsets.length):(y=Za(e,t+h.charStrings),r.nGlyphs=y.objects.length);var _=WI(e,t+h.charset,r.nGlyphs,d.objects);if(h.encoding===0?r.cffEncoding=new ah(PI,_):h.encoding===1?r.cffEncoding=new ah($I,_):r.cffEncoding=HI(e,t+h.encoding,_),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new Kn.GlyphSet(r),n.lowMemory)r._push=function(M){var N=LI(M,y.offsets,e,t+h.charStrings);r.glyphs.push(M,Kn.cffGlyphLoader(r,M,zy,N))};else for(var P=0;P<r.nGlyphs;P+=1){var T=y.objects[P];r.glyphs.push(P,Kn.cffGlyphLoader(r,P,zy,T))}}function j_(e,t){var r,n=Vd.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+Vd.length:(r=Vd.length+t.length,t.push(e)),r}function qI(){return new Xe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function XI(e){var t=new Xe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function P_(e,t,r){for(var n={},i=0;i<e.length;i+=1){var o=e[i],s=t[o.name];s!==void 0&&!x_(s,o.value)&&(o.type==="SID"&&(s=j_(s,r)),n[o.op]={name:o.name,type:o.type,value:s})}return n}function Dy(e,t){var r=new Xe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=P_(k_,e,t),r}function Oy(e){var t=new Xe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function YI(e){var t=new Xe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function KI(){return new Xe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function JI(e,t){for(var r=new Xe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=e[n],o=j_(i,t);r.fields.push({name:"glyph_"+n,type:"SID",value:o})}return r}function QI(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,i=0,o=0;o<r.commands.length;o+=1){var s=void 0,d=void 0,c=r.commands[o];if(c.type==="Q"){var u=.3333333333333333,h=2/3;c={type:"C",x:c.x,y:c.y,x1:Math.round(u*n+h*c.x1),y1:Math.round(u*i+h*c.y1),x2:Math.round(u*c.x+h*c.x1),y2:Math.round(u*c.y+h*c.y1)}}if(c.type==="M")s=Math.round(c.x-n),d=Math.round(c.y-i),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(c.x),i=Math.round(c.y);else if(c.type==="L")s=Math.round(c.x-n),d=Math.round(c.y-i),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(c.x),i=Math.round(c.y);else if(c.type==="C"){var p=Math.round(c.x1-n),l=Math.round(c.y1-i),f=Math.round(c.x2-c.x1),m=Math.round(c.y2-c.y1);s=Math.round(c.x-c.x2),d=Math.round(c.y-c.y2),t.push({name:"dx1",type:"NUMBER",value:p}),t.push({name:"dy1",type:"NUMBER",value:l}),t.push({name:"dx2",type:"NUMBER",value:f}),t.push({name:"dy2",type:"NUMBER",value:m}),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(c.x),i=Math.round(c.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function eT(e){for(var t=new Xe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=QI(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}function tT(e,t){var r=new Xe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=P_(C_,e,t),r}function rT(e,t){for(var r=new Xe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},s=[],d,c=1;c<e.length;c+=1)d=e.get(c),s.push(d.name);var u=[];r.header=qI(),r.nameIndex=XI([t.postScriptName]);var h=Dy(i,u);r.topDictIndex=Oy(h),r.globalSubrIndex=KI(),r.charsets=JI(s,u),r.charStringsIndex=eT(e),r.privateDict=tT(o,u),r.stringIndex=YI(u);var p=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return i.charset=p,i.encoding=0,i.charStrings=i.charset+r.charsets.sizeOf(),i.private[1]=i.charStrings+r.charStringsIndex.sizeOf(),h=Dy(i,u),r.topDictIndex=Oy(h),r}var $_={parse:ZI,make:rT};function nT(e,t){var r={},n=new Qe.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),lt.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function aT(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new Xe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var I_={parse:nT,make:aT};function iT(e,t){var r={},n=new Qe.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function oT(e){return new Xe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var T_={parse:iT,make:oT};function sT(e,t,r,n,i){for(var o,s,d=new Qe.Parser(e,t),c=0;c<n;c+=1){c<r&&(o=d.parseUShort(),s=d.parseShort());var u=i.get(c);u.advanceWidth=o,u.leftSideBearing=s}}function lT(e,t,r,n,i){e._hmtxTableData={};for(var o,s,d=new Qe.Parser(t,r),c=0;c<i;c+=1)c<n&&(o=d.parseUShort(),s=d.parseShort()),e._hmtxTableData[c]={advanceWidth:o,leftSideBearing:s}}function cT(e,t,r,n,i,o,s){s.lowMemory?lT(e,t,r,n,i):sT(t,r,n,i,o)}function uT(e){for(var t=new Xe.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),i=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}var N_={parse:cT,make:uT};function dT(e){for(var t=new Xe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+e.length*4,i=0;i<e.length;++i){var o=r.indexOf(e[i]);o<0&&(o=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function hT(e,t){var r=new Qe.Parser(e,t),n=r.parseULong();lt.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var i=r.parseULong(),o=[],s=0;s<i;s++){for(var d="",c=t+r.parseUShort(),u=r.parseUShort(),h=c;h<c+u;++h)d+=String.fromCharCode(e.getInt8(h));o.push(d)}return o}var E_={make:dT,parse:hT};function fT(e,t){var r={},n=new Qe.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function pT(e){return new Xe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var z_={parse:fT,make:pT},D_=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],O_={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},mT={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},F_={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function gT(e,t,r){switch(e){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return O_[t];case 3:return F_[t]}}var em="utf-16",vT={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},bT={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function M_(e,t,r){switch(e){case 0:return em;case 1:return bT[r]||vT[t];case 3:if(t===1||t===10)return em;break}}function yT(e,t,r){for(var n={},i=new Qe.Parser(e,t),o=i.parseUShort(),s=i.parseUShort(),d=i.offset+i.parseUShort(),c=0;c<s;c++){var u=i.parseUShort(),h=i.parseUShort(),p=i.parseUShort(),l=i.parseUShort(),f=D_[l]||l,m=i.parseUShort(),b=i.parseUShort(),S=gT(u,p,r),x=M_(u,h,p);if(x!==void 0&&S!==void 0){var w=void 0;if(x===em?w=ps.UTF16(e,d+b,m):w=ps.MACSTRING(e,d+b,m,x),w){var y=n[f];y===void 0&&(y=n[f]={}),y[S]=w}}}return o===1&&i.parseUShort(),n}function op(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Fy(e,t,r,n,i,o){return new Xe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function xT(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;i<n;i++)for(;i<n;i++){for(var o=0;o<r;o++)if(t[i+o]!==e[o])continue e;return i}return-1}function My(e,t){var r=xT(e,t);if(r<0){r=t.length;for(var n=0,i=e.length;n<i;++n)t.push(e[n])}return r}function wT(e,t){var r,n=[],i={},o=op(D_);for(var s in e){var d=o[s];if(d===void 0&&(d=s),r=parseInt(d),isNaN(r))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');i[r]=e[s],n.push(r)}for(var c=op(O_),u=op(F_),h=[],p=[],l=0;l<n.length;l++){r=n[l];var f=i[r];for(var m in f){var b=f[m],S=1,x=c[m],w=mT[x],y=M_(S,w,x),_=He.MACSTRING(b,y);_===void 0&&(S=0,x=t.indexOf(m),x<0&&(x=t.length,t.push(m)),w=4,_=He.UTF16(b));var P=My(_,p);h.push(Fy(S,w,x,r,_.length,P));var T=u[m];if(T!==void 0){var M=He.UTF16(b),N=My(M,p);h.push(Fy(3,1,T,r,M.length,N))}}}h.sort(function(Z,D){return Z.platformID-D.platformID||Z.encodingID-D.encodingID||Z.languageID-D.languageID||Z.nameID-D.nameID});for(var O=new Xe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:h.length},{name:"stringOffset",type:"USHORT",value:6+h.length*12}]),B=0;B<h.length;B++)O.fields.push({name:"record_"+B,type:"RECORD",value:h[B]});return O.fields.push({name:"strings",type:"LITERAL",value:p}),O}var L_={parse:yT,make:wT},tm=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function ST(e){for(var t=0;t<tm.length;t+=1){var r=tm[t];if(e>=r.begin&&e<r.end)return t}return-1}function kT(e,t){var r={},n=new Qe.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;i<10;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function CT(e){return new Xe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var rm={parse:kT,make:CT,unicodeRanges:tm,getUnicodeRange:ST};function _T(e,t){var r={},n=new Qe.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=$i.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.glyphNameIndex[i]=n.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=$i.length){var s=n.parseChar();r.names.push(n.parseString(s))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var d=0;d<r.numberOfGlyphs;d++)r.offset[d]=n.parseChar();break}return r}function jT(){return new Xe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var A_={parse:_T,make:jT},_n=new Array(9);_n[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(Ne.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(Ne.coverage),substitute:this.parseOffset16List()};lt.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};_n[2]=function(){var t=this.parseUShort();return lt.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(Ne.coverage),sequences:this.parseListOfLists()}};_n[3]=function(){var t=this.parseUShort();return lt.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(Ne.coverage),alternateSets:this.parseListOfLists()}};_n[4]=function(){var t=this.parseUShort();return lt.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(Ne.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var ds={sequenceIndex:Ne.uShort,lookupListIndex:Ne.uShort};_n[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(Ne.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,ds)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(Ne.coverage),classDef:this.parsePointer(Ne.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,ds)}})};if(r===3){var n=this.parseUShort(),i=this.parseUShort();return{substFormat:r,coverages:this.parseList(n,Ne.pointer(Ne.coverage)),lookupRecords:this.parseRecordList(i,ds)}}lt.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};_n[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(Ne.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ds)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(Ne.coverage),backtrackClassDef:this.parsePointer(Ne.classDef),inputClassDef:this.parsePointer(Ne.classDef),lookaheadClassDef:this.parsePointer(Ne.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ds)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(Ne.pointer(Ne.coverage)),inputCoverage:this.parseList(Ne.pointer(Ne.coverage)),lookaheadCoverage:this.parseList(Ne.pointer(Ne.coverage)),lookupRecords:this.parseRecordList(ds)};lt.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};_n[7]=function(){var t=this.parseUShort();lt.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),n=new Ne(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:_n[r].call(n)}};_n[8]=function(){var t=this.parseUShort();return lt.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(Ne.coverage),backtrackCoverage:this.parseList(Ne.pointer(Ne.coverage)),lookaheadCoverage:this.parseList(Ne.pointer(Ne.coverage)),substitutes:this.parseUShortList()}};function PT(e,t){t=t||0;var r=new Ne(e,t),n=r.parseVersion(1);return lt.argument(n===1||n===1.1,"Unsupported GSUB table version."),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(_n)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(_n),variations:r.parseFeatureVariationsList()}}var gs=new Array(9);gs[1]=function(t){return t.substFormat===1?new Xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new Xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)}].concat(Xe.ushortList("substitute",t.substitute)))};gs[2]=function(t){return lt.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new Xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)}].concat(Xe.tableList("seqSet",t.sequences,function(r){return new Xe.Table("sequenceSetTable",Xe.ushortList("sequence",r))})))};gs[3]=function(t){return lt.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new Xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)}].concat(Xe.tableList("altSet",t.alternateSets,function(r){return new Xe.Table("alternateSetTable",Xe.ushortList("alternate",r))})))};gs[4]=function(t){return lt.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new Xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)}].concat(Xe.tableList("ligSet",t.ligatureSets,function(r){return new Xe.Table("ligatureSetTable",Xe.tableList("ligature",r,function(n){return new Xe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(Xe.ushortList("component",n.components,n.components.length+1)))}))})))};gs[6]=function(t){if(t.substFormat===1){var r=new Xe.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new Xe.Coverage(t.coverage)}].concat(Xe.tableList("chainRuleSet",t.chainRuleSets,function(o){return new Xe.Table("chainRuleSetTable",Xe.tableList("chainRule",o,function(s){var d=Xe.ushortList("backtrackGlyph",s.backtrack,s.backtrack.length).concat(Xe.ushortList("inputGlyph",s.input,s.input.length+1)).concat(Xe.ushortList("lookaheadGlyph",s.lookahead,s.lookahead.length)).concat(Xe.ushortList("substitution",[],s.lookupRecords.length));return s.lookupRecords.forEach(function(c,u){d=d.concat({name:"sequenceIndex"+u,type:"USHORT",value:c.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:c.lookupListIndex})}),new Xe.Table("chainRuleTable",d)}))})));return r}else if(t.substFormat===2)lt.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,s){n.push({name:"backtrackCoverage"+s,type:"TABLE",value:new Xe.Coverage(o)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,s){n.push({name:"inputCoverage"+s,type:"TABLE",value:new Xe.Coverage(o)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,s){n.push({name:"lookaheadCoverage"+s,type:"TABLE",value:new Xe.Coverage(o)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,s){n=n.concat({name:"sequenceIndex"+s,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+s,type:"USHORT",value:o.lookupListIndex})});var i=new Xe.Table("chainContextTable",n);return i}lt.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function $T(e){return new Xe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xe.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Xe.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Xe.LookupList(e.lookups,gs)}])}var R_={parse:PT,make:$T};function IT(e,t){var r=new Qe.Parser(e,t),n=r.parseULong();lt.argument(n===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var i=r.parseULong(),o={},s=0;s<i;s++){var d=r.parseTag(),c=r.parseULong(),u=r.parseULong(),h=ps.UTF8(e,t+c,u);o[d]=h}return o}function TT(e){var t=Object.keys(e).length,r="",n=16+t*12,i=new Xe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var s=r.length;r+=e[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:n+s}),i.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),i}var B_={parse:IT,make:TT};function Ly(e){return Math.log(e)/Math.log(2)|0}function z0(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32),t}function Ay(e,t,r,n){return new Xe.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function U_(e){var t=new Xe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,Ly(t.numTables));t.searchRange=16*r,t.entrySelector=Ly(r),t.rangeShift=t.numTables*16-t.searchRange;for(var n=[],i=[],o=t.sizeOf()+Ay().sizeOf()*t.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<e.length;s+=1){var d=e[s];lt.argument(d.tableName.length===4,"Table name"+d.tableName+" is invalid.");var c=d.sizeOf(),u=Ay(d.tableName,z0(d.encode()),o,c);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:d.tableName+" table",type:"RECORD",value:d}),o+=c,lt.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(h,p){return h.value.tag>p.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(i),t}function Ry(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(i>0){var o=e.glyphs.get(i);return o.getMetrics()}}return r}function NT(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function ET(e){for(var t=[],r=[],n=[],i=[],o=[],s=[],d=[],c,u=0,h=0,p=0,l=0,f=0,m=0;m<e.glyphs.length;m+=1){var b=e.glyphs.get(m),S=b.unicode|0;if(isNaN(b.advanceWidth))throw new Error("Glyph "+b.name+" ("+m+"): advanceWidth is not a number.");(c>S||c===void 0)&&S>0&&(c=S),u<S&&(u=S);var x=rm.getUnicodeRange(S);if(x<32)h|=1<<x;else if(x<64)p|=1<<x-32;else if(x<96)l|=1<<x-64;else if(x<123)f|=1<<x-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(b.name!==".notdef"){var w=b.getMetrics();t.push(w.xMin),r.push(w.yMin),n.push(w.xMax),i.push(w.yMax),s.push(w.leftSideBearing),d.push(w.rightSideBearing),o.push(b.advanceWidth)}}var y={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:NT(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,d)};y.ascender=e.ascender,y.descender=e.descender;var _=I_.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),P=T_.make({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:e.glyphs.length}),T=z_.make(e.glyphs.length),M=rm.make(Object.assign({xAvgCharWidth:Math.round(y.advanceWidthAvg),usFirstCharIndex:c,usLastCharIndex:u,ulUnicodeRange1:h,ulUnicodeRange2:p,ulUnicodeRange3:l,ulUnicodeRange4:f,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:Ry(e,"xyvw",{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:Ry(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",y).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),N=N_.make(e.glyphs),O=v_.make(e.glyphs),B=e.getEnglishName("fontFamily"),Z=e.getEnglishName("fontSubfamily"),D=B+" "+Z,U=e.getEnglishName("postScriptName");U||(U=B.replace(/\s/g,"")+"-"+Z);var z={};for(var G in e.names)z[G]=e.names[G];z.uniqueID||(z.uniqueID={en:e.getEnglishName("manufacturer")+":"+D}),z.postScriptName||(z.postScriptName={en:U}),z.preferredFamily||(z.preferredFamily=e.names.fontFamily),z.preferredSubfamily||(z.preferredSubfamily=e.names.fontSubfamily);var ne=[],A=L_.make(z,ne),k=ne.length>0?E_.make(ne):void 0,j=A_.make(),$=$_.make(e.glyphs,{version:e.getEnglishName("version"),fullName:D,familyName:B,weightName:Z,postScriptName:U,unitsPerEm:e.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),F=e.metas&&Object.keys(e.metas).length>0?B_.make(e.metas):void 0,R=[_,P,T,M,A,O,j,$,N];k&&R.push(k),e.tables.gsub&&R.push(R_.make(e.tables.gsub)),F&&R.push(F);for(var W=U_(R),Y=W.encode(),te=z0(Y),ie=W.fields,J=!1,ee=0;ee<ie.length;ee+=1)if(ie[ee].name==="head table"){ie[ee].value.checkSumAdjustment=2981146554-te,J=!0;break}if(!J)throw new Error("Could not find head table with checkSum to adjust.");return W}var zT={make:U_,fontToTable:ET,computeCheckSum:z0};function sp(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i].tag;if(o===t)return i;o<t?r=i+1:n=i-1}return-r-1}function By(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i];if(o===t)return i;o<t?r=i+1:n=i-1}return-r-1}function Uy(e,t){for(var r,n=0,i=e.length-1;n<=i;){var o=n+i>>>1;r=e[o];var s=r.start;if(s===t)return r;s<t?n=o+1:i=o-1}if(n>0)return r=e[n-1],t>r.end?0:r}function hu(e,t){this.font=e,this.tableName=t}hu.prototype={searchTag:sp,binSearch:By,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if(n==="DFLT")return n;n==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,i=sp(r.scripts,e);if(i>=0)return n[i].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-i,0,o),o.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||t==="dflt"||t==="DFLT")return n.defaultLangSys;var i=sp(n.langSysRecords,t);if(i>=0)return n.langSysRecords[i].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(e,t,r,n){var i=this.getLangSysTable(e,t,n);if(i){for(var o,s=i.featureIndexes,d=this.font.tables[this.tableName].features,c=0;c<s.length;c++)if(o=d[s[c]],o.tag===r)return o.feature;if(n){var u=d.length;return lt.assert(u===0||r>=d[u-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},d.push(o),s.push(u),o.feature}}},getLookupTables:function(e,t,r,n,i){var o=this.getFeatureTable(e,t,r,i),s=[];if(o){for(var d,c=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,h=0;h<c.length;h++)d=u[c[h]],d.lookupType===n&&s.push(d);if(s.length===0&&i){d={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var p=u.length;return u.push(d),c.push(p),[d]}}return s},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Uy(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=By(e.glyphs,t);return r>=0?r:-1;case 2:var n=Uy(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var i=r[n],o=i.start,s=i.end,d=o;d<=s;d++)t.push(d);return t}};function fu(e){hu.call(this,e,"gpos")}fu.prototype=hu.prototype;fu.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};fu.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=e[n].subtables,o=0;o<i.length;o++){var s=i[o],d=this.getCoverageIndex(s.coverage,t);if(!(d<0))switch(s.posFormat){case 1:for(var c=s.pairSets[d],u=0;u<c.length;u++){var h=c[u];if(h.secondGlyph===r)return h.value1&&h.value1.xAdvance||0}break;case 2:var p=this.getGlyphClass(s.classDef1,t),l=this.getGlyphClass(s.classDef2,r),f=s.classRecords[p][l];return f.value1&&f.value1.xAdvance||0}}return 0};fu.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function Qr(e){hu.call(this,e,"gsub")}function DT(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function D0(e,t,r){for(var n=e.subtables,i=0;i<n.length;i++){var o=n[i];if(o.substFormat===t)return o}if(r)return n.push(r),r}Qr.prototype=hu.prototype;Qr.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Qr.prototype.getSingle=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,1),o=0;o<i.length;o++)for(var s=i[o].subtables,d=0;d<s.length;d++){var c=s[d],u=this.expandCoverage(c.coverage),h=void 0;if(c.substFormat===1){var p=c.deltaGlyphId;for(h=0;h<u.length;h++){var l=u[h];n.push({sub:l,by:l+p})}}else{var f=c.substitute;for(h=0;h<u.length;h++)n.push({sub:u[h],by:f[h]})}}return n};Qr.prototype.getMultiple=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,2),o=0;o<i.length;o++)for(var s=i[o].subtables,d=0;d<s.length;d++){var c=s[d],u=this.expandCoverage(c.coverage),h=void 0;for(h=0;h<u.length;h++){var p=u[h],l=c.sequences[h];n.push({sub:p,by:l})}}return n};Qr.prototype.getAlternates=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,3),o=0;o<i.length;o++)for(var s=i[o].subtables,d=0;d<s.length;d++)for(var c=s[d],u=this.expandCoverage(c.coverage),h=c.alternateSets,p=0;p<u.length;p++)n.push({sub:u[p],by:h[p]});return n};Qr.prototype.getLigatures=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,4),o=0;o<i.length;o++)for(var s=i[o].subtables,d=0;d<s.length;d++)for(var c=s[d],u=this.expandCoverage(c.coverage),h=c.ligatureSets,p=0;p<u.length;p++)for(var l=u[p],f=h[p],m=0;m<f.length;m++){var b=f[m];n.push({sub:[l].concat(b.components),by:b.ligGlyph})}return n};Qr.prototype.addSingle=function(e,t,r,n){var i=this.getLookupTables(r,n,e,1,!0)[0],o=D0(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});lt.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var s=t.sub,d=this.binSearch(o.coverage.glyphs,s);d<0&&(d=-1-d,o.coverage.glyphs.splice(d,0,s),o.substitute.splice(d,0,0)),o.substitute[d]=t.by};Qr.prototype.addMultiple=function(e,t,r,n){lt.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(r,n,e,2,!0)[0],o=D0(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});lt.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var s=t.sub,d=this.binSearch(o.coverage.glyphs,s);d<0&&(d=-1-d,o.coverage.glyphs.splice(d,0,s),o.sequences.splice(d,0,0)),o.sequences[d]=t.by};Qr.prototype.addAlternate=function(e,t,r,n){var i=this.getLookupTables(r,n,e,3,!0)[0],o=D0(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});lt.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var s=t.sub,d=this.binSearch(o.coverage.glyphs,s);d<0&&(d=-1-d,o.coverage.glyphs.splice(d,0,s),o.alternateSets.splice(d,0,0)),o.alternateSets[d]=t.by};Qr.prototype.addLigature=function(e,t,r,n){var i=this.getLookupTables(r,n,e,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),lt.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=t.sub[0],d=t.sub.slice(1),c={ligGlyph:t.by,components:d},u=this.binSearch(o.coverage.glyphs,s);if(u>=0){for(var h=o.ligatureSets[u],p=0;p<h.length;p++)if(DT(h[p].components,d))return;h.push(c)}else u=-1-u,o.coverage.glyphs.splice(u,0,s),o.ligatureSets.splice(u,0,[c])};Qr.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}};Qr.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};function OT(){return typeof window<"u"}function FT(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}function rl(e,t){if(!e)throw t}function Vy(e,t,r,n,i){var o;return(t&n)>0?(o=e.parseByte(),(t&i)===0&&(o=-o),o=r+o):(t&i)>0?o=r:o=r+e.parseShort(),o}function V_(e,t,r){var n=new Qe.Parser(t,r);e.numberOfContours=n.parseShort(),e._xMin=n.parseShort(),e._yMin=n.parseShort(),e._xMax=n.parseShort(),e._yMax=n.parseShort();var i,o;if(e.numberOfContours>0){for(var s=e.endPointIndices=[],d=0;d<e.numberOfContours;d+=1)s.push(n.parseUShort());e.instructionLength=n.parseUShort(),e.instructions=[];for(var c=0;c<e.instructionLength;c+=1)e.instructions.push(n.parseByte());var u=s[s.length-1]+1;i=[];for(var h=0;h<u;h+=1)if(o=n.parseByte(),i.push(o),(o&8)>0)for(var p=n.parseByte(),l=0;l<p;l+=1)i.push(o),h+=1;if(lt.argument(i.length===u,"Bad flags."),s.length>0){var f=[],m;if(u>0){for(var b=0;b<u;b+=1)o=i[b],m={},m.onCurve=!!(o&1),m.lastPointOfContour=s.indexOf(b)>=0,f.push(m);for(var S=0,x=0;x<u;x+=1)o=i[x],m=f[x],m.x=Vy(n,o,S,2,16),S=m.x;for(var w=0,y=0;y<u;y+=1)o=i[y],m=f[y],m.y=Vy(n,o,w,4,32),w=m.y}e.points=f}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var _=!0;_;){i=n.parseUShort();var P={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(P.dx=n.parseShort(),P.dy=n.parseShort()):P.matchedPoints=[n.parseUShort(),n.parseUShort()]:(i&2)>0?(P.dx=n.parseChar(),P.dy=n.parseChar()):P.matchedPoints=[n.parseByte(),n.parseByte()],(i&8)>0?P.xScale=P.yScale=n.parseF2Dot14():(i&64)>0?(P.xScale=n.parseF2Dot14(),P.yScale=n.parseF2Dot14()):(i&128)>0&&(P.xScale=n.parseF2Dot14(),P.scale01=n.parseF2Dot14(),P.scale10=n.parseF2Dot14(),P.yScale=n.parseF2Dot14()),e.components.push(P),_=!!(i&32)}if(i&256){e.instructionLength=n.parseUShort(),e.instructions=[];for(var T=0;T<e.instructionLength;T+=1)e.instructions.push(n.parseByte())}}}function lp(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],o={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};r.push(o)}return r}function MT(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return lt.argument(r.length===0,"There are still points left in the current contour."),t}function W_(e){var t=new dr;if(!e)return t;for(var r=MT(e),n=0;n<r.length;++n){var i=r[n],o=null,s=i[i.length-1],d=i[0];if(s.onCurve)t.moveTo(s.x,s.y);else if(d.onCurve)t.moveTo(d.x,d.y);else{var c={x:(s.x+d.x)*.5,y:(s.y+d.y)*.5};t.moveTo(c.x,c.y)}for(var u=0;u<i.length;++u)if(o=s,s=d,d=i[(u+1)%i.length],s.onCurve)t.lineTo(s.x,s.y);else{var h=d;o.onCurve||((s.x+o.x)*.5,(s.y+o.y)*.5),d.onCurve||(h={x:(s.x+d.x)*.5,y:(s.y+d.y)*.5}),t.quadraticCurveTo(s.x,s.y,h.x,h.y)}t.closePath()}return t}function H_(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(n.matchedPoints===void 0)o=lp(i.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var s=t.points[n.matchedPoints[0]],d=i.points[n.matchedPoints[1]],c={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};d=lp([d],c)[0],c.dx=s.x-d.x,c.dy=s.y-d.y,o=lp(i.points,c)}t.points=t.points.concat(o)}}return W_(t.points)}function LT(e,t,r,n){for(var i=new Kn.GlyphSet(n),o=0;o<r.length-1;o+=1){var s=r[o],d=r[o+1];s!==d?i.push(o,Kn.ttfGlyphLoader(n,o,V_,e,t+s,H_)):i.push(o,Kn.glyphLoader(n,o))}return i}function AT(e,t,r,n){var i=new Kn.GlyphSet(n);return n._push=function(o){var s=r[o],d=r[o+1];s!==d?i.push(o,Kn.ttfGlyphLoader(n,o,V_,e,t+s,H_)):i.push(o,Kn.glyphLoader(n,o))},i}function RT(e,t,r,n,i){return i.lowMemory?AT(e,t,r,n):LT(e,t,r,n)}var G_={getPath:W_,parse:RT},Z_,Ti,q_,nm;function X_(e){this.font=e,this.getCommands=function(t){return G_.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function BT(e){return e}function Y_(e){return Math.sign(e)*Math.round(Math.abs(e))}function UT(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function VT(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function WT(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function HT(e){return Math.sign(e)*Math.floor(Math.abs(e))}var K_=function(e){var t=this.srPeriod,r=this.srPhase,n=this.srThreshold,i=1;return e<0&&(e=-e,i=-1),e+=n-r,e=Math.trunc(e/t)*t,e+=r,e<0?r*i:e*i},Yn={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var i,o,s,d,c,u,h;if(!n||n===this){if(i=e.xo-t.xo,o=e.xo-r.xo,c=t.x-t.xo,u=r.x-r.xo,s=Math.abs(i),d=Math.abs(o),h=s+d,h===0){e.x=e.xo+(c+u)/2;return}e.x=e.xo+(c*d+u*s)/h;return}if(i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),c=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),s=Math.abs(i),d=Math.abs(o),h=s+d,h===0){Yn.setRelative(e,e,(c+u)/2,n,!0);return}Yn.setRelative(e,e,(c*d+u*s)/h,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,i){if(!n||n===this){e.x=(i?t.xo:t.x)+r;return}var o=i?t.xo:t.x,s=i?t.yo:t.y,d=o+r*n.x,c=s+r*n.y;e.x=d+(e.y-c)/n.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},ka={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var i,o,s,d,c,u,h;if(!n||n===this){if(i=e.yo-t.yo,o=e.yo-r.yo,c=t.y-t.yo,u=r.y-r.yo,s=Math.abs(i),d=Math.abs(o),h=s+d,h===0){e.y=e.yo+(c+u)/2;return}e.y=e.yo+(c*d+u*s)/h;return}if(i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),c=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),s=Math.abs(i),d=Math.abs(o),h=s+d,h===0){ka.setRelative(e,e,(c+u)/2,n,!0);return}ka.setRelative(e,e,(c*d+u*s)/h,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,i){if(!n||n===this){e.y=(i?t.yo:t.y)+r;return}var o=i?t.xo:t.x,s=i?t.yo:t.y,d=o+r*n.x,c=s+r*n.y;e.y=c+n.normalSlope*(e.x-d)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(Yn);Object.freeze(ka);function pu(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}pu.prototype.distance=function(e,t,r,n){return this.x*Yn.distance(e,t,r,n)+this.y*ka.distance(e,t,r,n)};pu.prototype.interpolate=function(e,t,r,n){var i,o,s,d,c,u,h;if(s=n.distance(e,t,!0,!0),d=n.distance(e,r,!0,!0),i=n.distance(t,t,!1,!0),o=n.distance(r,r,!1,!0),c=Math.abs(s),u=Math.abs(d),h=c+u,h===0){this.setRelative(e,e,(i+o)/2,n,!0);return}this.setRelative(e,e,(i*u+o*c)/h,n,!0)};pu.prototype.setRelative=function(e,t,r,n,i){n=n||this;var o=i?t.xo:t.x,s=i?t.yo:t.y,d=o+r*n.x,c=s+r*n.y,u=n.normalSlope,h=this.slope,p=e.x,l=e.y;e.x=(h*p-u*d+c-l)/(h-u),e.y=h*(e.x-p)+l};pu.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function mu(e,t){var r=Math.sqrt(e*e+t*t);return e/=r,t/=r,e===1&&t===0?Yn:e===0&&t===1?ka:new pu(e,t)}function Ca(e,t,r,n){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Ca.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};Ca.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var ru=Object.freeze(new Ca(0,0)),GT={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ka(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yn,this.round=Y_}}X_.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var i=this._fpgmState;if(!i){Ka.prototype=GT,i=this._fpgmState=new Ka("fpgm",r.tables.fpgm),i.funcs=[],i.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Ti(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}Ka.prototype=i,n=this._prepState=new Ka("prep",r.tables.prep),n.ppem=t;var o=r.tables.cvt;if(o)for(var s=n.cvt=new Array(o.length),d=t/r.unitsPerEm,c=0;c<o.length;c++)s[c]=o[c]*d;else n.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{Ti(n)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return q_(e,n)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};q_=function(e,t){var r=t.ppem/t.font.unitsPerEm,n=r,i=e.components,o,s,d;if(Ka.prototype=t,!i)d=new Ka("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),d.step=-1),nm(e,d,r,n),s=d.gZone;else{var c=t.font;s=[],o=[];for(var u=0;u<i.length;u++){var h=i[u],p=c.glyphs.get(h.glyphIndex);d=new Ka("glyf",p.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),d.step=-1),nm(p,d,r,n);for(var l=Math.round(h.dx*r),f=Math.round(h.dy*n),m=d.gZone,b=d.contours,S=0;S<m.length;S++){var x=m[S];x.xTouched=x.yTouched=!1,x.xo=x.x=x.x+l,x.yo=x.y=x.y+f}var w=s.length;s.push.apply(s,m);for(var y=0;y<b.length;y++)o.push(b[y]+w)}e.instructions&&!d.inhibitGridFit&&(d=new Ka("glyf",e.instructions),d.gZone=d.z0=d.z1=d.z2=s,d.contours=o,s.push(new Ca(0,0),new Ca(Math.round(e.advanceWidth*r),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),d.step=-1),Ti(d),s.length-=2)}return s};nm=function(e,t,r,n){for(var i=e.points||[],o=i.length,s=t.gZone=t.z0=t.z1=t.z2=[],d=t.contours=[],c,u=0;u<o;u++)c=i[u],s[u]=new Ca(c.x*r,c.y*n,c.lastPointOfContour,c.onCurve);for(var h,p,l=0;l<o;l++)c=s[l],h||(h=c,d.push(l)),c.lastPointOfContour?(c.nextPointOnContour=h,h.prevPointOnContour=c,h=void 0):(p=s[l+1],c.nextPointOnContour=p,p.prevPointOnContour=c);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var f=0;f<o;f++)console.log(f,s[f].x,s[f].y)}if(s.push(new Ca(0,0),new Ca(Math.round(e.advanceWidth*r),0)),Ti(t),s.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var m=0;m<o;m++)console.log(m,s[m].x,s[m].y)}}};Ti=function(e){var t=e.prog;if(t){var r=t.length,n;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,n=Z_[t[e.ip]],!n)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}};function fh(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Ca(0,0)}function J_(e,t){var r=e.prog,n=e.ip,i=1,o;do if(o=r[++n],o===88)i++;else if(o===89)i--;else if(o===64)n+=r[n+1]+1;else if(o===65)n+=2*r[n+1]+1;else if(o>=176&&o<=183)n+=o-176+1;else if(o>=184&&o<=191)n+=(o-184+1)*2;else if(t&&i===1&&o===27)break;while(i>0);e.ip=n}function Wy(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function Hy(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Gy(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function Zy(e,t){var r=t.stack,n=r.pop(),i=r.pop(),o=t.z2[n],s=t.z1[i];exports.DEBUG&&console.log("SPVTL["+e+"]",n,i);var d,c;e?(d=o.y-s.y,c=s.x-o.x):(d=s.x-o.x,c=s.y-o.y),t.pv=t.dpv=mu(d,c)}function qy(e,t){var r=t.stack,n=r.pop(),i=r.pop(),o=t.z2[n],s=t.z1[i];exports.DEBUG&&console.log("SFVTL["+e+"]",n,i);var d,c;e?(d=o.y-s.y,c=s.x-o.x):(d=s.x-o.x,c=s.y-o.y),t.fv=mu(d,c)}function ZT(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=mu(n,r)}function qT(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=mu(n,r)}function XT(e){var t=e.stack,r=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function YT(e){var t=e.stack,r=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function KT(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")}function JT(e){var t=e.stack,r=t.pop(),n=t.pop(),i=t.pop(),o=t.pop(),s=t.pop(),d=e.z0,c=e.z1,u=d[r],h=d[n],p=c[i],l=c[o],f=e.z2[s];exports.DEBUG&&console.log("ISECT[], ",r,n,i,o,s);var m=u.x,b=u.y,S=h.x,x=h.y,w=p.x,y=p.y,_=l.x,P=l.y,T=(m-S)*(y-P)-(b-x)*(w-_),M=m*x-b*S,N=w*P-y*_;f.x=(M*(w-_)-N*(m-S))/T,f.y=(M*(y-P)-N*(b-x))/T}function QT(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function eN(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function tN(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function rN(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||fh(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function nN(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||fh(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function aN(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||fh(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function iN(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||fh(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function oN(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function sN(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Y_}function lN(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=VT}function cN(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function uN(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),J_(e,!1)}function dN(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function hN(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function fN(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function cp(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function pN(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function mN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)}function gN(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function vN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var i=e.ip,o=e.prog;e.prog=e.funcs[r];for(var s=0;s<n;s++)Ti(e),exports.DEBUG&&console.log(++e.step,s+1<n?"next loopcall":"done loopcall",s);e.ip=i,e.prog=o}function bN(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],Ti(e),e.ip=r,e.prog=n,exports.DEBUG&&console.log(++e.step,"returning from",t)}function yN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])}function xN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function wN(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,i=t.pop(),o=n;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);r[++n]!==45;);e.ip=n,e.funcs[i]=r.slice(o+1,n)}function Xy(e,t){var r=t.stack.pop(),n=t.z0[r],i=t.fv,o=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var s=o.distance(n,ru);e&&(s=t.round(s)),i.setRelative(n,ru,s,o),i.touch(n),t.rp0=t.rp1=r}function Yy(e,t){var r=t.z2,n=r.length-2,i,o,s;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var d=0;d<n;d++)i=r[d],!e.touched(i)&&(o=i.prevTouched(e),o!==i&&(s=i.nextTouched(e),o===s&&e.setRelative(i,i,e.distance(o,o,!1,!0),e,!0),e.interpolate(i,o,s,e)))}function Ky(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[n],o=t.fv,s=t.pv,d=t.loop,c=t.z2;d--;){var u=r.pop(),h=c[u],p=s.distance(i,i,!1,!0);o.setRelative(h,h,p,s),o.touch(h),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-d)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function Jy(e,t){var r=t.stack,n=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[n],o=t.fv,s=t.pv,d=r.pop(),c=t.z2[t.contours[d]],u=c;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",d);var h=s.distance(i,i,!1,!0);do u!==i&&o.setRelative(u,u,h,s),u=u.nextPointOnContour;while(u!==c)}function Qy(e,t){var r=t.stack,n=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[n],o=t.fv,s=t.pv,d=r.pop();exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",d);var c;switch(d){case 0:c=t.tZone;break;case 1:c=t.gZone;break;default:throw new Error("Invalid zone")}for(var u,h=s.distance(i,i,!1,!0),p=c.length-2,l=0;l<p;l++)u=c[l],o.setRelative(u,u,h,s)}function SN(e){for(var t=e.stack,r=e.loop,n=e.fv,i=t.pop()/64,o=e.z2;r--;){var s=t.pop(),d=o[s];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",s,i),n.setRelative(d,d,i),n.touch(d)}e.loop=1}function kN(e){for(var t=e.stack,r=e.rp1,n=e.rp2,i=e.loop,o=e.z0[r],s=e.z1[n],d=e.fv,c=e.dpv,u=e.z2;i--;){var h=t.pop(),p=u[h];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",h,r,"<->",n),d.interpolate(p,o,s,c),d.touch(p)}e.loop=1}function ex(e,t){var r=t.stack,n=r.pop()/64,i=r.pop(),o=t.z1[i],s=t.z0[t.rp0],d=t.fv,c=t.pv;d.setRelative(o,s,n,c),d.touch(o),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function CN(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],i=e.loop,o=e.fv,s=e.pv,d=e.z1;i--;){var c=t.pop(),u=d[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",c),o.setRelative(u,n,0,s),o.touch(u)}e.loop=1}function _N(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=UT}function tx(e,t){var r=t.stack,n=r.pop(),i=r.pop(),o=t.z0[i],s=t.fv,d=t.pv,c=t.cvt[n];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",c,")",i);var u=d.distance(o,ru);e&&(Math.abs(u-c)<t.cvCutIn&&(u=c),u=t.round(u)),s.setRelative(o,ru,u,d),t.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),t.rp0=t.rp1=i}function jN(e){var t=e.prog,r=e.ip,n=e.stack,i=t[++r];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var o=0;o<i;o++)n.push(t[++r]);e.ip=r}function PN(e){var t=e.ip,r=e.prog,n=e.stack,i=r[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=r[++t]<<8|r[++t];s&32768&&(s=-((s^65535)+1)),n.push(s)}e.ip=t}function $N(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",n,i),r[i]=n}function IN(e){var t=e.stack,r=e.store,n=t.pop();exports.DEBUG&&console.log(e.step,"RS",n);var i=r&&r[n]||0;t.push(i)}function TN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function NN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",r),t.push(e.cvt[r]*64)}function rx(e,t){var r=t.stack,n=r.pop(),i=t.z2[n];exports.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(t.dpv.distance(i,ru,e,!1)*64)}function nx(e,t){var r=t.stack,n=r.pop(),i=r.pop(),o=t.z1[n],s=t.z0[i],d=t.dpv.distance(s,o,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",n,i,"->",d),t.stack.push(Math.round(d*64))}function EN(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function zN(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function DN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)}function ON(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)}function FN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)}function MN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)}function LN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)}function AN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)}function RN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function BN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function UN(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(J_(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))}function VN(e){exports.DEBUG&&console.log(e.step,"EIF[]")}function WN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)}function HN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)}function GN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)}function up(e,t){var r=t.stack,n=r.pop(),i=t.fv,o=t.pv,s=t.ppem,d=t.deltaBase+(e-1)*16,c=t.deltaShift,u=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var h=0;h<n;h++){var p=r.pop(),l=r.pop(),f=d+((l&240)>>4);if(f===s){var m=(l&15)-8;m>=0&&m++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",p,"by",m*c);var b=u[p];i.setRelative(b,b,m*c,o)}}}function ZN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function qN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function XN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)}function YN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)}function KN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(n*64/r)}function JN(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)}function QN(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))}function eE(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)}function tE(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function rE(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function vd(e,t){var r=t.stack,n=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(n/64)*64)}function nE(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function dp(e,t){var r=t.stack,n=r.pop(),i=t.ppem,o=t.deltaBase+(e-1)*16,s=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var d=0;d<n;d++){var c=r.pop(),u=r.pop(),h=o+((u&240)>>4);if(h===i){var p=(u&15)-8;p>=0&&p++;var l=p*s;exports.DEBUG&&console.log(t.step,"DELTACFIX",c,"by",l),t.cvt[c]+=l}}}function aE(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=K_;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function iE(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=K_;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function oE(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=BT}function sE(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=WT}function lE(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=HT}function cE(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function ax(e,t){var r=t.stack,n=r.pop(),i=r.pop(),o=t.z2[n],s=t.z1[i];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",n,i);var d,c;e?(d=o.y-s.y,c=s.x-o.x):(d=s.x-o.x,c=s.y-o.y),t.dpv=mu(d,c)}function uE(e){var t=e.stack,r=t.pop(),n=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",r),r&1&&(n=35),r&32&&(n|=4096),t.push(n)}function dE(e){var t=e.stack,r=t.pop(),n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(i)}function hE(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))}function fE(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))}function pE(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function mE(e){var t=e.stack.pop(),r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:e.inhibitGridFit=!!r;return;case 2:e.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Va(e,t){var r=t.stack,n=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(n[++i]);t.ip=i}function Wa(e,t){var r=t.ip,n=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var s=n[++r]<<8|n[++r];s&32768&&(s=-((s^65535)+1)),i.push(s)}t.ip=r}function Je(e,t,r,n,i,o){var s=o.stack,d=e&&s.pop(),c=s.pop(),u=o.rp0,h=o.z0[u],p=o.z1[c],l=o.minDis,f=o.fv,m=o.dpv,b,S,x,w;S=b=m.distance(p,h,!0,!0),x=S>=0?1:-1,S=Math.abs(S),e&&(w=o.cvt[d],n&&Math.abs(S-w)<o.cvCutIn&&(S=w)),r&&S<l&&(S=l),n&&(S=o.round(S)),f.setRelative(p,h,x*S,m),f.touch(p),exports.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",e?d+"("+o.cvt[d]+","+w+")":"",c,"(d =",b,"->",x*S,")"),o.rp1=o.rp0,o.rp2=c,t&&(o.rp0=c)}Z_=[Wy.bind(void 0,ka),Wy.bind(void 0,Yn),Hy.bind(void 0,ka),Hy.bind(void 0,Yn),Gy.bind(void 0,ka),Gy.bind(void 0,Yn),Zy.bind(void 0,0),Zy.bind(void 0,1),qy.bind(void 0,0),qy.bind(void 0,1),ZT,qT,XT,YT,KT,JT,QT,eN,tN,rN,nN,aN,iN,oN,sN,lN,cN,uN,dN,hN,void 0,void 0,fN,cp,pN,mN,gN,yN,xN,void 0,void 0,void 0,vN,bN,wN,void 0,Xy.bind(void 0,0),Xy.bind(void 0,1),Yy.bind(void 0,ka),Yy.bind(void 0,Yn),Ky.bind(void 0,0),Ky.bind(void 0,1),Jy.bind(void 0,0),Jy.bind(void 0,1),Qy.bind(void 0,0),Qy.bind(void 0,1),SN,kN,ex.bind(void 0,0),ex.bind(void 0,1),CN,_N,tx.bind(void 0,0),tx.bind(void 0,1),jN,PN,$N,IN,TN,NN,rx.bind(void 0,0),rx.bind(void 0,1),void 0,nx.bind(void 0,0),nx.bind(void 0,1),EN,void 0,zN,void 0,void 0,DN,ON,FN,MN,LN,AN,RN,BN,UN,VN,WN,HN,GN,up.bind(void 0,1),ZN,qN,XN,YN,KN,JN,QN,eE,tE,rE,vd.bind(void 0,0),vd.bind(void 0,1),vd.bind(void 0,2),vd.bind(void 0,3),void 0,void 0,void 0,void 0,nE,up.bind(void 0,2),up.bind(void 0,3),dp.bind(void 0,1),dp.bind(void 0,2),dp.bind(void 0,3),aE,iE,void 0,void 0,oE,void 0,sE,lE,cp,cp,void 0,void 0,void 0,void 0,void 0,cE,ax.bind(void 0,0),ax.bind(void 0,1),uE,void 0,dE,hE,fE,pE,mE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Va.bind(void 0,1),Va.bind(void 0,2),Va.bind(void 0,3),Va.bind(void 0,4),Va.bind(void 0,5),Va.bind(void 0,6),Va.bind(void 0,7),Va.bind(void 0,8),Wa.bind(void 0,1),Wa.bind(void 0,2),Wa.bind(void 0,3),Wa.bind(void 0,4),Wa.bind(void 0,5),Wa.bind(void 0,6),Wa.bind(void 0,7),Wa.bind(void 0,8),Je.bind(void 0,0,0,0,0,0),Je.bind(void 0,0,0,0,0,1),Je.bind(void 0,0,0,0,0,2),Je.bind(void 0,0,0,0,0,3),Je.bind(void 0,0,0,0,1,0),Je.bind(void 0,0,0,0,1,1),Je.bind(void 0,0,0,0,1,2),Je.bind(void 0,0,0,0,1,3),Je.bind(void 0,0,0,1,0,0),Je.bind(void 0,0,0,1,0,1),Je.bind(void 0,0,0,1,0,2),Je.bind(void 0,0,0,1,0,3),Je.bind(void 0,0,0,1,1,0),Je.bind(void 0,0,0,1,1,1),Je.bind(void 0,0,0,1,1,2),Je.bind(void 0,0,0,1,1,3),Je.bind(void 0,0,1,0,0,0),Je.bind(void 0,0,1,0,0,1),Je.bind(void 0,0,1,0,0,2),Je.bind(void 0,0,1,0,0,3),Je.bind(void 0,0,1,0,1,0),Je.bind(void 0,0,1,0,1,1),Je.bind(void 0,0,1,0,1,2),Je.bind(void 0,0,1,0,1,3),Je.bind(void 0,0,1,1,0,0),Je.bind(void 0,0,1,1,0,1),Je.bind(void 0,0,1,1,0,2),Je.bind(void 0,0,1,1,0,3),Je.bind(void 0,0,1,1,1,0),Je.bind(void 0,0,1,1,1,1),Je.bind(void 0,0,1,1,1,2),Je.bind(void 0,0,1,1,1,3),Je.bind(void 0,1,0,0,0,0),Je.bind(void 0,1,0,0,0,1),Je.bind(void 0,1,0,0,0,2),Je.bind(void 0,1,0,0,0,3),Je.bind(void 0,1,0,0,1,0),Je.bind(void 0,1,0,0,1,1),Je.bind(void 0,1,0,0,1,2),Je.bind(void 0,1,0,0,1,3),Je.bind(void 0,1,0,1,0,0),Je.bind(void 0,1,0,1,0,1),Je.bind(void 0,1,0,1,0,2),Je.bind(void 0,1,0,1,0,3),Je.bind(void 0,1,0,1,1,0),Je.bind(void 0,1,0,1,1,1),Je.bind(void 0,1,0,1,1,2),Je.bind(void 0,1,0,1,1,3),Je.bind(void 0,1,1,0,0,0),Je.bind(void 0,1,1,0,0,1),Je.bind(void 0,1,1,0,0,2),Je.bind(void 0,1,1,0,0,3),Je.bind(void 0,1,1,0,1,0),Je.bind(void 0,1,1,0,1,1),Je.bind(void 0,1,1,0,1,2),Je.bind(void 0,1,1,0,1,3),Je.bind(void 0,1,1,1,0,0),Je.bind(void 0,1,1,1,0,1),Je.bind(void 0,1,1,1,0,2),Je.bind(void 0,1,1,1,0,3),Je.bind(void 0,1,1,1,1,0),Je.bind(void 0,1,1,1,1,1),Je.bind(void 0,1,1,1,1,2),Je.bind(void 0,1,1,1,1,3)];function vs(e){this.char=e,this.state={},this.activeState=null}function O0(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function gE(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function jn(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function ph(e){this.eventId=e,this.subscribers=[]}function vE(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(i){Object.defineProperty(t.events,i,{value:new ph(i)})}),e&&r.forEach(function(i){var o=e[i];typeof o=="function"&&t.events[i].subscribe(o)});var n=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];n.forEach(function(i){t.events[i].subscribe(t.updateContextsRanges)})}function Jt(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],vE.call(this,e)}vs.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};vs.prototype.getState=function(e){return this.state[e]||null};Jt.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};Jt.prototype.composeRUD=function(e){var t=this,r=!0,n=e.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(r))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(n.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(i)};this.dispatch("composeRUD",[n.filter(function(o){return!i(o)})])};Jt.prototype.replaceRange=function(e,t,r,n){t=t!==null?t:this.tokens.length;var i=r.every(function(s){return s instanceof vs});if(!isNaN(e)&&this.inboundIndex(e)&&i){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[o,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Jt.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof vs){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};Jt.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n};Jt.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}else return{FAIL:"removeToken: invalid token index."}};Jt.prototype.insertToken=function(e,t,r){var n=e.every(function(i){return i instanceof vs});return n?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};Jt.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe(function(n,i){var o=[n,i],s=t===null||t.apply(this,o)===!0,d=[n,i];if(s){var c=r.apply(this,d);n.setState(e,c)}}),this.registeredModifiers.push(e)};ph.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};ph.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};jn.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};jn.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};Jt.prototype.rangeToText=function(e){if(e instanceof O0)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};Jt.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};Jt.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};Jt.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null};Jt.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof ph&&n.subscribers.forEach(function(i){i.apply(r,t||[])})};Jt.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var n=new gE(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n};Jt.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};Jt.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};Jt.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.ranges=[]}};Jt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(n){return n.char}),t=0;t<e.length;t++){var r=new jn(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Jt.prototype.setEndOffset=function(e,t){var r=this.getContext(t).openRange.startIndex,n=new O0(r,e,t),i=this.getContext(t).ranges;return n.rangeId=t+"."+i.length,i.push(n),this.getContext(t).openRange=null,n};Jt.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach(function(n){var i=n.contextName,o=t.getContext(i).openRange;if(!o&&n.checkStart(e)&&(o=new O0(r,null,i),t.getContext(i).openRange=o,t.dispatch("contextStart",[i,r])),o&&n.checkEnd(e)){var s=r-o.startIndex+1,d=t.setEndOffset(s,i);t.dispatch("contextEnd",[i,d])}})};Jt.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],i=new jn(t,r);this.dispatch("next",[i]),this.runContextCheck(i);var o=new vs(n);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Qa(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Q_(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function ri(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Wd(e){return/[A-z]/.test(e)}function bE(e){return/\s/.test(e)}function en(e){this.font=e,this.features={}}function Ii(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function gu(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var i=r[n];if(e>=i.start&&e<=i.end){var o=e-i.start;return i.index+o}}break;default:return-1}return-1}function yE(e,t){var r=gu(e,t.coverage);return r===-1?null:e+t.deltaGlyphId}function xE(e,t){var r=gu(e,t.coverage);return r===-1?null:t.substitute[r]}function hp(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=t.current;o=Array.isArray(o)?o[0]:o;var s=gu(o,i);s!==-1&&r.push(s)}return r.length!==e.length?-1:r}function wE(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=hp(t.inputCoverage,e);if(n===-1)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(i);o.length&&ri(o[0].char);)o.shift();var s=new jn(o,0),d=hp(t.lookaheadCoverage,s),c=[].concat(e.backtrack);for(c.reverse();c.length&&ri(c[0].char);)c.shift();if(c.length<t.backtrackCoverage.length)return[];var u=new jn(c,0),h=hp(t.backtrackCoverage,u),p=n.length===t.inputCoverage.length&&d.length===t.lookaheadCoverage.length&&h.length===t.backtrackCoverage.length,l=[];if(p)for(var f=0;f<t.lookupRecords.length;f++)for(var m=t.lookupRecords[f],b=m.lookupListIndex,S=this.getLookupByIndex(b),x=0;x<S.subtables.length;x++){var w=S.subtables[x],y=this.getLookupMethod(S,w),_=this.getSubstitutionType(S,w);if(_==="12")for(var P=0;P<n.length;P++){var T=e.get(P),M=y(T);M&&l.push(M)}}return l}function SE(e,t){var r=e.current,n=gu(r,t.coverage);if(n===-1)return null;for(var i,o=t.ligatureSets[n],s=0;s<o.length;s++){i=o[s];for(var d=0;d<i.components.length;d++){var c=e.lookahead[d],u=i.components[d];if(c!==u)break;if(d===i.components.length-1)return i}}return null}function kE(e,t){var r=gu(e,t.coverage);return r===-1?null:t.sequences[r]}en.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};en.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,n=0;n<r.length;n++){var i=r[n];if(i.tag===e&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var s=0;s<o.length;s++){var d=o[s];if(d.tag===e){var c=d.langSys;return c.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};en.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var i=e[n].tag,o=e[n].feature;r[i]=o}this.features[t].tags=r};en.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(i){return n.features[i]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};en.prototype.getSubstitutionType=function(e,t){var r=e.lookupType.toString(),n=t.substFormat.toString();return r+n};en.prototype.getLookupMethod=function(e,t){var r=this,n=this.getSubstitutionType(e,t);switch(n){case"11":return function(i){return yE.apply(r,[i,t])};case"12":return function(i){return xE.apply(r,[i,t])};case"63":return function(i){return wE.apply(r,[i,t])};case"41":return function(i){return SE.apply(r,[i,t])};case"21":return function(i){return kE.apply(r,[i,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};en.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(n),o=[].concat(t.context),s=0;s<i.length;s++)for(var d=i[s],c=this.getLookupSubtables(d),u=0;u<c.length;u++){var h=c[u],p=this.getSubstitutionType(d,h),l=this.getLookupMethod(d,h),f=void 0;switch(p){case"11":f=l(t.current),f&&o.splice(r,1,new Ii({id:11,tag:e.tag,substitution:f}));break;case"12":f=l(t.current),f&&o.splice(r,1,new Ii({id:12,tag:e.tag,substitution:f}));break;case"63":f=l(t),Array.isArray(f)&&f.length&&o.splice(r,1,new Ii({id:63,tag:e.tag,substitution:f}));break;case"41":f=l(t),f&&o.splice(r,1,new Ii({id:41,tag:e.tag,substitution:f}));break;case"21":f=l(t.current),f&&o.splice(r,1,new Ii({id:21,tag:e.tag,substitution:f}));break}t=new jn(o,r),!(Array.isArray(f)&&!f.length)&&(f=null)}return o.length?o:null};en.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some(function(n){return n.tag===e.tag});return t&&r};en.prototype.getLookupSubtables=function(e){return e.subtables||null};en.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};en.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};en.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function CE(e){var t=e.current,r=e.get(-1);return r===null&&Qa(t)||!Qa(r)&&Qa(t)}function _E(e){var t=e.get(1);return t===null||!Qa(t)}var jE={startCheck:CE,endCheck:_E};function PE(e){var t=e.current,r=e.get(-1);return(Qa(t)||ri(t))&&!Qa(r)}function $E(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!Qa(t)&&!ri(t)):var r=bE(t);if(!r)return!0;if(r){var n=!1;if(n=e.lookahead.some(function(i){return Qa(i)||ri(i)}),!n)return!0}break;default:return!1}}var IE={startCheck:PE,endCheck:$E};function TE(e,t,r){t[r].setState(e.tag,e.substitution)}function NE(e,t,r){t[r].setState(e.tag,e.substitution)}function EE(e,t,r){e.substitution.forEach(function(n,i){var o=t[r+i];o.setState(e.tag,n)})}function zE(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,o=0;o<i;o++)n=t[r+o+1],n.setState("deleted",!0)}var ix={11:TE,12:NE,63:EE,41:zE};function F0(e,t,r){e instanceof Ii&&ix[e.id]&&ix[e.id](e,t,r)}function DE(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],i=Q_(n),o=ri(n);if(!i&&!o)return!0;if(i)return!1}return!1}function OE(e){if(Q_(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var r=e.lookahead[t],n=ri(r);if(!n)return!0}return!1}function FE(e){var t=this,r="arab",n=this.featuresTags[r],i=this.tokenizer.getRangeTokens(e);if(i.length!==1){var o=new jn(i.map(function(d){return d.getState("glyphIndex")}),0),s=new jn(i.map(function(d){return d.char}),0);i.forEach(function(d,c){if(!ri(d.char)){o.setCurrentIndex(c),s.setCurrentIndex(c);var u=0;DE(s)&&(u|=1),OE(s)&&(u|=2);var h;switch(u){case 1:h="fina";break;case 2:h="init";break;case 3:h="medi";break}if(n.indexOf(h)!==-1){var p=t.query.lookupFeature({tag:h,script:r,contextParams:o});if(p instanceof Error)return console.info(p.message);p.forEach(function(l,f){l instanceof Ii&&(F0(l,i,f),o.context[f]=l.substitution)})}}})}}function ox(e,t){var r=e.map(function(n){return n.activeState.value});return new jn(r,0)}function ME(e){var t=this,r="arab",n=this.tokenizer.getRangeTokens(e),i=ox(n);i.context.forEach(function(o,s){i.setCurrentIndex(s);var d=t.query.lookupFeature({tag:"rlig",script:r,contextParams:i});d.length&&(d.forEach(function(c){return F0(c,n,s)}),i=ox(n))})}function LE(e){var t=e.current,r=e.get(-1);return r===null&&Wd(t)||!Wd(r)&&Wd(t)}function AE(e){var t=e.get(1);return t===null||!Wd(t)}var RE={startCheck:LE,endCheck:AE};function sx(e,t){var r=e.map(function(n){return n.activeState.value});return new jn(r,0)}function BE(e){var t=this,r="latn",n=this.tokenizer.getRangeTokens(e),i=sx(n);i.context.forEach(function(o,s){i.setCurrentIndex(s);var d=t.query.lookupFeature({tag:"liga",script:r,contextParams:i});d.length&&(d.forEach(function(c){return F0(c,n,s)}),i=sx(n))})}function Tn(e){this.baseDir=e||"ltr",this.tokenizer=new Jt,this.featuresTags={}}Tn.prototype.setText=function(e){this.text=e};Tn.prototype.contextChecks={latinWordCheck:RE,arabicWordCheck:jE,arabicSentenceCheck:IE};function fp(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function UE(){return fp.call(this,"latinWord"),fp.call(this,"arabicWord"),fp.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function VE(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var n=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,n.reverse())})}Tn.prototype.registerFeatures=function(e,t){var r=this,n=t.filter(function(i){return r.query.supports({script:e,tag:i})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n};Tn.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new en(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}};Tn.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)};function M0(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function WE(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){M0.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(n){FE.call(e,n)})}}function HE(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){M0.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(i){ME.call(e,i)})}}}function GE(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){M0.call(this);var n=this.tokenizer.getContextRanges("latinWord");n.forEach(function(i){BE.call(e,i)})}}}Tn.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};Tn.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(WE.call(this),HE.call(this)),this.checkContextReady("latinWord")&&GE.call(this),this.checkContextReady("arabicSentence")&&VE.call(this)};Tn.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),UE.call(this),this.applyFeaturesToContexts())};Tn.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};Tn.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var i=n.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t};function Mt(e){e=e||{},e.tables=e.tables||{},e.empty||(rl(e.familyName,"When creating a new Font object, familyName is required."),rl(e.styleName,"When creating a new Font object, styleName is required."),rl(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),rl(e.ascender,"When creating a new Font object, ascender is required."),rl(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Kn.GlyphSet(this,e.glyphs||[]),this.encoding=new b_(this),this.position=new fu(this),this.substitution=new Qr(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new X_(this)}})}Mt.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};Mt.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};Mt.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Mt.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return e[r]})}:t})};Mt.prototype.stringToGlyphs=function(e,t){var r=this,n=new Tn,i=function(p){return r.charToGlyphIndex(p.char)};n.registerModifier("glyphIndex",null,i);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,o);for(var s=n.getTextGlyphs(e),d=s.length,c=new Array(d),u=this.glyphs.get(0),h=0;h<d;h+=1)c[h]=this.glyphs.get(s[h])||u;return c};Mt.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};Mt.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Mt.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};Mt.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0};Mt.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Mt.prototype.forEachGlyph=function(e,t,r,n,i,o){t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:72,i=Object.assign({},this.defaultRenderOptions,i);var s=1/this.unitsPerEm*n,d=this.stringToGlyphs(e,i),c;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();c=this.position.getKerningTables(u,i.language)}for(var h=0;h<d.length;h+=1){var p=d[h];if(o.call(this,p,t,r,n,i),p.advanceWidth&&(t+=p.advanceWidth*s),i.kerning&&h<d.length-1){var l=c?this.position.getKerningValue(c,p.index,d[h+1].index):this.getKerningValue(p,d[h+1]);t+=l*s}i.letterSpacing?t+=i.letterSpacing*n:i.tracking&&(t+=i.tracking/1e3*n)}return t};Mt.prototype.getPath=function(e,t,r,n,i){var o=new dr;return this.forEachGlyph(e,t,r,n,i,function(s,d,c,u){var h=s.getPath(d,c,u,i,this);o.extend(h)}),o};Mt.prototype.getPaths=function(e,t,r,n,i){var o=[];return this.forEachGlyph(e,t,r,n,i,function(s,d,c,u){var h=s.getPath(d,c,u,i,this);o.push(h)}),o};Mt.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})};Mt.prototype.draw=function(e,t,r,n,i,o){this.getPath(t,r,n,i,o).draw(e)};Mt.prototype.drawPoints=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,function(s,d,c,u){s.drawPoints(e,d,c,u)})};Mt.prototype.drawMetrics=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,function(s,d,c,u){s.drawMetrics(e,d,c,u)})};Mt.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};Mt.prototype.validate=function(){var e=this;function t(n,i){}function r(n){var i=e.getEnglishName(n);i&&i.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};Mt.prototype.toTables=function(){return zT.fontToTable(this)};Mt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Mt.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t[i];return r};Mt.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(OT())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(n),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e;var d=document.createEvent("MouseEvents");d.initEvent("click",!0,!1),s.dispatchEvent(d)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var c=require("fs"),u=FT(n);c.writeFileSync(e,u)}};Mt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Mt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Mt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function ej(e,t){var r=JSON.stringify(e),n=256;for(var i in t){var o=parseInt(i);if(!(!o||o<256)){if(JSON.stringify(t[i])===r)return o;n<=o&&(n=o+1)}}return t[n]=e,n}function ZE(e,t,r){var n=ej(t.name,r);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:n}]}function qE(e,t,r){var n={},i=new Qe.Parser(e,t);return n.tag=i.parseTag(),n.minValue=i.parseFixed(),n.defaultValue=i.parseFixed(),n.maxValue=i.parseFixed(),i.skip("uShort",1),n.name=r[i.parseUShort()]||{},n}function XE(e,t,r,n){for(var i=ej(t.name,n),o=[{name:"nameID_"+e,type:"USHORT",value:i},{name:"flags_"+e,type:"USHORT",value:0}],s=0;s<r.length;++s){var d=r[s].tag;o.push({name:"axis_"+e+" "+d,type:"FIXED",value:t.coordinates[d]<<16})}return o}function YE(e,t,r,n){var i={},o=new Qe.Parser(e,t);i.name=n[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var s=0;s<r.length;++s)i.coordinates[r[s].tag]=o.parseFixed();return i}function KE(e,t){var r=new Xe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);r.offsetToData=r.sizeOf();for(var n=0;n<e.axes.length;n++)r.fields=r.fields.concat(ZE(n,e.axes[n],t));for(var i=0;i<e.instances.length;i++)r.fields=r.fields.concat(XE(i,e.instances[i],e.axes,t));return r}function JE(e,t,r){var n=new Qe.Parser(e,t),i=n.parseULong();lt.argument(i===65536,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var s=n.parseUShort(),d=n.parseUShort(),c=n.parseUShort(),u=n.parseUShort(),h=[],p=0;p<s;p++)h.push(qE(e,t+o+p*d,r));for(var l=[],f=t+o+s*d,m=0;m<c;m++)l.push(YE(e,f+m*u,h,r));return{axes:h,instances:l}}var QE={make:KE,parse:JE},ez=function(){return{coverage:this.parsePointer(Ne.coverage),attachPoints:this.parseList(Ne.pointer(Ne.uShortList))}},tz=function(){var e=this.parseUShort();if(lt.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},rz=function(){return this.parseList(Ne.pointer(tz))},nz=function(){return{coverage:this.parsePointer(Ne.coverage),ligGlyphs:this.parseList(Ne.pointer(rz))}},az=function(){return this.parseUShort(),this.parseList(Ne.pointer(Ne.coverage))};function iz(e,t){t=t||0;var r=new Ne(e,t),n=r.parseVersion(1);lt.argument(n===1||n===1.2||n===1.3,"Unsupported GDEF table version.");var i={version:n,classDef:r.parsePointer(Ne.classDef),attachList:r.parsePointer(ez),ligCaretList:r.parsePointer(nz),markAttachClassDef:r.parsePointer(Ne.classDef)};return n>=1.2&&(i.markGlyphSets=r.parsePointer(az)),i}var oz={parse:iz},Pn=new Array(10);Pn[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(Ne.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(Ne.coverage),values:this.parseValueRecordList()};lt.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Pn[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();lt.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(Ne.coverage),i=this.parseUShort(),o=this.parseUShort();if(r===1)return{posFormat:r,coverage:n,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(Ne.pointer(Ne.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(r===2){var s=this.parsePointer(Ne.classDef),d=this.parsePointer(Ne.classDef),c=this.parseUShort(),u=this.parseUShort();return{posFormat:r,coverage:n,valueFormat1:i,valueFormat2:o,classDef1:s,classDef2:d,class1Count:c,class2Count:u,classRecords:this.parseList(c,Ne.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};Pn[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Pn[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Pn[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Pn[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Pn[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Pn[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Pn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function sz(e,t){t=t||0;var r=new Ne(e,t),n=r.parseVersion(1);return lt.argument(n===1||n===1.1,"Unsupported GPOS table version "+n),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Pn)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Pn),variations:r.parseFeatureVariationsList()}}var lz=new Array(10);function cz(e){return new Xe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xe.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Xe.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Xe.LookupList(e.lookups,lz)}])}var uz={parse:sz,make:cz};function dz(e){var t={};e.skip("uShort");var r=e.parseUShort();lt.argument(r===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var i=0;i<n;i+=1){var o=e.parseUShort(),s=e.parseUShort(),d=e.parseShort();t[o+","+s]=d}return t}function hz(e){var t={};e.skip("uShort");var r=e.parseULong();r>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=e.parseUShort(),i=n&255;if(e.skip("uShort"),i===0){var o=e.parseUShort();e.skip("uShort",3);for(var s=0;s<o;s+=1){var d=e.parseUShort(),c=e.parseUShort(),u=e.parseShort();t[d+","+c]=u}}return t}function fz(e,t){var r=new Qe.Parser(e,t),n=r.parseUShort();if(n===0)return dz(r);if(n===1)return hz(r);throw new Error("Unsupported kern table version ("+n+").")}var pz={parse:fz};function mz(e,t,r,n){for(var i=new Qe.Parser(e,t),o=n?i.parseUShort:i.parseULong,s=[],d=0;d<r+1;d+=1){var c=o.call(i);n&&(c*=2),s.push(c)}return s}var gz={parse:mz};function lx(e,t){for(var r=[],n=12,i=0;i<t;i+=1){var o=Qe.getTag(e,n),s=Qe.getULong(e,n+4),d=Qe.getULong(e,n+8),c=Qe.getULong(e,n+12);r.push({tag:o,checksum:s,offset:d,length:c,compression:!1}),n+=16}return r}function vz(e,t){for(var r=[],n=44,i=0;i<t;i+=1){var o=Qe.getTag(e,n),s=Qe.getULong(e,n+4),d=Qe.getULong(e,n+8),c=Qe.getULong(e,n+12),u=void 0;d<c?u="WOFF":u=!1,r.push({tag:o,offset:s,compression:u,compressedLength:d,length:c}),n+=20}return r}function ar(e,t){if(t.compression==="WOFF"){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(uI(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var i=new DataView(n.buffer,0);return{data:i,offset:0}}else return{data:e,offset:t.offset}}function bz(e,t){t=t??{};var r,n,i=new Mt({empty:!0}),o=new DataView(e,0),s,d=[],c=Qe.getTag(o,0);if(c==="\0\0\0"||c==="true"||c==="typ1")i.outlinesFormat="truetype",s=Qe.getUShort(o,4),d=lx(o,s);else if(c==="OTTO")i.outlinesFormat="cff",s=Qe.getUShort(o,4),d=lx(o,s);else if(c==="wOFF"){var u=Qe.getTag(o,4);if(u==="\0\0\0")i.outlinesFormat="truetype";else if(u==="OTTO")i.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+c);s=Qe.getUShort(o,12),d=vz(o,s)}else throw new Error("Unsupported OpenType signature "+c);for(var h,p,l,f,m,b,S,x,w,y,_,P,T=0;T<s;T+=1){var M=d[T],N=void 0;switch(M.tag){case"cmap":N=ar(o,M),i.tables.cmap=v_.parse(N.data,N.offset),i.encoding=new y_(i.tables.cmap);break;case"cvt ":N=ar(o,M),P=new Qe.Parser(N.data,N.offset),i.tables.cvt=P.parseShortList(M.length/2);break;case"fvar":p=M;break;case"fpgm":N=ar(o,M),P=new Qe.Parser(N.data,N.offset),i.tables.fpgm=P.parseByteList(M.length);break;case"head":N=ar(o,M),i.tables.head=I_.parse(N.data,N.offset),i.unitsPerEm=i.tables.head.unitsPerEm,r=i.tables.head.indexToLocFormat;break;case"hhea":N=ar(o,M),i.tables.hhea=T_.parse(N.data,N.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":S=M;break;case"ltag":N=ar(o,M),n=E_.parse(N.data,N.offset);break;case"maxp":N=ar(o,M),i.tables.maxp=z_.parse(N.data,N.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":y=M;break;case"OS/2":N=ar(o,M),i.tables.os2=rm.parse(N.data,N.offset);break;case"post":N=ar(o,M),i.tables.post=A_.parse(N.data,N.offset),i.glyphNames=new N0(i.tables.post);break;case"prep":N=ar(o,M),P=new Qe.Parser(N.data,N.offset),i.tables.prep=P.parseByteList(M.length);break;case"glyf":l=M;break;case"loca":w=M;break;case"CFF ":h=M;break;case"kern":x=M;break;case"GDEF":f=M;break;case"GPOS":m=M;break;case"GSUB":b=M;break;case"meta":_=M;break}}var O=ar(o,y);if(i.tables.name=L_.parse(O.data,O.offset,n),i.names=i.tables.name,l&&w){var B=r===0,Z=ar(o,w),D=gz.parse(Z.data,Z.offset,i.numGlyphs,B),U=ar(o,l);i.glyphs=G_.parse(U.data,U.offset,D,i,t)}else if(h){var z=ar(o,h);$_.parse(z.data,z.offset,i,t)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var G=ar(o,S);if(N_.parse(i,G.data,G.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs,t),NI(i,t),x){var ne=ar(o,x);i.kerningPairs=pz.parse(ne.data,ne.offset)}else i.kerningPairs={};if(f){var A=ar(o,f);i.tables.gdef=oz.parse(A.data,A.offset)}if(m){var k=ar(o,m);i.tables.gpos=uz.parse(k.data,k.offset),i.position.init()}if(b){var j=ar(o,b);i.tables.gsub=R_.parse(j.data,j.offset)}if(p){var $=ar(o,p);i.tables.fvar=QE.parse($.data,$.offset,i.names)}if(_){var F=ar(o,_);i.tables.meta=B_.parse(F.data,F.offset),i.metas=i.tables.meta}return i}function yz(e){const t=e.toLowerCase().split(".").pop()||"";return t==="ttf"?"ttf":t==="otf"?"otf":t==="woff"?"woff":t==="woff2"?"woff2":"ttf"}function xz(e){const t=e.toLowerCase().trim(),r={thin:100,hairline:100,extralight:200,"extra light":200,ultralight:200,"ultra light":200,light:300,regular:400,normal:400,book:400,medium:500,semibold:600,"semi bold":600,"semi-bold":600,demibold:600,"demi bold":600,"demi-bold":600,bold:700,extrabold:800,"extra bold":800,"extra-bold":800,ultrabold:800,"ultra bold":800,"ultra-bold":800,black:900,heavy:900,ultra:900};if(r[t])return r[t];for(const[n,i]of Object.entries(r))if(t.includes(n))return i;return 400}async function wz(e){var t,r,n,i,o;try{const s=await e.arrayBuffer(),c=bz(s).names,u=((t=c.fontFamily)==null?void 0:t.en)||"Unknown Font",h=((r=c.fullName)==null?void 0:r.en)||u,p=((n=c.postScriptName)==null?void 0:n.en)||u.replace(/\s+/g,""),l=(i=c.fontSubfamily)==null?void 0:i.en,f=l?xz(l):400,m=(o=c.version)==null?void 0:o.en,b=yz(e.name);return{family:u,fullName:h,postScriptName:p,subfamily:l,weight:f,version:m,format:b,fileName:e.name}}catch(s){return console.warn(`Failed to parse font "${e.name}":`,s),null}}const Sz=[".ttf",".otf",".woff",".woff2"];async function*tj(e){try{for await(const t of e.values())if(t.kind==="file")yield t;else if(t.kind==="directory")try{yield*tj(t)}catch(r){console.warn(`Skipping directory "${t.name}": ${r}`)}}catch(t){console.warn(`Error reading directory: ${t}`)}}function kz(e){const t=e.toLowerCase();return Sz.some(r=>t.endsWith(r))}async function Cz(e){const t=[];try{for await(const r of tj(e))if(kz(r.name))try{const n=await r.getFile();t.push(n)}catch(n){console.warn(`Failed to read font file "${r.name}": ${n}`)}}catch(r){console.error("Error scanning fonts directory:",r)}return t}const Ct=[{name:"Inter",family:"Inter",file:"Inter-Regular.woff2",category:"sans-serif"},{name:"Roboto",family:"Roboto",file:"Roboto-Regular.woff2",category:"sans-serif"},{name:"Roboto Mono",family:"Roboto Mono",file:"RobotoMono-Regular.woff2",category:"monospace"},{name:"Arial",family:"Arial, sans-serif",file:"",category:"sans-serif"},{name:"Helvetica",family:"Helvetica, Arial, sans-serif",file:"",category:"sans-serif"},{name:"Verdana",family:"Verdana, sans-serif",file:"",category:"sans-serif"},{name:"Tahoma",family:"Tahoma, sans-serif",file:"",category:"sans-serif"},{name:"Georgia",family:"Georgia, serif",file:"",category:"serif"},{name:"Times New Roman",family:"Times New Roman, serif",file:"",category:"serif"},{name:"Courier New",family:"Courier New, monospace",file:"",category:"monospace"},{name:"Monaco",family:"Monaco, monospace",file:"",category:"monospace"},{name:"Consolas",family:"Consolas, monospace",file:"",category:"monospace"},{name:"System Default",family:"system-ui, -apple-system, sans-serif",file:"",category:"sans-serif"}];class _z{constructor(){Ub(this,"loadedFamilies",new Set)}async selectFontsDirectory(){try{const t=await window.showDirectoryPicker({mode:"read"});return await tI(t),{handle:t,path:t.name||"Selected Folder"}}catch(t){return console.warn("Directory selection cancelled or failed:",t),null}}async restoreDirectoryAccess(){try{const t=await rI();if(!t)return null;const r=await t.queryPermission({mode:"read"});return r==="granted"?{handle:t,path:t.name||"Fonts Directory"}:r==="prompt"&&await t.requestPermission({mode:"read"})==="granted"?{handle:t,path:t.name||"Fonts Directory"}:(await ky(),null)}catch(t){return console.warn("Failed to restore directory access:",t),await ky(),null}}async scanAndStoreFonts(t){const r=[];try{await eI(),this.clearLoadedFonts();const n=await Cz(t),i=n.length;let o=0;for(const s of n)try{const d=await wz(s);if(!d){r.push(`Failed to parse: ${s.name}`);continue}const c=await s.arrayBuffer();await J$({family:d.family,data:c,metadata:d,addedAt:Date.now()}),o++}catch(d){r.push(`Error processing ${s.name}: ${d}`)}return{scanned:i,loaded:o,errors:r}}catch(n){return console.error("Failed to scan fonts:",n),{scanned:0,loaded:0,errors:[`Scan failed: ${n}`]}}}async loadFontsIntoDocument(t){for(const r of t)if(!this.loadedFamilies.has(r.family))try{const n=new FontFace(r.family,r.data,{display:"swap"});await n.load(),document.fonts.add(n),this.loadedFamilies.add(r.family)}catch(n){console.warn(`Failed to load font "${r.family}" into document:`,n)}}clearLoadedFonts(){const t=Array.from(this.loadedFamilies);for(const r of t){const n=Array.from(document.fonts);for(const i of n)i.family===r&&document.fonts.delete(i)}this.loadedFamilies.clear()}async getAvailableFonts(){const t=[...Ct];try{const r=await Xl();for(const n of r)t.push({name:n.metadata.fullName||n.family,family:n.family,file:"custom",category:"sans-serif"})}catch(r){console.warn("Failed to load custom fonts:",r)}return t.sort((r,n)=>r.file==="custom"&&n.file!=="custom"?1:r.file!=="custom"&&n.file==="custom"?-1:r.name.localeCompare(n.name))}}const da=new _z;function jz(){const{customFonts:e,fontsDirectoryPath:t,fontsLoading:r,fontsError:n,lastScanTime:i,setCustomFonts:o,setFontsDirectoryPath:s,setFontsLoading:d,setFontsError:c,setLastScanTime:u,clearFontsState:h}=fe(),p=X.useCallback(async()=>{const S=await Xl(),x=new Map;for(const y of S){const _=x.get(y.family)||[];_.push(y),x.set(y.family,_)}const w=Array.from(x.entries()).map(([y,_])=>{const P=_[0],T=_.filter(M=>M.metadata.weight&&M.metadata.subfamily).map(M=>({value:M.metadata.weight,actualName:M.metadata.subfamily})).filter((M,N,O)=>O.findIndex(B=>B.value===M.value)===N).sort((M,N)=>M.value-N.value);return{family:y,name:P.metadata.fullName||P.metadata.family,format:P.metadata.format,category:"custom",weights:T.length>0?T:void 0}});o(w)},[o]),l=X.useCallback(async()=>{d(!0),c(null);try{const S=await da.selectFontsDirectory();if(!S){d(!1);return}s(S.path);const x=await da.scanAndStoreFonts(S.handle),w=await Xl();await da.loadFontsIntoDocument(w),await p(),u(Date.now()),x.errors.length>0&&c(`Loaded ${x.loaded} fonts. ${x.errors.length} files failed to parse.`)}catch(S){c(S instanceof Error?S.message:"Failed to select fonts directory")}finally{d(!1)}},[d,c,s,u,p]),f=X.useCallback(async()=>{d(!0),c(null);try{const S=await da.restoreDirectoryAccess();if(!S){c("No fonts directory selected. Please select a folder first."),d(!1);return}const x=await da.scanAndStoreFonts(S.handle),w=await Xl();await da.loadFontsIntoDocument(w),await p(),u(Date.now()),x.errors.length>0&&c(`Loaded ${x.loaded} fonts. ${x.errors.length} files failed to parse.`)}catch(S){c(S instanceof Error?S.message:"Failed to rescan fonts directory")}finally{d(!1)}},[d,c,u,p]),m=X.useCallback(async()=>{await da.clearLoadedFonts(),await h()},[h]),b=X.useCallback(async()=>{d(!0);try{const S=await da.restoreDirectoryAccess();S&&s(S.path);const x=await Xl();x.length>0&&(await da.loadFontsIntoDocument(x),await p())}catch(S){console.warn("Failed to restore fonts on mount:",S)}finally{d(!1)}},[d,s,p]);return{customFonts:e,fontsDirectoryPath:t,fontsLoading:r,fontsError:n,lastScanTime:i,selectDirectory:l,rescanDirectory:f,clearDirectory:m,restoreOnMount:b}}function Pz({isOpen:e,onClose:t}){const{customFonts:r,fontsDirectoryPath:n,fontsLoading:i,fontsError:o,lastScanTime:s,selectDirectory:d,rescanDirectory:c,clearDirectory:u,restoreOnMount:h}=jz(),[p,l]=X.useState(!1);X.useEffect(()=>{h()},[h]);const f=async()=>{n&&(await navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3))};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Font Settings"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Custom Fonts Directory"}),n?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-gray-900 rounded px-3 py-2 text-sm text-gray-300 font-mono truncate",children:n}),a.jsx("button",{onClick:f,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm text-gray-300 transition-colors",title:"Copy path",children:p?"Copied!":"Copy"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:c,disabled:i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-sm text-white font-medium transition-colors",children:i?"Scanning...":"Rescan Fonts"}),a.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-sm text-gray-300 transition-colors",children:"Change"})]})]}):a.jsx("button",{onClick:d,disabled:i,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-white font-medium transition-colors",children:i?"Loading...":"Select Fonts Folder"})]}),a.jsxs("div",{className:"bg-gray-900 rounded p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Custom fonts loaded:"}),a.jsx("span",{className:"text-white font-medium",children:r.length})]}),s&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Last scan:"}),a.jsx("span",{className:"text-gray-300",children:nC(s,{addSuffix:!0})})]})]}),o&&a.jsx("div",{className:"bg-red-900/30 border border-red-700 rounded p-3 text-sm text-red-300",children:o}),n&&a.jsx("button",{onClick:u,className:"w-full px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors",children:"Clear Custom Fonts"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Select a folder containing .ttf, .otf, .woff, or .woff2 font files. Fonts will be available in all font dropdowns and bundled with exports."})]})]})}):null}function $z(){const[e,t]=X.useState(!1),[r,n]=X.useState("elements"),[,i]=X.useState(0),o=Zd(fe.temporal,h=>h.pastStates.length>0),s=Zd(fe.temporal,h=>h.futureStates.length>0),d=fe(h=>h.lastSavedTimestamp);X.useEffect(()=>{const h=setInterval(()=>{i(p=>p+1)},6e4);return()=>clearInterval(h)},[]);const c=()=>{fe.temporal.getState().undo()},u=()=>{fe.temporal.getState().redo()};return d&&`${nC(d,{addSuffix:!0})}`,a.jsxs("div",{className:"bg-gray-800 border-r border-gray-700 overflow-y-auto flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700",children:[a.jsx("img",{src:"./FACEPLATE_LOGO_UI.png",alt:"Faceplate"}),a.jsx("div",{className:"flex flex-col gap-0.5",children:a.jsx("span",{className:"text-xs text-gray-500",children:"Demo Mode"})})]}),a.jsxs("div",{className:"flex gap-2 px-4 py-2 border-b border-gray-700",children:[a.jsxs("button",{onClick:c,disabled:!o,className:`flex-1 py-1.5 px-3 rounded text-sm flex items-center justify-center gap-1 ${o?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,title:"Undo (Ctrl+Z)",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),a.jsx("span",{children:"Undo"})]}),a.jsxs("button",{onClick:u,disabled:!s,className:`flex-1 py-1.5 px-3 rounded text-sm flex items-center justify-center gap-1 ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,title:"Redo (Ctrl+Y)",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})}),a.jsx("span",{children:"Redo"})]})]}),a.jsxs("div",{className:"flex border-b border-gray-700",children:[a.jsx("button",{onClick:()=>n("elements"),className:`flex-1 px-4 py-2 text-sm ${r==="elements"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-200"}`,children:"Elements"}),a.jsx("button",{onClick:()=>n("assets"),className:`flex-1 px-4 py-2 text-sm ${r==="assets"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-200"}`,children:"Assets"}),a.jsx("button",{onClick:()=>n("layers"),className:`flex-1 px-4 py-2 text-sm ${r==="layers"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-200"}`,children:"Layers"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="elements"&&a.jsx(IC,{}),r==="assets"&&a.jsx(v$,{}),r==="layers"&&a.jsx(X$,{})]}),a.jsx("div",{className:"p-3 border-t border-gray-700 space-y-2",children:a.jsxs("button",{onClick:()=>t(!0),className:"w-full py-2 px-3 bg-gray-700 text-gray-300 rounded text-sm hover:bg-gray-600 flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h8m-8 6h16"})}),a.jsx("span",{children:"Manage Fonts"})]})}),a.jsx(Pz,{isOpen:e,onClose:()=>t(!1)})]})}function re({label:e,value:t,onChange:r,min:n=-1/0,max:i=1/0,step:o=1}){const[s,d]=X.useState(String(t));X.useEffect(()=>{d(String(t))},[t]);const c=p=>{const l=p.target.value;if(l===""||l==="-"||l==="."||l==="-."||/^-?\d*\.?\d*$/.test(l)){d(l);const f=parseFloat(l);isNaN(f)||r(f)}},u=()=>{const p=parseFloat(s);if(isNaN(p)||s==="-"||s==="."||s==="-."){d(String(t));return}const l=Math.max(n,Math.min(i,p));l!==p&&(r(l),d(String(l)))},h=p=>{if(p.key==="ArrowUp"||p.key==="ArrowDown"){p.preventDefault();const l=parseFloat(s)||0,f=p.key==="ArrowUp"?o:-o,m=Math.max(n,Math.min(i,l+f));d(String(m)),r(m)}};return a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:e}),a.jsx("input",{type:"text",inputMode:"decimal",value:s,onChange:c,onBlur:u,onKeyDown:h,className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm focus:outline-none focus:border-blue-500"})]})}function ut({label:e,value:t,onChange:r,placeholder:n}){const i=o=>{r(o.target.value)};return a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:e}),a.jsx("input",{type:"text",value:t,onChange:i,placeholder:n,className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm focus:outline-none focus:border-blue-500"})]})}function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rj(e,t){if(e==null)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function am(e){var t=X.useRef(e),r=X.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var nu=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},Yc=function(e){return"touches"in e},im=function(e){return e&&e.ownerDocument.defaultView||self},cx=function(e,t,r){var n=e.getBoundingClientRect(),i=Yc(t)?(function(o,s){for(var d=0;d<o.length;d++)if(o[d].identifier===s)return o[d];return o[0]})(t.touches,r):t;return{left:nu((i.pageX-(n.left+im(e).pageXOffset))/n.width),top:nu((i.pageY-(n.top+im(e).pageYOffset))/n.height)}},ux=function(e){!Yc(e)&&e.preventDefault()},nj=wt.memo(function(e){var t=e.onMove,r=e.onKey,n=rj(e,["onMove","onKey"]),i=X.useRef(null),o=am(t),s=am(r),d=X.useRef(null),c=X.useRef(!1),u=X.useMemo(function(){var f=function(S){ux(S),(Yc(S)?S.touches.length>0:S.buttons>0)&&i.current?o(cx(i.current,S,d.current)):b(!1)},m=function(){return b(!1)};function b(S){var x=c.current,w=im(i.current),y=S?w.addEventListener:w.removeEventListener;y(x?"touchmove":"mousemove",f),y(x?"touchend":"mouseup",m)}return[function(S){var x=S.nativeEvent,w=i.current;if(w&&(ux(x),!(function(_,P){return P&&!Yc(_)})(x,c.current)&&w)){if(Yc(x)){c.current=!0;var y=x.changedTouches||[];y.length&&(d.current=y[0].identifier)}w.focus(),o(cx(w,x,d.current)),b(!0)}},function(S){var x=S.which||S.keyCode;x<37||x>40||(S.preventDefault(),s({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},b]},[s,o]),h=u[0],p=u[1],l=u[2];return X.useEffect(function(){return l},[l]),wt.createElement("div",mh({},n,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:p,tabIndex:0,role:"slider"}))}),L0=function(e){return e.filter(Boolean).join(" ")},aj=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,o=L0(["react-colorful__pointer",e.className]);return wt.createElement("div",{className:o,style:{top:100*i+"%",left:100*r+"%"}},wt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Sr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},Iz=function(e){return Dz(om(e))},om=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Sr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Sr(parseInt(e.substring(6,8),16)/255,2):1}},Tz=function(e){return zz(Ez(e))},Nz=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:Sr(e.h),s:Sr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:Sr(i/2),a:Sr(n,2)}},sm=function(e){var t=Nz(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Ez=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),d=n*(1-(t-o)*r),c=n*(1-(1-t+o)*r),u=o%6;return{r:Sr(255*[n,d,s,s,c,n][u]),g:Sr(255*[c,n,n,d,s,s][u]),b:Sr(255*[s,s,c,n,n,d][u]),a:Sr(i,2)}},bd=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},zz=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=i<1?bd(Sr(255*i)):"";return"#"+bd(t)+bd(r)+bd(n)+o},Dz=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),d=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:Sr(60*(d<0?d+6:d)),s:Sr(o?s/o*100:0),v:Sr(o/255*100),a:i}},Oz=wt.memo(function(e){var t=e.hue,r=e.onChange,n=L0(["react-colorful__hue",e.className]);return wt.createElement("div",{className:n},wt.createElement(nj,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:nu(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Sr(t),"aria-valuemax":"360","aria-valuemin":"0"},wt.createElement(aj,{className:"react-colorful__hue-pointer",left:t/360,color:sm({h:t,s:100,v:100,a:1})})))}),Fz=wt.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:sm({h:t.h,s:100,v:100,a:1})};return wt.createElement("div",{className:"react-colorful__saturation",style:n},wt.createElement(nj,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:nu(t.s+100*i.left,0,100),v:nu(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Sr(t.s)+"%, Brightness "+Sr(t.v)+"%"},wt.createElement(aj,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:sm(t)})))}),ij=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},Mz=function(e,t){return e.toLowerCase()===t.toLowerCase()||ij(om(e),om(t))};function Lz(e,t,r){var n=am(r),i=X.useState(function(){return e.toHsva(t)}),o=i[0],s=i[1],d=X.useRef({color:t,hsva:o});X.useEffect(function(){if(!e.equal(t,d.current.color)){var u=e.toHsva(t);d.current={hsva:u,color:t},s(u)}},[t,e]),X.useEffect(function(){var u;ij(o,d.current.hsva)||e.equal(u=e.fromHsva(o),d.current.color)||(d.current={hsva:o,color:u},n(u))},[o,e,n]);var c=X.useCallback(function(u){s(function(h){return Object.assign({},h,u)})},[]);return[o,c]}var Az=typeof window<"u"?X.useLayoutEffect:X.useEffect,Rz=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},dx=new Map,Bz=function(e){Az(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!dx.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,dx.set(t,r);var n=Rz();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},Uz=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,o=e.onChange,s=rj(e,["className","colorModel","color","onChange"]),d=X.useRef(null);Bz(d);var c=Lz(r,i,o),u=c[0],h=c[1],p=L0(["react-colorful",t]);return wt.createElement("div",mh({},s,{ref:d,className:p}),wt.createElement(Fz,{hsva:u,onChange:h}),wt.createElement(Oz,{hue:u.h,onChange:h,className:"react-colorful__last-control"}))},Vz={defaultColor:"000",toHsva:Iz,fromHsva:function(e){return Tz({h:e.h,s:e.s,v:e.v,a:1})},equal:Mz},oj=function(e){return wt.createElement(Uz,mh({},e,{colorModel:Vz}))};function le({label:e,value:t,onChange:r}){const[n,i]=X.useState(!1),o=X.useRef(null),s=X.useRef(!1);X.useEffect(()=>{s.current||i(!1)},[t]),X.useEffect(()=>{if(!n)return;const c=u=>{o.current&&!o.current.contains(u.target)&&(s.current=!1,i(!1))};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[n]);const d=c=>{r(c.target.value)};return a.jsxs("div",{className:"mb-3 relative",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:e}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{n&&(s.current=!1),i(!n)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer hover:border-gray-500 transition-colors flex-shrink-0",style:{backgroundColor:t},"aria-label":`Pick ${e}`}),a.jsx("input",{type:"text",value:t,onChange:d,placeholder:"#000000",className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm font-mono uppercase focus:outline-none focus:border-blue-500"})]}),n&&a.jsx("div",{ref:o,className:"absolute z-50 mt-2 left-0",onMouseDown:c=>c.stopPropagation(),children:a.jsx("div",{className:"bg-gray-800 p-3 rounded shadow-xl border border-gray-700",children:a.jsx(oj,{color:t,onChange:c=>{s.current=!0,r(c),setTimeout(()=>{s.current=!1},100)}})})})]})}const Wz=`
  body {
    background: #1a1a1a;
    color: #e5e5e5;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    padding: 32px;
    margin: 0;
    line-height: 1.6;
    font-size: 14px;
  }

  h1 {
    color: #ffffff;
    font-size: 24px;
    font-weight: 600;
    margin: 0 0 8px 0;
  }

  h2 {
    color: #e5e5e5;
    font-size: 18px;
    font-weight: 600;
    margin: 24px 0 12px 0;
  }

  h3 {
    color: #d4d4d4;
    font-size: 16px;
    font-weight: 500;
    margin: 16px 0 8px 0;
  }

  p {
    margin: 0 0 12px 0;
    color: #d4d4d4;
  }

  ul, ol {
    margin: 0 0 12px 0;
    padding-left: 24px;
  }

  li {
    margin: 4px 0;
    color: #d4d4d4;
  }

  code {
    background: #2d2d2d;
    color: #60a5fa;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
    font-size: 13px;
  }

  pre {
    background: #2d2d2d;
    padding: 16px;
    border-radius: 6px;
    overflow-x: auto;
    margin: 12px 0;
  }

  pre code {
    background: none;
    padding: 0;
  }

  .example {
    background: #262626;
    border-left: 3px solid #3b82f6;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 4px;
  }

  .example-label {
    color: #3b82f6;
    font-weight: 600;
    font-size: 13px;
    margin-bottom: 8px;
  }

  .related-topics {
    background: #262626;
    padding: 16px;
    border-radius: 6px;
    margin-top: 24px;
  }

  .related-topics h3 {
    margin-top: 0;
  }

  .related-topics li {
    margin: 6px 0;
  }

  .related-topic-link {
    color: #60a5fa;
    text-decoration: none;
    cursor: pointer;
  }

  .related-topic-link:hover {
    text-decoration: underline;
    color: #93c5fd;
  }

  a {
    color: #60a5fa;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  .report-section {
    margin-top: 32px;
    padding-top: 16px;
    border-top: 1px solid #404040;
  }

  .report-title {
    font-size: 13px;
    color: #a3a3a3;
    margin-bottom: 12px;
  }

  .report-buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .report-btn {
    display: inline-block;
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 13px;
    text-decoration: none;
    transition: background-color 0.15s;
  }

  .report-btn:hover {
    text-decoration: none;
  }

  .report-btn-bug {
    background: #7f1d1d;
    color: #fecaca;
  }

  .report-btn-bug:hover {
    background: #991b1b;
  }

  .report-btn-docs {
    background: #374151;
    color: #d1d5db;
  }

  .report-btn-docs:hover {
    background: #4b5563;
  }

  /* Navigation highlight animation */
  .highlight-flash {
    background-color: rgba(59, 130, 246, 0.2);
    transition: background-color 1s ease-out;
  }

  /* Back button styling */
  .back-btn {
    position: sticky;
    top: 0;
    background: #262626;
    color: #d4d4d4;
    border: 1px solid #404040;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin-bottom: 16px;
    display: none;
  }

  .back-btn:hover {
    background: #333333;
    color: #ffffff;
  }

  /* Section anchor offset for sticky back button */
  .help-section {
    scroll-margin-top: 60px;
  }
`,Hz={knob:{title:"Knob Element",description:"A rotary control for continuous parameters like gain, frequency, or time values. Rotates from minimum (bottom-left) to maximum (top-right).",examples:[{label:"Basic Usage",explanation:"Drag from palette, position on canvas. Set min/max values and default position in Properties. Bind to JUCE parameter via Parameter ID."},{label:"Custom Appearance",explanation:"Change colors for indicator, track, and fill. Use SVG export to create custom graphics in vector tools, then import back for validation."},{label:"Parameter Binding",explanation:"Set Parameter ID to match your JUCE AudioParameter. At runtime, the knob automatically reflects and controls the parameter value."}],relatedTopics:["Use SteppedKnob for discrete values with detents","Use CenterDetentKnob for bipolar parameters","Use SVG export for custom control graphics"]},slider:{title:"Slider Element",description:"A linear control for continuous parameters. Can be horizontal or vertical. Ideal for volume faders, mix amounts, or any ranged value.",examples:[{label:"Basic Usage",explanation:"Drag from palette to canvas. Set orientation in Properties (horizontal/vertical). Configure min, max, and default values."},{label:"Fader Style",explanation:"For mixer-style faders, use vertical orientation with a tall, narrow size. Add a label above for channel identification."},{label:"With Value Display",explanation:"Place a NumericDisplay below the slider and bind both to the same Parameter ID. The display shows the current value as the slider moves."}],relatedTopics:["Use BipolarSlider for -1 to +1 range with center detent","Use RangeSlider for selecting a value range","Combine with Label for parameter identification"]},button:{title:"Button Element",description:"A clickable control for triggering actions or toggling states. Can be momentary (action on click) or toggle (switches between on/off).",examples:[{label:"Momentary Button",explanation:"Use for one-shot actions like triggering samples, resetting values, or opening dialogs. Configure label text and colors in Properties."},{label:"Toggle Button",explanation:"Enable toggle mode for on/off states like bypass, mute, or solo. Set distinct colors for on and off states."},{label:"Window Navigation",explanation:"Set the Navigate To property to switch windows when clicked. Perfect for Settings, About, or sub-panel buttons in multi-window plugins."}],relatedTopics:["Use IconButton for graphic-only buttons","Use PowerButton for bypass/enable controls","Use SegmentButton for mutually exclusive options"]},label:{title:"Label Element",description:"A text display element for static information like parameter names, section headers, or instructions. Does not interact with parameters.",examples:[{label:"Parameter Labels",explanation:"Place above or beside controls to identify them. Set font size and weight to match your UI design language."},{label:"Section Headers",explanation:"Use larger, bolder text to create visual sections. Combine with Panel or Frame to group related controls."},{label:"Styling",explanation:"Adjust font family, size, weight, and color in Properties. Use text alignment to match layout (left for labels, center for headers)."}],relatedTopics:["Use NumericDisplay to show parameter values","Group related controls with GroupBox","Frame adds a border around content areas"]},meter:{title:"Meter Element",description:"A visual level indicator for audio signals. Shows real-time amplitude with configurable range, colors, and peak hold.",examples:[{label:"Basic Level Meter",explanation:"Drag to canvas and bind to a level parameter. Configure dB range (typically -60 to 0 or +6). Set colors for normal, warning, and clip zones."},{label:"Stereo Pair",explanation:"Place two meters side-by-side for stereo signals. Bind left and right channels to separate parameters. Use consistent sizing."},{label:"Peak Hold",explanation:"Enable peak indicators to show maximum levels. Configure hold time and decay rate for professional metering behavior."}],relatedTopics:["Use VUMeter for vintage-style metering","Use PPM meters for broadcast standards","Use LUFS meters for loudness compliance"]},image:{title:"Image Element",description:"Displays an image file (PNG, JPG, SVG) on the canvas. Use for logos, backgrounds, custom graphics, or decorative elements.",examples:[{label:"Logo Placement",explanation:"Import your plugin logo as PNG or SVG. Position in corner or header area. Use transparent background for overlay on panels."},{label:"Background Graphics",explanation:"Create textured backgrounds in image editors. Import as full-canvas image. Send to back (Layers panel) so controls appear above."},{label:"SVG Graphics",explanation:"SVG files scale without quality loss. Ideal for icons and UI graphics. Export elements as SVG to edit in vector tools."}],relatedTopics:["Use SVGGraphic for scalable vector images","Place decorative elements in Panels","Lock position in Layers to prevent accidental moves"]}},Gz={panel:{title:"Panel Element",description:"A container element for grouping related controls. Provides visual separation with background color and optional border. Child elements move and resize with the panel.",examples:[{label:"Creating Sections",explanation:"Use panels to organize your UI into logical sections (e.g., EQ, Compressor, Output). Drag controls onto the panel to make them children."},{label:"Nested Layouts",explanation:"Panels can contain other panels for complex layouts. Create a main panel with sub-panels for each control group."},{label:"Styling",explanation:"Set background color for visual separation. Add border radius for rounded corners. Use subtle colors to avoid distracting from controls."}],relatedTopics:["Use GroupBox for titled sections","Use Frame for minimal border-only grouping","Use Collapsible for expandable sections"]},frame:{title:"Frame Element",description:"A lightweight container with a border but no background fill. Use to visually group controls while maintaining the parent background.",examples:[{label:"Minimal Grouping",explanation:"When you want a visual boundary without solid color. Drag controls inside the frame to group them."},{label:"Border Styles",explanation:"Configure border width and color in Properties. Use rounded corners for softer appearance. Match your overall design language."},{label:"With Labels",explanation:"Place a Label above or inside the frame to identify the group. Position label to overlap frame border for traditional look."}],relatedTopics:["Panel provides background color","GroupBox adds integrated title","Use for inset display areas"]},groupbox:{title:"GroupBox Element",description:"A container with an integrated title label. Perfect for organizing related controls under a descriptive header.",examples:[{label:"Titled Sections",explanation:'Set the title property to name the section (e.g., "Filter", "Envelope", "Output"). The title appears in the border.'},{label:"Organizing Parameters",explanation:"Group all controls for a single feature (knobs, buttons, displays) inside one GroupBox. Users immediately understand what controls are related."},{label:"Styling",explanation:"Customize title font and border appearance. Title position can be adjusted. Match colors to your design theme."}],relatedTopics:["Panel for untitled grouping","Collapsible for expandable sections","Nest GroupBoxes for sub-categories"]},collapsible:{title:"Collapsible Element",description:"An expandable/collapsible container with a clickable header. Users can show or hide the content to save space.",examples:[{label:"Advanced Settings",explanation:'Place rarely-used controls in a Collapsible. Label it "Advanced" or "More Options". Keeps main UI clean while providing access.'},{label:"Modulation Sections",explanation:"Group modulation controls (LFO, Envelope) in collapsibles. Users expand only what they are working with."},{label:"Default State",explanation:"Set expanded property to control initial state. Usually collapsed for advanced options, expanded for frequently-used sections."}],relatedTopics:["GroupBox for always-visible titled sections","Panel for basic grouping","Use clear header text for discoverability"]}},Zz={numericdisplay:{title:"Numeric Display Element",description:"Shows a parameter value as formatted text. Updates in real-time as the parameter changes. Configurable precision, units, and styling.",examples:[{label:"Value Readout",explanation:"Place next to a knob or slider to show exact value. Bind to same Parameter ID. Set decimal places appropriate for the parameter type."},{label:"With Units",explanation:"Configure suffix property for units (Hz, dB, ms, %). The display automatically appends units to the value."},{label:"Editable Values",explanation:"Enable editing to allow direct value entry. Users click to type exact values instead of dragging controls."}],relatedTopics:["Use dBDisplay for decibel values with proper formatting","Use TimeDisplay for time values (ms, s)","Use PercentageDisplay for 0-100% values"]}},qz={steppedknob:{title:"Stepped Knob Element",description:"A rotary control that snaps to discrete positions. Ideal for selecting from a fixed set of values like waveform types or algorithm modes.",examples:[{label:"Waveform Selector",explanation:"Set steps to 4 for Sine/Square/Saw/Triangle selection. Each position maps to a distinct waveform. Add labels around the knob showing waveform names or icons."},{label:"Algorithm Mode",explanation:"Use for selecting between synthesis algorithms or effect modes. Set steps to match the number of options. Bind to a choice parameter in JUCE."},{label:"Octave Switch",explanation:"Configure with steps for -2, -1, 0, +1, +2 octave offsets. Each detent position represents a musical octave shift."}],relatedTopics:["Use regular Knob for continuous values","Set step count to match number of options","Combine with labels showing step values"]},centerdetentknob:{title:"Center Detent Knob Element",description:"A rotary control with a physical-feeling center detent at the midpoint. Perfect for bipolar parameters like pan, stereo width, or EQ gain.",examples:[{label:"Pan Control",explanation:"Center position represents center pan (0). Rotate left for L, right for R. The detent provides tactile feedback at the center position for easy reset."},{label:"EQ Gain",explanation:"Use for boost/cut EQ bands. Center is 0 dB (no change). Rotate for boost (+dB) or cut (-dB). Visual indicator shows deviation from center."},{label:"Stereo Width",explanation:"Center represents normal stereo (100%). Left narrows to mono, right widens beyond stereo. The detent helps return to natural stereo width."}],relatedTopics:["Use for parameters with meaningful center (0, unity, center)","BipolarSlider offers linear alternative","Visual indicator shows center position"]},dotindicatorknob:{title:"Dot Indicator Knob Element",description:"A knob variant with discrete dot indicators around the perimeter showing the current position. Provides visual reference points.",examples:[{label:"Clock Position Reference",explanation:`Dots mark positions like a clock face (12 dots for hours). Useful for parameters where users think in clock positions like "set to 2 o'clock".`},{label:"Preset Positions",explanation:"Place dots at common/useful values. For a drive control, dots might mark subtle, moderate, and aggressive settings."},{label:"Step Indicators",explanation:"Combine with a continuous parameter to show recommended positions. Users can set between dots for fine-tuning but have visual reference points."}],relatedTopics:["Use for parameters where specific positions matter","Dots can indicate common values or detents","Combine with value display for precision"]}},Xz={bipolarslider:{title:"Bipolar Slider Element",description:"A slider centered at zero with positive and negative ranges. Visual center line marks the neutral position. Ideal for pan, balance, or gain offset.",examples:[{label:"Pan Control",explanation:"Center position is mono/center. Drag left for L panning, right for R panning. The fill visually shows which direction and how far from center."},{label:"Pitch Offset",explanation:"Use for pitch bend or detune controls. Center is no pitch change. Negative values lower pitch, positive raise it. Common range: -12 to +12 semitones."},{label:"Gain Trim",explanation:"For fine gain adjustments around unity. Center represents 0 dB (no change). Range might be -6 dB to +6 dB for subtle level matching."}],relatedTopics:["Use CenterDetentKnob for rotary equivalent","Fill color shows deviation from center","Snap to center option for precise zero"]},crossfadeslider:{title:"Crossfade Slider Element",description:"A dual-sided slider for mixing between two signals. Moving left increases A, moving right increases B. Perfect for A/B mixing or wet/dry blend.",examples:[{label:"Wet/Dry Mix",explanation:'Label A as "Dry" and B as "Wet". Full left is 100% dry signal, full right is 100% wet effect. Center is 50/50 blend.'},{label:"Parallel Processing",explanation:"Mix between original and processed signal. Full left = unprocessed, full right = fully processed. Useful for parallel compression or saturation."},{label:"Oscillator Mix",explanation:"Blend between two oscillators. Full left = OSC A only, full right = OSC B only. Center combines both equally."}],relatedTopics:["Label ends with A and B sources","Center position is equal mix","Use for parallel processing blend"]},notchedslider:{title:"Notched Slider Element",description:"A slider with visual notches at specific positions. The thumb may snap to notches for commonly-used values.",examples:[{label:"Preset Levels",explanation:"Add notches at common values like 25%, 50%, 75%, 100%. Users can quickly hit these values while still having continuous control between."},{label:"Musical Divisions",explanation:"For timing parameters, notches at musical values (1/4, 1/8, 1/16 notes). Helps users dial in rhythmically meaningful values."},{label:"dB Increments",explanation:"For volume controls, notches at -6 dB, -12 dB, -18 dB, etc. Provides quick access to standard gain staging values."}],relatedTopics:["Use for parameters with meaningful presets","Notches provide visual reference points","Combine with value display"]},multislider:{title:"Multi Slider Element",description:"Multiple parallel sliders in a single element. Ideal for multi-band controls, graphic EQ, or any array of related parameters.",examples:[{label:"Graphic EQ",explanation:"Set bands to 10 or 31 for standard graphic EQ. Each slider controls one frequency band. Provides immediate visual feedback of the EQ curve."},{label:"Multiband Dynamics",explanation:"Use 3-5 bands for multiband compressor thresholds or ratios. Each band controls its frequency range independently."},{label:"Harmonic Levels",explanation:"Control levels of individual harmonics in additive synthesis. Each slider represents one harmonic partial (fundamental, 2nd, 3rd, etc.)."}],relatedTopics:["Configure number of bands/sliders","Each slider maps to separate parameter","Use for EQ, multiband dynamics"]},rangeslider:{title:"Range Slider Element",description:"A dual-handle slider for selecting a range of values (min and max). The two handles define the range boundaries.",examples:[{label:"Frequency Range",explanation:"Select a frequency band for filtering or analysis. Low handle sets the low cutoff, high handle sets the high cutoff. Useful for bandpass filter controls."},{label:"Velocity Range",explanation:"Define MIDI velocity response range. Set minimum and maximum velocities that trigger the sound. Notes outside the range are ignored."},{label:"Random Range",explanation:"Set bounds for randomization. The random value will always fall between the two handles. Good for controlled variation in parameters."}],relatedTopics:["Use for frequency ranges, time windows","Handles cannot cross each other","Fill shows selected range"]}},Yz={iconbutton:{title:"Icon Button Element",description:"A button displaying only an icon/graphic without text label. Compact design for toolbars or when the icon meaning is universal.",examples:[{label:"Toolbar Actions",explanation:"Use for play/stop/record buttons, copy/paste, or undo/redo. Icons are universally understood, no text needed. Keep buttons same size for alignment."},{label:"Navigation",explanation:"Use arrow icons for prev/next navigation in preset browsers. Home icon for returning to main view. Menu icon (hamburger) for opening side panels."},{label:"With Tooltip",explanation:"Always add a tooltip describing the action, especially for less common icons. The tooltip appears on hover, maintaining clean UI while providing clarity."}],relatedTopics:["Set icon via image property","Use SVG for scalable icons","Add tooltip for accessibility"]},toggleswitch:{title:"Toggle Switch Element",description:"A physical-style toggle switch for on/off states. More tactile appearance than standard toggle button.",examples:[{label:"Feature Enable",explanation:'Use for enabling/disabling features like "High Quality Mode", "Oversampling", or "Key Follow". The physical appearance makes the on/off state immediately clear.'},{label:"A/B Selection",explanation:'Position labels on either side (e.g., "Mono" / "Stereo"). The switch position visually indicates which option is active.'},{label:"Hardware Emulation",explanation:"Match physical hardware controls in emulations. Toggle switches feel authentic for vintage gear recreations."}],relatedTopics:["Use for clear binary choices","Horizontal or vertical orientation","Labels for on/off states"]},powerbutton:{title:"Power Button Element",description:"A styled power/bypass button typically used for enabling/disabling entire effect sections. Universal power icon styling.",examples:[{label:"Effect Bypass",explanation:"Place in section header to enable/disable the entire effect. Green lit = active, gray = bypassed. Users expect this control in the top-left or top-right of each section."},{label:"Module Enable",explanation:"In modular synth UIs, use to enable/disable individual modules (oscillators, filters, envelopes). Helps reduce CPU when modules are not needed."},{label:"Master Power",explanation:"A main power button can enable/disable the entire plugin processing. Useful for A/B comparison against the unprocessed signal."}],relatedTopics:["Standard for bypass controls","Place prominently in section headers","Green on, gray off convention"]},rockerswitch:{title:"Rocker Switch Element",description:"A physical-style rocker switch that tilts between two positions. Provides clear visual state indication.",examples:[{label:"Mode Selection",explanation:'Use for two-choice selections like "Mono/Stereo", "Pre/Post", or "Internal/External". The physical tilt makes the current selection very obvious.'},{label:"Polarity Switch",explanation:'For phase/polarity inversion. Label one side "+" and other "-". The rocker style matches physical studio gear conventions.'},{label:"Filter Type",explanation:'Quick switch between two filter types (e.g., "LP/HP" for lowpass/highpass). Faster than a dropdown for simple binary choices.'}],relatedTopics:["Use for permanent settings","Clear on/off visual feedback","Alternative to toggle switch"]},rotaryswitch:{title:"Rotary Switch Element",description:"A multi-position rotary selector switch. Click to cycle through positions or drag to select. For selecting from multiple options.",examples:[{label:"Waveform Selection",explanation:"Each position selects a waveform (Sine, Saw, Square, etc.). Position indicators show all options. More visual than a dropdown."},{label:"Filter Slope",explanation:`Select filter slope: 12 dB/oct, 24 dB/oct, 48 dB/oct. The rotary style suits "switch" parameters that aren't continuous.`},{label:"Input Source",explanation:"Select between input sources (Input 1, Input 2, Sidechain, etc.). The hardware-like appearance is familiar to audio engineers."}],relatedTopics:["Use for mode/algorithm selection","Alternative to dropdown","Visual position indicator"]},segmentbutton:{title:"Segment Button Element",description:"A segmented control where only one segment can be selected at a time. Like radio buttons but in a compact bar format.",examples:[{label:"View Mode",explanation:'Switch between views: "Waveform | Spectrum | Both". Only one can be active. Segments highlight to show current selection.'},{label:"Time Division",explanation:'Select note values: "1/4 | 1/8 | 1/16 | 1/32". Common for delay/LFO sync settings. Compact and scannable.'},{label:"Filter Type",explanation:'Choose filter type: "LP | BP | HP | Notch". All options visible at once, making it faster than a dropdown for small option sets.'}],relatedTopics:["Use for mutually exclusive options","Horizontal or vertical layout","Alternative to dropdown for few options"]}},Kz={timedisplay:{title:"Time Display Element",description:"Shows time values with appropriate units (ms, s, min). Automatically formats based on value magnitude.",examples:[{label:"Attack/Release Times",explanation:'Display envelope times with auto-formatting: values under 1 second show as "250 ms", larger values as "1.5 s". Bind to attack, decay, release parameters.'},{label:"Delay Time",explanation:"Show delay times in milliseconds or synced note values. For tempo-synced delays, can display both ms and musical notation."},{label:"Lookahead Display",explanation:"For limiters and compressors with lookahead. Typically ranges from 0 to 20 ms. Helps users understand latency trade-offs."}],relatedTopics:["Use for delay, attack, release times","Auto-formats ms/s based on range","Bind to time-based parameters"]},percentagedisplay:{title:"Percentage Display Element",description:"Shows values as percentages (0-100%). Includes % symbol. Perfect for mix, ratio, or saturation amounts.",examples:[{label:"Mix/Blend Amount",explanation:"Show wet/dry mix as percentage. 0% = fully dry, 100% = fully wet. Natural format for blend controls that users understand intuitively."},{label:"Drive/Saturation",explanation:'Display saturation amount as percentage. Clearer than abstract 0-10 scales. Users can easily communicate settings ("set drive to 75%").'},{label:"Modulation Depth",explanation:"Show how much a modulation source affects a destination. 0% = no modulation, 100% = full range. Negative percentages for inverted modulation."}],relatedTopics:["Use for wet/dry mix display","Automatic % suffix","Bind to normalized parameters"]},ratiodisplay:{title:"Ratio Display Element",description:"Shows compressor-style ratios (e.g., 4:1, inf:1). Standard format for dynamics processor settings.",examples:[{label:"Compressor Ratio",explanation:"Display classic ratio format: 2:1 for gentle compression, 4:1 for moderate, 10:1+ for heavy. Infinity symbol (∞:1) indicates limiting."},{label:"Expander Ratio",explanation:"For expanders/gates, show expansion ratios like 1:2, 1:4. The inverted format indicates signal reduction below threshold."},{label:"With Knee Display",explanation:'Pair with knee control to show complete dynamics behavior. Ratio shows "what" happens, knee shows "how" the transition occurs.'}],relatedTopics:["Use for compressor/gate ratios","Shows infinity symbol for limiting","Pair with compressor controls"]},notedisplay:{title:"Note Display Element",description:"Shows MIDI note values as musical note names (C4, F#3). Converts between note number and musical notation.",examples:[{label:"Root Note Selection",explanation:'Display the selected root note for scales or arpeggios. MIDI note 60 shows as "C4". Musicians think in note names, not numbers.'},{label:"Key Tracking",explanation:"Show the current note being tracked. Useful for pitch followers, autotune displays, or MIDI monitor readouts."},{label:"Frequency to Note",explanation:'Convert frequencies to nearest note. A 440 Hz tone displays as "A4". Helps musicians relate Hz values to musical pitch.'}],relatedTopics:["Use for root note, key selection","Shows sharps/flats appropriately","Octave number included"]},bpmdisplay:{title:"BPM Display Element",description:"Shows tempo values in beats per minute. Typically includes decimal precision and BPM label.",examples:[{label:"Tempo Readout",explanation:"Display DAW tempo or internal clock speed. Range typically 40-200 BPM. One decimal place (120.0 BPM) provides enough precision."},{label:"LFO Rate",explanation:"Show LFO speed in BPM when synced to tempo. Helps users set rhythmically meaningful modulation rates."},{label:"Tap Tempo Result",explanation:"After tapping, display the detected tempo. Usually shows average of last 4 taps. Updates in real-time during tapping."}],relatedTopics:["Use for tempo sync parameters","Optional decimal places","Combine with tap tempo button"]},editabledisplay:{title:"Editable Display Element",description:"A numeric display that accepts direct text input. Click to edit, type value, press Enter to confirm.",examples:[{label:"Precise Frequency",explanation:'For EQ or filter cutoff, click to type exact frequency (e.g., "1000" for 1 kHz). More precise than dragging a knob for specific values.'},{label:"Threshold Setting",explanation:"Type exact dB value for compressor threshold. Professional users often know exact values they need (-18 dB, -6 dB, etc.)."},{label:"With Increment Buttons",explanation:"Combine with stepper buttons for hybrid control: type for exact values, click buttons for fine adjustment."}],relatedTopics:["Alternative to slider for precise values","Validation for min/max range","Keyboard-friendly input"]},multivaluedisplay:{title:"Multi Value Display Element",description:"Shows multiple related values in a single display. Useful for coordinates, ranges, or grouped readouts.",examples:[{label:"XY Position",explanation:'Show X and Y coordinates for XY pad controls. Format: "X: 0.5, Y: 0.8" or "50%, 80%". Compact readout for two-parameter controls.'},{label:"Range Display",explanation:'Show min and max of a range slider: "200 Hz - 8 kHz". Single display for two values that define a range.'},{label:"ADSR Overview",explanation:'Compact display of all envelope values: "A: 10ms D: 50ms S: 70% R: 200ms". Quick reference without needing four separate displays.'}],relatedTopics:["Use for X/Y coordinates","Show range as min-max","Compact multi-parameter readout"]}},Jz={},Qz={tooltip:{title:"Tooltip Element",description:"A popup hint that appears when hovering over elements. Provides additional information without cluttering the UI.",relatedTopics:["Use Label for visible static text","Use IconButton with tooltip for compact controls","Combine with Knob or Slider for value hints"]},windowchrome:{title:"Window Chrome Element",description:"The decorative and functional frame around a plugin window. Includes title bar, close button, and resize handles.",relatedTopics:["Use Panel for plugin background","Use Label for window title text","Use IconButton for close/minimize buttons"]},horizontalspacer:{title:"Horizontal Spacer Element",description:"An invisible element that creates horizontal space in layouts. Pushes adjacent elements apart.",relatedTopics:["Use VerticalSpacer for vertical spacing","Use Panel for visible spacer with background","Use Frame for bordered spacing"]},verticalspacer:{title:"Vertical Spacer Element",description:"An invisible element that creates vertical space in layouts. Pushes adjacent elements apart vertically.",relatedTopics:["Use HorizontalSpacer for horizontal spacing","Use Panel for visible spacer with background","Use Line for visible divider"]}},eD={dropdown:{title:"Dropdown Element",description:"A collapsible list for selecting one option from many. Compact display that expands when clicked.",examples:[{label:"Algorithm Selection",explanation:"List available algorithms or modes. Dropdown shows current selection, click to see all options. Good for 5+ choices that would crowd the UI as buttons."},{label:"Preset Selection",explanation:"Browse and select presets from a dropdown list. Can include categories and subcategories for organized preset management."},{label:"Filter Type",explanation:"Select filter types (Lowpass, Highpass, Bandpass, etc.). Dropdown keeps interface clean while providing many options."}],relatedTopics:["Use for many options (5+)","Configure options list","Alternative to rotary switch"]},checkbox:{title:"Checkbox Element",description:"A toggleable box for binary options. Shows checked or unchecked state with optional label.",examples:[{label:"Feature Toggle",explanation:'Enable/disable features like "Key Follow", "Velocity Sensitivity", or "MIDI Learn". Label describes what checking enables.'},{label:"Option Groups",explanation:"Group related checkboxes for multiple independent options. Unlike radio groups, users can select multiple checkboxes."},{label:"Settings Panel",explanation:"Ideal for settings and preferences pages. Each checkbox toggles one setting. Clear labels explain each option."}],relatedTopics:["Use for enable/disable options","Group related checkboxes","Label text configurable"]},radiogroup:{title:"Radio Group Element",description:"A set of mutually exclusive radio buttons. Only one option can be selected at a time.",examples:[{label:"Quality Settings",explanation:"Select quality level: Low / Medium / High / Ultra. Only one can be active. Radio buttons make exclusivity obvious."},{label:"Mode Selection",explanation:"Choose operating mode when options are mutually exclusive. Each radio button labeled with its mode name and optional description."},{label:"With Descriptions",explanation:"Add descriptive text below each option explaining what it does. More informative than a simple dropdown for important choices."}],relatedTopics:["Use for exclusive choices","Alternative to dropdown","Clear visual selection"]},textfield:{title:"Text Field Element",description:"A text input field for entering strings. Use for names, paths, or text-based parameters.",examples:[{label:"Preset Name",explanation:"Enter name when saving presets. Text field accepts keyboard input. Can include validation for allowed characters."},{label:"File Path",explanation:"Enter or display file paths for samples, impulse responses, etc. Often paired with a browse button."},{label:"Custom Labels",explanation:"Let users enter custom text for track names, annotations, or notes. Freeform text input where dropdowns aren't appropriate."}],relatedTopics:["Use for preset names","Validation available","Configure placeholder text"]},multiselectdropdown:{title:"Multi-Select Dropdown Element",description:"A dropdown allowing multiple selections. Shows checkmarks for selected items.",examples:[{label:"Category Filter",explanation:'Select multiple preset categories to browse. Shows checkmarks for selected categories. Header shows count like "3 selected".'},{label:"Output Routing",explanation:"Select multiple output destinations. A signal can route to several buses simultaneously. Multi-select shows all active routings."},{label:"Tag Selection",explanation:"Choose multiple tags or attributes. More compact than showing all checkboxes. Good when there are many possible selections."}],relatedTopics:["Use for multiple choices","Shows selection count","Alternative to checkbox group"]},combobox:{title:"Combo Box Element",description:"Combines text input with dropdown selection. Users can type custom values or select from list.",examples:[{label:"Preset with Custom",explanation:"Select from preset values or type custom value. Dropdown shows common/preset values, but users can enter anything."},{label:"Searchable List",explanation:"Type to filter long lists. Shows matching options as user types. Faster than scrolling through many options."},{label:"Recent Values",explanation:"Dropdown shows recently-used values for quick access. User can still type new values that get added to history."}],relatedTopics:["Use for preset with custom option","Type or select","Filterable options"]},menubutton:{title:"Menu Button Element",description:"A button that opens a dropdown menu when clicked. Combines button action with menu selection.",examples:[{label:"Action Menu",explanation:'Button labeled "Edit" opens menu with Cut, Copy, Paste, Delete options. Compact way to offer multiple related actions.'},{label:"Export Options",explanation:"Export button opens menu with format choices (WAV, MP3, FLAC). Single button provides multiple export paths."},{label:"Preset Actions",explanation:"Menu button for Save, Save As, Rename, Delete preset. Groups preset management actions under one button."}],relatedTopics:["Use for action menus","Configure menu items","Icon or text trigger"]}},tD={stepper:{title:"Stepper Element",description:"Increment/decrement buttons for numeric values. Plus and minus buttons to adjust value by fixed steps.",relatedTopics:["Use NumericDisplay to show current value","Use EditableDisplay for typed input","Use Slider for continuous adjustment"]},breadcrumb:{title:"Breadcrumb Element",description:"Navigation path showing current location in hierarchy. Clickable segments to navigate back.",relatedTopics:["Use TreeView for full hierarchy view","Use PresetBrowser for preset navigation","Use Label for static path display"]},tabbar:{title:"Tab Bar Element",description:"Horizontal tabs for switching between views or sections. Only one tab active at a time.",relatedTopics:["Use SegmentButton for similar inline selection","Use Panel for tab content containers","Use Collapsible for expandable sections"]},tagselector:{title:"Tag Selector Element",description:"Multi-select tag/chip interface for filtering or categorization. Toggle tags on/off.",relatedTopics:["Use MultiSelectDropdown for compact multi-select","Use PresetBrowser with tag filtering","Use Checkbox for individual toggle options"]},treeview:{title:"Tree View Element",description:"Hierarchical list with expandable/collapsible nodes. For navigating nested structures like preset banks.",relatedTopics:["Use PresetBrowser for full preset management","Use Breadcrumb for path display","Use Dropdown for flat list selection"]}},rD={scrollingwaveform:{title:"Scrolling Waveform Element",description:"Real-time audio waveform display that scrolls horizontally. Shows recent audio history as it plays.",examples:[{label:"Input Monitor",explanation:"Display incoming audio as a continuous scrolling view. Users can see recent signal history and visually identify transients, noise, or dropouts."},{label:"Recording Preview",explanation:"Show what's being recorded in real-time. Helps users monitor levels visually while recording. Waveform height indicates signal level."},{label:"Trigger/Gate Visualization",explanation:"Visualize when gates or triggers are active. The waveform shows where transients occur and how the dynamics processor responds."}],relatedTopics:["Use Oscilloscope for triggered waveform display","Use SpectrumAnalyzer for frequency content","Use Meter for level monitoring"]},spectrumanalyzer:{title:"Spectrum Analyzer Element",description:"Real-time frequency spectrum display. Shows frequency content as bar graph or continuous line.",examples:[{label:"EQ Visualization",explanation:"Show frequency content while EQing. Identify problematic frequencies visually. Bar or line display shows energy distribution across the spectrum."},{label:"Frequency Comparison",explanation:"Compare before/after processing. Many analyzers can overlay original and processed spectrums to visualize EQ changes."},{label:"Mixing Reference",explanation:"Check mix balance across frequency ranges. Compare against reference tracks. Look for missing frequencies or excessive buildup."}],relatedTopics:["Use Spectrogram for time-based frequency view","Use EQCurve to display filter response","Use FilterResponse for filter visualization"]},spectrogram:{title:"Spectrogram Element",description:"Time vs frequency display with color-coded amplitude. Shows frequency evolution over time.",examples:[{label:"Detailed Frequency Analysis",explanation:"See how frequencies change over time. Vertical axis is frequency, horizontal is time, color is amplitude. Great for identifying resonances and harmonics."},{label:"Noise Identification",explanation:"Spot noise, hum, or interference as consistent horizontal lines. Clicks and pops appear as vertical lines. Essential for audio restoration."},{label:"Harmonic Structure",explanation:"Visualize harmonic content of instruments. See fundamental and overtones clearly. Useful for sound design and synthesis analysis."}],relatedTopics:["Use SpectrumAnalyzer for frequency bars display","Use EQCurve for interactive frequency editing","Use ScrollingWaveform for time-domain view"]},goniometer:{title:"Goniometer Element",description:"Stereo phase/balance visualization. Shows L/R relationship as Lissajous pattern.",examples:[{label:"Phase Correlation",explanation:"Vertical line = mono, diagonal line = stereo, horizontal line = phase issues. The shape reveals stereo width and mono compatibility at a glance."},{label:"Stereo Balance",explanation:"Centered pattern = balanced mix, tilted pattern = panning bias. Monitor while mixing to maintain stereo balance."},{label:"Stereo Widening Feedback",explanation:"Watch pattern expand when applying stereo widening. If pattern becomes too horizontal, you're risking phase problems."}],relatedTopics:["Use Vectorscope for circular stereo display","Use CorrelationMeter for numeric phase reading","Use StereoWidthMeter for width monitoring"]},vectorscope:{title:"Vectorscope Element",description:"Circular stereo field visualization. Shows stereo width and balance as vector display.",examples:[{label:"Stereo Image",explanation:"Dots near center = mono, dots spread out = stereo. Shows the stereo field as a circular display. M/S and L/R information visible."},{label:"Balance Monitoring",explanation:"Pattern should be centered for balanced mixes. Consistent pull to one side indicates panning or gain imbalance."},{label:"Phase Problems",explanation:"Pattern extending past the sides indicates out-of-phase content. Use to verify stereo processing isn't creating phase issues."}],relatedTopics:["Use Goniometer for Lissajous pattern display","Use CorrelationMeter for phase correlation","Use StereoWidthMeter for width analysis"]},waveform:{title:"Waveform Element",description:"Static waveform display for loaded audio files. Shows complete waveform overview.",examples:[{label:"Sample Preview",explanation:"Display loaded samples in samplers or drum machines. Shows waveform shape, helping users identify sounds visually."},{label:"Edit Point Selection",explanation:"Use with markers to show loop points, slice markers, or crossfade regions. The waveform provides visual context for edit decisions."},{label:"Zoom Navigation",explanation:"Zoom for detailed editing, zoom out for overview. Click and drag to scroll through longer files. Selection highlighting shows ranges."}],relatedTopics:["Use SampleDisplay for editable sample view","Use LoopPoints for loop region markers","Use Oscilloscope for real-time waveform"]},oscilloscope:{title:"Oscilloscope Element",description:"Real-time waveform display showing audio cycles. Triggered display for stable visualization.",examples:[{label:"Waveform Shape",explanation:"View the actual wave shape of your sound. See sine, square, saw, and complex waveforms clearly. Essential for synth sound design."},{label:"LFO Visualization",explanation:"Display LFO waveform and rate. Users can see the modulation shape and speed. Useful for understanding modulation effects."},{label:"Distortion Analysis",explanation:"Watch how distortion affects waveform shape. Clean sine becomes increasingly complex as distortion adds harmonics."}],relatedTopics:["Use ScrollingWaveform for continuous display","Use LFODisplay for modulation waveforms","Use SpectrumAnalyzer for frequency content"]}},nD={eqcurve:{title:"EQ Curve Element",description:"Frequency response visualization for EQ settings. Shows filter shapes and overall response curve.",examples:[{label:"Visual EQ Feedback",explanation:"See the combined EQ curve as you adjust bands. Individual band shapes (bell, shelf, highpass) combine into overall response curve."},{label:"Interactive Editing",explanation:"Click and drag nodes directly on the curve. Horizontal movement adjusts frequency, vertical adjusts gain. More intuitive than knob-only control."},{label:"Analyzer Overlay",explanation:"Combine with spectrum analyzer for visual EQ matching. See the input spectrum behind the EQ curve to identify frequencies to adjust."}],relatedTopics:["Use SpectrumAnalyzer for frequency analysis overlay","Use FilterResponse for single filter visualization","Combine with Knob controls for EQ bands"]},compressorcurve:{title:"Compressor Curve Element",description:"Input/output transfer curve for dynamics processors. Shows threshold, ratio, knee as visual curve.",examples:[{label:"Threshold Visualization",explanation:"The knee point shows where compression begins. Signal below threshold follows 1:1 line (no compression). Above threshold, the curve flattens based on ratio."},{label:"Ratio Understanding",explanation:"Steeper curve = higher ratio. 1:1 is diagonal line (no compression). As ratio increases toward limiting, the curve approaches horizontal."},{label:"Knee Type",explanation:"Hard knee shows sharp angle at threshold. Soft knee shows gradual curve. Visual representation helps users understand compression character."}],relatedTopics:["Use GainReductionMeter to show compression amount","Use RatioDisplay for numeric ratio readout","Use dBDisplay for threshold value"]},envelopedisplay:{title:"Envelope Display Element",description:"ADSR or multi-stage envelope visualization. Shows envelope shape over time.",examples:[{label:"ADSR Shape",explanation:"See envelope shape at a glance. Attack slope, decay curve, sustain level, and release time all visible. Changes to controls update display in real-time."},{label:"Complex Envelopes",explanation:"Multi-stage envelopes show all segments. Useful for complex modulation envelopes with hold, delay, or multiple decay stages."},{label:"Amplitude vs Modulation",explanation:"For amp envelopes, the shape directly shows volume over time. For mod envelopes, shape shows how the modulation amount changes."}],relatedTopics:["Use EnvelopeEditor for interactive envelope editing","Use TimeDisplay for attack/release readouts","Use Slider for envelope parameter controls"]},lfodisplay:{title:"LFO Display Element",description:"Low-frequency oscillator waveform display. Shows LFO shape, rate, and modulation.",examples:[{label:"Waveform Preview",explanation:"See sine, triangle, saw, square, and random waveforms visually. Helps users understand what modulation shape they're applying."},{label:"Rate Visualization",explanation:"Faster rates show more cycles in the display. Helps visualize the modulation speed and timing. Sync to tempo shows beat-aligned cycles."},{label:"Phase Position",explanation:"Optional playhead or marker shows current position in cycle. Useful for understanding where the LFO is in real-time."}],relatedTopics:["Use Oscilloscope to see LFO output","Use BPMDisplay for tempo-synced rate","Use SteppedKnob for waveform selection"]},filterresponse:{title:"Filter Response Element",description:"Frequency response curve for filter settings. Shows cutoff, resonance, and filter slope.",examples:[{label:"Filter Shape",explanation:"See the filter cutoff point and slope visually. Lowpass rolls off highs, highpass rolls off lows. The steepness shows filter slope (12dB, 24dB, etc.)."},{label:"Resonance Peak",explanation:"Resonance appears as a peak at the cutoff frequency. Higher resonance = taller, narrower peak. Self-oscillation shows as extreme peak."},{label:"Filter Type Comparison",explanation:"Switching filter types (LP/HP/BP/Notch) shows immediate visual change. Helps users understand the sonic difference between filter types."}],relatedTopics:["Use EQCurve for multi-band EQ display","Use FrequencyDisplay for cutoff readout","Use Knob for cutoff and resonance controls"]}},aD={pianokeyboard:{title:"Piano Keyboard Element",description:"Interactive piano keyboard for note input and display. Supports click/drag playing and MIDI visualization.",examples:[{label:"Note Input",explanation:"Click keys to trigger notes. Useful for testing sounds without external MIDI controller. Drag across keys for glissando effect."},{label:"MIDI Visualization",explanation:"Incoming MIDI notes light up corresponding keys. Helps users see what notes are playing, useful for learning and debugging MIDI routing."},{label:"Range Selection",explanation:"Configure visible octave range (2-7 octaves typical). Smaller keyboards save space, larger keyboards provide more range for playing."}],relatedTopics:["Use NoteDisplay to show current note","Use DrumPad for individual trigger pads","Use StepSequencer for pattern programming"]},drumpad:{title:"Drum Pad Element",description:"Single pressure-sensitive trigger pad. Typically used in groups for drum machine interfaces.",examples:[{label:"Sample Trigger",explanation:"Click to trigger assigned sample. Hold for sustaining sounds. Velocity sensitivity based on click position or mouse button."},{label:"Visual Feedback",explanation:"Pad lights up on trigger, dims on release. Color can indicate sample type, group membership, or mute/solo state."},{label:"Pad Assignment",explanation:"Assign samples, MIDI notes, or plugin actions to individual pads. Each pad can trigger different content."}],relatedTopics:["Use PadGrid for organized pad layouts","Use StepSequencer for pattern programming","Use Meter for velocity display"]},padgrid:{title:"Pad Grid Element",description:"Grid of drum pads in typical 4x4 or 8x8 layouts. For sample triggering and step programming.",examples:[{label:"Drum Machine",explanation:"Classic 4x4 grid for 16 samples/sounds. Maps to standard drum machine layout. Each pad triggers a different sound."},{label:"Clip Launcher",explanation:"Larger grids (8x8) work like Ableton Push or Launchpad. Launch clips, trigger samples, or control scenes."},{label:"Pattern Banks",explanation:"Use pages to access more sounds than visible pads. Bank A/B/C/D each provide 16 more pads for 64+ sound access."}],relatedTopics:["Use DrumPad for individual pad elements","Use StepSequencer for pattern editing","Use SegmentButton for bank selection"]},stepsequencer:{title:"Step Sequencer Element",description:"Grid-based pattern editor for rhythmic programming. Steps on horizontal axis, parts on vertical.",examples:[{label:"Drum Pattern",explanation:"16-step grid with rows for kick, snare, hat, etc. Click steps to toggle notes. Classic TR-style drum programming interface."},{label:"Melodic Sequences",explanation:"Steps trigger notes at different pitches. Vertical position or note value per step creates melodic patterns. Ideal for synth basslines and arpeggios."},{label:"Parameter Automation",explanation:"Beyond notes, sequence parameter changes. Each step can set filter cutoff, pan, or other parameter values for evolving patterns."}],relatedTopics:["Use PadGrid for drum machine style","Use PianoKeyboard for melodic input","Use BPMDisplay for tempo readout"]},xypad:{title:"XY Pad Element",description:"Two-dimensional control surface. X and Y axes map to different parameters for expressive control.",examples:[{label:"Filter Control",explanation:"X axis controls cutoff frequency, Y axis controls resonance. Single gesture adjusts both parameters simultaneously for expressive filter sweeps."},{label:"Effects Mix",explanation:"X axis controls delay mix, Y axis controls reverb mix. Allows quick navigation between dry, delayed, reverbed, and combined sounds."},{label:"Performance Control",explanation:"Record XY movements as automation. Perfect for live performance and sound design. Touch-screen friendly for iPad/tablet use."}],relatedTopics:["Use MultiValueDisplay for X/Y readout","Use Slider for individual axis control","Use FilterResponse for filter XY mapping"]},wavetabledisplay:{title:"Wavetable Display Element",description:"Visualization for wavetable synthesizer. Shows waveform and position within wavetable.",relatedTopics:["Use Slider for wavetable position control","Use Oscilloscope for waveform preview","Use Knob for morphing control"]},harmoniceditor:{title:"Harmonic Editor Element",description:"Bar graph editor for harmonic/partial levels. For additive synthesis or harmonic shaping.",relatedTopics:["Use MultiSlider for similar bar editing","Use SpectrumAnalyzer to view result","Use Oscilloscope to see waveform"]},envelopeeditor:{title:"Envelope Editor Element",description:"Interactive envelope curve editor with draggable nodes. Full ADSR or multi-segment editing.",relatedTopics:["Use EnvelopeDisplay for non-interactive view","Use TimeDisplay for segment time readouts","Use Knob for envelope parameter controls"]},sampledisplay:{title:"Sample Display Element",description:"Waveform display with sample editing features. Shows start, end, and loop points.",relatedTopics:["Use LoopPoints for loop region markers","Use Waveform for basic waveform view","Use TimeDisplay for position readout"]},looppoints:{title:"Loop Points Element",description:"Visual loop point markers on waveform. Draggable start and end loop positions.",relatedTopics:["Use SampleDisplay for waveform context","Use RangeSlider for numeric loop range","Use TimeDisplay for loop time readout"]},patchbay:{title:"Patch Bay Element",description:"Visual patching interface for routing connections. Drag cables between inputs and outputs.",relatedTopics:["Use ModulationMatrix for grid-based routing","Use SignalFlow for processing chain view","Use Dropdown for source/dest selection"]},signalflow:{title:"Signal Flow Element",description:"Block diagram showing audio signal path. Visual representation of processing chain.",relatedTopics:["Use PatchBay for interactive routing","Use ModulationMatrix for modulation routing","Use Label for block labels"]},modulationmatrix:{title:"Modulation Matrix Element",description:"Grid showing modulation source/destination connections and amounts. For complex modulation routing.",relatedTopics:["Use PatchBay for cable-style routing","Use Dropdown for source/dest selection","Use Slider for modulation amount"]},presetbrowser:{title:"Preset Browser Element",description:"Interface for browsing, loading, and managing presets. Includes search, categories, and favorites.",relatedTopics:["Use TreeView for hierarchical preset navigation","Use TagSelector for preset filtering","Use TextField for preset search"]}},iD={rectangle:{title:"Rectangle Element",description:"A basic rectangular shape. Use for backgrounds, dividers, or decorative purposes.",relatedTopics:["Use Panel for interactive container","Use Frame for bordered shapes","Use Line for thin dividers"]},line:{title:"Line Element",description:"A simple line from point A to point B. Use for dividers or visual connections.",relatedTopics:["Use Rectangle for filled dividers","Use Frame for bordered sections","Use HorizontalSpacer for invisible spacing"]},svggraphic:{title:"SVG Graphic Element",description:"Displays an SVG vector graphic. Scales without quality loss. Ideal for custom graphics.",relatedTopics:["Use Image for raster graphics (PNG/JPG)","Use IconButton for clickable icons","Export element as SVG for custom editing"]},dbdisplay:{title:"dB Display Element",description:"Specialized display for decibel values. Shows dB suffix and appropriate formatting.",relatedTopics:["Use Meter for visual level display","Use NumericDisplay for generic values","Use GainReductionMeter for compression"]},frequencydisplay:{title:"Frequency Display Element",description:"Specialized display for frequency values. Shows Hz or kHz with appropriate unit scaling.",relatedTopics:["Use FilterResponse for frequency visualization","Use EQCurve for multi-band EQ visualization","Use Knob for frequency control"]}},lm={...Hz,...Gz,...Zz,...qz,...Xz,...Yz,...Kz,...Jz,...Qz,...eD,...tD,...rD,...nD,...aD,...iD};function oD(e){const t=e.toLowerCase().replace(/[^a-z0-9]/g,"");return lm[t]?lm[t]:{title:`${e} Element`,description:`A ${e} element. Select and press F1 for help, or check the Properties panel sections.`,relatedTopics:["Position & Size properties","Identity properties","Lock to prevent changes"]}}const qa={"position-size":{title:"Position & Size",description:"Controls the element's location and dimensions on the canvas. Coordinates are measured in pixels from the top-left corner (0, 0). These values define where your element appears in the final exported UI.",examples:[{label:"Setting Position",explanation:"X and Y values specify the element's top-left corner in pixels. X increases moving right, Y increases moving down. You can use negative values to position elements partially off-canvas, which is useful for edge-aligned designs."},{label:"Setting Size",explanation:"Width and Height define the element's bounding box in pixels. Minimum size is 20x20 to ensure elements remain visible and selectable. For knobs and buttons, a 1:1 aspect ratio often works best."},{label:"Live Updates",explanation:"Values update in real-time as you drag or resize elements on the canvas. You can also type exact values for precise positioning. Changes are applied immediately."}],relatedTopics:["Use Lock to prevent accidental movement","See Keyboard shortcuts for nudge controls","Use Layers panel to control z-order (stacking)"]},identity:{title:"Identity",description:"Defines how the element is identified in the Layers panel and in generated code. The name is for your reference during design, while the Parameter ID connects the element to JUCE audio parameters at runtime.",examples:[{label:"Element Name",explanation:`A descriptive label shown in the Layers panel and used in generated code comments. Names don't need to be unique - use clear, descriptive names like "Master Volume", "Filter Cutoff", or "LFO Rate" to keep your design organized.`},{label:"Parameter ID",explanation:"Optional identifier that binds this element to a JUCE AudioParameter. When set, the generated code will connect this UI control to the specified parameter, enabling real-time value synchronization between UI and audio processing."}],relatedTopics:["ID binding to VST3 params occurs at export","Use Layers panel for quick element navigation"]},lock:{title:"Lock",description:"Prevents accidental modifications to an element while preserving your ability to view its properties. Use locking to protect finalized elements from unintended changes during further design work.",examples:[{label:"When to Lock",explanation:"Lock background images, alignment guides, or any element you've finalized. This is especially useful for complex layouts where you might accidentally move or resize elements while working on nearby controls."},{label:"Locked Behavior",explanation:"Locked elements cannot be moved, resized, or deleted. You can still select them to view their properties, which is useful for reference. To make changes, simply uncheck the lock option."}],relatedTopics:["Locked elements show a lock icon in Layers panel","Use Panel containers to group locked elements"]},svg:{title:"SVG Import/Export",description:"Export elements as SVG files for editing in vector tools (Illustrator, Inkscape, Figma), then import them back for validation. The exported SVG contains named layers that your vector tool must preserve for compatibility.",examples:[{label:"Export Workflow",explanation:"Click Export to download an SVG with named layers (e.g., handle, track, fill). Open this file in your preferred vector editor, customize the appearance while keeping layer names intact, then save."},{label:"Import Validation",explanation:"Click Import and select your edited SVG. The validator checks that required layers exist with correct names, warning about any missing or unexpected layers. This ensures your custom artwork will work correctly at runtime."},{label:"Expected Layers",explanation:"Each element type expects specific layer names (shown below the buttons). Layer names are case-sensitive and must match exactly. Export an element first to see the complete layer structure your edits should follow."},{label:"Custom Knob Graphics",explanation:"To create branded knobs: 1) Export a knob element to get the layer template, 2) In your vector editor, replace the basic shapes with custom artwork (metal texture, branded cap, custom indicator), 3) Keep layer names intact, 4) Import back to validate. The knob will use your custom graphics while maintaining rotation behavior."},{label:"Custom Slider Graphics",explanation:"For branded sliders: Export to get track, thumb, and fill layers. Replace with custom rail textures, styled handles, or LED-style fills. The slider will use your graphics while maintaining drag interaction."}],relatedTopics:["Layer names must match exactly - case matters","Check browser console for detailed validation messages","Unsupported layers are ignored but logged as warnings","Use Knob element for rotary controls with custom graphics"]},layers:{title:"Layers Panel",description:"The Layers panel shows all elements in your design organized by z-order (stacking). Use it to select, reorder, lock, hide, and organize elements into groups.",examples:[{label:"Z-Order Control",explanation:"Drag layers up or down to change stacking order. Elements higher in the list appear on top. Use Ctrl+] and Ctrl+[ shortcuts for quick reordering."},{label:"Lock and Hide",explanation:"Click the lock icon to prevent accidental edits. Click the eye icon to hide elements while designing. Hidden elements still export."},{label:"Selection",explanation:"Click a layer to select its element on canvas. Shift-click to add to selection. The Layers panel is especially useful for selecting elements that are behind others."}],relatedTopics:["Use Lock to protect finalized elements","Hidden elements are still included in export","Ctrl+Shift+] brings element to front"]},keyboard:{title:"Keyboard Shortcuts",description:"Speed up your workflow with keyboard shortcuts for common actions like selection, editing, navigation, and view controls.",examples:[{label:"Selection",explanation:"Click to select, Shift+Click to add, Ctrl+Click to toggle. Escape clears selection. Drag on empty canvas for marquee select."},{label:"Editing",explanation:"Ctrl+C/V: Copy/Paste | Ctrl+Z: Undo | Ctrl+Y: Redo | Delete: Remove | Arrow keys: Nudge 1px | Shift+Arrow: Nudge 10px"},{label:"View",explanation:"Ctrl+G: Toggle grid | Spacebar+Drag: Pan canvas | Scroll wheel: Zoom | F1: Context help | Ctrl+Shift+P: Preview"}],relatedTopics:["Shift+Arrow nudges by 10px for faster positioning","Ctrl+] and Ctrl+[ change z-order"]},grid:{title:"Grid & Snapping",description:"Use the grid for precise alignment and consistent spacing. Enable snap-to-grid to automatically align elements to grid intersections.",examples:[{label:"Show Grid",explanation:"Toggle grid visibility with Ctrl+G or in the Properties panel when nothing is selected. Grid helps visualize alignment without affecting export."},{label:"Snap to Grid",explanation:"When enabled, element positions snap to grid intersections during drag and resize. Disable temporarily by holding Alt while dragging."},{label:"Grid Size",explanation:"Choose from 5px, 10px, 20px, or 50px grid sizes. Smaller grids for precise work, larger for quick layout."}],relatedTopics:["Hold Alt while dragging to temporarily disable snap","Grid is visual only - not exported"]}},Ya={...lm,...qa},pp=Object.keys(Ya).sort((e,t)=>t.length-e.length);function wa(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}const sD={meter:["parameter","parameters","perimeter"],lock:["block","blocks","blocking","clock"],image:["damage"],label:["relabel","relabels"]};function cm(e){const t=e.toLowerCase().replace(/\s+/g,""),r=e.toLowerCase();for(const i of pp)if(t.includes(i)){const o=sD[i];if(o){const s=o.some(c=>r.includes(c)),d=new RegExp(`\\b${i}\\b`,"i").test(e)||r.includes(i+" ")||r.includes(" "+i)||pp.some(c=>c.includes(i)&&c!==i&&t.includes(c));if(s&&!d)continue}return i}const n=e.toLowerCase().split(/\s+/);for(const i of n){const o=i.replace(/[^a-z0-9]/g,"");if(pp.includes(o))return o}return null}function lD(e){const t=cm(e);return t&&Ya[t]?`<li>
      <a href="#" class="related-topic-link" onclick="navigateToSection('help-${t}'); return false;">
        ${wa(e)}
      </a>
    </li>`:`<li>${wa(e)}</li>`}function cD(e){const t=encodeURIComponent(`[Docs] ${e}: `),r=encodeURIComponent(`## Help Topic: ${e}

## What's wrong with the documentation?
- [ ] Information is incorrect
- [ ] Information is missing
- [ ] Example doesn't work
- [ ] Related topics are broken
- [ ] Confusing or unclear

## Description


## Suggested Fix

`);return`https://github.com/AllTheMachines/Faceplate/issues/new?title=${t}&body=${r}&labels=documentation`}function uD(e,t){const r=t?` (on ${t})`:"",n=encodeURIComponent(`[Bug] ${e}${r}: `),i=encodeURIComponent(`## Feature: ${e}
${t?`## Element Type: ${t}
`:""}
## Description
Describe the bug here...

## Steps to Reproduce
1.${t?` Add a ${t} element to the canvas`:""}
2.
3.

## Expected Behavior


## Actual Behavior


## Screenshots
If applicable, add screenshots.

`);return`https://github.com/AllTheMachines/Faceplate/issues/new?title=${n}&body=${i}&labels=bug`}function dD(e,t){var i,o;const r=cD(e.title),n=uD(e.title,e.elementContext);return`
    <div id="${t}" class="help-section">
      <h1>${wa(e.title)}</h1>
      <p>${wa(e.description)}</p>

      ${(i=e.examples)!=null&&i.length?`
        <h2>Examples</h2>
        ${e.examples.map(s=>`
          <div class="example">
            <div class="example-label">${wa(s.label)}</div>
            ${s.code?`<pre><code>${wa(s.code)}</code></pre>`:""}
            <p>${wa(s.explanation)}</p>
          </div>
        `).join("")}
      `:""}

      ${(o=e.relatedTopics)!=null&&o.length?`
        <div class="related-topics">
          <h3>Related Topics</h3>
          <ul>
            ${e.relatedTopics.map(s=>lD(s)).join("")}
          </ul>
        </div>
      `:""}

      <div class="report-section">
        <div class="report-title">Found a problem?</div>
        <div class="report-buttons">
          <a href="${n}" target="_blank" rel="noopener noreferrer" class="report-btn report-btn-bug">
            Report a bug with "${wa(e.title)}"
          </a>
          <a href="${r}" target="_blank" rel="noopener noreferrer" class="report-btn report-btn-docs">
            Report an issue with this documentation
          </a>
        </div>
      </div>
    </div>
  `}function hD(e,t){const r=new Map;if(r.set(t,e),e.relatedTopics)for(const n of e.relatedTopics){const i=cm(n);if(i&&Ya[i]&&!r.has(i)){r.set(i,Ya[i]);const o=Ya[i];if(o.relatedTopics)for(const s of o.relatedTopics){const d=cm(s);d&&Ya[d]&&!r.has(d)&&r.set(d,Ya[d])}}}return r}function fD(e){for(const[t,r]of Object.entries(Ya))if(r===e||r.title===e.title&&r.description===e.description)return t;return e.title.toLowerCase().replace(/\s+/g,"-")}function pD(e){const t=fD(e),r=`help-${t}`,n=hD(e,t),i=`
    let navigationHistory = [];
    let currentSectionId = null;

    function initializeHelp(initialSectionId) {
      currentSectionId = initialSectionId;
      // Show only the initial section
      document.querySelectorAll('.help-section').forEach(el => {
        el.style.display = el.id === initialSectionId ? 'block' : 'none';
      });
      updateBackButton();
    }

    function navigateToSection(sectionId) {
      const element = document.getElementById(sectionId);
      if (!element) {
        console.warn('Help section not found:', sectionId);
        return;
      }

      // Save current position to history
      if (currentSectionId) {
        navigationHistory.push({
          sectionId: currentSectionId,
          scrollY: window.scrollY
        });
      }

      // Hide current section, show new section
      document.querySelectorAll('.help-section').forEach(el => {
        el.style.display = 'none';
      });
      element.style.display = 'block';
      currentSectionId = sectionId;

      // Scroll to top of new section
      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Brief highlight
      element.classList.add('highlight-flash');
      setTimeout(() => {
        element.classList.remove('highlight-flash');
      }, 1000);

      updateBackButton();
    }

    function navigateBack() {
      if (navigationHistory.length === 0) return;

      const prev = navigationHistory.pop();

      // Hide current section, show previous section
      document.querySelectorAll('.help-section').forEach(el => {
        el.style.display = 'none';
      });

      const element = document.getElementById(prev.sectionId);
      if (element) {
        element.style.display = 'block';
        currentSectionId = prev.sectionId;
        window.scrollTo({ top: prev.scrollY, behavior: 'smooth' });
      }

      updateBackButton();
    }

    function updateBackButton() {
      const btn = document.getElementById('back-btn');
      if (btn) {
        btn.style.display = navigationHistory.length > 0 ? 'block' : 'none';
      }
    }

    // Initialize on load
    document.addEventListener('DOMContentLoaded', function() {
      initializeHelp('${r}');
    });
  `,o=Array.from(n.entries()).map(([s,d])=>dD(d,`help-${s}`)).join(`
`);return`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${wa(e.title)} - Help</title>
        <style>${Wz}</style>
        <script>${i}<\/script>
      </head>
      <body>
        <button id="back-btn" class="back-btn" onclick="navigateBack()">
          &larr; Back
        </button>
        ${o}
      </body>
    </html>
  `}const mp=new Map;function um(e){const t=`help-${e.title}`,r=mp.get(t);if(r&&!r.closed){r.focus();return}const n=pD(e),i=new Blob([n],{type:"text/html"}),o=URL.createObjectURL(i),s=window.open(o,t,"width=700,height=800,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,location=no");if(s){mp.set(t,s),s.addEventListener("load",()=>{URL.revokeObjectURL(o)});const d=setInterval(()=>{s.closed&&(mp.delete(t),clearInterval(d))},500)}else URL.revokeObjectURL(o),console.warn("Help window was blocked by popup blocker"),alert("Please allow popups for this site to view help documentation")}function mD({content:e,className:t="",elementType:r}){const n=()=>{const i=r?{...e,elementContext:r}:e;um(i)};return a.jsx("button",{onClick:n,className:`text-gray-400 hover:text-gray-200 transition-colors ${t}`,title:"Show help","aria-label":`Help for ${e.title}`,children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}function K({title:e,children:t,helpContent:r,elementType:n}){return a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:e}),r&&a.jsx(mD,{content:r,elementType:n})]}),a.jsx("div",{children:t})]})}function sj(){const e=fe(m=>m.selectedIds),t=fe(m=>m.elements),r=fe(m=>m.updateElement),n=fe(m=>m.liveDragValues),{isPro:i}=hh(),o=m=>t.find(b=>b.id===m);if(e.length===0)return a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx("p",{className:"text-sm",children:"No element selected"}),a.jsx("p",{className:"text-xs mt-2",children:"Click an element on the canvas to edit its properties"})]});if(e.length>1)return a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx("p",{className:"text-sm",children:"Multiple elements selected"}),a.jsxs("p",{className:"text-xs mt-2",children:[e.length," elements"]}),a.jsx("p",{className:"text-xs mt-2 text-gray-500",children:"Multi-edit coming in Phase 6"})]});const s=o(e[0]);if(!s)return a.jsx("div",{className:"text-center text-gray-400 py-8",children:a.jsx("p",{className:"text-sm",children:"Element not found"})});const d=s.isPro&&!i,c=m=>{r(s.id,m)},u=n==null?void 0:n[s.id],h=(u==null?void 0:u.x)??s.x,p=(u==null?void 0:u.y)??s.y,l=(u==null?void 0:u.width)??s.width,f=(u==null?void 0:u.height)??s.height;return d?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-violet-500/20 border border-violet-500/50 rounded p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-violet-300 text-sm font-medium",children:[a.jsx("span",{children:"PRO"}),a.jsx("span",{children:"Read-only"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This Pro element's properties cannot be edited without a Pro license."})]}),a.jsx(K,{title:"Position & Size",helpContent:qa["position-size"],elementType:s.type,children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 opacity-60",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"X"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:h})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Y"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:p})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Width"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:l})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Height"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:f})]})]})}),a.jsx(K,{title:"Identity",helpContent:qa.identity,elementType:s.type,children:a.jsxs("div",{className:"space-y-2 opacity-60",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:s.name})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Parameter ID"}),a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded",children:s.parameterId||"(none)"})]})]})}),a.jsx(K,{title:"Element Type",helpContent:qa.identity,elementType:s.type,children:a.jsx("div",{className:"text-sm text-gray-400 opacity-60",children:a.jsx("div",{className:"bg-gray-800 px-2 py-1 rounded capitalize",children:s.type})})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(K,{title:"Position & Size",helpContent:qa["position-size"],elementType:s.type,children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"X",value:h,onChange:m=>c({x:m})}),a.jsx(re,{label:"Y",value:p,onChange:m=>c({y:m})}),a.jsx(re,{label:"Width",value:l,onChange:m=>c({width:m}),min:20}),a.jsx(re,{label:"Height",value:f,onChange:m=>c({height:m}),min:20})]})}),a.jsxs(K,{title:"Identity",helpContent:qa.identity,elementType:s.type,children:[a.jsx(ut,{label:"Name",value:s.name,onChange:m=>c({name:m})}),a.jsx(ut,{label:"Parameter ID",value:s.parameterId||"",onChange:m=>c({parameterId:m||void 0}),placeholder:"Optional JUCE parameter binding"})]}),a.jsxs(K,{title:"Lock",helpContent:qa.lock,elementType:s.type,children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:s.locked,onChange:m=>c({locked:m.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Lock element"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Locked elements cannot be moved or resized"})]}),x6(s.type)&&a.jsxs(K,{title:"SVG",helpContent:qa.svg,elementType:s.type,children:[a.jsxs("button",{onClick:()=>w6(s),className:"w-full py-2 px-3 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded text-sm flex items-center justify-center gap-2 transition-colors",title:"Export element as SVG with named layers",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Download this element as SVG with named layers for custom styling"})]}),(()=>{const m=FO(s.type);return m?a.jsx(m,{element:s,onUpdate:c}):null})()]})}function gD({element:e,onUpdate:t}){const[r,n]=X.useState(!1),i=fe(s=>s.knobStyles),o=fe(s=>s.getKnobStyle);return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Knob Style",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.styleId||"",onChange:s=>{const d=s.target.value;t({styleId:d===""?void 0:d,colorOverrides:void 0})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Default (CSS Gradient)"}),i.map(s=>a.jsx("option",{value:s.id,children:s.name},s.id))]})]}),a.jsx("button",{onClick:()=>n(!0),className:"w-full text-left text-sm text-blue-400 hover:text-blue-300 mt-1",children:"Manage styles..."})]}),e.styleId&&(()=>{const s=o(e.styleId);if(!s)return null;const c=["indicator","track","arc","glow","shadow"].filter(u=>s.layers[u]);return c.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[c.map(u=>{var h;return a.jsx(le,{label:u.charAt(0).toUpperCase()+u.slice(1),value:((h=e.colorOverrides)==null?void 0:h[u])||"",onChange:p=>{const l={...e.colorOverrides};p?l[u]=p:delete l[u],t({colorOverrides:l})}},u)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:s=>t({value:s}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:s=>t({min:s}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:s=>t({max:s}),step:.01})]})]}),!e.styleId&&a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Arc Geometry",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Start Angle",value:e.startAngle,onChange:s=>t({startAngle:s}),min:-180,max:180}),a.jsx(re,{label:"End Angle",value:e.endAngle,onChange:s=>t({endAngle:s}),min:-180,max:180})]}),a.jsx(re,{label:"Track Width",value:e.trackWidth,onChange:s=>t({trackWidth:s}),min:1,max:20})]}),a.jsx(K,{title:"Style",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.style,onChange:s=>t({style:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"arc",children:"Arc"}),a.jsx("option",{value:"filled",children:"Filled"}),a.jsx("option",{value:"dot",children:"Dot"}),a.jsx("option",{value:"line",children:"Line"})]})]})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:s=>t({trackColor:s})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:s=>t({fillColor:s})}),a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:s=>t({indicatorColor:s})})]})]}),a.jsxs(K,{title:"Label",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showLabel,onChange:s=>t({showLabel:s.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),e.showLabel&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:e.labelText,onChange:s=>t({labelText:s})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.labelPosition,onChange:s=>t({labelPosition:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.labelFontFamily,onChange:s=>t({labelFontFamily:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(s=>a.jsx("option",{value:s.family,children:s.name},s.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.labelFontWeight,onChange:s=>t({labelFontWeight:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Font Size",value:e.labelFontSize,onChange:s=>t({labelFontSize:s}),min:8,max:32}),a.jsx(re,{label:"Distance",value:e.labelDistance??4,onChange:s=>t({labelDistance:s}),min:-20,max:50,step:.1})]}),a.jsx(le,{label:"Color",value:e.labelColor,onChange:s=>t({labelColor:s})})]})]}),a.jsxs(K,{title:"Value Display",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showValue,onChange:s=>t({showValue:s.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.valuePosition,onChange:s=>t({valuePosition:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:e.valueFormat,onChange:s=>t({valueFormat:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"}),a.jsx("option",{value:"hz",children:"Hz"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),e.valueFormat==="custom"&&a.jsx(ut,{label:"Suffix",value:e.valueSuffix,onChange:s=>t({valueSuffix:s})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.valueFontFamily,onChange:s=>t({valueFontFamily:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(s=>a.jsx("option",{value:s.family,children:s.name},s.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.valueFontWeight,onChange:s=>t({valueFontWeight:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Decimal Places",value:e.valueDecimalPlaces,onChange:s=>t({valueDecimalPlaces:s}),min:0,max:4}),a.jsx(re,{label:"Font Size",value:e.valueFontSize,onChange:s=>t({valueFontSize:s}),min:8,max:32})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Distance",value:e.valueDistance??4,onChange:s=>t({valueDistance:s}),min:-20,max:50,step:.1}),a.jsx(le,{label:"Color",value:e.valueColor,onChange:s=>t({valueColor:s})})]})]})]}),a.jsx(f$,{isOpen:r,onClose:()=>n(!1)})]})}function vD({label:e,value:t,onChange:r}){const[n,i]=X.useState(!1),o=X.useRef(null),s=X.useRef(!1);return X.useEffect(()=>{if(!n)return;const d=c=>{o.current&&!o.current.contains(c.target)&&(s.current=!1,i(!1))};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[n]),a.jsxs("div",{className:"flex items-center gap-2 relative",children:[a.jsx("span",{className:"text-xs text-gray-400 w-16",children:e}),a.jsx("button",{type:"button",onClick:()=>{n&&(s.current=!1),i(!n)},className:"w-8 h-6 rounded border border-gray-600 cursor-pointer hover:border-gray-500 transition-colors flex-shrink-0",style:{backgroundColor:t||"#666666"},"aria-label":`Pick ${e} color`}),a.jsx("input",{type:"text",value:t,onChange:d=>r(d.target.value),placeholder:"#000000",className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-xs font-mono uppercase focus:outline-none focus:border-blue-500"}),n&&a.jsx("div",{ref:o,className:"absolute z-50 top-8 left-16",onMouseDown:d=>d.stopPropagation(),children:a.jsx("div",{className:"bg-gray-800 p-3 rounded shadow-xl border border-gray-700",children:a.jsx(oj,{color:t||"#666666",onChange:d=>{s.current=!0,r(d),setTimeout(()=>{s.current=!1},100)}})})})]})}function bD({value:e,onChange:t,label:r="Font Family"}){const[n,i]=X.useState(!1),o=X.useRef(null),s=fe(u=>u.customFonts);X.useEffect(()=>{function u(h){o.current&&!o.current.contains(h.target)&&i(!1)}if(n)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]);const c=(u=>{const h=Ct.find(l=>l.family===u);if(h)return h.name;const p=s.find(l=>l.family===u);return p?p.name:u})(e);return a.jsxs("div",{ref:o,className:"relative",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:r}),a.jsxs("button",{type:"button",onClick:()=>i(!n),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm text-left hover:bg-gray-650 transition-colors flex items-center justify-between",style:{fontFamily:e},children:[a.jsx("span",{children:c}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded shadow-lg max-h-64 overflow-y-auto",children:[a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"px-2 py-1 text-xs text-gray-400 font-semibold",children:"Built-in Fonts"}),Ct.map(u=>{const h=e===u.family;return a.jsx("button",{type:"button",onClick:()=>{t(u.family),i(!1)},className:`w-full px-3 py-2 text-sm text-left hover:bg-gray-600 transition-colors ${h?"bg-blue-500/20 text-blue-300":"text-white"}`,style:{fontFamily:u.family},children:u.name},u.family)})]}),s.length>0&&a.jsxs("div",{className:"border-t border-gray-600 py-1",children:[a.jsx("div",{className:"px-2 py-1 text-xs text-gray-400 font-semibold",children:"Custom Fonts"}),s.map(u=>{const h=e===u.family;return a.jsx("button",{type:"button",onClick:()=>{t(u.family),i(!1)},className:`w-full px-3 py-2 text-sm text-left hover:bg-gray-600 transition-colors ${h?"bg-blue-500/20 text-blue-300":"text-white"}`,style:{fontFamily:u.family},children:u.name},u.family)})]})]})]})}const yD=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}],ja=[{value:"300",label:"Light (300)"},{value:"400",label:"Regular (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi-Bold (600)"},{value:"700",label:"Bold (700)"}],xD=[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"}],wD=[{value:"numeric",label:"Numeric"},{value:"percentage",label:"Percentage"},{value:"db",label:"dB"},{value:"hz",label:"Hz"},{value:"custom",label:"Custom"}],bs=[{value:"7segment",label:"7-Segment"},{value:"modern",label:"Modern"}],ys=[{value:"inset",label:"Inset"},{value:"flat",label:"Flat"},{value:"none",label:"None"}],et="w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",Dt="rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500",at="text-sm text-gray-300";function xs({value:e,onChange:t,label:r="Font Family"}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:r}),a.jsx("select",{value:e,onChange:n=>t(n.target.value),className:et,children:Ct.map(n=>a.jsx("option",{value:n.family,children:n.name},n.family))})]})}function ws({value:e,onChange:t,label:r="Font Weight",variant:n="full",valueType:i="number",fontFamily:o}){const s=fe(p=>p.customFonts),d=n==="full"?yD:ja,c=o?s.find(p=>p.family===o):void 0,u=d.map(p=>{var m;const l=Number(p.value),f=(m=c==null?void 0:c.weights)==null?void 0:m.find(b=>b.value===l);return f?{value:p.value,label:`${f.actualName} (${l})`}:p}),h=p=>{const l=p.target.value;t(i==="number"?Number(l):l)};return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:r}),a.jsx("select",{value:e,onChange:h,className:et,children:u.map(({value:p,label:l})=>a.jsx("option",{value:p,children:l},p))})]})}function lj({value:e,onChange:t,label:r="Position"}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:r}),a.jsx("select",{value:e,onChange:n=>t(n.target.value),className:et,children:xD.map(({value:n,label:i})=>a.jsx("option",{value:n,children:i},n))})]})}function Mi({textColor:e,backgroundColor:t,borderColor:r,onTextColorChange:n,onBackgroundColorChange:i,onBorderColorChange:o,title:s="Colors"}){return a.jsxs(K,{title:s,children:[a.jsx(le,{label:"Text Color",value:e,onChange:n}),a.jsx(le,{label:"Background Color",value:t,onChange:i}),r!==void 0&&o&&a.jsx(le,{label:"Border Color",value:r,onChange:o})]})}function Li({fontSize:e,fontFamily:t,fontWeight:r,padding:n,onFontSizeChange:i,onFontFamilyChange:o,onFontWeightChange:s,onPaddingChange:d,title:c="Font"}){return a.jsxs(K,{title:c,children:[a.jsx(re,{label:"Font Size",value:e,onChange:i,min:8,max:72,step:1}),a.jsx(xs,{value:t,onChange:o}),a.jsx(ws,{value:r,onChange:u=>s(u),variant:"full",valueType:"string",fontFamily:t}),a.jsx(re,{label:"Padding",value:n,onChange:d,min:0,max:50,step:1})]})}function A0({showLabel:e,labelText:t,labelPosition:r,labelDistance:n,labelFontSize:i,labelColor:o,onShowLabelChange:s,onLabelTextChange:d,onLabelPositionChange:c,onLabelDistanceChange:u,onLabelFontSizeChange:h,onLabelColorChange:p,labelFontFamily:l,labelFontWeight:f,onLabelFontFamilyChange:m,onLabelFontWeightChange:b}){const S=l!==void 0&&f!==void 0&&m!==void 0&&b!==void 0;return a.jsxs(K,{title:"Label",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:x=>s(x.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:t,onChange:d}),a.jsx(lj,{value:r,onChange:c}),S&&a.jsxs(a.Fragment,{children:[a.jsx(xs,{value:l,onChange:m}),a.jsx(ws,{value:f,onChange:x=>b(x),variant:"compact",valueType:"string",fontFamily:l})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Font Size",value:i,onChange:h,min:8,max:32}),u&&a.jsx(re,{label:"Distance (px)",value:n??4,onChange:u,min:-20,max:50,step:.1})]}),a.jsx(le,{label:"Color",value:o,onChange:p})]})]})}function R0({showValue:e,valuePosition:t,valueDistance:r,valueFormat:n,valueSuffix:i="",valueDecimalPlaces:o,valueFontSize:s,valueColor:d,onShowValueChange:c,onValuePositionChange:u,onValueDistanceChange:h,onValueFormatChange:p,onValueSuffixChange:l,onValueDecimalPlacesChange:f,onValueFontSizeChange:m,onValueColorChange:b,valueFontFamily:S,valueFontWeight:x,onValueFontFamilyChange:w,onValueFontWeightChange:y}){const _=S!==void 0&&x!==void 0&&w!==void 0&&y!==void 0;return a.jsxs(K,{title:"Value Display",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:P=>c(P.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx(lj,{value:t,onChange:u}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsx("select",{value:n,onChange:P=>p(P.target.value),className:et,children:wD.map(({value:P,label:T})=>a.jsx("option",{value:P,children:T},P))})]}),n==="custom"&&l&&a.jsx(ut,{label:"Suffix",value:i,onChange:l}),_&&a.jsxs(a.Fragment,{children:[a.jsx(xs,{value:S,onChange:w}),a.jsx(ws,{value:x,onChange:P=>y(P),variant:"compact",valueType:"string",fontFamily:S})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Decimal Places",value:o,onChange:f,min:0,max:4}),a.jsx(re,{label:"Font Size",value:s,onChange:m,min:8,max:32})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h&&a.jsx(re,{label:"Distance (px)",value:r??4,onChange:h,min:-20,max:50,step:.1}),a.jsx(le,{label:"Color",value:d,onChange:b})]})]})]})}function Or({category:e,currentStyleId:t,onStyleChange:r}){const[n,i]=X.useState(!1),s=(fe(c=>c.elementStyles)||[]).filter(c=>c.category===e),d=t?s.find(c=>c.id===t):void 0;return a.jsxs(a.Fragment,{children:[a.jsxs("select",{value:t||"",onChange:c=>r(c.target.value||void 0),className:"w-full bg-gray-700 text-white rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"No style"}),s.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]}),a.jsx("button",{onClick:()=>i(!0),className:"w-full text-left text-sm text-blue-400 hover:text-blue-300 mt-1",children:"Manage styles..."}),d&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-900 rounded",children:[a.jsx("div",{className:"w-16 h-16 mx-auto",children:a.jsx(zi,{content:d.svgContent,style:{width:"100%",height:"100%"}})}),a.jsx("p",{className:"text-xs text-gray-400 text-center mt-1",children:d.name})]}),a.jsx(g$,{isOpen:n,onClose:()=>i(!1),category:e})]})}function SD({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="linear")return null;const o=["thumb","track","fill"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:n=>t({orientation:n.target.value}),className:et,children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:n=>t({value:n}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:n=>t({min:n}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:n=>t({max:n}),step:.01})]})]}),a.jsxs(K,{title:"Track",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:n=>t({trackColor:n})}),a.jsx(le,{label:"Track Fill Color",value:e.trackFillColor,onChange:n=>t({trackFillColor:n})}),a.jsx(re,{label:"Track Width",value:e.trackWidth,onChange:n=>t({trackWidth:n}),min:2,max:20})]}),a.jsxs(K,{title:"Thumb",children:[a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:n=>t({thumbColor:n})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Thumb Width",value:e.thumbWidth,onChange:n=>t({thumbWidth:n}),min:10,max:50}),a.jsx(re,{label:"Thumb Height",value:e.thumbHeight,onChange:n=>t({thumbHeight:n}),min:10,max:50})]})]}),a.jsx(A0,{showLabel:e.showLabel,labelText:e.labelText,labelPosition:e.labelPosition,labelDistance:e.labelDistance,labelFontSize:e.labelFontSize,labelColor:e.labelColor,labelFontFamily:e.labelFontFamily,labelFontWeight:e.labelFontWeight,onShowLabelChange:n=>t({showLabel:n}),onLabelTextChange:n=>t({labelText:n}),onLabelPositionChange:n=>t({labelPosition:n}),onLabelDistanceChange:n=>t({labelDistance:n}),onLabelFontSizeChange:n=>t({labelFontSize:n}),onLabelColorChange:n=>t({labelColor:n}),onLabelFontFamilyChange:n=>t({labelFontFamily:n}),onLabelFontWeightChange:n=>t({labelFontWeight:n})}),a.jsx(R0,{showValue:e.showValue,valuePosition:e.valuePosition,valueDistance:e.valueDistance,valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,valueDecimalPlaces:e.valueDecimalPlaces,valueFontSize:e.valueFontSize,valueColor:e.valueColor,valueFontFamily:e.valueFontFamily,valueFontWeight:e.valueFontWeight,onShowValueChange:n=>t({showValue:n}),onValuePositionChange:n=>t({valuePosition:n}),onValueDistanceChange:n=>t({valueDistance:n}),onValueFormatChange:n=>t({valueFormat:n}),onValueSuffixChange:n=>t({valueSuffix:n}),onValueDecimalPlacesChange:n=>t({valueDecimalPlaces:n}),onValueFontSizeChange:n=>t({valueFontSize:n}),onValueColorChange:n=>t({valueColor:n}),onValueFontFamilyChange:n=>t({valueFontFamily:n}),onValueFontWeightChange:n=>t({valueFontWeight:n})})]})}function kD({element:e,onUpdate:t}){const r=fe(s=>s.windows),n=fe(s=>s.activeWindowId),i=fe(s=>s.getElementStyle),o=r.filter(s=>s.id!==n);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:s=>t({styleId:s,colorOverrides:s?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const s=i(e.styleId);if(!s||s.category!=="button")return null;const c=["normal","pressed","icon","label"].filter(u=>s.layers[u]);return c.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[c.map(u=>{var h;return a.jsx(le,{label:u.charAt(0).toUpperCase()+u.slice(1),value:((h=e.colorOverrides)==null?void 0:h[u])||"",onChange:p=>{const l={...e.colorOverrides};p?l[u]=p:delete l[u],t({colorOverrides:l})}},u)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Behavior",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsxs("select",{value:e.mode,onChange:s=>t({mode:s.target.value}),className:et,children:[a.jsx("option",{value:"momentary",children:"Momentary"}),a.jsx("option",{value:"toggle",children:"Toggle"})]})]}),a.jsx(ut,{label:"Label",value:e.label,onChange:s=>t({label:s})}),a.jsxs("label",{htmlFor:"button-pressed",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"button-pressed",checked:e.pressed,onChange:s=>t({pressed:s.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Pressed"})]})]}),a.jsxs(K,{title:"Action",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"On Click"}),a.jsxs("select",{value:e.action||"none",onChange:s=>{const d=s.target.value;t({action:d,targetWindowId:d==="none"?void 0:e.targetWindowId})},className:et,children:[a.jsx("option",{value:"none",children:"None (parameter binding only)"}),a.jsx("option",{value:"navigate-window",children:"Navigate to Window"})]})]}),e.action==="navigate-window"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Target Window"}),o.length>0?a.jsxs("select",{value:e.targetWindowId||"",onChange:s=>t({targetWindowId:s.target.value||void 0}),className:et,children:[a.jsx("option",{value:"",children:"Select a window..."}),o.map(s=>a.jsxs("option",{value:s.id,children:[s.name," ",s.type==="developer"?"(Dev)":""]},s.id))]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:"No other windows available. Create another window first."})]})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:s=>t({fontFamily:s.target.value}),className:et,children:Ct.map(s=>a.jsx("option",{value:s.family,children:s.name},s.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:s=>t({fontWeight:s.target.value}),className:et,children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:s=>t({fontSize:s}),min:8,max:48})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:s=>t({backgroundColor:s})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:s=>t({textColor:s})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:s=>t({borderColor:s})}),a.jsx(re,{label:"Border Width",value:e.borderWidth??1,onChange:s=>t({borderWidth:s}),min:0,max:10}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:s=>t({borderRadius:s}),min:0,max:50})]})]})}const CD=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}];function _D({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Text",children:a.jsx(ut,{label:"Text",value:e.text,onChange:r=>t({text:r})})}),a.jsxs(K,{title:"Typography",children:[a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:72}),a.jsxs("div",{children:[a.jsx(bD,{value:e.fontFamily,onChange:r=>t({fontFamily:r})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",style:{fontFamily:e.fontFamily,fontWeight:e.fontWeight},children:["Preview: ",e.text||"Sample Text"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:CD.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Text Align"}),a.jsxs("select",{value:e.textAlign,onChange:r=>t({textAlign:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"center",children:"Center"}),a.jsx("option",{value:"right",children:"Right"})]})]})]}),a.jsx(K,{title:"Color",children:a.jsx(le,{label:"Color",value:e.color,onChange:r=>t({color:r})})})]})}function jD({element:e,onUpdate:t}){const r=fe(i=>i.getElementStyle),n=i=>{i!==e.orientation&&t({orientation:i,width:e.height,height:e.width})};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"meter",currentStyleId:e.styleId,onStyleChange:i=>t({styleId:i,colorOverrides:i?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const i=r(e.styleId);if(!i||i.category!=="meter")return null;const s=["body","fill","fill-green","fill-yellow","fill-red","scale","peak","segments"].filter(d=>i.layers[d]);return s.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[s.map(d=>{var c;return a.jsx(le,{label:d.charAt(0).toUpperCase()+d.slice(1).replace(/-/g," "),value:((c=e.colorOverrides)==null?void 0:c[d])||"",onChange:u=>{const h={...e.colorOverrides};u?h[d]=u:delete h[d],t({colorOverrides:h})}},d)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:i=>n(i.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:i=>t({value:i}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:i=>t({min:i}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:i=>t({max:i}),step:.01})]})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:i=>t({backgroundColor:i})}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[a.jsx("p",{children:"Gradient color stops:"}),a.jsx("ul",{className:"mt-1 space-y-1",children:e.colorStops.map((i,o)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded border border-gray-600",style:{backgroundColor:i.color}}),a.jsxs("span",{children:[(i.position*100).toFixed(0),"% - ",i.color]})]},o))}),a.jsx("p",{className:"mt-2 text-gray-500",children:"(Gradient editor deferred to later enhancement)"})]})]}),a.jsx(K,{title:"Peak Hold",children:a.jsxs("label",{htmlFor:"meter-peak-hold",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"meter-peak-hold",checked:e.showPeakHold,onChange:i=>t({showPeakHold:i.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Peak Hold"})]})})]})}const B0=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),PD=B0?Promise.resolve().then(function(){return ND}):Promise.resolve().then(function(){return MD});async function $D(...e){return(await PD).default(...e)}B0?Promise.resolve().then(function(){return zD}):Promise.resolve().then(function(){return AD});B0?Promise.resolve().then(function(){return OD}):Promise.resolve().then(function(){return BD});const ID=async e=>{const t=await e.getFile();return t.handle=e,t};var TD=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((i,o)=>{t[o]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(s=>{t[o].accept[s]=i.extensions||[]}):t[o].accept["*/*"]=i.extensions||[]});const r=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),n=await Promise.all(r.map(ID));return e[0].multiple?n:n[0]},ND={__proto__:null,default:TD};function Hd(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(i){return{value:i,done:n}})}return Hd=function(r){this.s=r,this.n=r.next},Hd.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(r){var n=this.s.return;return n===void 0?Promise.resolve({value:r,done:!0}):t(n.apply(this.s,arguments))},throw:function(r){var n=this.s.return;return n===void 0?Promise.reject(r):t(n.apply(this.s,arguments))}},new Hd(e)}const cj=async(e,t,r=e.name,n)=>{const i=[],o=[];var s,d=!1,c=!1;try{for(var u,h=(function(p){var l,f,m,b=2;for(typeof Symbol<"u"&&(f=Symbol.asyncIterator,m=Symbol.iterator);b--;){if(f&&(l=p[f])!=null)return l.call(p);if(m&&(l=p[m])!=null)return new Hd(l.call(p));f="@@asyncIterator",m="@@iterator"}throw new TypeError("Object is not async iterable")})(e.values());d=!(u=await h.next()).done;d=!1){const p=u.value,l=`${r}/${p.name}`;p.kind==="file"?o.push(p.getFile().then(f=>(f.directoryHandle=e,f.handle=p,Object.defineProperty(f,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>l})))):p.kind!=="directory"||!t||n&&n(p)||i.push(cj(p,t,l,n))}}catch(p){c=!0,s=p}finally{try{d&&h.return!=null&&await h.return()}finally{if(c)throw s}}return[...(await Promise.all(i)).flat(),...await Promise.all(o)]};var ED=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:cj(t,e.recursive,void 0,e.skipDirectory)},zD={__proto__:null,default:ED},DD=async(e,t=[{}],r=null,n=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let s=null;if(e instanceof Blob&&e.type?s=e.type:e.headers&&e.headers.get("content-type")&&(s=e.headers.get("content-type")),t.forEach((u,h)=>{o[h]={description:u.description||"Files",accept:{}},u.mimeTypes?(h===0&&s&&u.mimeTypes.push(s),u.mimeTypes.map(p=>{o[h].accept[p]=u.extensions||[]})):s?o[h].accept[s]=u.extensions||[]:o[h].accept["*/*"]=u.extensions||[]}),r)try{await r.getFile()}catch(u){if(r=null,n)throw u}const d=r||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!r&&i&&i(d);const c=await d.createWritable();return"stream"in e?(await e.stream().pipeTo(c),d):"body"in e?(await e.body.pipeTo(c),d):(await c.write(await e),await c.close(),d)},OD={__proto__:null,default:DD},FD=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,r)=>{const n=document.createElement("input");n.type="file";const i=[...e.map(o=>o.mimeTypes||[]),...e.map(o=>o.extensions||[])].join();n.multiple=e[0].multiple||!1,n.accept=i||"",n.style.display="none",document.body.append(n),n.addEventListener("cancel",()=>{n.remove(),r(new DOMException("The user aborted a request.","AbortError"))}),n.addEventListener("change",()=>{n.remove(),t(n.multiple?Array.from(n.files):n.files[0])}),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()})),MD={__proto__:null,default:FD},LD=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,r)=>{const n=document.createElement("input");n.type="file",n.webkitdirectory=!0,n.style.display="none",document.body.append(n),n.addEventListener("cancel",()=>{n.remove(),r(new DOMException("The user aborted a request.","AbortError"))}),n.addEventListener("change",()=>{n.remove();let i=Array.from(n.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(i=i.filter(o=>o.webkitRelativePath.split("/").every(s=>!e[0].skipDirectory({name:s,kind:"directory"})))):i=i.filter(o=>o.webkitRelativePath.split("/").length===2),t(i)}),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()})),AD={__proto__:null,default:LD},RD=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const r=document.createElement("a");let n=e;"body"in e&&(n=await(async function(s,d){const c=s.getReader(),u=new ReadableStream({start:l=>(async function f(){return c.read().then(({done:m,value:b})=>{if(!m)return l.enqueue(b),f();l.close()})})()}),h=new Response(u),p=await h.blob();return c.releaseLock(),new Blob([p],{type:d})})(e.body,e.headers.get("content-type"))),r.download=t.fileName||"Untitled",r.href=URL.createObjectURL(await n);const i=()=>{typeof o=="function"&&o()},o=t.legacySetup&&t.legacySetup(i,()=>o(),r);return r.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(r.href),3e4),i()}),r.click(),null},BD={__proto__:null,default:RD};function UD(e){return e?e.startsWith("data:")?"embedded":e.startsWith("http://")||e.startsWith("https://")?"url":"relative":"none"}function VD({element:e,onUpdate:t}){const r=UD(e.src),n=async()=>{try{const i=await $D({mimeTypes:["image/*"],extensions:[".png",".jpg",".jpeg",".gif",".svg",".webp"],description:"Image files",multiple:!1}),o=new FileReader;o.onloadend=()=>{const s=o.result;t({src:s})},o.readAsDataURL(i)}catch{console.debug("File picker cancelled")}};return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Source",children:[a.jsx("button",{onClick:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded px-3 py-2 text-sm font-medium transition-colors",children:"Select Image File..."}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Embeds image as base64 directly in HTML. Works in JUCE plugins without extra setup."}),e.src?a.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[r==="embedded"&&a.jsx("p",{className:"font-medium text-gray-300",children:"Image loaded (embedded)"}),r==="url"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-medium text-gray-300",children:"External URL"}),a.jsx("p",{className:"mt-1 text-gray-500 break-all",children:e.src})]}),r==="relative"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-medium text-green-400",children:"Asset path"}),a.jsx("p",{className:"mt-1 text-gray-500 break-all",children:e.src}),a.jsx("p",{className:"mt-1 text-gray-500 italic",children:"Path preserved in export"})]}),a.jsx("div",{className:"mt-2 border border-gray-600 rounded overflow-hidden bg-gray-800",children:a.jsx("img",{src:e.src,alt:"Preview",className:"w-full h-20 object-contain"})}),a.jsx("button",{onClick:()=>t({src:""}),className:"mt-2 text-red-400 hover:text-red-300 text-xs underline",children:"Clear image"})]}):a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"No image selected"}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[a.jsx(ut,{label:"Or enter path/URL",value:r==="embedded"?"":e.src,onChange:i=>t({src:i.trim()}),placeholder:"/assets/image.png"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Path works for HTML preview only. Use embedded for JUCE plugins."})]})]}),a.jsx(K,{title:"Fit",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Object Fit"}),a.jsxs("select",{value:e.fit,onChange:i=>t({fit:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"contain",children:"Contain"}),a.jsx("option",{value:"cover",children:"Cover"}),a.jsx("option",{value:"fill",children:"Fill"}),a.jsx("option",{value:"none",children:"None"})]})]})})]})}function vu({element:e}){var n;const t=fe(i=>i.startEditingContainer),r=((n=e.children)==null?void 0:n.length)||0;return us(e)?a.jsxs(K,{title:"Contents",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"w-full py-2 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Edit Contents",r>0&&a.jsx("span",{className:"bg-blue-500 px-1.5 py-0.5 rounded text-xs",children:r})]}),r===0&&a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add elements inside this container"}),r>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r," element",r!==1?"s":""," inside"]})]}):null}function Nn({config:e,onUpdate:t}){return a.jsxs(K,{title:"Scrollbar Style",children:[a.jsx(re,{label:"Width",value:e.scrollbarWidth??At.scrollbarWidth,onChange:r=>t({scrollbarWidth:r}),min:6,max:20}),a.jsx(le,{label:"Thumb Color",value:e.scrollbarThumbColor??At.scrollbarThumbColor,onChange:r=>t({scrollbarThumbColor:r})}),a.jsx(le,{label:"Thumb Hover Color",value:e.scrollbarThumbHoverColor??At.scrollbarThumbHoverColor,onChange:r=>t({scrollbarThumbHoverColor:r})}),a.jsx(le,{label:"Track Color",value:e.scrollbarTrackColor??At.scrollbarTrackColor,onChange:r=>t({scrollbarTrackColor:r})}),a.jsx(re,{label:"Border Radius",value:e.scrollbarBorderRadius??At.scrollbarBorderRadius,onChange:r=>t({scrollbarBorderRadius:r}),min:0,max:12}),a.jsx(re,{label:"Thumb Border",value:e.scrollbarThumbBorder??At.scrollbarThumbBorder,onChange:r=>t({scrollbarThumbBorder:r}),min:0,max:4})]})}function WD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(vu,{element:e}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:50}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:10}),e.borderWidth>0&&a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:50})]}),a.jsx(K,{title:"Content",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:e.allowScroll??!1,onChange:r=>t({allowScroll:r.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow Scrolling"})]})}),e.allowScroll&&a.jsx(Nn,{config:e,onUpdate:t})]})}function HD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(vu,{element:e}),a.jsxs(K,{title:"Border",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Border Style"}),a.jsxs("select",{value:e.borderStyle,onChange:r=>t({borderStyle:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"solid",children:"Solid"}),a.jsx("option",{value:"dashed",children:"Dashed"}),a.jsx("option",{value:"dotted",children:"Dotted"}),a.jsx("option",{value:"double",children:"Double"}),a.jsx("option",{value:"groove",children:"Groove"}),a.jsx("option",{value:"ridge",children:"Ridge"})]})]}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:1,max:10}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:50})]}),a.jsx(K,{title:"Layout",children:a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:50})}),a.jsx(K,{title:"Content",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:e.allowScroll??!1,onChange:r=>t({allowScroll:r.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow Scrolling"})]})}),e.allowScroll&&a.jsx(Nn,{config:e,onUpdate:t})]})}function GD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(vu,{element:e}),a.jsxs(K,{title:"Header",children:[a.jsx(ut,{label:"Header Text",value:e.headerText,onChange:r=>t({headerText:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.headerFontFamily,onChange:r=>t({headerFontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.headerFontWeight,onChange:r=>t({headerFontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.headerFontSize,onChange:r=>t({headerFontSize:r}),min:8,max:24}),a.jsx(le,{label:"Text Color",value:e.headerColor,onChange:r=>t({headerColor:r})}),a.jsx(le,{label:"Background",value:e.headerBackground,onChange:r=>t({headerBackground:r})})]}),a.jsxs(K,{title:"Border",children:[a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:1,max:10}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:50})]}),a.jsxs(K,{title:"Layout",children:[a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:50}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:e.allowScroll??!1,onChange:r=>t({allowScroll:r.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow Scrolling"})]})]}),e.allowScroll&&a.jsx(Nn,{config:e,onUpdate:t})]})}function ZD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Content",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-300",children:"Tooltip Text (HTML)"}),a.jsx("textarea",{value:e.content,onChange:r=>t({content:r.target.value}),className:"w-full px-2 py-1 text-sm bg-gray-700 text-gray-100 border border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3,placeholder:"<p>Tooltip text</p>"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Supports HTML tags (e.g., <p>, <strong>, <em>)"})]})}),a.jsx(K,{title:"Trigger & Timing",children:a.jsx(re,{label:"Hover Delay (ms)",value:e.hoverDelay,onChange:r=>t({hoverDelay:r}),min:100,max:2e3,step:50})}),a.jsxs(K,{title:"Position",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-300",children:"Position"}),a.jsxs("select",{value:e.position,onChange:r=>t({position:r.target.value}),className:"w-full px-2 py-1 text-sm bg-gray-700 text-gray-100 border border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsx(re,{label:"Offset (px)",value:e.offset,onChange:r=>t({offset:r}),min:0,max:50}),a.jsx("div",{className:"space-y-2",children:a.jsxs("label",{className:"flex items-center text-sm text-gray-300",children:[a.jsx("input",{type:"checkbox",checked:e.showArrow,onChange:r=>t({showArrow:r.target.checked}),className:"mr-2"}),"Show Arrow"]})})]}),a.jsxs(K,{title:"Styling",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:24}),a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:30}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:20}),a.jsx(re,{label:"Max Width",value:e.maxWidth,onChange:r=>t({maxWidth:r}),min:100,max:500})]})]})}function qD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(vu,{element:e}),a.jsxs(K,{title:"Title Bar",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("input",{type:"checkbox",checked:e.showTitle,onChange:r=>t({showTitle:r.target.checked})}),a.jsx("span",{style:{fontSize:"13px",color:"#d1d5db"},children:"Show Title"})]}),e.showTitle&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Title Text",value:e.titleText,onChange:r=>t({titleText:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Title Font Size",value:e.titleFontSize,onChange:r=>t({titleFontSize:r}),min:10,max:20}),a.jsx(le,{label:"Title Color",value:e.titleColor,onChange:r=>t({titleColor:r})})]}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(re,{label:"Height",value:e.height,onChange:r=>t({height:r}),min:24,max:48})]}),a.jsx(K,{title:"Button Style",children:a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("label",{style:{display:"block",fontSize:"13px",color:"#d1d5db",marginBottom:"6px"},children:"Style"}),a.jsxs("select",{value:e.buttonStyle,onChange:r=>t({buttonStyle:r.target.value}),style:{width:"100%",padding:"6px 8px",backgroundColor:"#374151",color:"#ffffff",border:"1px solid #4b5563",borderRadius:"4px",fontSize:"13px",cursor:"pointer"},children:[a.jsx("option",{value:"macos",children:"macOS (Traffic Lights)"}),a.jsx("option",{value:"windows",children:"Windows (Icons)"}),a.jsx("option",{value:"neutral",children:"Neutral (Circles)"})]})]})}),a.jsxs(K,{title:"Button Visibility",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("input",{type:"checkbox",checked:e.showCloseButton,onChange:r=>t({showCloseButton:r.target.checked})}),a.jsx("span",{style:{fontSize:"13px",color:"#d1d5db"},children:"Show Close Button"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("input",{type:"checkbox",checked:e.showMinimizeButton,onChange:r=>t({showMinimizeButton:r.target.checked})}),a.jsx("span",{style:{fontSize:"13px",color:"#d1d5db"},children:"Show Minimize Button"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("input",{type:"checkbox",checked:e.showMaximizeButton,onChange:r=>t({showMaximizeButton:r.target.checked})}),a.jsx("span",{style:{fontSize:"13px",color:"#d1d5db"},children:"Show Maximize Button"})]})]}),a.jsx(K,{title:"Content",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:e.allowScroll??!1,onChange:r=>t({allowScroll:r.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow Scrolling"})]})}),e.allowScroll&&a.jsx(Nn,{config:e,onUpdate:t})]})}function hx({element:e,onUpdate:t}){const r=e.type==="horizontalspacer",n=e.type==="verticalspacer",i=o=>{t({sizingMode:o})};return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Sizing Mode",children:[a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("button",{onClick:()=>i("fixed"),className:`flex-1 px-3 py-1.5 text-xs rounded ${e.sizingMode==="fixed"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Fixed"}),a.jsx("button",{onClick:()=>i("flexible"),className:`flex-1 px-3 py-1.5 text-xs rounded ${e.sizingMode==="flexible"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Flexible"})]}),e.sizingMode==="fixed"&&a.jsxs(a.Fragment,{children:[r&&"fixedWidth"in e&&a.jsx(re,{label:"Fixed Width",value:e.fixedWidth,onChange:o=>t({fixedWidth:o}),min:0,max:1e3,step:1}),n&&"fixedHeight"in e&&a.jsx(re,{label:"Fixed Height",value:e.fixedHeight,onChange:o=>t({fixedHeight:o}),min:0,max:1e3,step:1})]}),e.sizingMode==="flexible"&&a.jsxs(a.Fragment,{children:[a.jsx(re,{label:"Flex Grow",value:e.flexGrow,onChange:o=>t({flexGrow:o}),min:0,max:10,step:.1}),r&&a.jsxs(a.Fragment,{children:[a.jsx(re,{label:"Min Width",value:e.minWidth,onChange:o=>t({minWidth:o}),min:0,max:1e3,step:1}),a.jsx(re,{label:"Max Width",value:e.maxWidth,onChange:o=>t({maxWidth:o}),min:0,max:9999,step:1})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(re,{label:"Min Height",value:e.minHeight,onChange:o=>t({minHeight:o}),min:0,max:1e3,step:1}),a.jsx(re,{label:"Max Height",value:e.maxHeight,onChange:o=>t({maxHeight:o}),min:0,max:9999,step:1})]})]})]}),a.jsxs(K,{title:"Visual Indicator",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("input",{type:"checkbox",id:"showIndicator",checked:e.showIndicator,onChange:o=>t({showIndicator:o.target.checked}),className:"w-4 h-4 rounded bg-gray-700 border-gray-600 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"showIndicator",className:"text-sm text-gray-300",children:"Show indicator in designer"})]}),e.showIndicator&&a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:o=>t({indicatorColor:o})})]})]})}function XD({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Fill",children:[a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:r=>t({fillColor:r})}),a.jsx(re,{label:"Fill Opacity",value:e.fillOpacity,onChange:r=>t({fillOpacity:r}),min:0,max:1,step:.1})]}),a.jsxs(K,{title:"Border",children:[a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:20}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Border Style"}),a.jsxs("select",{value:e.borderStyle,onChange:r=>t({borderStyle:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"solid",children:"Solid"}),a.jsx("option",{value:"dashed",children:"Dashed"}),a.jsx("option",{value:"dotted",children:"Dotted"})]})]}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:50})]})]})}function YD({element:e,onUpdate:t}){const r=e.width>e.height?"horizontal":"vertical";return a.jsx(a.Fragment,{children:a.jsxs(K,{title:"Stroke",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Orientation"}),a.jsxs("p",{className:"text-sm text-gray-300",children:[r==="horizontal"?"Horizontal":"Vertical",a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(based on aspect ratio)"})]})]}),a.jsx(re,{label:"Stroke Width",value:e.strokeWidth,onChange:n=>t({strokeWidth:n}),min:1,max:20}),a.jsx(le,{label:"Stroke Color",value:e.strokeColor,onChange:n=>t({strokeColor:n})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Stroke Style"}),a.jsxs("select",{value:e.strokeStyle,onChange:n=>t({strokeStyle:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"solid",children:"Solid"}),a.jsx("option",{value:"dashed",children:"Dashed"}),a.jsx("option",{value:"dotted",children:"Dotted"})]})]})]})})}const KD=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}],JD=[{value:"Courier New, Consolas, monospace",label:"Courier New"},{value:"Consolas, Monaco, monospace",label:"Consolas"},{value:"Monaco, Courier New, monospace",label:"Monaco"},{value:'"Lucida Console", Monaco, monospace',label:"Lucida Console"},{value:'"Source Code Pro", monospace',label:"Source Code Pro"},{value:'"Fira Code", monospace',label:"Fira Code"},{value:'"JetBrains Mono", monospace',label:"JetBrains Mono"},{value:"monospace",label:"System Monospace"}],QD=[{value:"hidden",label:"Hidden"},{value:"visible",label:"Visible"},{value:"scroll",label:"Scroll"}],e8=[{value:"static",label:"Static"},{value:"noise",label:"Procedural Noise"}];function t8({isOpen:e,content:t,textColor:r,backgroundColor:n,fontFamily:i,onSave:o,onCancel:s}){const[d,c]=X.useState(t);X.useEffect(()=>{e&&c(t)},[e,t]);const u=X.useCallback(h=>{h.key==="Escape"?s():h.key==="s"&&(h.ctrlKey||h.metaKey)&&(h.preventDefault(),o(d))},[d,s,o]);return e?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onKeyDown:u,children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-[800px] max-w-[90vw] max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit ASCII Art"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Ctrl+S to save, Esc to cancel"})]}),a.jsx("div",{className:"flex-1 min-h-0 mb-4 border border-gray-600 rounded overflow-hidden",style:{backgroundColor:n==="transparent"?"#1a1a2e":n},children:a.jsx("textarea",{value:d,onChange:h=>c(h.target.value),className:"w-full h-full bg-transparent border-none outline-none resize-none p-4",style:{fontFamily:i,fontSize:"14px",color:r,lineHeight:1.2,minHeight:"400px"},autoFocus:!0,spellCheck:!1})}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[d.split(`
`).length," lines, ",d.length," characters",d.split(`
`).length>0&&a.jsxs("span",{className:"ml-4",children:["Max width: ",Math.max(...d.split(`
`).map(h=>h.length))," chars"]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm",children:"Cancel"}),a.jsx("button",{onClick:()=>o(d),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm font-medium",children:"Save"})]})]})}):null}function r8({element:e,onUpdate:t}){const[r,n]=X.useState(!1),[i,o]=X.useState(!1),s=fe(p=>p.elements),d=X.useMemo(()=>{const p=new Set;for(const l of s)l.parameterId&&l.id!==e.id&&p.add(l.parameterId);return Array.from(p).sort()},[s,e.id]),c=e.contentType||"static",u=p=>{t({content:p}),n(!1)},h=p=>{p==="__custom__"?o(!0):(o(!1),t({noiseParameterId:p}))};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Content Type",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsx("select",{value:c,onChange:p=>t({contentType:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:e8.map(({value:p,label:l})=>a.jsx("option",{value:p,children:l},p))})]})}),c==="static"&&a.jsx(K,{title:"Content",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"ASCII Art Content"}),a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-0.5 bg-blue-600 hover:bg-blue-700 rounded text-white text-xs font-medium",children:"Edit"})]}),a.jsx("textarea",{value:e.content,onChange:p=>t({content:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono resize-y",rows:6,style:{fontFamily:"Courier New, monospace",whiteSpace:"pre"},placeholder:"Enter ASCII art here..."})]})}),c==="noise"&&a.jsxs(K,{title:"Noise Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Character Set"}),a.jsx("input",{type:"text",value:e.noiseCharacters||".:!*#$@%&",onChange:p=>t({noiseCharacters:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono",placeholder:".:!*#$@%&"})]}),a.jsx(re,{label:"Intensity",value:e.noiseIntensity??.5,onChange:p=>t({noiseIntensity:p}),min:0,max:1,step:.05}),a.jsx(re,{label:"Width (chars)",value:e.noiseWidth??40,onChange:p=>t({noiseWidth:p}),min:5,max:200}),a.jsx(re,{label:"Height (lines)",value:e.noiseHeight??20,onChange:p=>t({noiseHeight:p}),min:1,max:100}),a.jsx(re,{label:"Refresh Rate (ms)",value:e.noiseRefreshRate??100,onChange:p=>t({noiseRefreshRate:p}),min:16,max:1e3,step:10}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Parameter Binding (Intensity)"}),i?a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",value:e.noiseParameterId||"",onChange:p=>t({noiseParameterId:p.target.value}),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",placeholder:"Enter parameter ID",autoFocus:!0}),a.jsx("button",{onClick:()=>o(!1),className:"px-2 py-1 bg-gray-600 hover:bg-gray-500 rounded text-white text-xs",children:"List"})]}):a.jsxs("select",{value:e.noiseParameterId||"",onChange:p=>h(p.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"None"}),d.map(p=>a.jsx("option",{value:p,children:p},p)),a.jsx("option",{value:"__custom__",children:"Custom..."})]})]})]}),a.jsxs(K,{title:"Typography",children:[a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:p=>t({fontSize:p}),min:6,max:48}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:p=>t({fontFamily:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:JD.map(({value:p,label:l})=>a.jsx("option",{value:p,children:l},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:p=>t({fontWeight:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:KD.map(({value:p,label:l})=>a.jsx("option",{value:p,children:l},p))})]}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:p=>t({textColor:p})}),a.jsx(re,{label:"Line Height",value:e.lineHeight,onChange:p=>t({lineHeight:p}),min:.5,max:3,step:.1})]}),a.jsxs(K,{title:"Container",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:p=>t({backgroundColor:p})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:p=>t({padding:p}),min:0,max:100}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:p=>t({borderRadius:p}),min:0,max:50}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:p=>t({borderWidth:p}),min:0,max:20}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:p=>t({borderColor:p})})]}),a.jsx(K,{title:"Overflow",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Overflow"}),a.jsx("select",{value:e.overflow,onChange:p=>t({overflow:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:QD.map(({value:p,label:l})=>a.jsx("option",{value:p,children:l},p))})]})}),a.jsx(K,{title:"Interaction",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.selectable??!1,onChange:p=>t({selectable:p.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow text selection"})]})}),c==="static"&&a.jsx(K,{title:"Preview",children:a.jsx("div",{className:"w-full border border-gray-600 rounded overflow-hidden",style:{maxHeight:"150px"},children:a.jsx("pre",{style:{margin:0,fontFamily:e.fontFamily,fontSize:`${Math.min(e.fontSize,10)}px`,fontWeight:e.fontWeight,color:e.textColor,lineHeight:e.lineHeight,backgroundColor:e.backgroundColor==="transparent"?"#1f2937":e.backgroundColor,padding:`${Math.min(e.padding,4)}px`,overflow:"hidden",whiteSpace:"pre"},children:e.content||"No content"})})}),a.jsx(t8,{isOpen:r,content:e.content,textColor:e.textColor,backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,onSave:u,onCancel:()=>n(!1)})]})}function n8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value (dB)",value:e.value,onChange:r=>t({value:r}),step:.1}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min dB",value:e.minDb,onChange:r=>t({minDb:r}),step:1}),a.jsx(re,{label:"Max dB",value:e.maxDb,onChange:r=>t({maxDb:r}),step:1})]})]}),a.jsxs(K,{title:"Display",children:[a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:3,step:1}),a.jsxs("label",{htmlFor:"dbdisplay-show-unit",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"dbdisplay-show-unit",checked:e.showUnit,onChange:r=>t({showUnit:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:'Show "dB" Unit'})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(xs,{value:e.fontFamily,onChange:r=>t({fontFamily:r})}),a.jsx(ws,{value:e.fontWeight,onChange:r=>t({fontWeight:r}),variant:"compact",valueType:"string",fontFamily:e.fontFamily}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:72,step:1}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:50,step:1})]})]})}function a8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Value",children:a.jsx(re,{label:"Frequency (Hz)",value:e.value,onChange:r=>t({value:r}),min:0,step:1})}),a.jsxs(K,{title:"Display",children:[a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:3,step:1}),a.jsxs("label",{htmlFor:"freqdisplay-auto-khz",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"freqdisplay-auto-khz",checked:e.autoSwitchKHz,onChange:r=>t({autoSwitchKHz:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Auto-switch to kHz at 1000Hz"})]}),a.jsxs("label",{htmlFor:"freqdisplay-show-unit",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"freqdisplay-show-unit",checked:e.showUnit,onChange:r=>t({showUnit:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Unit"})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(xs,{value:e.fontFamily,onChange:r=>t({fontFamily:r})}),a.jsx(ws,{value:e.fontWeight,onChange:r=>t({fontWeight:r}),variant:"compact",valueType:"string",fontFamily:e.fontFamily}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:72,step:1}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:50,step:1})]})]})}function i8({element:e,onUpdate:t}){const r=n=>{n!==e.orientation&&t({orientation:n,width:e.height,height:e.width})};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Layout",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:n=>r(n.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value (0-1)",value:e.value,onChange:n=>t({value:n}),min:0,max:1,step:.01}),a.jsx(re,{label:"Max Reduction (dB)",value:e.maxReduction,onChange:n=>t({maxReduction:n}),step:1}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max Reduction should be negative (e.g., -24 for 24dB reduction)"})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{htmlFor:"grmeter-show-value",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"grmeter-show-value",checked:e.showValue,onChange:n=>t({showValue:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:n=>t({fontFamily:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(n=>a.jsx("option",{value:n.family,children:n.name},n.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:n=>t({fontWeight:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:n=>t({fontSize:n}),min:6,max:24,step:1}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:n=>t({textColor:n})})]})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Meter Color",value:e.meterColor,onChange:n=>t({meterColor:n})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:n=>t({backgroundColor:n})})]})]})}function o8({element:e,onUpdate:t}){const r=n=>{const i=n.split(`
`).filter(o=>o.trim()!=="");t({presets:i})};return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Presets",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Presets (one per line, use Folder/Name for hierarchy)"}),a.jsx("textarea",{value:e.presets.join(`
`),onChange:n=>r(n.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",rows:6,placeholder:`Factory/Init
Factory/Bass
User/My Preset`})]}),a.jsx(re,{label:"Selected Index",value:e.selectedIndex,onChange:n=>t({selectedIndex:n}),min:0,max:Math.max(0,e.presets.length-1)})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showFolders,onChange:n=>t({showFolders:n.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Show Folders"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showSearch,onChange:n=>t({showSearch:n.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Show Search Bar"})]})]}),a.jsxs(K,{title:"Item Styling",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:n=>t({fontFamily:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(n=>a.jsx("option",{value:n.family,children:n.name},n.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:n=>t({fontWeight:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:n=>t({fontSize:n}),min:10,max:18}),a.jsx(re,{label:"Item Height",value:e.itemHeight,onChange:n=>t({itemHeight:n}),min:20,max:40}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:n=>t({textColor:n})}),a.jsx(le,{label:"Selected Color",value:e.selectedColor,onChange:n=>t({selectedColor:n})}),a.jsx(le,{label:"Selected Text",value:e.selectedTextColor,onChange:n=>t({selectedTextColor:n})})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:n=>t({backgroundColor:n})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:n=>t({borderColor:n})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:n=>t({borderRadius:n}),min:0,max:16})]}),a.jsx(Nn,{config:e,onUpdate:t})]})}function s8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Waveform",value:e.waveformColor,onChange:r=>t({waveformColor:r})})]}),a.jsxs(K,{title:"Border",children:[a.jsx(le,{label:"Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:10})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Show Grid"})]}),e.showGrid&&a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})})]}),a.jsxs(K,{title:"JUCE Integration",children:[a.jsx(re,{label:"Zoom Level",value:e.zoomLevel,onChange:r=>t({zoomLevel:r}),min:.1,max:10,step:.1}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Zoom hint for JUCE runtime (1 = default, 2 = 2x zoom)"})]})]})}function l8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Trace",value:e.traceColor,onChange:r=>t({traceColor:r})})]}),a.jsxs(K,{title:"Border",children:[a.jsx(le,{label:"Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:10})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Show Grid"})]}),e.showGrid&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})}),a.jsx(re,{label:"Grid Divisions",value:e.gridDivisions,onChange:r=>t({gridDivisions:r}),min:2,max:16})]})]}),a.jsxs(K,{title:"Scope Settings",children:[a.jsx(re,{label:"Time/Div (ms)",value:e.timeDiv,onChange:r=>t({timeDiv:r}),min:.1,max:1e3,step:.1}),a.jsx(re,{label:"Amplitude Scale",value:e.amplitudeScale,onChange:r=>t({amplitudeScale:r}),min:0,max:1,step:.01}),a.jsx(re,{label:"Trigger Level",value:e.triggerLevel,onChange:r=>t({triggerLevel:r}),min:0,max:1,step:.01}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Settings hints for JUCE runtime"})]})]})}function c8({element:e,onUpdate:t}){const[r,n]=X.useState(e.options.join(`
`));return X.useEffect(()=>{n(e.options.join(`
`))},[e.id,e.options]),a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Options",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Options (one per line)"}),a.jsx("textarea",{value:r,onChange:i=>n(i.target.value),onBlur:()=>{const i=r.split(`
`).filter(o=>o.trim()!=="");i.length===0&&i.push("Option 1"),t({options:i})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono min-h-[100px]",placeholder:`Option 1
Option 2
Option 3`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Selected Index"}),a.jsx("select",{value:e.selectedIndex,onChange:i=>t({selectedIndex:parseInt(i.target.value)}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:e.options.map((i,o)=>a.jsxs("option",{value:o,children:[o,": ",i]},o))})]})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:i=>t({fontFamily:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(i=>a.jsx("option",{value:i.family,children:i.name},i.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:i=>t({fontWeight:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:i=>t({fontSize:i}),min:8,max:24})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:i=>t({backgroundColor:i})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:i=>t({textColor:i})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:i=>t({borderColor:i})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:i=>t({borderRadius:i}),min:0,max:20})]})]})}function u8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"State",children:[a.jsx(ut,{label:"Label",value:e.label,onChange:r=>t({label:r})}),a.jsxs("label",{htmlFor:"checkbox-checked",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"checkbox-checked",checked:e.checked,onChange:r=>t({checked:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Checked"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Label Position"}),a.jsxs("select",{value:e.labelPosition,onChange:r=>t({labelPosition:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:24})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Check Color",value:e.checkColor,onChange:r=>t({checkColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})})]})]})}function d8({element:e,onUpdate:t}){const[r,n]=X.useState(e.options.join(`
`));return X.useEffect(()=>{n(e.options.join(`
`))},[e.id,e.options]),a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Options",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Options (one per line)"}),a.jsx("textarea",{value:r,onChange:i=>n(i.target.value),onBlur:()=>{const i=r.split(`
`).filter(o=>o.trim()!=="");i.length===0&&i.push("Option 1"),t({options:i})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono min-h-[100px]",placeholder:`Option 1
Option 2
Option 3`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Selected Index"}),a.jsx("select",{value:e.selectedIndex,onChange:i=>t({selectedIndex:parseInt(i.target.value)}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:e.options.map((i,o)=>a.jsxs("option",{value:o,children:[o,": ",i]},o))})]})]}),a.jsxs(K,{title:"Layout",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:i=>t({orientation:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]}),a.jsx(re,{label:"Spacing",value:e.spacing,onChange:i=>t({spacing:i}),min:0,max:20})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:i=>t({fontFamily:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(i=>a.jsx("option",{value:i.family,children:i.name},i.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:i=>t({fontWeight:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:i=>t({fontSize:i}),min:8,max:24})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Radio Color",value:e.radioColor,onChange:i=>t({radioColor:i})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:i=>t({borderColor:i})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:i=>t({backgroundColor:i})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:i=>t({textColor:i})})]})]})}function h8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Content",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Value"}),a.jsx("input",{type:"text",value:e.value,onChange:r=>t({value:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",placeholder:"Enter text value..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Placeholder"}),a.jsx("input",{type:"text",value:e.placeholder,onChange:r=>t({placeholder:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",placeholder:"Enter placeholder text..."})]}),a.jsx(re,{label:"Max Length (0 = unlimited)",value:e.maxLength,onChange:r=>t({maxLength:r}),min:0,max:1e3})]}),a.jsxs(K,{title:"Text",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:72}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Text Align"}),a.jsxs("select",{value:e.textAlign,onChange:r=>t({textAlign:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"center",children:"Center"}),a.jsx("option",{value:"right",children:"Right"})]})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:r=>t({padding:r}),min:0,max:32})]}),a.jsxs(K,{title:"Border",children:[a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:10}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:20})]})]})}function f8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(vu,{element:e}),a.jsxs(K,{title:"Header",children:[a.jsx(ut,{label:"Header Text",value:e.headerText,onChange:r=>t({headerText:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.headerFontFamily,onChange:r=>t({headerFontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.headerFontWeight,onChange:r=>t({headerFontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.headerFontSize,onChange:r=>t({headerFontSize:r}),min:8,max:24}),a.jsx(le,{label:"Text Color",value:e.headerColor,onChange:r=>t({headerColor:r})}),a.jsx(le,{label:"Background",value:e.headerBackground,onChange:r=>t({headerBackground:r})}),a.jsx(re,{label:"Header Height",value:e.headerHeight,onChange:r=>t({headerHeight:r}),min:24,max:60})]}),a.jsxs(K,{title:"Content",children:[a.jsx(le,{label:"Background",value:e.contentBackground,onChange:r=>t({contentBackground:r})}),a.jsx(re,{label:"Max Height",value:e.maxContentHeight,onChange:r=>t({maxContentHeight:r}),min:50,max:500}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Scroll Behavior"}),a.jsxs("select",{value:e.scrollBehavior,onChange:r=>t({scrollBehavior:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"hidden",children:"Hidden"}),a.jsx("option",{value:"scroll",children:"Scroll"})]})]})]}),a.jsx(K,{title:"State",children:a.jsxs("label",{htmlFor:"collapsible-collapsed",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"collapsible-collapsed",checked:e.collapsed,onChange:r=>t({collapsed:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Collapsed"})]})}),a.jsxs(K,{title:"Border",children:[a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:10}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:50})]}),e.scrollBehavior!=="hidden"&&a.jsx(Nn,{config:e,onUpdate:t})]})}function p8({element:e,onUpdate:t}){const r=fe(o=>o.getElementStyle),n=o=>{const s=Math.max(e.min,Math.min(o,e.maxValue));t({minValue:s})},i=o=>{const s=Math.min(e.max,Math.max(o,e.minValue));t({maxValue:s})};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:o=>t({styleId:o,colorOverrides:o?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const o=r(e.styleId);if(!o||o.category!=="linear")return null;const s=o.layers,d=[];return s["thumb-low"]&&d.push("thumb-low"),s["thumb-high"]&&d.push("thumb-high"),!s["thumb-low"]&&!s["thumb-high"]&&s.thumb&&d.push("thumb"),s.track&&d.push("track"),s.fill&&d.push("fill"),d.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[d.map(c=>{var u;return a.jsx(le,{label:c.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" "),value:((u=e.colorOverrides)==null?void 0:u[c])||"",onChange:h=>{const p={...e.colorOverrides};h?p[c]=h:delete p[c],t({colorOverrides:p})}},c)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:o=>t({orientation:o.target.value}),className:et,children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsx(K,{title:"Range Bounds",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:o=>t({min:o}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:o=>t({max:o}),step:.01})]})}),a.jsxs(K,{title:"Current Selection",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min Value",value:e.minValue,onChange:n,min:e.min,max:e.maxValue,step:.01}),a.jsx(re,{label:"Max Value",value:e.maxValue,onChange:i,min:e.minValue,max:e.max,step:.01})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Min cannot exceed max and vice versa"})]}),a.jsxs(K,{title:"Track",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:o=>t({trackColor:o})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:o=>t({fillColor:o})})]}),a.jsxs(K,{title:"Thumbs",children:[a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:o=>t({thumbColor:o})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Thumb Width",value:e.thumbWidth,onChange:o=>t({thumbWidth:o}),min:10,max:50}),a.jsx(re,{label:"Thumb Height",value:e.thumbHeight,onChange:o=>t({thumbHeight:o}),min:10,max:50})]})]})]})}function m8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Matrix Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Sources (one per line)"}),a.jsx("textarea",{value:e.sources.join(`
`),onChange:r=>{const n=r.target.value.split(`
`).filter(i=>i.trim());t({sources:n})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono",rows:4,placeholder:`LFO 1
LFO 2
ENV 1
Velocity`}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Modulation sources (rows)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Destinations (one per line)"}),a.jsx("textarea",{value:e.destinations.join(`
`),onChange:r=>{const n=r.target.value.split(`
`).filter(i=>i.trim());t({destinations:n})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm font-mono",rows:4,placeholder:`Pitch
Filter
Volume
Pan`}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Modulation destinations (columns)"})]})]}),a.jsxs(K,{title:"Cell Styling",children:[a.jsx(re,{label:"Cell Size",value:e.cellSize,onChange:r=>t({cellSize:r}),min:16,max:48}),a.jsx(le,{label:"Cell Color",value:e.cellColor,onChange:r=>t({cellColor:r})}),a.jsx(le,{label:"Active Color",value:e.activeColor,onChange:r=>t({activeColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})})]}),a.jsxs(K,{title:"Header Styling",children:[a.jsx(le,{label:"Header Background",value:e.headerBackground,onChange:r=>t({headerBackground:r})}),a.jsx(le,{label:"Header Color",value:e.headerColor,onChange:r=>t({headerColor:r})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.headerFontFamily,onChange:r=>t({headerFontFamily:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.headerFontWeight,onChange:r=>t({headerFontWeight:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Header Font Size",value:e.headerFontSize,onChange:r=>t({headerFontSize:r}),min:8,max:16})]}),a.jsx(K,{title:"Design Preview",children:a.jsx("p",{className:"text-xs text-gray-400",children:"Active connections shown are for design preview only. Actual modulation routing is handled by JUCE backend."})}),a.jsxs(K,{title:"Overflow",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.allowScroll??!1,onChange:r=>t({allowScroll:r.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Allow Scrolling"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable scrollbars when matrix exceeds element bounds"})]}),e.allowScroll&&a.jsx(Nn,{config:e,onUpdate:t})]})}function dm(e){try{const r=new DOMParser().parseFromString(e,"image/svg+xml");if(r.querySelector("parsererror"))return console.warn("SVG parsing failed"),{width:100,height:100};const i=r.querySelector("svg");if(!i)return{width:100,height:100};const o=i.getAttribute("viewBox");if(o){const c=o.trim().split(/\s+/);if(c.length===4){const u=c.map(Number),h=u[2],p=u[3];if(h!==void 0&&p!==void 0&&!isNaN(h)&&!isNaN(p)&&h>0&&p>0)return{width:h,height:p}}}const s=i.getAttribute("width"),d=i.getAttribute("height");if(s&&d){const c=parseFloat(s),u=parseFloat(d);if(!isNaN(c)&&!isNaN(u)&&c>0&&u>0)return{width:c,height:u}}return{width:100,height:100}}catch(t){return console.error("SVG dimension extraction failed:",t),{width:100,height:100}}}function g8({element:e,onUpdate:t}){const r=fe(s=>s.assets),n=fe(s=>s.getAsset),i=s=>{if(s){const d=n(s);if(d){const c=dm(d.svgContent);if(c){t({assetId:s,width:c.width,height:c.height});return}}}t({assetId:s})},o=()=>{if(!e.assetId)return;const s=n(e.assetId);if(!s)return;const d=dm(s.svgContent);d&&t({width:d.width,height:d.height})};return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Asset",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"SVG Asset"}),a.jsxs("select",{value:e.assetId||"",onChange:s=>i(s.target.value||void 0),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"None (placeholder)"}),r.map(s=>a.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.assetId&&a.jsx("button",{onClick:o,className:"w-full mt-2 bg-gray-700 hover:bg-gray-600 text-white rounded px-3 py-2 text-sm transition-colors",children:"Reset to Natural Size"})]}),a.jsxs(K,{title:"Transform",children:[a.jsxs("div",{className:"flex gap-4 mb-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.flipH,onChange:s=>t({flipH:s.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Flip H"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.flipV,onChange:s=>t({flipV:s.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500"}),a.jsx("span",{className:"text-gray-300",children:"Flip V"})]})]}),a.jsx(re,{label:"Opacity %",value:Math.round(e.opacity*100),onChange:s=>t({opacity:s/100}),min:0,max:100,step:5})]})]})}const fx=[{value:3,label:"3 Bands"},{value:4,label:"4 Bands"},{value:5,label:"5 Bands"},{value:7,label:"7 Bands"},{value:10,label:"10 Bands"},{value:31,label:"31 Bands"}];function v8({element:e,onUpdate:t}){const r=fe(o=>o.getElementStyle),n=fx.some(o=>o.value===e.bandCount),i=o=>{const s=Math.max(1,Math.min(32,o)),d=e.bandValues||[];let c;s>d.length?c=[...d,...Array(s-d.length).fill(.5)]:c=d.slice(0,s),t({bandCount:s,bandValues:c})};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"SVG Style (shared by all bands)"}),a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:o=>t({styleId:o,colorOverrides:o?e.colorOverrides:void 0})})]})}),e.styleId&&(()=>{const o=r(e.styleId);if(!o||o.category!=="linear")return null;const d=["thumb","track","fill"].filter(c=>o.layers[c]);return d.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Applied to all bands"}),d.map(c=>{var u;return a.jsx(le,{label:c.charAt(0).toUpperCase()+c.slice(1),value:((u=e.colorOverrides)==null?void 0:u[c])||"",onChange:h=>{const p={...e.colorOverrides};h?p[c]=h:delete p[c],t({colorOverrides:p})}},c)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Band Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Band Count Preset"}),a.jsxs("select",{value:n?e.bandCount:"custom",onChange:o=>{const s=o.target.value;s!=="custom"&&i(parseInt(s,10))},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[fx.map(o=>a.jsx("option",{value:o.value,children:o.label},o.value)),a.jsx("option",{value:"custom",children:"Custom"})]})]}),!n&&a.jsx(re,{label:"Custom Band Count",value:e.bandCount,onChange:i,min:1,max:32}),a.jsx(re,{label:"Band Gap (px)",value:e.bandGap,onChange:o=>t({bandGap:o}),min:0,max:10})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Label Style"}),a.jsxs("select",{value:e.labelStyle,onChange:o=>t({labelStyle:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"index",children:"Index Numbers (1, 2, 3...)"}),a.jsx("option",{value:"frequency",children:"Frequency Labels"}),a.jsx("option",{value:"hidden",children:"Hidden"})]})]}),e.labelStyle!=="hidden"&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:o=>t({labelColor:o})}),a.jsx(re,{label:"Label Font Size",value:e.labelFontSize,onChange:o=>t({labelFontSize:o}),min:8,max:16})]})]}),a.jsxs(K,{title:"Link Mode",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Band Linking"}),a.jsxs("select",{value:e.linkMode,onChange:o=>t({linkMode:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"independent",children:"Independent"}),a.jsx("option",{value:"modifier-linked",children:"Modifier Linked (Alt/Option)"}),a.jsx("option",{value:"always-linked",children:"Always Linked"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link mode defines runtime behavior in the plugin"})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:o=>t({trackColor:o})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:o=>t({fillColor:o})}),a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:o=>t({thumbColor:o})})]}),a.jsx(K,{title:"Value Range",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:o=>t({min:o}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:o=>t({max:o}),step:.01})]})}),a.jsx(K,{title:"Band Values",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsxs("p",{children:["Bands: ",e.bandCount]}),a.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Values are set via interaction at runtime"})]})})]})}function b8({element:e,onUpdate:t}){const r=fe(o=>o.getStylesByCategory),n=fe(o=>o.getElementStyle),i=r("rotary");return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Knob Style",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.styleId||"",onChange:o=>{const s=o.target.value;t({styleId:s===""?void 0:s,colorOverrides:void 0})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Default (CSS)"}),i.map(o=>a.jsx("option",{value:o.id,children:o.name},o.id))]})]})}),e.styleId&&(()=>{const o=n(e.styleId);if(!o||o.category!=="rotary")return null;const d=["indicator","track","arc","glow","shadow"].filter(c=>o.layers[c]);return d.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[d.map(c=>{var u;return a.jsx(le,{label:c.charAt(0).toUpperCase()+c.slice(1),value:((u=e.colorOverrides)==null?void 0:u[c])||"",onChange:h=>{const p={...e.colorOverrides};h?p[c]=h:delete p[c],t({colorOverrides:p})}},c)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Step Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Step Count"}),a.jsxs("select",{value:e.stepCount,onChange:o=>t({stepCount:parseInt(o.target.value)}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:12,children:"12 Steps"}),a.jsx("option",{value:24,children:"24 Steps"}),a.jsx("option",{value:36,children:"36 Steps"}),a.jsx("option",{value:48,children:"48 Steps"}),a.jsx("option",{value:64,children:"64 Steps"})]})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showStepIndicators,onChange:o=>t({showStepIndicators:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Step Indicators"})]}),e.showStepIndicators&&a.jsx(re,{label:"Indicator Size",value:e.stepIndicatorSize??1.3,onChange:o=>t({stepIndicatorSize:o}),min:.5,max:10,step:.1}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showStepMarks??!1,onChange:o=>t({showStepMarks:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Step Marks"})]}),e.showStepMarks&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Mark Length",value:e.stepMarkLength??6,onChange:o=>t({stepMarkLength:o}),min:1,max:20,step:1}),a.jsx(re,{label:"Mark Width",value:e.stepMarkWidth??1,onChange:o=>t({stepMarkWidth:o}),min:.5,max:10,step:.5})]})]}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:o=>t({value:o}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:o=>t({min:o}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:o=>t({max:o}),step:.01})]})]}),a.jsxs(K,{title:"Arc Geometry",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Start Angle",value:e.startAngle,onChange:o=>t({startAngle:o}),min:-180,max:180}),a.jsx(re,{label:"End Angle",value:e.endAngle,onChange:o=>t({endAngle:o}),min:-180,max:180})]}),a.jsx(re,{label:"Track Width",value:e.trackWidth,onChange:o=>t({trackWidth:o}),min:1,max:20})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:o=>t({trackColor:o})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:o=>t({fillColor:o})}),a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:o=>t({indicatorColor:o})})]}),a.jsxs(K,{title:"Label",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showLabel,onChange:o=>t({showLabel:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),e.showLabel&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:e.labelText,onChange:o=>t({labelText:o})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.labelPosition,onChange:o=>t({labelPosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Font Size",value:e.labelFontSize,onChange:o=>t({labelFontSize:o}),min:8,max:32}),a.jsx(re,{label:"Distance",value:e.labelDistance??4,onChange:o=>t({labelDistance:o}),min:-20,max:50,step:.1})]}),a.jsx(le,{label:"Color",value:e.labelColor,onChange:o=>t({labelColor:o})})]})]}),a.jsxs(K,{title:"Value Display",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showValue,onChange:o=>t({showValue:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.valuePosition,onChange:o=>t({valuePosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:e.valueFormat,onChange:o=>t({valueFormat:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"}),a.jsx("option",{value:"hz",children:"Hz"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),e.valueFormat==="custom"&&a.jsx(ut,{label:"Suffix",value:e.valueSuffix,onChange:o=>t({valueSuffix:o})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Decimal Places",value:e.valueDecimalPlaces,onChange:o=>t({valueDecimalPlaces:o}),min:0,max:4}),a.jsx(re,{label:"Font Size",value:e.valueFontSize,onChange:o=>t({valueFontSize:o}),min:8,max:32})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Distance",value:e.valueDistance??4,onChange:o=>t({valueDistance:o}),min:-20,max:50,step:.1}),a.jsx(le,{label:"Color",value:e.valueColor,onChange:o=>t({valueColor:o})})]})]})]})]})}function y8({element:e,onUpdate:t}){const r=fe(o=>o.getStylesByCategory),n=fe(o=>o.getElementStyle),i=r("rotary");return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Knob Style",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.styleId||"",onChange:o=>{const s=o.target.value;t({styleId:s===""?void 0:s,colorOverrides:void 0})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Default (CSS)"}),i.map(o=>a.jsx("option",{value:o.id,children:o.name},o.id))]})]})}),e.styleId&&(()=>{const o=n(e.styleId);if(!o||o.category!=="rotary")return null;const d=["indicator","track","arc","glow","shadow"].filter(c=>o.layers[c]);return d.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[d.map(c=>{var u;return a.jsx(le,{label:c.charAt(0).toUpperCase()+c.slice(1),value:((u=e.colorOverrides)==null?void 0:u[c])||"",onChange:h=>{const p={...e.colorOverrides};h?p[c]=h:delete p[c],t({colorOverrides:p})}},c)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Center Detent",children:[a.jsx(re,{label:"Snap Threshold",value:e.snapThreshold,onChange:o=>t({snapThreshold:o}),min:.01,max:.2,step:.01}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showCenterMark,onChange:o=>t({showCenterMark:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Center Mark"})]})]}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:o=>t({value:o}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:o=>t({min:o}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:o=>t({max:o}),step:.01})]})]}),a.jsxs(K,{title:"Arc Geometry",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Start Angle",value:e.startAngle,onChange:o=>t({startAngle:o}),min:-180,max:180}),a.jsx(re,{label:"End Angle",value:e.endAngle,onChange:o=>t({endAngle:o}),min:-180,max:180})]}),a.jsx(re,{label:"Track Width",value:e.trackWidth,onChange:o=>t({trackWidth:o}),min:1,max:20})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:o=>t({trackColor:o})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:o=>t({fillColor:o})}),a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:o=>t({indicatorColor:o})})]}),a.jsxs(K,{title:"Label",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showLabel,onChange:o=>t({showLabel:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),e.showLabel&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:e.labelText,onChange:o=>t({labelText:o})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.labelPosition,onChange:o=>t({labelPosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Font Size",value:e.labelFontSize,onChange:o=>t({labelFontSize:o}),min:8,max:32}),a.jsx(re,{label:"Distance",value:e.labelDistance??4,onChange:o=>t({labelDistance:o}),min:-20,max:50,step:.1})]}),a.jsx(le,{label:"Color",value:e.labelColor,onChange:o=>t({labelColor:o})})]})]}),a.jsxs(K,{title:"Value Display",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showValue,onChange:o=>t({showValue:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.valuePosition,onChange:o=>t({valuePosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:e.valueFormat,onChange:o=>t({valueFormat:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"}),a.jsx("option",{value:"hz",children:"Hz"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),e.valueFormat==="custom"&&a.jsx(ut,{label:"Suffix",value:e.valueSuffix,onChange:o=>t({valueSuffix:o})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Decimal Places",value:e.valueDecimalPlaces,onChange:o=>t({valueDecimalPlaces:o}),min:0,max:4}),a.jsx(re,{label:"Font Size",value:e.valueFontSize,onChange:o=>t({valueFontSize:o}),min:8,max:32})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Distance",value:e.valueDistance??4,onChange:o=>t({valueDistance:o}),min:-20,max:50,step:.1}),a.jsx(le,{label:"Color",value:e.valueColor,onChange:o=>t({valueColor:o})})]})]})]})]})}function x8({element:e,onUpdate:t}){const r=fe(o=>o.getStylesByCategory),n=fe(o=>o.getElementStyle),i=r("rotary");return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Knob Style",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.styleId||"",onChange:o=>{const s=o.target.value;t({styleId:s===""?void 0:s,colorOverrides:void 0})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Default (CSS)"}),i.map(o=>a.jsx("option",{value:o.id,children:o.name},o.id))]})]})}),e.styleId&&(()=>{const o=n(e.styleId);if(!o||o.category!=="rotary")return null;const d=["indicator","track","arc","glow","shadow"].filter(u=>o.layers[u]);if(d.length===0)return null;const c=u=>u==="indicator"?"Dot Color":u.charAt(0).toUpperCase()+u.slice(1);return a.jsxs(K,{title:"Color Overrides",children:[d.map(u=>{var h;return a.jsx(le,{label:c(u),value:((h=e.colorOverrides)==null?void 0:h[u])||"",onChange:p=>{const l={...e.colorOverrides};p?l[u]=p:delete l[u],t({colorOverrides:l})}},u)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Dot Indicator",children:a.jsx(re,{label:"Dot Radius",value:e.dotRadius,onChange:o=>t({dotRadius:o}),min:2,max:10,step:1})}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:o=>t({value:o}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:o=>t({min:o}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:o=>t({max:o}),step:.01})]})]}),a.jsxs(K,{title:"Arc Geometry",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Start Angle",value:e.startAngle,onChange:o=>t({startAngle:o}),min:-180,max:180}),a.jsx(re,{label:"End Angle",value:e.endAngle,onChange:o=>t({endAngle:o}),min:-180,max:180})]}),a.jsx(re,{label:"Track Width",value:e.trackWidth,onChange:o=>t({trackWidth:o}),min:1,max:20})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:o=>t({trackColor:o})}),a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:o=>t({indicatorColor:o})})]}),a.jsxs(K,{title:"Label",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showLabel,onChange:o=>t({showLabel:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),e.showLabel&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:e.labelText,onChange:o=>t({labelText:o})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.labelPosition,onChange:o=>t({labelPosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Font Size",value:e.labelFontSize,onChange:o=>t({labelFontSize:o}),min:8,max:32}),a.jsx(re,{label:"Distance",value:e.labelDistance??4,onChange:o=>t({labelDistance:o}),min:-20,max:50,step:.1})]}),a.jsx(le,{label:"Color",value:e.labelColor,onChange:o=>t({labelColor:o})})]})]}),a.jsxs(K,{title:"Value Display",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showValue,onChange:o=>t({showValue:o.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.valuePosition,onChange:o=>t({valuePosition:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:e.valueFormat,onChange:o=>t({valueFormat:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"}),a.jsx("option",{value:"hz",children:"Hz"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),e.valueFormat==="custom"&&a.jsx(ut,{label:"Suffix",value:e.valueSuffix,onChange:o=>t({valueSuffix:o})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Decimal Places",value:e.valueDecimalPlaces,onChange:o=>t({valueDecimalPlaces:o}),min:0,max:4}),a.jsx(re,{label:"Font Size",value:e.valueFontSize,onChange:o=>t({valueFontSize:o}),min:8,max:32})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Distance",value:e.valueDistance??4,onChange:o=>t({valueDistance:o}),min:-20,max:50,step:.1}),a.jsx(le,{label:"Color",value:e.valueColor,onChange:o=>t({valueColor:o})})]})]})]})]})}function w8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="linear")return null;const o=["thumb","track","fill"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:n=>t({orientation:n.target.value}),className:et,children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Center",children:[a.jsx(re,{label:"Center Value",value:e.centerValue,onChange:n=>t({centerValue:n}),min:0,max:1,step:.1}),a.jsx(le,{label:"Center Line Color",value:e.centerLineColor,onChange:n=>t({centerLineColor:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.centerSnap??!1,onChange:n=>t({centerSnap:n.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Enable Center Snap"})]}),e.centerSnap&&a.jsx(re,{label:"Snap Threshold %",value:(e.centerSnapThreshold??.02)*100,onChange:n=>t({centerSnapThreshold:n/100}),min:.5,max:10,step:.5})]}),a.jsxs(K,{title:"Zone Colors",children:[a.jsx(le,{label:"Negative Zone Color",value:e.negativeFillColor??e.trackFillColor,onChange:n=>t({negativeFillColor:n})}),a.jsx(le,{label:"Positive Zone Color",value:e.positiveFillColor??e.trackFillColor,onChange:n=>t({positiveFillColor:n})})]}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:n=>t({value:n}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:n=>t({min:n}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:n=>t({max:n}),step:.01})]})]}),a.jsxs(K,{title:"Track",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:n=>t({trackColor:n})}),a.jsx(le,{label:"Track Fill Color",value:e.trackFillColor,onChange:n=>t({trackFillColor:n})})]}),a.jsxs(K,{title:"Thumb",children:[a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:n=>t({thumbColor:n})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Thumb Width",value:e.thumbWidth,onChange:n=>t({thumbWidth:n}),min:10,max:50}),a.jsx(re,{label:"Thumb Height",value:e.thumbHeight,onChange:n=>t({thumbHeight:n}),min:10,max:50})]})]}),a.jsx(A0,{showLabel:e.showLabel,labelText:e.labelText,labelPosition:e.labelPosition,labelDistance:e.labelDistance,labelFontSize:e.labelFontSize,labelColor:e.labelColor,onShowLabelChange:n=>t({showLabel:n}),onLabelTextChange:n=>t({labelText:n}),onLabelPositionChange:n=>t({labelPosition:n}),onLabelDistanceChange:n=>t({labelDistance:n}),onLabelFontSizeChange:n=>t({labelFontSize:n}),onLabelColorChange:n=>t({labelColor:n})}),a.jsx(R0,{showValue:e.showValue,valuePosition:e.valuePosition,valueDistance:e.valueDistance,valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,valueDecimalPlaces:e.valueDecimalPlaces,valueFontSize:e.valueFontSize,valueColor:e.valueColor,onShowValueChange:n=>t({showValue:n}),onValuePositionChange:n=>t({valuePosition:n}),onValueDistanceChange:n=>t({valueDistance:n}),onValueFormatChange:n=>t({valueFormat:n}),onValueSuffixChange:n=>t({valueSuffix:n}),onValueDecimalPlacesChange:n=>t({valueDecimalPlaces:n}),onValueFontSizeChange:n=>t({valueFontSize:n}),onValueColorChange:n=>t({valueColor:n})})]})}function S8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="linear")return null;const o=["thumb","track","fill"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"A/B Labels",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ut,{label:"Label A",value:e.labelA,onChange:n=>t({labelA:n})}),a.jsx(ut,{label:"Label B",value:e.labelB,onChange:n=>t({labelB:n})})]}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:n=>t({labelColor:n})}),a.jsx(re,{label:"Label Font Size",value:e.labelFontSize,onChange:n=>t({labelFontSize:n}),min:8,max:24}),a.jsx(xs,{label:"Label Font Family",value:e.labelFontFamily,onChange:n=>t({labelFontFamily:n})}),a.jsx(ws,{label:"Label Font Weight",value:e.labelFontWeight,onChange:n=>t({labelFontWeight:n}),valueType:"string",fontFamily:e.labelFontFamily})]}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:n=>t({value:n}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:n=>t({min:n}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:n=>t({max:n}),step:.01})]})]}),a.jsxs(K,{title:"Track",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:n=>t({trackColor:n})}),a.jsx(le,{label:"Track Fill Color",value:e.trackFillColor,onChange:n=>t({trackFillColor:n})})]}),a.jsxs(K,{title:"Thumb",children:[a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:n=>t({thumbColor:n})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Thumb Width",value:e.thumbWidth,onChange:n=>t({thumbWidth:n}),min:10,max:50}),a.jsx(re,{label:"Thumb Height",value:e.thumbHeight,onChange:n=>t({thumbHeight:n}),min:10,max:50})]})]})]})}function k8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"linear",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="linear")return null;const o=["thumb","track","fill"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:n=>t({orientation:n.target.value}),className:et,children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Notch Settings",children:[a.jsx(re,{label:"Notch Count",value:e.notchCount,onChange:n=>t({notchCount:n}),min:2,max:32}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showNotchLabels,onChange:n=>t({showNotchLabels:n.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Notch Labels"})]}),a.jsx(le,{label:"Notch Color",value:e.notchColor,onChange:n=>t({notchColor:n})}),a.jsx(re,{label:"Tick Length",value:e.notchLength,onChange:n=>t({notchLength:n}),min:4,max:30}),a.jsx(re,{label:"Label Font Size",value:e.notchLabelFontSize,onChange:n=>t({notchLabelFontSize:n}),min:8,max:16})]}),a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:n=>t({value:n}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:n=>t({min:n}),step:.01}),a.jsx(re,{label:"Max",value:e.max,onChange:n=>t({max:n}),step:.01})]})]}),a.jsxs(K,{title:"Track",children:[a.jsx(le,{label:"Track Color",value:e.trackColor,onChange:n=>t({trackColor:n})}),a.jsx(le,{label:"Track Fill Color",value:e.trackFillColor,onChange:n=>t({trackFillColor:n})})]}),a.jsxs(K,{title:"Thumb",children:[a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:n=>t({thumbColor:n})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Thumb Width",value:e.thumbWidth,onChange:n=>t({thumbWidth:n}),min:10,max:50}),a.jsx(re,{label:"Thumb Height",value:e.thumbHeight,onChange:n=>t({thumbHeight:n}),min:10,max:50})]})]}),a.jsx(A0,{showLabel:e.showLabel,labelText:e.labelText,labelPosition:e.labelPosition,labelDistance:e.labelDistance,labelFontSize:e.labelFontSize,labelColor:e.labelColor,onShowLabelChange:n=>t({showLabel:n}),onLabelTextChange:n=>t({labelText:n}),onLabelPositionChange:n=>t({labelPosition:n}),onLabelDistanceChange:n=>t({labelDistance:n}),onLabelFontSizeChange:n=>t({labelFontSize:n}),onLabelColorChange:n=>t({labelColor:n})}),a.jsx(R0,{showValue:e.showValue,valuePosition:e.valuePosition,valueDistance:e.valueDistance,valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,valueDecimalPlaces:e.valueDecimalPlaces,valueFontSize:e.valueFontSize,valueColor:e.valueColor,onShowValueChange:n=>t({showValue:n}),onValuePositionChange:n=>t({valuePosition:n}),onValueDistanceChange:n=>t({valueDistance:n}),onValueFormatChange:n=>t({valueFormat:n}),onValueSuffixChange:n=>t({valueSuffix:n}),onValueDecimalPlacesChange:n=>t({valueDecimalPlaces:n}),onValueFontSizeChange:n=>t({valueFontSize:n}),onValueColorChange:n=>t({valueColor:n})})]})}const C8=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}],_8=[{value:"Courier New, Consolas, monospace",label:"Courier New"},{value:"Consolas, Monaco, monospace",label:"Consolas"},{value:"Monaco, Courier New, monospace",label:"Monaco"},{value:'"Lucida Console", Monaco, monospace',label:"Lucida Console"},{value:'"Source Code Pro", monospace',label:"Source Code Pro"},{value:'"Fira Code", monospace',label:"Fira Code"},{value:'"JetBrains Mono", monospace',label:"JetBrains Mono"},{value:"monospace",label:"System Monospace"}],j8=[{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"above",label:"Above"},{value:"below",label:"Below"},{value:"inside",label:"Inside Bar"}],P8=[{value:"percentage",label:"Percentage"},{value:"numeric",label:"Numeric"},{value:"custom",label:"Custom"}],$8=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}],I8=[{value:"left",label:"Left"},{value:"right",label:"Right"}];function T8({element:e,onUpdate:t}){const r=e.max-e.min,n=r>0?(e.value-e.min)/r:0,i=Math.round(n*e.barWidth),o=e.barWidth-i,s=`${e.leftBracket}${e.filledChar.repeat(i)}${e.emptyChar.repeat(o)}${e.rightBracket}`;return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Current Value",value:e.value,onChange:d=>t({value:d}),min:e.min,max:e.max,step:.01}),a.jsx(re,{label:"Min",value:e.min,onChange:d=>t({min:d})}),a.jsx(re,{label:"Max",value:e.max,onChange:d=>t({max:d})})]}),a.jsxs(K,{title:"Label",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"showLabel",checked:e.showLabel,onChange:d=>t({showLabel:d.target.checked}),className:"rounded bg-gray-700 border-gray-600"}),a.jsx("label",{htmlFor:"showLabel",className:"text-xs text-gray-400",children:"Show Label"})]}),e.showLabel&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Label Text",value:e.labelText,onChange:d=>t({labelText:d})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Label Position"}),a.jsx("select",{value:e.labelPosition,onChange:d=>t({labelPosition:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:I8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]})]})]}),a.jsxs(K,{title:"Bar Characters",children:[a.jsx(re,{label:"Bar Width (chars)",value:e.barWidth,onChange:d=>t({barWidth:d}),min:5,max:50}),a.jsx(ut,{label:"Filled Character",value:e.filledChar,onChange:d=>t({filledChar:d.slice(0,1)||"#"})}),a.jsx(ut,{label:"Empty Character",value:e.emptyChar,onChange:d=>t({emptyChar:d.slice(0,1)||"-"})}),a.jsx(ut,{label:"Left Bracket",value:e.leftBracket,onChange:d=>t({leftBracket:d.slice(0,1)||"["})}),a.jsx(ut,{label:"Right Bracket",value:e.rightBracket,onChange:d=>t({rightBracket:d.slice(0,1)||"]"})})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"showMinMax",checked:e.showMinMax,onChange:d=>t({showMinMax:d.target.checked}),className:"rounded bg-gray-700 border-gray-600"}),a.jsx("label",{htmlFor:"showMinMax",className:"text-xs text-gray-400",children:"Show Min/Max Labels"})]}),e.showMinMax&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Min Label",value:e.minLabel,onChange:d=>t({minLabel:d})}),a.jsx(ut,{label:"Max Label",value:e.maxLabel,onChange:d=>t({maxLabel:d})})]})]}),a.jsxs(K,{title:"Value Display",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"showValue",checked:e.showValue,onChange:d=>t({showValue:d.target.checked}),className:"rounded bg-gray-700 border-gray-600"}),a.jsx("label",{htmlFor:"showValue",className:"text-xs text-gray-400",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Value Position"}),a.jsx("select",{value:e.valuePosition,onChange:d=>t({valuePosition:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:j8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Value Format"}),a.jsx("select",{value:e.valueFormat,onChange:d=>t({valueFormat:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:P8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]}),e.valueFormat==="custom"&&a.jsx(ut,{label:"Value Suffix",value:e.valueSuffix,onChange:d=>t({valueSuffix:d})}),e.valueFormat!=="percentage"&&a.jsx(re,{label:"Decimal Places",value:e.valueDecimalPlaces,onChange:d=>t({valueDecimalPlaces:d}),min:0,max:6})]})]}),a.jsxs(K,{title:"Typography",children:[a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:d=>t({fontSize:d}),min:8,max:48}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:d=>t({fontFamily:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:_8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:d=>t({fontWeight:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:C8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:d=>t({textColor:d})})]}),a.jsxs(K,{title:"Container",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Text Alignment"}),a.jsx("select",{value:e.textAlign||"left",onChange:d=>t({textAlign:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:$8.map(({value:d,label:c})=>a.jsx("option",{value:d,children:c},d))})]}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:d=>t({backgroundColor:d})}),a.jsx(re,{label:"Padding",value:e.padding,onChange:d=>t({padding:d}),min:0,max:50}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:d=>t({borderRadius:d}),min:0,max:20}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:d=>t({borderWidth:d}),min:0,max:10}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:d=>t({borderColor:d})})]}),a.jsxs(K,{title:"Interaction",children:[a.jsx(re,{label:"Drag Sensitivity",value:e.dragSensitivity??100,onChange:d=>t({dragSensitivity:d}),min:20,max:500}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pixels for full range. Lower = more sensitive. Hold Shift for fine control."}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mt-2",children:[a.jsx("input",{type:"checkbox",checked:e.selectable??!1,onChange:d=>t({selectable:d.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow text selection"})]})]}),a.jsx(K,{title:"Preview",children:a.jsxs("div",{className:"w-full border border-gray-600 rounded p-2",style:{fontFamily:e.fontFamily,fontSize:`${e.fontSize}px`,fontWeight:e.fontWeight,color:e.textColor,backgroundColor:e.backgroundColor==="transparent"?"#1f2937":e.backgroundColor,whiteSpace:"pre",textAlign:e.textAlign||"left"},children:[e.showLabel&&e.labelPosition==="left"&&`${e.labelText} `,e.showMinMax&&`${e.minLabel} `,e.showValue&&e.valuePosition==="left"&&`${Math.round(n*100)}% `,s,e.showValue&&e.valuePosition==="right"&&` ${Math.round(n*100)}%`,e.showMinMax&&` ${e.maxLabel}`,e.showLabel&&e.labelPosition==="right"&&` ${e.labelText}`]})})]})}const N8=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}],E8=[{value:"Courier New, Consolas, monospace",label:"Courier New"},{value:"Consolas, Monaco, monospace",label:"Consolas"},{value:"Monaco, Courier New, monospace",label:"Monaco"},{value:'"Lucida Console", Monaco, monospace',label:"Lucida Console"},{value:'"Source Code Pro", monospace',label:"Source Code Pro"},{value:'"Fira Code", monospace',label:"Fira Code"},{value:'"JetBrains Mono", monospace',label:"JetBrains Mono"},{value:"monospace",label:"System Monospace"}],z8=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}],D8=[{value:"momentary",label:"Momentary (pressed while clicking)"},{value:"toggle",label:"Toggle (click to switch)"}];function px({isOpen:e,onClose:t,title:r,value:n,onChange:i}){const[o,s]=X.useState(n);if(!e)return null;const d=()=>{i(o),t()},c=u=>{u.key==="Escape"?t():u.key==="s"&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),d())};return a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,onKeyDown:c,children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 w-[500px] max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:"×"})]}),a.jsx("textarea",{value:o,onChange:u=>s(u.target.value),className:"w-full h-64 bg-gray-900 border border-gray-600 text-green-400 rounded p-3 font-mono text-sm resize-none",style:{fontFamily:"Courier New, Consolas, monospace"},autoFocus:!0,spellCheck:!1}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[o.split(`
`).length," lines | Ctrl+S to save, Esc to cancel"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-300 hover:text-white",children:"Cancel"}),a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-500 text-white rounded",children:"Save"})]})]})]})})}function O8({element:e,onUpdate:t}){const[r,n]=X.useState(!1),[i,o]=X.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Button Mode",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsx("select",{value:e.mode,onChange:s=>t({mode:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:D8.map(({value:s,label:d})=>a.jsx("option",{value:s,children:d},s))})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"pressed",checked:e.pressed,onChange:s=>t({pressed:s.target.checked}),className:"rounded bg-gray-700 border-gray-600"}),a.jsx("label",{htmlFor:"pressed",className:"text-xs text-gray-400",children:"Initially Pressed"})]})]}),a.jsxs(K,{title:"Normal State",children:[a.jsx("div",{className:"w-full border border-gray-600 rounded p-2 mb-2 min-h-16",style:{fontFamily:e.fontFamily,fontSize:`${Math.min(e.fontSize,12)}px`,color:e.textColor,backgroundColor:e.backgroundColor==="transparent"?"#1f2937":e.backgroundColor,whiteSpace:"pre",textAlign:e.textAlign||"center"},children:e.normalArt}),a.jsx("button",{onClick:()=>n(!0),className:"w-full px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded",children:"Edit Normal State"})]}),a.jsxs(K,{title:"Pressed State",children:[a.jsx("div",{className:"w-full border border-gray-600 rounded p-2 mb-2 min-h-16",style:{fontFamily:e.fontFamily,fontSize:`${Math.min(e.fontSize,12)}px`,color:e.pressedTextColor,backgroundColor:e.pressedBackgroundColor==="transparent"?"#1f2937":e.pressedBackgroundColor,whiteSpace:"pre",textAlign:e.textAlign||"center"},children:e.pressedArt}),a.jsx("button",{onClick:()=>o(!0),className:"w-full px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded",children:"Edit Pressed State"})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Normal Text Color",value:e.textColor,onChange:s=>t({textColor:s})}),a.jsx(le,{label:"Pressed Text Color",value:e.pressedTextColor,onChange:s=>t({pressedTextColor:s})}),a.jsx(le,{label:"Normal Background",value:e.backgroundColor,onChange:s=>t({backgroundColor:s})}),a.jsx(le,{label:"Pressed Background",value:e.pressedBackgroundColor,onChange:s=>t({pressedBackgroundColor:s})})]}),a.jsxs(K,{title:"Typography",children:[a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:s=>t({fontSize:s}),min:8,max:48}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:s=>t({fontFamily:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:E8.map(({value:s,label:d})=>a.jsx("option",{value:s,children:d},s))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:s=>t({fontWeight:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:N8.map(({value:s,label:d})=>a.jsx("option",{value:s,children:d},s))})]})]}),a.jsxs(K,{title:"Container",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Text Alignment"}),a.jsx("select",{value:e.textAlign||"center",onChange:s=>t({textAlign:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:z8.map(({value:s,label:d})=>a.jsx("option",{value:s,children:d},s))})]}),a.jsx(re,{label:"Padding",value:e.padding,onChange:s=>t({padding:s}),min:0,max:50}),a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:s=>t({borderRadius:s}),min:0,max:20}),a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:s=>t({borderWidth:s}),min:0,max:10}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:s=>t({borderColor:s})})]}),a.jsx(K,{title:"Interaction",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.selectable??!1,onChange:s=>t({selectable:s.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Allow text selection"})]})}),a.jsx(px,{isOpen:r,onClose:()=>n(!1),title:"Edit Normal State",value:e.normalArt,onChange:s=>t({normalArt:s})}),a.jsx(px,{isOpen:i,onClose:()=>o(!1),title:"Edit Pressed State",value:e.pressedArt,onChange:s=>t({pressedArt:s})})]})}const F8={Transport:[Me.Play,Me.Pause,Me.Stop,Me.Record,Me.Loop,Me.SkipForward,Me.SkipBackward],Common:[Me.Mute,Me.Solo,Me.Bypass,Me.Power,Me.Settings,Me.Reset,Me.Save,Me.Load],Audio:[Me.Waveform,Me.Spectrum,Me.Midi,Me.Sync,Me.Link,Me.EQ,Me.Compressor,Me.Reverb,Me.Delay,Me.Filter],Additional:[Me.Add,Me.Remove,Me.Edit,Me.Copy,Me.Paste,Me.Undo,Me.Redo,Me.Help,Me.Info,Me.Warning]};function M8(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function L8({element:e,onUpdate:t}){const r=fe(o=>o.assets),n=fe(o=>o.getElementStyle),i=r.filter(o=>o.categories.includes("icon")||o.categories.includes("decoration"));return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:o=>t({styleId:o,colorOverrides:o?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const o=n(e.styleId);if(!o||o.category!=="button")return null;const d=["normal","pressed","icon"].filter(c=>o.layers[c]);return d.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[d.map(c=>{var u;return a.jsx(le,{label:c.charAt(0).toUpperCase()+c.slice(1),value:((u=e.colorOverrides)==null?void 0:u[c])||"",onChange:h=>{const p={...e.colorOverrides};h?p[c]=h:delete p[c],t({colorOverrides:p})}},c)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),!e.styleId&&a.jsxs(K,{title:"Icon Source",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Source"}),a.jsxs("select",{value:e.iconSource,onChange:o=>t({iconSource:o.target.value}),className:et,children:[a.jsx("option",{value:"builtin",children:"Built-In Icon"}),a.jsx("option",{value:"asset",children:"Asset Library"})]})]}),e.iconSource==="builtin"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Icon"}),a.jsx("select",{value:e.builtInIcon||Me.Play,onChange:o=>t({builtInIcon:o.target.value}),className:et,children:Object.entries(F8).map(([o,s])=>a.jsx("optgroup",{label:o,children:s.map(d=>a.jsx("option",{value:d,children:M8(d)},d))},o))})]}),e.iconSource==="asset"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Asset"}),a.jsxs("select",{value:e.assetId||"",onChange:o=>t({assetId:o.target.value}),className:et,children:[a.jsx("option",{value:"",children:"Select an asset..."}),i.map(o=>a.jsx("option",{value:o.id,children:o.name},o.id))]}),i.length===0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No SVG assets available. Upload icons in the Asset Library."})]})]}),a.jsxs(K,{title:"Behavior",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsxs("select",{value:e.mode,onChange:o=>t({mode:o.target.value}),className:et,children:[a.jsx("option",{value:"momentary",children:"Momentary"}),a.jsx("option",{value:"toggle",children:"Toggle"})]})]}),a.jsxs("label",{htmlFor:"iconbutton-pressed",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"iconbutton-pressed",checked:e.pressed,onChange:o=>t({pressed:o.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Pressed"})]})]}),!e.styleId&&a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Icon Color",value:e.iconColor,onChange:o=>t({iconColor:o})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:o=>t({backgroundColor:o})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:o=>t({borderColor:o})})]}),!e.styleId&&a.jsx(K,{title:"Appearance",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:o=>t({borderRadius:o}),min:0,max:20})})]})}function A8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="button")return null;const o=["body","on","off","indicator"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"State",children:a.jsxs("label",{htmlFor:"toggleswitch-ison",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"toggleswitch-ison",checked:e.isOn,onChange:n=>t({isOn:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"On (preview)"})]})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"On Color",value:e.onColor,onChange:n=>t({onColor:n})}),a.jsx(le,{label:"Off Color",value:e.offColor,onChange:n=>t({offColor:n})}),a.jsx(le,{label:"Thumb Color",value:e.thumbColor,onChange:n=>t({thumbColor:n})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:n=>t({borderColor:n})})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{htmlFor:"toggleswitch-showlabels",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"toggleswitch-showlabels",checked:e.showLabels,onChange:n=>t({showLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Labels"})]}),e.showLabels&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"On Label",value:e.onLabel,onChange:n=>t({onLabel:n})}),a.jsx(ut,{label:"Off Label",value:e.offLabel,onChange:n=>t({offLabel:n})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.labelFontFamily,onChange:n=>t({labelFontFamily:n.target.value}),className:et,children:Ct.map(n=>a.jsx("option",{value:n.family,children:n.name},n.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.labelFontWeight,onChange:n=>t({labelFontWeight:n.target.value}),className:et,children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.labelFontSize,onChange:n=>t({labelFontSize:n}),min:8,max:32}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:n=>t({labelColor:n})})]})]})]})}function R8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="button")return null;const o=["normal","pressed","icon","led"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s==="led"?"LED":s.charAt(0).toUpperCase()+s.slice(1),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Label",children:a.jsx(ut,{label:"Label",value:e.label,onChange:n=>t({label:n})})}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:n=>t({fontFamily:n.target.value}),className:et,children:Ct.map(n=>a.jsx("option",{value:n.family,children:n.name},n.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:n=>t({fontWeight:n.target.value}),className:et,children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:n=>t({fontSize:n}),min:8,max:48})]}),a.jsx(K,{title:"State",children:a.jsxs("label",{htmlFor:"powerbutton-ison",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"powerbutton-ison",checked:e.isOn,onChange:n=>t({isOn:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"On (preview)"})]})}),a.jsxs(K,{title:"LED Indicator",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.ledPosition,onChange:n=>t({ledPosition:n.target.value}),className:et,children:[a.jsx("option",{value:"top",children:"Top"}),a.jsx("option",{value:"bottom",children:"Bottom"}),a.jsx("option",{value:"left",children:"Left"}),a.jsx("option",{value:"right",children:"Right"}),a.jsx("option",{value:"center",children:"Center"})]})]}),a.jsx(re,{label:"LED Size",value:e.ledSize,onChange:n=>t({ledSize:n}),min:4,max:16}),a.jsx(le,{label:"LED On Color",value:e.ledOnColor,onChange:n=>t({ledOnColor:n})}),a.jsx(le,{label:"LED Off Color",value:e.ledOffColor,onChange:n=>t({ledOffColor:n})})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:n=>t({backgroundColor:n})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:n=>t({textColor:n})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:n=>t({borderColor:n})})]}),a.jsx(K,{title:"Shape",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:n=>t({borderRadius:n}),min:0,max:20})})]})}function B8({element:e,onUpdate:t}){const r=fe(n=>n.getElementStyle);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:n=>t({styleId:n,colorOverrides:n?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const n=r(e.styleId);if(!n||n.category!=="button")return null;const o=["base","position-0","position-1","position-2"].filter(s=>n.layers[s]);return o.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[o.map(s=>{var d;return a.jsx(le,{label:s.charAt(0).toUpperCase()+s.slice(1).replace(/-/g," "),value:((d=e.colorOverrides)==null?void 0:d[s])||"",onChange:c=>{const u={...e.colorOverrides};c?u[s]=c:delete u[s],t({colorOverrides:u})}},s)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"State",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),a.jsxs("select",{value:e.position,onChange:n=>t({position:Number(n.target.value)}),className:et,children:[a.jsx("option",{value:2,children:"Up (2)"}),a.jsx("option",{value:1,children:"Center (1)"}),a.jsx("option",{value:0,children:"Down (0)"})]})]})}),a.jsx(K,{title:"Behavior",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsxs("select",{value:e.mode,onChange:n=>t({mode:n.target.value}),className:et,children:[a.jsx("option",{value:"spring-to-center",children:"Spring to Center"}),a.jsx("option",{value:"latch-all-positions",children:"Latch All Positions"})]})]})}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{htmlFor:"rockerswitch-showlabels",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"rockerswitch-showlabels",checked:e.showLabels,onChange:n=>t({showLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Labels"})]}),e.showLabels&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{label:"Up Label",value:e.upLabel,onChange:n=>t({upLabel:n})}),a.jsx(ut,{label:"Down Label",value:e.downLabel,onChange:n=>t({downLabel:n})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:n=>t({labelColor:n})})]})]}),!e.styleId&&a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:n=>t({backgroundColor:n})}),a.jsx(le,{label:"Switch Color",value:e.switchColor,onChange:n=>t({switchColor:n})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:n=>t({borderColor:n})})]})]})}function U8({element:e,onUpdate:t}){var d;const r=fe(c=>c.getElementStyle),[n,i]=X.useState(((d=e.positionLabels)==null?void 0:d.join(", "))??"");X.useEffect(()=>{var c;i(((c=e.positionLabels)==null?void 0:c.join(", "))??"")},[e.id,e.positionLabels]);const o=c=>{const u={positionCount:c};e.currentPosition>=c&&(u.currentPosition=0),t(u)},s=()=>{const c=n.trim();if(c==="")t({positionLabels:null});else{const u=c.split(/[,\n]/).map(h=>h.trim()).filter(Boolean);if(u.length>0){const h={positionLabels:u};u.length>e.positionCount&&u.length<=12&&(h.positionCount=u.length,e.currentPosition>=u.length&&(h.currentPosition=0)),t(h)}else t({positionLabels:null})}};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:c=>t({styleId:c,colorOverrides:c?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const c=r(e.styleId);if(!c||c.category!=="button")return null;const h=["base","selector"].filter(p=>c.layers[p]);return h.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[h.map(p=>{var l;return a.jsx(le,{label:p.charAt(0).toUpperCase()+p.slice(1),value:((l=e.colorOverrides)==null?void 0:l[p])||"",onChange:f=>{const m={...e.colorOverrides};f?m[p]=f:delete m[p],t({colorOverrides:m})}},p)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsxs(K,{title:"Position",children:[a.jsx(re,{label:"Position Count",value:e.positionCount,onChange:o,min:2,max:12}),a.jsx(re,{label:"Current Position",value:e.currentPosition,onChange:c=>t({currentPosition:c}),min:0,max:e.positionCount-1})]}),a.jsx(K,{title:"Label Layout",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Layout"}),a.jsxs("select",{value:e.labelLayout,onChange:c=>t({labelLayout:c.target.value}),className:et,children:[a.jsx("option",{value:"radial",children:"Radial"}),a.jsx("option",{value:"legend",children:"Legend"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Radial: labels around the knob. Legend: labels in a list."})]})}),a.jsxs(K,{title:"Labels",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Labels are 1, 2, 3... by default. Edit below to customize (comma or newline separated)."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position Labels"}),a.jsx("textarea",{value:n,onChange:c=>i(c.target.value),onBlur:s,placeholder:"Leave empty for 1, 2, 3...",rows:3,className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm resize-none"})]}),a.jsx(re,{label:"Label Font Size",value:e.labelFontSize,onChange:c=>t({labelFontSize:c}),min:8,max:16}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:c=>t({labelColor:c})})]}),!e.styleId&&a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:c=>t({backgroundColor:c})}),a.jsx(le,{label:"Pointer Color",value:e.pointerColor,onChange:c=>t({pointerColor:c})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:c=>t({borderColor:c})})]}),a.jsxs(K,{title:"Geometry",children:[a.jsx(re,{label:"Rotation Angle",value:e.rotationAngle,onChange:c=>t({rotationAngle:c}),min:90,max:360}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total rotation range in degrees (default: 270)"})]})]})}const V8={Transport:[Me.Play,Me.Pause,Me.Stop,Me.Record,Me.Loop,Me.SkipForward,Me.SkipBackward],Common:[Me.Mute,Me.Solo,Me.Bypass,Me.Power,Me.Settings,Me.Reset,Me.Save,Me.Load],Audio:[Me.Waveform,Me.Spectrum,Me.Midi,Me.Sync,Me.Link,Me.EQ,Me.Compressor,Me.Reverb,Me.Delay,Me.Filter],Additional:[Me.Add,Me.Remove,Me.Edit,Me.Copy,Me.Paste,Me.Undo,Me.Redo,Me.Help,Me.Info,Me.Warning]};function W8(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function H8({element:e,onUpdate:t}){const r=fe(c=>c.assets),n=fe(c=>c.getElementStyle),i=r.filter(c=>c.categories.includes("icon")||c.categories.includes("decoration")),o=X.useCallback(c=>{const u=[...e.segments];let h;if(c>u.length){h=[...u];for(let l=u.length;l<c;l++)h.push({displayMode:"text",text:`${l+1}`})}else h=u.slice(0,c);const p=e.selectedIndices.filter(l=>l<c);p.length===0&&e.selectionMode==="single"&&p.push(0),t({segmentCount:c,segments:h,selectedIndices:p})},[e.segments,e.selectedIndices,e.selectionMode,t]),s=X.useCallback((c,u)=>{const h=e.segments.map((p,l)=>l===c?{...p,...u}:p);t({segments:h})},[e.segments,t]),d=X.useCallback(c=>{let u;e.selectionMode==="single"?u=[c]:e.selectedIndices.includes(c)?u=e.selectedIndices.filter(h=>h!==c):u=[...e.selectedIndices,c],t({selectedIndices:u})},[e.selectionMode,e.selectedIndices,t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"button",currentStyleId:e.styleId,onStyleChange:c=>t({styleId:c,colorOverrides:c?e.colorOverrides:void 0})})}),e.styleId&&(()=>{const c=n(e.styleId);if(!c||c.category!=="button")return null;const h=["base","highlight"].filter(p=>c.layers[p]);return h.length===0?null:a.jsxs(K,{title:"Color Overrides",children:[h.map(p=>{var l;return a.jsx(le,{label:p.charAt(0).toUpperCase()+p.slice(1),value:((l=e.colorOverrides)==null?void 0:l[p])||"",onChange:f=>{const m={...e.colorOverrides};f?m[p]=f:delete m[p],t({colorOverrides:m})}},p)}),a.jsx("button",{onClick:()=>t({colorOverrides:void 0}),className:"w-full text-left text-sm text-red-400 hover:text-red-300 mt-1",children:"Reset to Original Colors"})]})})(),a.jsx(K,{title:"Segment Count",children:a.jsx(re,{label:"Number of Segments",value:e.segmentCount,onChange:o,min:2,max:8})}),a.jsxs(K,{title:"Selection",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Selection Mode"}),a.jsxs("select",{value:e.selectionMode,onChange:c=>t({selectionMode:c.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"single",children:"Single"}),a.jsx("option",{value:"multi",children:"Multi"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Selected"}),a.jsx("div",{className:"text-sm text-gray-300",children:e.selectedIndices.length>0?e.selectedIndices.map(c=>c+1).join(", "):"None"})]})]}),a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Layout"}),a.jsxs("select",{value:e.orientation,onChange:c=>t({orientation:c.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"horizontal",children:"Horizontal"}),a.jsx("option",{value:"vertical",children:"Vertical"})]})]})}),a.jsx(K,{title:"Segments",children:e.segments.map((c,u)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2 mb-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Segment ",u+1]}),a.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.selectedIndices.includes(u),onChange:()=>d(u),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Selected"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Display Mode"}),a.jsxs("select",{value:c.displayMode,onChange:h=>s(u,{displayMode:h.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"icon",children:"Icon Only"}),a.jsx("option",{value:"text",children:"Text Only"}),a.jsx("option",{value:"icon-text",children:"Icon + Text"})]})]}),(c.displayMode==="icon"||c.displayMode==="icon-text")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Icon Source"}),a.jsxs("select",{value:c.iconSource||"builtin",onChange:h=>s(u,{iconSource:h.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"builtin",children:"Built-In"}),a.jsx("option",{value:"asset",children:"Asset Library"})]})]}),c.iconSource!=="asset"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Built-In Icon"}),a.jsx("select",{value:c.builtInIcon||Me.Play,onChange:h=>s(u,{builtInIcon:h.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Object.entries(V8).map(([h,p])=>a.jsx("optgroup",{label:h,children:p.map(l=>a.jsx("option",{value:l,children:W8(l)},l))},h))})]}),c.iconSource==="asset"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Asset"}),a.jsxs("select",{value:c.assetId||"",onChange:h=>s(u,{assetId:h.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select an asset..."}),i.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})]})]}),(c.displayMode==="text"||c.displayMode==="icon-text")&&a.jsx(ut,{label:"Text",value:c.text||"",onChange:h=>s(u,{text:h})})]})]},u))}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:c=>t({backgroundColor:c})}),a.jsx(le,{label:"Selected Color",value:e.selectedColor,onChange:c=>t({selectedColor:c})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:c=>t({textColor:c})}),a.jsx(le,{label:"Selected Text Color",value:e.selectedTextColor,onChange:c=>t({selectedTextColor:c})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:c=>t({borderColor:c})})]}),a.jsxs(K,{title:"Icon Style",children:[a.jsx(re,{label:"Icon Size",value:e.iconSize??16,onChange:c=>t({iconSize:c}),min:8,max:48,step:1}),a.jsx(le,{label:"Icon Color",value:e.iconColor??"#888888",onChange:c=>t({iconColor:c})}),a.jsx(le,{label:"Selected Icon Color",value:e.selectedIconColor??"#ffffff",onChange:c=>t({selectedIconColor:c})})]})]})}function G8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:r=>t({min:r}),step:1}),a.jsx(re,{label:"Max",value:e.max,onChange:r=>t({max:r}),step:1})]}),a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:6,step:1})]}),a.jsxs(K,{title:"Unit",children:[a.jsx(ut,{label:"Unit Label",value:e.unit||"",onChange:r=>t({unit:r}),placeholder:"e.g., Hz, dB, ms"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Unit Display"}),a.jsxs("select",{value:e.unitDisplay,onChange:r=>t({unitDisplay:r.target.value}),className:et,children:[a.jsx("option",{value:"suffix",children:"Suffix (inline)"}),a.jsx("option",{value:"label",children:"Label (separate)"})]})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),e.fontStyle==="7segment"&&a.jsxs("label",{htmlFor:"numericdisplay-show-ghost",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"numericdisplay-show-ghost",checked:e.showGhostSegments,onChange:r=>t({showGhostSegments:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Ghost Segments"})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function Z8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min (ms)",value:e.min,onChange:r=>t({min:r}),step:100}),a.jsx(re,{label:"Max (ms)",value:e.max,onChange:r=>t({max:r}),step:100})]})]}),a.jsx(K,{title:"Format",children:a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:6,step:1})}),a.jsxs(K,{title:"Timing",children:[a.jsx(re,{label:"BPM",value:e.bpm,onChange:r=>t({bpm:r}),min:20,max:300,step:1}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Time Signature"}),a.jsxs("select",{value:e.timeSignature,onChange:r=>t({timeSignature:parseInt(r.target.value)}),className:et,children:[a.jsx("option",{value:"2",children:"2/4"}),a.jsx("option",{value:"4",children:"4/4"}),a.jsx("option",{value:"6",children:"6/8"})]})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),e.fontStyle==="7segment"&&a.jsxs("label",{htmlFor:"timedisplay-show-ghost",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"timedisplay-show-ghost",checked:e.showGhostSegments,onChange:r=>t({showGhostSegments:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Ghost Segments"})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function q8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Value",children:a.jsx(re,{label:"Value (0-100%)",value:e.value*100,onChange:r=>t({value:r/100}),min:0,max:100,step:1})}),a.jsx(K,{title:"Format",children:a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:2,step:1})}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),e.fontStyle==="7segment"&&a.jsxs("label",{htmlFor:"percentagedisplay-show-ghost",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"percentagedisplay-show-ghost",checked:e.showGhostSegments,onChange:r=>t({showGhostSegments:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Ghost Segments"})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function X8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:r=>t({min:r}),step:1}),a.jsx(re,{label:"Max",value:e.max,onChange:r=>t({max:r}),step:1})]})]}),a.jsxs(K,{title:"Format",children:[a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:2,step:1}),a.jsx(re,{label:"Infinity Threshold",value:e.infinityThreshold,onChange:r=>t({infinityThreshold:r}),min:10,max:100,step:1})]}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),e.fontStyle==="7segment"&&a.jsxs("label",{htmlFor:"ratiodisplay-show-ghost",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"ratiodisplay-show-ghost",checked:e.showGhostSegments,onChange:r=>t({showGhostSegments:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Ghost Segments"})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function Y8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min (MIDI)",value:e.min,onChange:r=>t({min:r}),min:0,max:127,step:1}),a.jsx(re,{label:"Max (MIDI)",value:e.max,onChange:r=>t({max:r}),min:0,max:127,step:1})]})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{htmlFor:"notedisplay-prefer-sharps",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"notedisplay-prefer-sharps",checked:e.preferSharps,onChange:r=>t({preferSharps:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Prefer Sharps (A# vs Bb)"})]}),a.jsxs("label",{htmlFor:"notedisplay-show-midi",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"notedisplay-show-midi",checked:e.showMidiNumber,onChange:r=>t({showMidiNumber:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show MIDI Number"})]}),e.showMidiNumber&&a.jsx(re,{label:"MIDI Number Font Size",value:e.midiNumberFontSize??e.fontSize,onChange:r=>t({midiNumberFontSize:r}),min:6,max:72,step:1}),a.jsxs("label",{htmlFor:"notedisplay-show-octave",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"notedisplay-show-octave",checked:e.showOctave,onChange:r=>t({showOctave:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Octave Number"})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function K8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min (BPM)",value:e.min,onChange:r=>t({min:r}),min:20,max:300,step:1}),a.jsx(re,{label:"Max (BPM)",value:e.max,onChange:r=>t({max:r}),min:20,max:300,step:1})]})]}),a.jsxs(K,{title:"Format",children:[a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:2,step:1}),a.jsxs("label",{htmlFor:"bpmdisplay-show-label",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"bpmdisplay-show-label",checked:e.showLabel,onChange:r=>t({showLabel:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:'Show "BPM" Label'})]})]}),a.jsxs(K,{title:"Appearance",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Style"}),a.jsx("select",{value:e.fontStyle,onChange:r=>t({fontStyle:r.target.value}),className:et,children:bs.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Bezel Style"}),a.jsx("select",{value:e.bezelStyle,onChange:r=>t({bezelStyle:r.target.value}),className:et,children:ys.map(({value:r,label:n})=>a.jsx("option",{value:r,children:n},r))})]}),e.fontStyle==="7segment"&&a.jsxs("label",{htmlFor:"bpmdisplay-show-ghost",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"bpmdisplay-show-ghost",checked:e.showGhostSegments,onChange:r=>t({showGhostSegments:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Ghost Segments"})]})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}function J8({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Min",value:e.min,onChange:r=>t({min:r}),step:1}),a.jsx(re,{label:"Max",value:e.max,onChange:r=>t({max:r}),step:1})]})]}),a.jsxs(K,{title:"Format",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:e.format,onChange:r=>t({format:r.target.value}),className:et,children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"})]})]}),a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:6,step:1})]}),a.jsx(Mi,{textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,onTextColorChange:r=>t({textColor:r}),onBackgroundColorChange:r=>t({backgroundColor:r}),onBorderColorChange:r=>t({borderColor:r})}),a.jsx(Li,{fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,padding:e.padding,onFontSizeChange:r=>t({fontSize:r}),onFontFamilyChange:r=>t({fontFamily:r}),onFontWeightChange:r=>t({fontWeight:r}),onPaddingChange:r=>t({padding:r})})]})}const Q8=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}];function eO({element:e,onUpdate:t}){const r=(o,s)=>{const d=[...e.values],c=d[o];d[o]={...c,...s},t({values:d})},n=()=>{if(e.values.length>=4)return;const o=[...e.values,{value:.5,min:0,max:100,format:"numeric",label:`Value ${e.values.length+1}`,decimalPlaces:1}];t({values:o})},i=o=>{if(e.values.length<=1)return;const s=e.values.filter((d,c)=>c!==o);t({values:s})};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Layout",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Layout"}),a.jsxs("select",{value:e.layout,onChange:o=>t({layout:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Values",children:[e.values.slice(0,4).map((o,s)=>a.jsxs("div",{className:"border border-gray-600 rounded p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-300",children:["Value ",s+1]}),e.values.length>1&&a.jsx("button",{onClick:()=>i(s),className:"text-xs text-red-400 hover:text-red-300",children:"Remove"})]}),a.jsx(ut,{label:"Label",value:o.label||"",onChange:d=>r(s,{label:d}),placeholder:`Value ${s+1}`}),a.jsx(re,{label:"Value",value:o.value,onChange:d=>r(s,{value:d}),min:0,max:1,step:.01}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(re,{label:"Min",value:o.min,onChange:d=>r(s,{min:d}),step:1}),a.jsx(re,{label:"Max",value:o.max,onChange:d=>r(s,{max:d}),step:1})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),a.jsxs("select",{value:o.format,onChange:d=>r(s,{format:d.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"percentage",children:"Percentage"}),a.jsx("option",{value:"db",children:"dB"})]})]}),a.jsx(re,{label:"Decimals",value:o.decimalPlaces??1,onChange:d=>r(s,{decimalPlaces:d}),min:0,max:6,step:1})]})]},s)),e.values.length<4&&a.jsx("button",{onClick:n,className:"w-full py-2 text-sm text-blue-400 hover:text-blue-300 border border-gray-600 rounded",children:"+ Add Value"})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Text Color",value:e.textColor,onChange:o=>t({textColor:o})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:o=>t({backgroundColor:o})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:o=>t({borderColor:o})})]}),a.jsxs(K,{title:"Font",children:[a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:o=>t({fontSize:o}),min:8,max:72,step:1}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:o=>t({fontFamily:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(o=>a.jsx("option",{value:o.family,children:o.name},o.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:o=>t({fontWeight:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Q8.map(({value:o,label:s})=>a.jsx("option",{value:o,children:s},o))})]}),a.jsx(re,{label:"Padding",value:e.padding,onChange:o=>t({padding:o}),min:0,max:50,step:1})]})]})}function Pa({elementId:e,config:t,showOrientation:r=!0,showChannelLabels:n=!1,stereoChannelLabels:i=!1,meterLabel:o,minDbFixed:s=!0,maxDbFixed:d=!0}){var h;const c=fe(p=>p.updateElement),u=p=>{c(e,p)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:o}),a.jsx(K,{title:"Style",children:a.jsx(Or,{category:"meter",currentStyleId:t.styleId,onStyleChange:p=>u({styleId:p,colorOverrides:p?t.colorOverrides:void 0})})}),t.styleId&&a.jsxs(K,{title:"Color Overrides",children:[a.jsx(vD,{label:"Peak",value:((h=t.colorOverrides)==null?void 0:h.peak)||"#ef4444",onChange:p=>u({colorOverrides:{...t.colorOverrides,peak:p}})}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Override colors for specific SVG layers"})]}),r&&a.jsx(K,{title:"Orientation",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:t.orientation,onChange:p=>u({orientation:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"vertical",children:"Vertical"}),a.jsx("option",{value:"horizontal",children:"Horizontal"})]})]})}),a.jsxs(K,{title:"Scale",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Scale Position"}),a.jsxs("select",{value:t.scalePosition,onChange:p=>u({scalePosition:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"outside",children:"Outside"}),a.jsx("option",{value:"inside",children:"Inside"}),a.jsx("option",{value:"none",children:"None"})]})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:t.showMajorTicks,onChange:p=>u({showMajorTicks:p.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Major Ticks"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:t.showMinorTicks,onChange:p=>u({showMinorTicks:p.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Minor Ticks"})]})]}),a.jsx(K,{title:"Display",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:t.showNumericReadout,onChange:p=>u({showNumericReadout:p.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Numeric Readout"})]})}),a.jsxs(K,{title:"Segments",children:[a.jsx(re,{label:"Segment Count",value:t.segmentCount,min:10,max:100,step:1,onChange:p=>u({segmentCount:p})}),a.jsx(re,{label:"Segment Gap (px)",value:t.segmentGap,min:0,max:4,step:1,onChange:p=>u({segmentGap:p})})]}),a.jsx(K,{title:"Range",children:a.jsxs("div",{className:"text-xs text-gray-500",children:[t.minDb," dB to ",t.maxDb>0?"+":"",t.maxDb," dB"]})}),a.jsxs(K,{title:"Peak Hold",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:t.showPeakHold,onChange:p=>u({showPeakHold:p.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Peak Hold"})]}),t.showPeakHold&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:t.peakHoldStyle,onChange:p=>u({peakHoldStyle:p.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"line",children:"Line"}),a.jsx("option",{value:"bar",children:"Bar"})]})]}),a.jsx(re,{label:"Hold Duration (ms)",value:t.peakHoldDuration,min:500,max:5e3,step:100,onChange:p=>u({peakHoldDuration:p})})]})]}),n&&i&&a.jsx(K,{title:"Channel Labels",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:t.showChannelLabels,onChange:p=>c(e,{showChannelLabels:p.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show L/R Labels"})]})}),a.jsx(K,{title:"Color Zones",children:a.jsxs("div",{className:"text-xs text-gray-500",children:["Green < -18dB",a.jsx("br",{}),"Yellow: -18 to -6dB",a.jsx("br",{}),"Red ≥ -6dB"]})})]})}function mx({element:e}){const t=e.type==="rmsmeterstereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"RMS Meter",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function gx({element:e}){const t=e.type==="vumeterstereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"VU Meter - ANSI C16.5-1942",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function vx({element:e}){const t=e.type==="ppmtype1stereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"PPM Type I (DIN)",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function bx({element:e}){const t=e.type==="ppmtype2stereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"PPM Type II (BBC)",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function yx({element:e}){const t=e.type==="truepeakmeterstereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"True Peak - ITU-R BS.1770-5",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function xx({element:e}){const t=e.type==="lufsmomostereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"LUFS Momentary (400ms)",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function wx({element:e}){const t=e.type==="lufsshortstereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"LUFS Short-term (3s)",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function Sx({element:e}){const t=e.type==="lufsintstereo";return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:"LUFS Integrated",showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function lo({element:e}){const t=e.type.includes("stereo"),r=e.kType;return a.jsx(Pa,{elementId:e.id,config:e,meterLabel:`${r} Meter - Bob Katz Standard`,showOrientation:!0,showChannelLabels:t,stereoChannelLabels:t})}function tO({element:e}){const t=fe(r=>r.updateElement);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Correlation Meter"}),a.jsx(K,{title:"Bar",children:a.jsx(re,{label:"Bar Height",value:e.barHeight,min:8,max:24,step:2,onChange:r=>t(e.id,{barHeight:r})})}),a.jsxs(K,{title:"Scale",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showScale,onChange:r=>t(e.id,{showScale:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Scale"})]}),e.showScale&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Scale Position"}),a.jsxs("select",{value:e.scalePosition,onChange:r=>t(e.id,{scalePosition:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"above",children:"Above"}),a.jsx("option",{value:"below",children:"Below"})]})]})]}),a.jsx(K,{title:"Display",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showNumericReadout,onChange:r=>t(e.id,{showNumericReadout:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Numeric Readout"})]})}),a.jsx(K,{title:"Range",children:a.jsx("div",{className:"text-xs text-gray-500",children:"-1 (out of phase) to +1 (in phase)"})})]})}function rO({element:e}){const t=fe(r=>r.updateElement);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Stereo Width Meter"}),a.jsx(K,{title:"Bar",children:a.jsx(re,{label:"Bar Height",value:e.barHeight,min:8,max:24,step:2,onChange:r=>t(e.id,{barHeight:r})})}),a.jsxs(K,{title:"Scale",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showScale,onChange:r=>t(e.id,{showScale:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Scale"})]}),e.showScale&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Scale Position"}),a.jsxs("select",{value:e.scalePosition,onChange:r=>t(e.id,{scalePosition:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"above",children:"Above"}),a.jsx("option",{value:"below",children:"Below"})]})]})]}),a.jsx(K,{title:"Display",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.showNumericReadout,onChange:r=>t(e.id,{showNumericReadout:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Numeric Readout"})]})}),a.jsx(K,{title:"Range",children:a.jsx("div",{className:"text-xs text-gray-500",children:"0% (mono) to 200% (extra wide)"})})]})}function nO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Value Range",children:[a.jsx(re,{label:"Value",value:e.value,onChange:r=>t({value:r}),min:e.min,max:e.max,step:e.step}),a.jsx(re,{label:"Step",value:e.step,onChange:r=>t({step:r}),min:.001,max:100,step:.001}),a.jsx(re,{label:"Min",value:e.min,onChange:r=>t({min:r})}),a.jsx(re,{label:"Max",value:e.max,onChange:r=>t({max:r})})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{htmlFor:"stepper-showvalue",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"stepper-showvalue",checked:e.showValue,onChange:r=>t({showValue:r.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Value"})]}),e.showValue&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Value Format"}),a.jsxs("select",{value:e.valueFormat,onChange:r=>t({valueFormat:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"numeric",children:"Numeric"}),a.jsx("option",{value:"custom",children:"Custom (with suffix)"})]})]}),a.jsx(re,{label:"Decimal Places",value:e.decimalPlaces,onChange:r=>t({decimalPlaces:r}),min:0,max:6}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"stepper-suffix",className:"block text-xs text-gray-400 mb-1",children:"Value Suffix"}),a.jsx("input",{type:"text",id:"stepper-suffix",value:e.valueSuffix,onChange:r=>t({valueSuffix:r.target.value}),placeholder:"e.g., dB, Hz, %",className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]})]})]}),a.jsxs(K,{title:"Layout",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:r=>t({orientation:r.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"horizontal",children:"Horizontal"}),a.jsx("option",{value:"vertical",children:"Vertical"})]})]}),a.jsx(re,{label:"Button Size",value:e.buttonSize,onChange:r=>t({buttonSize:r}),min:16,max:48})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Button Color",value:e.buttonColor,onChange:r=>t({buttonColor:r})}),a.jsx(le,{label:"Button Hover Color",value:e.buttonHoverColor,onChange:r=>t({buttonHoverColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:r=>t({textColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})})]}),a.jsx(K,{title:"Style",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:r=>t({borderRadius:r}),min:0,max:20})})]})}function aO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const o=[...e.items,{id:`item-${Date.now()}`,label:`Item ${e.items.length+1}`}];t({items:o})},[e.items,t]),n=X.useCallback(o=>{if(e.items.length<=1)return;const s=e.items.filter((d,c)=>c!==o);t({items:s})},[e.items,t]),i=X.useCallback((o,s)=>{const d=e.items.map((c,u)=>u===o?{...c,...s}:c);t({items:d})},[e.items,t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Path Items",children:a.jsxs("div",{className:"space-y-2",children:[e.items.map((o,s)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Item ",s+1]}),a.jsx("button",{onClick:()=>n(s),disabled:e.items.length<=1,className:`text-xs px-2 py-1 rounded ${e.items.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]}),a.jsx(ut,{label:"Label",value:o.label,onChange:d=>i(s,{label:d})})]},o.id)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Item"})]})}),a.jsxs(K,{title:"Display",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"breadcrumb-separator",className:"block text-xs text-gray-400 mb-1",children:"Separator"}),a.jsx("input",{type:"text",id:"breadcrumb-separator",value:e.separator,onChange:o=>t({separator:o.target.value}),placeholder:"/",className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]}),a.jsx(re,{label:"Max Visible Items",value:e.maxVisibleItems,onChange:o=>t({maxVisibleItems:o}),min:0,max:20}),a.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"0 = show all items"})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:o=>t({fontFamily:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(o=>a.jsx("option",{value:o.family,children:o.name},o.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:o=>t({fontWeight:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:o=>t({fontSize:o}),min:8,max:24})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Link Color",value:e.linkColor,onChange:o=>t({linkColor:o})}),a.jsx(le,{label:"Current Color",value:e.currentColor,onChange:o=>t({currentColor:o})}),a.jsx(le,{label:"Separator Color",value:e.separatorColor,onChange:o=>t({separatorColor:o})}),a.jsx(le,{label:"Hover Color",value:e.hoverColor,onChange:o=>t({hoverColor:o})})]})]})}function iO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const s=[...e.options,`Option ${e.options.length+1}`];t({options:s})},[e.options,t]),n=X.useCallback(s=>{if(e.options.length<=1)return;const d=e.options.filter((u,h)=>h!==s),c=e.selectedIndices.filter(u=>u!==s).map(u=>u>s?u-1:u);t({options:d,selectedIndices:c})},[e.options,e.selectedIndices,t]),i=X.useCallback((s,d)=>{const c=e.options.map((u,h)=>h===s?d:u);t({options:c})},[e.options,t]),o=X.useCallback(s=>{const d=e.selectedIndices.includes(s);let c;if(d)c=e.selectedIndices.filter(u=>u!==s);else{if(e.maxSelections>0&&e.selectedIndices.length>=e.maxSelections)return;c=[...e.selectedIndices,s]}t({selectedIndices:c})},[e.selectedIndices,e.maxSelections,t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Options",children:a.jsxs("div",{className:"space-y-2",children:[e.options.map((s,d)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.selectedIndices.includes(d),onChange:()=>o(d),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Selected"})]}),a.jsx("button",{onClick:()=>n(d),disabled:e.options.length<=1,className:`ml-auto text-xs px-2 py-1 rounded ${e.options.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]}),a.jsx("input",{type:"text",value:s,onChange:c=>i(d,c.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]},d)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Option"})]})}),a.jsxs(K,{title:"Selection",children:[a.jsx(re,{label:"Max Selections",value:e.maxSelections,onChange:s=>t({maxSelections:s}),min:0,max:e.options.length}),a.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"0 = unlimited"})]}),a.jsx(K,{title:"Dropdown",children:a.jsx(re,{label:"Max Height (px)",value:e.dropdownMaxHeight,onChange:s=>t({dropdownMaxHeight:s}),min:100,max:600})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:s=>t({backgroundColor:s})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:s=>t({textColor:s})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:s=>t({borderColor:s})})]}),a.jsx(K,{title:"Style",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:s=>t({borderRadius:s}),min:0,max:20})}),a.jsx(Nn,{config:e,onUpdate:t})]})}function oO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const s=[...e.options,`Option ${e.options.length+1}`];t({options:s})},[e.options,t]),n=X.useCallback(s=>{if(e.options.length<=1)return;const d=e.options.filter((u,h)=>h!==s),c=e.selectedValue===e.options[s]?"":e.selectedValue;t({options:d,selectedValue:c})},[e.options,e.selectedValue,t]),i=X.useCallback((s,d)=>{const c=e.options[s],u=e.options.map((p,l)=>l===s?d:p),h=e.selectedValue===c?d:e.selectedValue;t({options:u,selectedValue:h})},[e.options,e.selectedValue,t]),o=X.useCallback(s=>{t({selectedValue:s})},[t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Options",children:a.jsxs("div",{className:"space-y-2",children:[e.options.map((s,d)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[a.jsx("input",{type:"radio",name:"combobox-selected",checked:e.selectedValue===s,onChange:()=>o(s),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Selected"})]}),a.jsx("button",{onClick:()=>n(d),disabled:e.options.length<=1,className:`ml-auto text-xs px-2 py-1 rounded ${e.options.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]}),a.jsx("input",{type:"text",value:s,onChange:c=>i(d,c.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]},d)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Option"})]})}),a.jsx(K,{title:"Display",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"combobox-placeholder",className:"block text-xs text-gray-400 mb-1",children:"Placeholder"}),a.jsx("input",{type:"text",id:"combobox-placeholder",value:e.placeholder,onChange:s=>t({placeholder:s.target.value}),placeholder:"Type to search...",className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]})}),a.jsx(K,{title:"Dropdown",children:a.jsx(re,{label:"Max Height (px)",value:e.dropdownMaxHeight,onChange:s=>t({dropdownMaxHeight:s}),min:100,max:600})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:s=>t({backgroundColor:s})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:s=>t({textColor:s})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:s=>t({borderColor:s})})]}),a.jsx(K,{title:"Style",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:s=>t({borderRadius:s}),min:0,max:20})}),a.jsx(Nn,{config:e,onUpdate:t})]})}function sO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const o=[...e.menuItems,{id:`item-${Date.now()}`,label:`Item ${e.menuItems.length+1}`}];t({menuItems:o})},[e.menuItems,t]),n=X.useCallback(o=>{if(e.menuItems.length<=1)return;const s=e.menuItems.filter((d,c)=>c!==o);t({menuItems:s})},[e.menuItems,t]),i=X.useCallback((o,s)=>{const d=e.menuItems.map((c,u)=>u===o?{...c,...s}:c);t({menuItems:d})},[e.menuItems,t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Button",children:a.jsx(ut,{label:"Label",value:e.label,onChange:o=>t({label:o})})}),a.jsx(K,{title:"Menu Items",children:a.jsxs("div",{className:"space-y-2",children:[e.menuItems.map((o,s)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Item ",s+1]}),a.jsx("button",{onClick:()=>n(s),disabled:e.menuItems.length<=1,className:`text-xs px-2 py-1 rounded ${e.menuItems.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ut,{label:"Label",value:o.label,onChange:d=>i(s,{label:d})}),a.jsxs("label",{htmlFor:`menuitem-disabled-${s}`,className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:`menuitem-disabled-${s}`,checked:o.disabled||!1,onChange:d=>i(s,{disabled:d.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Disabled"})]}),a.jsxs("label",{htmlFor:`menuitem-divider-${s}`,className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:`menuitem-divider-${s}`,checked:o.divider||!1,onChange:d=>i(s,{divider:d.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Divider After"})]})]})]},o.id)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Menu Item"})]})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:o=>t({backgroundColor:o})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:o=>t({textColor:o})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:o=>t({borderColor:o})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:o=>t({fontFamily:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Ct.map(o=>a.jsx("option",{value:o.family,children:o.name},o.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Font Weight"}),a.jsxs("select",{value:e.fontWeight,onChange:o=>t({fontWeight:o.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"300",children:"Light (300)"}),a.jsx("option",{value:"400",children:"Regular (400)"}),a.jsx("option",{value:"500",children:"Medium (500)"}),a.jsx("option",{value:"600",children:"Semi-Bold (600)"}),a.jsx("option",{value:"700",children:"Bold (700)"})]})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:o=>t({fontSize:o}),min:8,max:32})]}),a.jsx(K,{title:"Style",children:a.jsx(re,{label:"Border Radius",value:e.borderRadius,onChange:o=>t({borderRadius:o}),min:0,max:20})})]})}const lO={Transport:[Me.Play,Me.Pause,Me.Stop,Me.Record,Me.Loop,Me.SkipForward,Me.SkipBackward],Common:[Me.Mute,Me.Solo,Me.Bypass,Me.Power,Me.Settings,Me.Reset,Me.Save,Me.Load],Audio:[Me.Waveform,Me.Spectrum,Me.Midi,Me.Sync,Me.Link,Me.EQ,Me.Compressor,Me.Reverb,Me.Delay,Me.Filter],Additional:[Me.Add,Me.Remove,Me.Edit,Me.Copy,Me.Paste,Me.Undo,Me.Redo,Me.Help,Me.Info,Me.Warning]};function cO(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function uO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const s=[...e.tabs,{id:`tab-${Date.now()}`,label:`Tab ${e.tabs.length+1}`,showLabel:!0,showIcon:!1}];t({tabs:s})},[e.tabs,t]),n=X.useCallback(s=>{if(e.tabs.length<=1)return;const d=e.tabs.filter((u,h)=>h!==s);let c=e.activeTabIndex;e.activeTabIndex>=d.length&&(c=d.length-1),t({tabs:d,activeTabIndex:c})},[e.tabs,e.activeTabIndex,t]),i=X.useCallback((s,d)=>{const c=e.tabs.map((u,h)=>h===s?{...u,...d}:u);t({tabs:c})},[e.tabs,t]),o=X.useCallback(s=>{t({activeTabIndex:s})},[t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Tabs",children:a.jsxs("div",{className:"space-y-2",children:[e.tabs.map((s,d)=>a.jsxs("div",{className:`border rounded p-2 ${e.activeTabIndex===d?"border-blue-500":"border-gray-600"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Tab ",d+1]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o(d),className:`text-xs px-2 py-1 rounded ${e.activeTabIndex===d?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:e.activeTabIndex===d?"Active":"Set Active"}),a.jsx("button",{onClick:()=>n(d),disabled:e.tabs.length<=1,className:`text-xs px-2 py-1 rounded ${e.tabs.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:`tab-showlabel-${d}`,className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:`tab-showlabel-${d}`,checked:s.showLabel,onChange:c=>i(d,{showLabel:c.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Label"})]}),s.showLabel&&a.jsx(ut,{label:"Label",value:s.label||"",onChange:c=>i(d,{label:c})}),a.jsxs("label",{htmlFor:`tab-showicon-${d}`,className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:`tab-showicon-${d}`,checked:s.showIcon,onChange:c=>i(d,{showIcon:c.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Icon"})]}),s.showIcon&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Icon"}),a.jsx("select",{value:s.icon||Me.Settings,onChange:c=>i(d,{icon:c.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:Object.entries(lO).map(([c,u])=>a.jsx("optgroup",{label:c,children:u.map(h=>a.jsx("option",{value:h,children:cO(h)},h))},c))})]})]})]},s.id)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Tab"})]})}),a.jsxs(K,{title:"Layout",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Orientation"}),a.jsxs("select",{value:e.orientation,onChange:s=>t({orientation:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"horizontal",children:"Horizontal"}),a.jsx("option",{value:"vertical",children:"Vertical"})]})]}),a.jsx(re,{label:"Tab Height",value:e.tabHeight,onChange:s=>t({tabHeight:s}),min:24,max:80})]}),a.jsxs(K,{title:"Indicator",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Style"}),a.jsxs("select",{value:e.indicatorStyle,onChange:s=>t({indicatorStyle:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"background",children:"Background"}),a.jsx("option",{value:"underline",children:"Underline"}),a.jsx("option",{value:"accent-bar",children:"Accent Bar"})]})]}),a.jsx(le,{label:"Indicator Color",value:e.indicatorColor,onChange:s=>t({indicatorColor:s})})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:s=>t({backgroundColor:s})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:s=>t({textColor:s})}),a.jsx(le,{label:"Active Text Color",value:e.activeTextColor,onChange:s=>t({activeTextColor:s})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:s=>t({borderColor:s})})]})]})}function dO({element:e,onUpdate:t}){const r=X.useCallback(()=>{const s={id:`tag-${Date.now()}`,label:`Tag ${e.availableTags.length+1}`},d=[...e.availableTags,s];t({availableTags:d})},[e.availableTags,t]),n=X.useCallback(s=>{if(e.availableTags.length<=1)return;const d=e.availableTags[s];if(!d)return;const c=e.availableTags.filter((h,p)=>p!==s),u=e.selectedTags.filter(h=>h.id!==d.id);t({availableTags:c,selectedTags:u})},[e.availableTags,e.selectedTags,t]),i=X.useCallback((s,d)=>{const c=e.availableTags[s];if(!c)return;const u=e.availableTags.map((l,f)=>f===s?{...l,...d}:l),h=c.id,p=e.selectedTags.map(l=>l.id===h?{...l,...d}:l);t({availableTags:u,selectedTags:p})},[e.availableTags,e.selectedTags,t]),o=X.useCallback(s=>{const d=e.selectedTags.some(u=>u.id===s.id);let c;d?c=e.selectedTags.filter(u=>u.id!==s.id):c=[...e.selectedTags,s],t({selectedTags:c})},[e.selectedTags,t]);return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Available Tags",children:a.jsxs("div",{className:"space-y-2",children:[e.availableTags.map((s,d)=>a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.selectedTags.some(c=>c.id===s.id),onChange:()=>o(s),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Selected"})]}),a.jsx("button",{onClick:()=>n(d),disabled:e.availableTags.length<=1,className:`ml-auto text-xs px-2 py-1 rounded ${e.availableTags.length<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Remove"})]}),a.jsx(ut,{label:"Label",value:s.label,onChange:c=>i(d,{label:c})})]},s.id)),a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Tag"})]})}),a.jsxs(K,{title:"Input",children:[a.jsxs("label",{htmlFor:"tagselector-showinput",className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",id:"tagselector-showinput",checked:e.showInput,onChange:s=>t({showInput:s.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Input Field"})]}),e.showInput&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagselector-placeholder",className:"block text-xs text-gray-400 mb-1",children:"Placeholder"}),a.jsx("input",{type:"text",id:"tagselector-placeholder",value:e.inputPlaceholder,onChange:s=>t({inputPlaceholder:s.target.value}),placeholder:"Type to search...",className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm"})]}),a.jsx(le,{label:"Input Background",value:e.inputBackgroundColor,onChange:s=>t({inputBackgroundColor:s})}),a.jsx(le,{label:"Input Text Color",value:e.inputTextColor,onChange:s=>t({inputTextColor:s})}),a.jsx(le,{label:"Input Border Color",value:e.inputBorderColor,onChange:s=>t({inputBorderColor:s})})]})]}),a.jsxs(K,{title:"Chip Style",children:[a.jsx(le,{label:"Background Color",value:e.chipBackgroundColor,onChange:s=>t({chipBackgroundColor:s})}),a.jsx(le,{label:"Text Color",value:e.chipTextColor,onChange:s=>t({chipTextColor:s})}),a.jsx(le,{label:"Remove Button Color",value:e.chipRemoveColor,onChange:s=>t({chipRemoveColor:s})}),a.jsx(re,{label:"Border Radius",value:e.chipBorderRadius,onChange:s=>t({chipBorderRadius:s}),min:0,max:20})]}),a.jsx(Nn,{config:e,onUpdate:t})]})}function hO({element:e,onUpdate:t}){const[r,n]=X.useState([]),i=X.useCallback(()=>{const h={id:`node-${Date.now()}`,name:`Node ${e.data.length+1}`,children:[]},p=[...e.data,h];t({data:p})},[e.data,t]),o=X.useCallback(h=>{const p={id:`node-${Date.now()}`,name:"New Child",children:[]},l=[...e.data];let f=l;for(let S=0;S<h.length-1;S++){const x=h[S];if(x===void 0)continue;const w=f[x];w&&(w.children||(w.children=[]),f=w.children)}const m=h[h.length-1];if(m===void 0)return;const b=f[m];b&&(b.children||(b.children=[]),b.children.push(p),n(S=>S.includes(b.id)?S:[...S,b.id]),t({data:l}))},[e.data,t]),s=X.useCallback(h=>{const p=[...e.data],l=h[0];if(l!==void 0){if(h.length===1)p.splice(l,1);else{let f=p;for(let b=0;b<h.length-1;b++){const S=h[b];if(S===void 0)continue;const x=f[S];x&&(f=x.children||[])}const m=h[h.length-1];m!==void 0&&f.splice(m,1)}t({data:p})}},[e.data,t]),d=X.useCallback((h,p)=>{const l=[...e.data];let f=l;for(let b=0;b<h.length-1;b++){const S=h[b];if(S===void 0)continue;const x=f[S];x&&(f=x.children||[])}const m=h[h.length-1];m!==void 0&&f[m]&&(f[m].name=p),t({data:l})},[e.data,t]),c=X.useCallback(h=>{n(p=>p.includes(h)?p.filter(l=>l!==h):[...p,h])},[]),u=(h,p,l=0)=>{const f=h.children&&h.children.length>0,m=r.includes(h.id);return a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"border border-gray-600 rounded p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&a.jsx("button",{onClick:()=>c(h.id),className:"text-xs text-gray-400 hover:text-white w-4",children:m?"▼":"▶"}),!f&&a.jsx("div",{className:"w-4"}),a.jsxs("span",{className:"text-xs text-gray-400",children:[l===0?"Root":"Child"," ",(p[p.length-1]??0)+1]}),a.jsx("button",{onClick:()=>s(p),className:"ml-auto text-xs px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white",children:"Remove"})]}),a.jsx(ut,{label:"Name",value:h.name,onChange:b=>d(p,b)}),a.jsx("button",{onClick:()=>o(p),className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1.5 rounded",children:"Add Child"})]}),f&&m&&a.jsx("div",{className:"ml-4 mt-2 border-l border-gray-700 pl-2",children:h.children.map((b,S)=>u(b,[...p,S],l+1))})]},h.id)};return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Tree Data",children:a.jsxs("div",{className:"space-y-2",children:[e.data.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No nodes yet"}):e.data.map((h,p)=>u(h,[p])),a.jsx("button",{onClick:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded",children:"Add Root Node"})]})}),a.jsx(K,{title:"Selection",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Selected Node ID"}),a.jsx("div",{className:"text-sm text-gray-300",children:e.selectedId||"None"})]})}),a.jsxs(K,{title:"Layout",children:[a.jsx(re,{label:"Row Height",value:e.rowHeight,onChange:h=>t({rowHeight:h}),min:20,max:60}),a.jsx(re,{label:"Indent (px)",value:e.indent,onChange:h=>t({indent:h}),min:10,max:40})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:h=>t({backgroundColor:h})}),a.jsx(le,{label:"Text Color",value:e.textColor,onChange:h=>t({textColor:h})}),a.jsx(le,{label:"Selected Background",value:e.selectedBackgroundColor,onChange:h=>t({selectedBackgroundColor:h})}),a.jsx(le,{label:"Selected Text",value:e.selectedTextColor,onChange:h=>t({selectedTextColor:h})})]}),a.jsx(Nn,{config:e,onUpdate:t})]})}function fO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"Display",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsxs("select",{value:r.displayMode,onChange:n=>t({displayMode:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"line",children:"Line"}),a.jsx("option",{value:"fill",children:"Fill"})]})]}),a.jsx(le,{label:"Waveform Color",value:r.waveformColor,onChange:n=>t({waveformColor:n})}),a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})})]}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function pO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"FFT Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"FFT Size"}),a.jsxs("select",{value:r.fftSize,onChange:n=>t({fftSize:Number(n.target.value)}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"512",children:"512"}),a.jsx("option",{value:"1024",children:"1024"}),a.jsx("option",{value:"2048",children:"2048"}),a.jsx("option",{value:"4096",children:"4096"}),a.jsx("option",{value:"8192",children:"8192"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Frequency Scale"}),a.jsxs("select",{value:r.frequencyScale,onChange:n=>t({frequencyScale:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"linear",children:"Linear"}),a.jsx("option",{value:"log",children:"Logarithmic"}),a.jsx("option",{value:"mel",children:"Mel Scale"})]})]})]}),a.jsxs(K,{title:"Visual Settings",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Color Gradient"}),a.jsxs("select",{value:r.colorGradient,onChange:n=>t({colorGradient:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"default",children:"Default"}),a.jsx("option",{value:"fire",children:"Fire"}),a.jsx("option",{value:"cool",children:"Cool"}),a.jsx("option",{value:"grayscale",children:"Grayscale"})]})]}),a.jsx(re,{label:"Bar Gap (px)",value:r.barGap,min:0,max:4,step:1,onChange:n=>t({barGap:n})}),a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFrequencyLabels,onChange:n=>t({showFrequencyLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Frequency Labels"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showDbScale,onChange:n=>t({showDbScale:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show dB Scale"})]})]}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function mO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(K,{title:"FFT Configuration",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"FFT Size"}),a.jsxs("select",{value:r.fftSize,onChange:n=>t({fftSize:Number(n.target.value)}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"512",children:"512"}),a.jsx("option",{value:"1024",children:"1024"}),a.jsx("option",{value:"2048",children:"2048"}),a.jsx("option",{value:"4096",children:"4096"}),a.jsx("option",{value:"8192",children:"8192"})]})]})}),a.jsxs(K,{title:"Visual Settings",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Color Map"}),a.jsxs("select",{value:r.colorMap,onChange:n=>t({colorMap:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"default",children:"Default"}),a.jsx("option",{value:"fire",children:"Fire"}),a.jsx("option",{value:"cool",children:"Cool"}),a.jsx("option",{value:"grayscale",children:"Grayscale"})]})]}),a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFrequencyLabels,onChange:n=>t({showFrequencyLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Frequency Labels"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showTimeLabels,onChange:n=>t({showTimeLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Time Labels"})]})]}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function gO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"Visual Settings",children:[a.jsx(le,{label:"Trace Color",value:r.traceColor,onChange:n=>t({traceColor:n})}),a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})})]}),a.jsxs(K,{title:"Axis Lines",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showAxisLines,onChange:n=>t({showAxisLines:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Axis Lines"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"L/R axes at 45° with M/S reference lines"})]}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function vO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"Visual Settings",children:[a.jsx(le,{label:"Trace Color",value:r.traceColor,onChange:n=>t({traceColor:n})}),a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})})]}),a.jsxs(K,{title:"Axis Lines",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showAxisLines,onChange:n=>t({showAxisLines:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Axis Lines"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"L on horizontal (X), R on vertical (Y)"})]}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function bO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(K,{title:"Band Configuration",children:a.jsx(re,{label:"Band Count",value:r.bandCount,min:1,max:16,step:1,onChange:n=>t({bandCount:n})})}),a.jsxs(K,{title:"dB Range",children:[a.jsx(re,{label:"Min dB",value:r.minDb,min:-48,max:0,step:6,onChange:n=>t({minDb:n})}),a.jsx(re,{label:"Max dB",value:r.maxDb,min:0,max:48,step:6,onChange:n=>t({maxDb:n})})]}),a.jsxs(K,{title:"Frequency Range",children:[a.jsx(re,{label:"Min Frequency (Hz)",value:r.minFreq,min:10,max:1e3,step:10,onChange:n=>t({minFreq:n})}),a.jsx(re,{label:"Max Frequency (Hz)",value:r.maxFreq,min:1e3,max:2e4,step:1e3,onChange:n=>t({maxFreq:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFrequencyLabels,onChange:n=>t({showFrequencyLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Frequency Labels"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showDbLabels,onChange:n=>t({showDbLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show dB Labels"})]})]})]}),a.jsxs(K,{title:"Curve Style",children:[a.jsx(le,{label:"Curve Color",value:r.curveColor,onChange:n=>t({curveColor:n})}),a.jsx(re,{label:"Line Width",value:r.lineWidth,min:1,max:4,step:.5,onChange:n=>t({lineWidth:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFill,onChange:n=>t({showFill:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Fill"})]}),r.showFill&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Fill Color",value:r.fillColor,onChange:n=>t({fillColor:n})}),a.jsx(re,{label:"Fill Opacity",value:r.fillOpacity,min:0,max:1,step:.1,onChange:n=>t({fillOpacity:n})})]})]}),a.jsx(K,{title:"Display Mode",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showIndividualBands,onChange:n=>t({showIndividualBands:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Individual Bands"})]})}),a.jsxs(K,{title:"Handle Colors",children:[a.jsx(le,{label:"Handle Color",value:r.handleColor,onChange:n=>t({handleColor:n})}),a.jsx(le,{label:"Handle Hover Color",value:r.handleHoverColor,onChange:n=>t({handleHoverColor:n})})]}),a.jsx(K,{title:"Background",children:a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function yO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"Compressor Parameters",children:[a.jsx(re,{label:"Threshold (dB)",value:r.threshold,min:-60,max:0,step:1,onChange:n=>t({threshold:n})}),a.jsx(re,{label:"Ratio",value:r.ratio,min:1,max:20,step:.5,onChange:n=>t({ratio:n})}),a.jsx(re,{label:"Knee (dB)",value:r.knee,min:0,max:12,step:1,onChange:n=>t({knee:n})})]}),a.jsxs(K,{title:"dB Range",children:[a.jsx(re,{label:"Min dB",value:r.minDb,min:-80,max:-20,step:10,onChange:n=>t({minDb:n})}),a.jsx(re,{label:"Max dB",value:r.maxDb,min:-20,max:20,step:10,onChange:n=>t({maxDb:n})})]}),a.jsx(K,{title:"Display Mode",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mode"}),a.jsxs("select",{value:r.displayMode,onChange:n=>t({displayMode:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"transfer",children:"Transfer Curve"}),a.jsx("option",{value:"gainreduction",children:"Gain Reduction"})]})]})}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showDbLabels,onChange:n=>t({showDbLabels:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show dB Labels"})]})]})]}),a.jsxs(K,{title:"Curve Style",children:[a.jsx(le,{label:"Curve Color",value:r.curveColor,onChange:n=>t({curveColor:n})}),a.jsx(re,{label:"Line Width",value:r.lineWidth,min:1,max:4,step:.5,onChange:n=>t({lineWidth:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFill,onChange:n=>t({showFill:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Fill"})]}),r.showFill&&a.jsx(le,{label:"Fill Color",value:r.fillColor,onChange:n=>t({fillColor:n})})]}),a.jsxs(K,{title:"Handle Colors",children:[a.jsx(le,{label:"Handle Color",value:r.handleColor,onChange:n=>t({handleColor:n})}),a.jsx(le,{label:"Handle Hover Color",value:r.handleHoverColor,onChange:n=>t({handleHoverColor:n})})]}),a.jsx(K,{title:"Background",children:a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function xO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"ADSR Parameters",children:[a.jsx(re,{label:"Attack",value:r.attack,min:0,max:1,step:.01,onChange:n=>t({attack:n})}),a.jsx(re,{label:"Decay",value:r.decay,min:0,max:1,step:.01,onChange:n=>t({decay:n})}),a.jsx(re,{label:"Sustain",value:r.sustain,min:0,max:1,step:.01,onChange:n=>t({sustain:n})}),a.jsx(re,{label:"Release",value:r.release,min:0,max:1,step:.01,onChange:n=>t({release:n})})]}),a.jsx(K,{title:"Curve Type",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Type"}),a.jsxs("select",{value:r.curveType,onChange:n=>t({curveType:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"linear",children:"Linear"}),a.jsx("option",{value:"exponential",children:"Exponential"})]})]})}),a.jsxs(K,{title:"Stage Colors",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showStageColors,onChange:n=>t({showStageColors:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Stage Colors"})]}),r.showStageColors&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Attack Color",value:r.attackColor,onChange:n=>t({attackColor:n})}),a.jsx(le,{label:"Decay Color",value:r.decayColor,onChange:n=>t({decayColor:n})}),a.jsx(le,{label:"Sustain Color",value:r.sustainColor,onChange:n=>t({sustainColor:n})}),a.jsx(le,{label:"Release Color",value:r.releaseColor,onChange:n=>t({releaseColor:n})})]})]}),!r.showStageColors&&a.jsxs(K,{title:"Curve Style",children:[a.jsx(le,{label:"Curve Color",value:r.curveColor,onChange:n=>t({curveColor:n})}),a.jsx(re,{label:"Line Width",value:r.lineWidth,min:1,max:4,step:.5,onChange:n=>t({lineWidth:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFill,onChange:n=>t({showFill:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Fill"})]}),r.showFill&&a.jsx(le,{label:"Fill Color",value:r.fillColor,onChange:n=>t({fillColor:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showStageMarkers,onChange:n=>t({showStageMarkers:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Stage Markers"})]})]}),a.jsxs(K,{title:"Handle Colors",children:[a.jsx(le,{label:"Handle Color",value:r.handleColor,onChange:n=>t({handleColor:n})}),a.jsx(le,{label:"Handle Hover Color",value:r.handleHoverColor,onChange:n=>t({handleHoverColor:n})})]}),a.jsx(K,{title:"Background",children:a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function wO({element:e,onUpdate:t}){const r=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"LFO Shape",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Shape"}),a.jsxs("select",{value:r.shape,onChange:n=>t({shape:n.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"sine",children:"Sine"}),a.jsx("option",{value:"triangle",children:"Triangle"}),a.jsx("option",{value:"saw-up",children:"Saw Up"}),a.jsx("option",{value:"saw-down",children:"Saw Down"}),a.jsx("option",{value:"square",children:"Square"}),a.jsx("option",{value:"pulse",children:"Pulse"}),a.jsx("option",{value:"sample-hold",children:"Sample & Hold"}),a.jsx("option",{value:"smooth-random",children:"Smooth Random"})]})]}),r.shape==="pulse"&&a.jsx(re,{label:"Pulse Width",value:r.pulseWidth,min:0,max:1,step:.01,onChange:n=>t({pulseWidth:n})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:n=>t({showGrid:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:n=>t({gridColor:n})})]}),a.jsxs(K,{title:"Waveform Style",children:[a.jsx(le,{label:"Waveform Color",value:r.waveformColor,onChange:n=>t({waveformColor:n})}),a.jsx(re,{label:"Line Width",value:r.lineWidth,min:1,max:4,step:.5,onChange:n=>t({lineWidth:n})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFill,onChange:n=>t({showFill:n.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Fill"})]}),r.showFill&&a.jsx(le,{label:"Fill Color",value:r.fillColor,onChange:n=>t({fillColor:n})})]}),a.jsx(K,{title:"Background",children:a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:n=>t({backgroundColor:n})})}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:n=>t({canvasScale:n})})})]})}function SO({element:e,onUpdate:t}){const r=e,n=["lowshelf","highshelf","peak"].includes(r.filterType);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{title:"Filter Parameters",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Filter Type"}),a.jsxs("select",{value:r.filterType,onChange:i=>t({filterType:i.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"lowpass",children:"Lowpass"}),a.jsx("option",{value:"highpass",children:"Highpass"}),a.jsx("option",{value:"bandpass",children:"Bandpass"}),a.jsx("option",{value:"notch",children:"Notch"}),a.jsx("option",{value:"lowshelf",children:"Low Shelf"}),a.jsx("option",{value:"highshelf",children:"High Shelf"}),a.jsx("option",{value:"peak",children:"Peak"})]})]}),a.jsx(re,{label:"Cutoff Frequency (Hz)",value:r.cutoffFrequency,min:20,max:2e4,step:10,onChange:i=>t({cutoffFrequency:i})}),a.jsx(re,{label:"Resonance / Q",value:r.resonance,min:.1,max:20,step:.1,onChange:i=>t({resonance:i})}),n&&a.jsx(re,{label:"Gain (dB)",value:r.gain,min:-24,max:24,step:1,onChange:i=>t({gain:i})})]}),a.jsxs(K,{title:"dB Range",children:[a.jsx(re,{label:"Min dB",value:r.minDb,min:-60,max:0,step:6,onChange:i=>t({minDb:i})}),a.jsx(re,{label:"Max dB",value:r.maxDb,min:0,max:24,step:6,onChange:i=>t({maxDb:i})})]}),a.jsxs(K,{title:"Frequency Range",children:[a.jsx(re,{label:"Min Frequency (Hz)",value:r.minFreq,min:10,max:1e3,step:10,onChange:i=>t({minFreq:i})}),a.jsx(re,{label:"Max Frequency (Hz)",value:r.maxFreq,min:1e3,max:2e4,step:1e3,onChange:i=>t({maxFreq:i})})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showGrid,onChange:i=>t({showGrid:i.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Grid"})]}),r.showGrid&&a.jsxs(a.Fragment,{children:[a.jsx(le,{label:"Grid Color",value:r.gridColor,onChange:i=>t({gridColor:i})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFrequencyLabels,onChange:i=>t({showFrequencyLabels:i.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Frequency Labels"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showDbLabels,onChange:i=>t({showDbLabels:i.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show dB Labels"})]})]})]}),a.jsxs(K,{title:"Curve Style",children:[a.jsx(le,{label:"Curve Color",value:r.curveColor,onChange:i=>t({curveColor:i})}),a.jsx(re,{label:"Line Width",value:r.lineWidth,min:1,max:4,step:.5,onChange:i=>t({lineWidth:i})}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r.showFill,onChange:i=>t({showFill:i.target.checked}),className:"bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Show Fill"})]}),r.showFill&&a.jsx(le,{label:"Fill Color",value:r.fillColor,onChange:i=>t({fillColor:i})})]}),a.jsxs(K,{title:"Handle Colors",children:[a.jsx(le,{label:"Handle Color",value:r.handleColor,onChange:i=>t({handleColor:i})}),a.jsx(le,{label:"Handle Hover Color",value:r.handleHoverColor,onChange:i=>t({handleHoverColor:i})})]}),a.jsx(K,{title:"Background",children:a.jsx(le,{label:"Background Color",value:r.backgroundColor,onChange:i=>t({backgroundColor:i})})}),a.jsx(K,{title:"Canvas",children:a.jsx(re,{label:"Scale Factor",value:r.canvasScale,min:1,max:4,step:.5,onChange:i=>t({canvasScale:i})})})]})}function kO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Range",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Start Note",value:e.startNote,onChange:r=>t({startNote:r}),min:0,max:127}),a.jsx(re,{label:"End Note",value:e.endNote,onChange:r=>t({endNote:r}),min:0,max:127})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"MIDI notes: C2=36, C4=60, C6=84"})]}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showNoteLabels,onChange:r=>t({showNoteLabels:r.target.checked}),className:Dt}),"Show Note Labels"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.labelOctavesOnly,onChange:r=>t({labelOctavesOnly:r.target.checked}),className:Dt}),"Octaves Only (C1, C2, etc.)"]})]}),a.jsxs(K,{title:"Key Dimensions",children:[a.jsx(re,{label:"White Key Width",value:e.whiteKeyWidth,onChange:r=>t({whiteKeyWidth:r}),min:12,max:60}),a.jsx(re,{label:"Black Key Width Ratio",value:e.blackKeyWidthRatio,onChange:r=>t({blackKeyWidthRatio:r}),min:.4,max:.8,step:.1})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"White Key Color",value:e.whiteKeyColor,onChange:r=>t({whiteKeyColor:r})}),a.jsx(le,{label:"Black Key Color",value:e.blackKeyColor,onChange:r=>t({blackKeyColor:r})}),a.jsx(le,{label:"Active Key Color",value:e.activeKeyColor,onChange:r=>t({activeKeyColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:6,max:14})]})]})}function CO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Pad Settings",children:[a.jsx(ut,{label:"Label",value:e.label,onChange:r=>t({label:r})}),a.jsx(re,{label:"MIDI Note",value:e.midiNote,onChange:r=>t({midiNote:r}),min:0,max:127}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showVelocity,onChange:r=>t({showVelocity:r.target.checked}),className:Dt}),"Show Velocity Indicator"]})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Pressed Color",value:e.pressedColor,onChange:r=>t({pressedColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})})]}),a.jsx(K,{title:"Border",children:a.jsx(re,{label:"Border Width",value:e.borderWidth,onChange:r=>t({borderWidth:r}),min:0,max:8})}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:32})]})]})}function _O({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Grid Dimensions",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Rows"}),a.jsxs("select",{value:e.rows,onChange:r=>t({rows:parseInt(r.target.value)}),className:et,children:[a.jsx("option",{value:4,children:"4"}),a.jsx("option",{value:8,children:"8"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Columns"}),a.jsxs("select",{value:e.columns,onChange:r=>t({columns:parseInt(r.target.value)}),className:et,children:[a.jsx("option",{value:4,children:"4"}),a.jsx("option",{value:8,children:"8"})]})]})]})}),a.jsxs(K,{title:"MIDI",children:[a.jsx(re,{label:"Start Note",value:e.startNote,onChange:r=>t({startNote:r}),min:0,max:127}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Notes increment left-to-right, top-to-bottom"})]}),a.jsx(K,{title:"Styling",children:a.jsx(re,{label:"Grid Gap",value:e.gridGap,onChange:r=>t({gridGap:r}),min:0,max:16})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Pad Color",value:e.padColor,onChange:r=>t({padColor:r})}),a.jsx(le,{label:"Active Pad Color",value:e.activePadColor,onChange:r=>t({activePadColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:24})]})]})}function jO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Grid Configuration",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Step Count"}),a.jsxs("select",{value:e.stepCount,onChange:r=>t({stepCount:parseInt(r.target.value)}),className:et,children:[a.jsx("option",{value:8,children:"8 steps"}),a.jsx("option",{value:16,children:"16 steps"}),a.jsx("option",{value:24,children:"24 steps"}),a.jsx("option",{value:32,children:"32 steps"})]})]}),a.jsx(re,{label:"Row Count",value:e.rowCount,onChange:r=>t({rowCount:r}),min:1,max:8}),a.jsx(re,{label:"Beats Per Measure",value:e.beatsPerMeasure,onChange:r=>t({beatsPerMeasure:r}),min:2,max:8})]}),a.jsxs(K,{title:"Display Options",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.highlightDownbeats,onChange:r=>t({highlightDownbeats:r.target.checked}),className:Dt}),"Highlight Downbeats"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showVelocity,onChange:r=>t({showVelocity:r.target.checked}),className:Dt}),"Show Velocity"]}),e.showVelocity&&a.jsx(re,{label:"Velocity Height",value:e.velocityHeight,onChange:r=>t({velocityHeight:r}),min:10,max:40})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Step Off Color",value:e.stepOffColor,onChange:r=>t({stepOffColor:r})}),a.jsx(le,{label:"Step On Color",value:e.stepOnColor,onChange:r=>t({stepOnColor:r})}),a.jsx(le,{label:"Active Step Color",value:e.stepActiveColor,onChange:r=>t({stepActiveColor:r})}),a.jsx(le,{label:"Grid Line Color",value:e.gridLineColor,onChange:r=>t({gridLineColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),e.highlightDownbeats&&a.jsx(le,{label:"Downbeat Color",value:e.downbeatColor,onChange:r=>t({downbeatColor:r})})]})]})}function PO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsx(K,{title:"Values",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"X Value",value:e.xValue,onChange:r=>t({xValue:r}),min:0,max:1,step:.01}),a.jsx(re,{label:"Y Value",value:e.yValue,onChange:r=>t({yValue:r}),min:0,max:1,step:.01})]})}),a.jsxs(K,{title:"Labels",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showLabels,onChange:r=>t({showLabels:r.target.checked}),className:Dt}),"Show Labels"]}),e.showLabels&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ut,{label:"X Label",value:e.xLabel,onChange:r=>t({xLabel:r})}),a.jsx(ut,{label:"Y Label",value:e.yLabel,onChange:r=>t({yLabel:r})})]})]}),a.jsxs(K,{title:"Grid",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:Dt}),"Show Grid"]}),e.showGrid&&a.jsxs(a.Fragment,{children:[a.jsx(re,{label:"Grid Divisions",value:e.gridDivisions,onChange:r=>t({gridDivisions:r}),min:2,max:10}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})})]})]}),a.jsxs(K,{title:"Cursor",children:[a.jsx(re,{label:"Cursor Size",value:e.cursorSize,onChange:r=>t({cursorSize:r}),min:8,max:32}),a.jsx(le,{label:"Cursor Color",value:e.cursorColor,onChange:r=>t({cursorColor:r})}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showCrosshair,onChange:r=>t({showCrosshair:r.target.checked}),className:Dt}),"Show Crosshair"]}),e.showCrosshair&&a.jsx(le,{label:"Crosshair Color",value:e.crosshairColor,onChange:r=>t({crosshairColor:r})})]}),a.jsxs(K,{title:"Background",children:[a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Border Color",value:e.borderColor,onChange:r=>t({borderColor:r})})]})]})}function $O({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Frame Configuration",children:[a.jsx(re,{label:"Frame Count",value:e.frameCount,onChange:r=>t({frameCount:r}),min:8,max:64}),a.jsx(re,{label:"Current Frame",value:e.currentFrame,onChange:r=>t({currentFrame:r}),min:0,max:e.frameCount-1})]}),a.jsxs(K,{title:"3D Perspective",children:[a.jsx(re,{label:"Perspective Angle",value:e.perspectiveAngle,onChange:r=>t({perspectiveAngle:r}),min:0,max:45}),a.jsx(re,{label:"Frame Spacing",value:e.frameSpacing,onChange:r=>t({frameSpacing:r}),min:2,max:20})]}),a.jsxs(K,{title:"Display Options",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:Dt}),"Show Grid"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showFrameLabels,onChange:r=>t({showFrameLabels:r.target.checked}),className:Dt}),"Show Frame Labels"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.fillWaveform,onChange:r=>t({fillWaveform:r.target.checked}),className:Dt}),"Fill Waveform"]})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Waveform Color",value:e.waveformColor,onChange:r=>t({waveformColor:r})}),a.jsx(le,{label:"Current Frame Color",value:e.currentFrameColor,onChange:r=>t({currentFrameColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})})]})]})}function IO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Harmonics",children:[a.jsx(re,{label:"Harmonic Count",value:e.harmonicCount,onChange:r=>t({harmonicCount:r}),min:8,max:64}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showFundamental,onChange:r=>t({showFundamental:r.target.checked}),className:Dt}),"Highlight Fundamental"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showHarmonicNumbers,onChange:r=>t({showHarmonicNumbers:r.target.checked}),className:Dt}),"Show Harmonic Numbers"]})]}),a.jsx(K,{title:"Bar Styling",children:a.jsx(re,{label:"Bar Gap",value:e.barGap,onChange:r=>t({barGap:r}),min:0,max:8})}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Bar Color",value:e.barColor,onChange:r=>t({barColor:r})}),a.jsx(le,{label:"Selected Bar Color",value:e.selectedBarColor,onChange:r=>t({selectedBarColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:6,max:14})]})]})}function TO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Loop Points",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(re,{label:"Loop Start",value:e.loopStart,onChange:r=>t({loopStart:r}),min:0,max:1,step:.01}),a.jsx(re,{label:"Loop End",value:e.loopEnd,onChange:r=>t({loopEnd:r}),min:0,max:1,step:.01})]}),a.jsx(re,{label:"Crossfade Length",value:e.crossfadeLength,onChange:r=>t({crossfadeLength:r}),min:0,max:.25,step:.01})]}),a.jsxs(K,{title:"Display Options",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showWaveform,onChange:r=>t({showWaveform:r.target.checked}),className:Dt}),"Show Waveform"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showCrossfade,onChange:r=>t({showCrossfade:r.target.checked}),className:Dt}),"Show Crossfade Region"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showTimeRuler,onChange:r=>t({showTimeRuler:r.target.checked}),className:Dt}),"Show Time Ruler"]})]}),a.jsxs(K,{title:"Marker Styling",children:[a.jsx(re,{label:"Marker Width",value:e.markerWidth,onChange:r=>t({markerWidth:r}),min:1,max:6}),a.jsx(re,{label:"Handle Size",value:e.markerHandleSize,onChange:r=>t({markerHandleSize:r}),min:6,max:16})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Waveform Color",value:e.waveformColor,onChange:r=>t({waveformColor:r})}),a.jsx(le,{label:"Loop Region Color",value:e.loopRegionColor,onChange:r=>t({loopRegionColor:r})}),a.jsx(le,{label:"Start Marker Color",value:e.startMarkerColor,onChange:r=>t({startMarkerColor:r})}),a.jsx(le,{label:"End Marker Color",value:e.endMarkerColor,onChange:r=>t({endMarkerColor:r})}),a.jsx(le,{label:"Crossfade Color",value:e.crossfadeColor,onChange:r=>t({crossfadeColor:r})}),a.jsx(le,{label:"Background Color",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})})]})]})}const gp=[{value:"linear",label:"Linear"},{value:"exponential",label:"Exponential"},{value:"logarithmic",label:"Logarithmic"}];function NO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Envelope",children:[a.jsx(re,{label:"Attack",value:e.attack,onChange:r=>t({attack:r}),min:.01,max:1,step:.01}),a.jsx(re,{label:"Decay",value:e.decay,onChange:r=>t({decay:r}),min:.01,max:1,step:.01}),a.jsx(re,{label:"Sustain",value:e.sustain,onChange:r=>t({sustain:r}),min:0,max:1,step:.01}),a.jsx(re,{label:"Release",value:e.release,onChange:r=>t({release:r}),min:.01,max:1,step:.01})]}),a.jsxs(K,{title:"Curve Types",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Attack Curve"}),a.jsx("select",{value:e.attackCurve,onChange:r=>t({attackCurve:r.target.value}),className:et,children:gp.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Decay Curve"}),a.jsx("select",{value:e.decayCurve,onChange:r=>t({decayCurve:r.target.value}),className:et,children:gp.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Release Curve"}),a.jsx("select",{value:e.releaseCurve,onChange:r=>t({releaseCurve:r.target.value}),className:et,children:gp.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:Dt}),"Show Grid"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showLabels,onChange:r=>t({showLabels:r.target.checked}),className:Dt}),"Show Labels"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showValues,onChange:r=>t({showValues:r.target.checked}),className:Dt}),"Show Values"]}),a.jsx(re,{label:"Point Size",value:e.pointSize,onChange:r=>t({pointSize:r}),min:4,max:16})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Line Color",value:e.lineColor,onChange:r=>t({lineColor:r})}),a.jsx(le,{label:"Fill Color",value:e.fillColor,onChange:r=>t({fillColor:r})}),a.jsx(le,{label:"Point Color",value:e.pointColor,onChange:r=>t({pointColor:r})}),a.jsx(le,{label:"Active Point",value:e.activePointColor,onChange:r=>t({activePointColor:r})}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})}),a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:16})]})]})}function EO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"View Range",children:[a.jsx(re,{label:"View Start",value:e.viewStart,onChange:r=>t({viewStart:r}),min:0,max:.99,step:.01}),a.jsx(re,{label:"View End",value:e.viewEnd,onChange:r=>t({viewEnd:r}),min:.01,max:1,step:.01}),a.jsx(re,{label:"Zoom Level",value:e.zoomLevel,onChange:r=>t({zoomLevel:r}),min:1,max:100})]}),a.jsxs(K,{title:"Selection",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showSelection,onChange:r=>t({showSelection:r.target.checked}),className:Dt}),"Show Selection"]}),a.jsx(re,{label:"Selection Start",value:e.selectionStart,onChange:r=>t({selectionStart:r}),min:0,max:1,step:.01}),a.jsx(re,{label:"Selection End",value:e.selectionEnd,onChange:r=>t({selectionEnd:r}),min:0,max:1,step:.01})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showZeroLine,onChange:r=>t({showZeroLine:r.target.checked}),className:Dt}),"Show Zero Line"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showTimeRuler,onChange:r=>t({showTimeRuler:r.target.checked}),className:Dt}),"Show Time Ruler"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showPeaks,onChange:r=>t({showPeaks:r.target.checked}),className:Dt}),"Show Peaks"]})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Waveform Color",value:e.waveformColor,onChange:r=>t({waveformColor:r})}),a.jsx(le,{label:"Peak Color",value:e.peakColor,onChange:r=>t({peakColor:r})}),a.jsx(le,{label:"Zero Line Color",value:e.zeroLineColor,onChange:r=>t({zeroLineColor:r})}),a.jsx(le,{label:"Selection Color",value:e.selectionColor,onChange:r=>t({selectionColor:r})}),a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Ruler Color",value:e.rulerColor,onChange:r=>t({rulerColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:16})]})]})}function zO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Configuration",children:[a.jsx(re,{label:"Rows",value:e.rows,onChange:r=>t({rows:r}),min:2,max:8}),a.jsx(re,{label:"Columns",value:e.columns,onChange:r=>t({columns:r}),min:2,max:8})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showLabels,onChange:r=>t({showLabels:r.target.checked}),className:Dt}),"Show Labels"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:Dt}),"Show Grid"]}),a.jsx(re,{label:"Point Size",value:e.pointSize,onChange:r=>t({pointSize:r}),min:8,max:24}),a.jsx(re,{label:"Cable Width",value:e.cableWidth,onChange:r=>t({cableWidth:r}),min:1,max:6})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Input Color",value:e.inputColor,onChange:r=>t({inputColor:r})}),a.jsx(le,{label:"Output Color",value:e.outputColor,onChange:r=>t({outputColor:r})}),a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsx(K,{title:"Cable Colors",children:e.cableColors.map((r,n)=>a.jsx(le,{label:`Cable ${n+1}`,value:r,onChange:i=>{const o=[...e.cableColors];o[n]=i,t({cableColors:o})}},n))}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:14})]}),a.jsxs(K,{title:"Connections",children:[a.jsxs("div",{className:at,children:["Active Cables: ",e.cables.length]}),e.cables.length>0&&a.jsx("button",{onClick:()=>t({cables:[],selectedCable:null}),className:"w-full px-2 py-1 text-xs bg-red-600/20 text-red-400 border border-red-600/30 hover:bg-red-600/30",children:"Clear All Cables"})]})]})}function DO({element:e,onUpdate:t}){return a.jsxs(a.Fragment,{children:[a.jsxs(K,{title:"Grid",children:[a.jsx(re,{label:"Cell Size",value:e.gridCellSize,onChange:r=>t({gridCellSize:r}),min:20,max:60}),a.jsx(re,{label:"Grid Rows",value:e.gridRows,onChange:r=>t({gridRows:r}),min:2,max:10}),a.jsx(re,{label:"Grid Columns",value:e.gridColumns,onChange:r=>t({gridColumns:r}),min:4,max:20})]}),a.jsxs(K,{title:"Display",children:[a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showGrid,onChange:r=>t({showGrid:r.target.checked}),className:Dt}),"Show Grid"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.showLabels,onChange:r=>t({showLabels:r.target.checked}),className:Dt}),"Show Labels"]}),a.jsxs("label",{className:`flex items-center gap-2 ${at}`,children:[a.jsx("input",{type:"checkbox",checked:e.animateSignal,onChange:r=>t({animateSignal:r.target.checked}),className:Dt}),"Animate Signal Flow"]})]}),a.jsxs(K,{title:"Styling",children:[a.jsx(re,{label:"Block Border Width",value:e.blockBorderWidth,onChange:r=>t({blockBorderWidth:r}),min:1,max:4}),a.jsx(re,{label:"Connection Width",value:e.connectionWidth,onChange:r=>t({connectionWidth:r}),min:1,max:4})]}),a.jsxs(K,{title:"Block Colors",children:[a.jsx(le,{label:"Input Block",value:e.inputBlockColor,onChange:r=>t({inputBlockColor:r})}),a.jsx(le,{label:"Output Block",value:e.outputBlockColor,onChange:r=>t({outputBlockColor:r})}),a.jsx(le,{label:"Process Block",value:e.processBlockColor,onChange:r=>t({processBlockColor:r})}),a.jsx(le,{label:"Mixer Block",value:e.mixerBlockColor,onChange:r=>t({mixerBlockColor:r})}),a.jsx(le,{label:"Splitter Block",value:e.splitterBlockColor,onChange:r=>t({splitterBlockColor:r})})]}),a.jsxs(K,{title:"Colors",children:[a.jsx(le,{label:"Connection",value:e.connectionColor,onChange:r=>t({connectionColor:r})}),a.jsx(le,{label:"Signal",value:e.signalColor,onChange:r=>t({signalColor:r})}),a.jsx(le,{label:"Background",value:e.backgroundColor,onChange:r=>t({backgroundColor:r})}),a.jsx(le,{label:"Grid Color",value:e.gridColor,onChange:r=>t({gridColor:r})}),a.jsx(le,{label:"Label Color",value:e.labelColor,onChange:r=>t({labelColor:r})})]}),a.jsxs(K,{title:"Typography",children:[a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Family"}),a.jsx("select",{value:e.fontFamily,onChange:r=>t({fontFamily:r.target.value}),className:et,children:Ct.map(r=>a.jsx("option",{value:r.family,children:r.name},r.family))})]}),a.jsxs("div",{children:[a.jsx("label",{className:at,children:"Font Weight"}),a.jsx("select",{value:e.fontWeight,onChange:r=>t({fontWeight:r.target.value}),className:et,children:ja.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsx(re,{label:"Font Size",value:e.fontSize,onChange:r=>t({fontSize:r}),min:8,max:14})]}),a.jsxs(K,{title:"Flow",children:[a.jsxs("div",{className:at,children:["Blocks: ",e.blocks.length]}),a.jsxs("div",{className:at,children:["Connections: ",e.connections.length]})]})]})}const OO=new Map([["knob",gD],["slider",SD],["button",kD],["rangeslider",p8],["dropdown",c8],["checkbox",u8],["radiogroup",d8],["textfield",h8],["multislider",v8],["steppedknob",b8],["centerdetentknob",y8],["dotindicatorknob",x8],["bipolarslider",w8],["crossfadeslider",S8],["notchedslider",k8],["asciislider",T8],["asciibutton",O8],["iconbutton",L8],["toggleswitch",A8],["powerbutton",R8],["rockerswitch",B8],["rotaryswitch",U8],["segmentbutton",H8],["label",_D],["meter",jD],["dbdisplay",n8],["frequencydisplay",a8],["gainreductionmeter",i8],["presetbrowser",o8],["waveform",s8],["oscilloscope",l8],["modulationmatrix",m8],["numericdisplay",G8],["timedisplay",Z8],["percentagedisplay",q8],["ratiodisplay",X8],["notedisplay",Y8],["bpmdisplay",K8],["editabledisplay",J8],["multivaluedisplay",eO],["rmsmetermo",mx],["rmsmeterstereo",mx],["vumetermono",gx],["vumeterstereo",gx],["ppmtype1mono",vx],["ppmtype1stereo",vx],["ppmtype2mono",bx],["ppmtype2stereo",bx],["truepeakmetermono",yx],["truepeakmeterstereo",yx],["lufsmomomo",xx],["lufsmomostereo",xx],["lufsshortmono",wx],["lufsshortstereo",wx],["lufsintmono",Sx],["lufsintstereo",Sx],["k12metermono",lo],["k12meterstereo",lo],["k14metermono",lo],["k14meterstereo",lo],["k20metermono",lo],["k20meterstereo",lo],["correlationmeter",tO],["stereowidthmeter",rO],["stepper",nO],["breadcrumb",aO],["multiselectdropdown",iO],["combobox",oO],["menubutton",sO],["tabbar",uO],["tagselector",dO],["treeview",hO],["scrollingwaveform",fO],["spectrumanalyzer",pO],["spectrogram",mO],["goniometer",gO],["vectorscope",vO],["eqcurve",bO],["compressorcurve",yO],["envelopedisplay",xO],["lfodisplay",wO],["filterresponse",SO],["panel",WD],["frame",HD],["groupbox",GD],["collapsible",f8],["tooltip",ZD],["windowchrome",qD],["horizontalspacer",hx],["verticalspacer",hx],["image",VD],["svggraphic",g8],["rectangle",XD],["line",YD],["asciiart",r8],["pianokeyboard",kO],["drumpad",CO],["padgrid",_O],["stepsequencer",jO],["xypad",PO],["wavetabledisplay",$O],["harmoniceditor",IO],["looppoints",TO],["envelopeeditor",NO],["sampledisplay",EO],["patchbay",zO],["signalflow",DO]]);function FO(e){return OO.get(e)}const MO=[{name:"Selection",shortcuts:[{keys:"Click",action:"Select element"},{keys:"Shift + Click",action:"Add to selection"},{keys:"Ctrl/Cmd + Click",action:"Toggle selection"},{keys:"Drag on canvas",action:"Marquee select"},{keys:"Escape",action:"Clear selection"}]},{name:"Edit",shortcuts:[{keys:"Ctrl/Cmd + C",action:"Copy selected elements"},{keys:"Ctrl/Cmd + V",action:"Paste elements"},{keys:"Delete / Backspace",action:"Delete selected elements"},{keys:"Ctrl/Cmd + Z",action:"Undo"},{keys:"Ctrl/Cmd + Y",action:"Redo"},{keys:"Ctrl/Cmd + Shift + Z",action:"Redo (Mac)"}]},{name:"Z-Order",shortcuts:[{keys:"Ctrl/Cmd + ]",action:"Bring forward"},{keys:"Ctrl/Cmd + [",action:"Send backward"},{keys:"Ctrl/Cmd + Shift + ]",action:"Bring to front"},{keys:"Ctrl/Cmd + Shift + [",action:"Send to back"}]},{name:"Transform",shortcuts:[{keys:"Arrow keys",action:"Nudge 1px"},{keys:"Shift + Arrow keys",action:"Nudge 10px"}]},{name:"View",shortcuts:[{keys:"Spacebar + Drag",action:"Pan canvas"},{keys:"Scroll wheel",action:"Zoom in/out"}]}];function LO({category:e}){return a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-medium text-gray-400 mb-2",children:e.name}),a.jsx("div",{className:"space-y-1.5",children:e.shortcuts.map((t,r)=>a.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[a.jsx("kbd",{className:"bg-gray-700 text-gray-200 rounded px-1.5 py-0.5 font-mono text-xs shrink-0",children:t.keys}),a.jsx("span",{className:"text-gray-300",children:t.action})]},r))})]})}function AO({expanded:e}){return a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function RO(){const e=encodeURIComponent("[Bug] "),t=encodeURIComponent(`## Description
Describe the bug here...

## Steps to Reproduce
1.
2.
3.

## Expected Behavior


## Actual Behavior


## Environment
- Browser: ${navigator.userAgent.split(" ").slice(-2).join(" ")}
- URL: ${window.location.href}
- Timestamp: ${new Date().toISOString()}
`);return`https://github.com/AllTheMachines/Faceplate/issues/new?title=${e}&body=${t}&labels=bug`}function BO(){const[e,t]=X.useState(!1),r=()=>{window.open(RO(),"_blank")};return a.jsxs("div",{className:"border-t border-gray-700",children:[a.jsxs("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-200",children:"Keyboard Shortcuts"}),a.jsx(AO,{expanded:e})]}),e&&a.jsxs("div",{className:"p-3 pt-0 space-y-4",children:[MO.map(n=>a.jsx(LO,{category:n},n.name)),a.jsx("div",{className:"pt-3 border-t border-gray-700",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Report a Bug"]})})]})]})}var ki={},Ci={},yd={},_i={},xd={},kx;function UO(){if(kx)return xd;kx=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.getBreadcrumbs=e;function e(t,r){var n,i;const o=(n=r.arraySquareBrackets)!==null&&n!==void 0?n:!0,s=(i=r.delimeter)!==null&&i!==void 0?i:" > ";return t.map(d=>typeof d=="number"&&o?`[${d}]`:d).join(s)}return xd}var wd={},Cx;function VO(){if(Cx)return wd;Cx=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.getComponentDelimiter=e;function e(t){return t??" ~ "}return wd}var Sd={},kd={},_x;function uj(){if(_x)return kd;_x=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.getLabel=e;function e(t,r){return t===void 0?r:t.enabled===!1?"":t.label===void 0?r:t.label===null?"":t.label}return kd}var jx;function WO(){if(jx)return Sd;jx=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.getComponentLabels=t;const e=uj();function t(r){const n=(0,e.getLabel)(r==null?void 0:r.code,"Code: "),i=(0,e.getLabel)(r==null?void 0:r.message,"Message: "),o=(0,e.getLabel)(r==null?void 0:r.path,"Path: ");return{code:n,message:i,path:o}}return Sd}var Cd={},Px;function HO(){if(Px)return Cd;Px=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.getErrorDelimiter=e;function e(t){return t??" | "}return Cd}var _d={},$x;function GO(){if($x)return _d;$x=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.getErrorMessage=t;const e=U0();function t(r,n,i){var o,s,d,c,u,h,p,l,f,m;const b=(0,e.getComponentDelimiter)((o=i==null?void 0:i.delimiter)===null||o===void 0?void 0:o.component),S=(0,e.getComponentLabels)(i),x=[];let w=`${S.code}${r.code}`;((d=(s=i==null?void 0:i.code)===null||s===void 0?void 0:s.enabled)!==null&&d!==void 0?d:!0)&&(!((c=i==null?void 0:i.code)===null||c===void 0)&&c.enabled&&i.code.transform&&(w=i.code.transform({component:w,label:S.code,value:r.code})),x.push(w));const _=(0,e.getPathString)(r.path,i==null?void 0:i.path);let P=`${S.path}${_}`;((h=(u=i==null?void 0:i.path)===null||u===void 0?void 0:u.enabled)!==null&&h!==void 0?h:!0)&&(!((p=i==null?void 0:i.path)===null||p===void 0)&&p.enabled&&i.path.transform&&(P=i.path.transform({component:P,label:S.path,value:_})),x.push(P));let M=`${S.message}${r.message}`;((f=(l=i==null?void 0:i.message)===null||l===void 0?void 0:l.enabled)!==null&&f!==void 0?f:!0)&&(!((m=i==null?void 0:i.message)===null||m===void 0)&&m.enabled&&i.message.transform&&(M=i.message.transform({component:M,label:S.message,value:r.message})),x.push(M));const O=x.join(b);return i!=null&&i.transform?i.transform({pathComponent:P,messageComponent:M,issue:r,index:n,errorMessage:O,codeComponent:w}):O}return _d}var jd={},Ix;function ZO(){if(Ix)return jd;Ix=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.getObjectNotation=e;function e(t,r){var n;const i=(n=r.arraySquareBrackets)!==null&&n!==void 0?n:!0;return t.reduce((o,s)=>typeof s=="number"&&i?`${o}[${s}]`:[o,s].filter(d=>typeof d=="number"||!!d).join("."),"")}return jd}var Pd={},Tx;function qO(){if(Tx)return Pd;Tx=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.getPathString=t;const e=U0();function t(r,n){if((n==null?void 0:n.enabled)===void 0)return(0,e.getObjectNotation)(r,{enabled:!0,type:"objectNotation"});if(n.enabled===!1)return"";switch(n.type){case"zodPathArray":return(0,e.getZodPathArray)(r);case"breadcrumbs":return(0,e.getBreadcrumbs)(r,n);case"objectNotation":default:return(0,e.getObjectNotation)(r,n)}}return Pd}var $d={},Nx;function XO(){if(Nx)return $d;Nx=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.getZodPathArray=e;function e(t){return["[",...t.map(n=>typeof n=="string"?`"${n}"`:n).join(", "),"]"].join("")}return $d}var Ex;function U0(){return Ex||(Ex=1,(function(e){var t=_i&&_i.__createBinding||(Object.create?(function(n,i,o,s){s===void 0&&(s=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,d)}):(function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]})),r=_i&&_i.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(UO(),e),r(VO(),e),r(WO(),e),r(HO(),e),r(GO(),e),r(uj(),e),r(ZO(),e),r(qO(),e),r(XO(),e)})(_i)),_i}var zx;function Ss(){if(zx)return yd;zx=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.generateErrorMessage=t;const e=U0();function t(r,n){var i,o,s;const d=(0,e.getErrorDelimiter)((i=n==null?void 0:n.delimiter)===null||i===void 0?void 0:i.error),c=r.slice(0,n==null?void 0:n.maxErrors).map((u,h)=>(0,e.getErrorMessage)(u,h,n)).join(d);return`${(o=n==null?void 0:n.prefix)!==null&&o!==void 0?o:""}${c}${(s=n==null?void 0:n.suffix)!==null&&s!==void 0?s:""}`}return yd}var Id={},Sn={},Xr={},kn={},vp={},Dx;function bu(){return Dx||(Dx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.globalConfig=e.$ZodEncodeError=e.$ZodAsyncError=e.$brand=e.NEVER=void 0,e.$constructor=t,e.config=i,e.NEVER=Object.freeze({status:"aborted"});function t(o,s,d){function c(l,f){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:f,constr:p,traits:new Set},enumerable:!1}),l._zod.traits.has(o))return;l._zod.traits.add(o),s(l,f);const m=p.prototype,b=Object.keys(m);for(let S=0;S<b.length;S++){const x=b[S];x in l||(l[x]=m[x].bind(l))}}const u=(d==null?void 0:d.Parent)??Object;class h extends u{}Object.defineProperty(h,"name",{value:o});function p(l){var f;const m=d!=null&&d.Parent?new h:this;c(m,l),(f=m._zod).deferred??(f.deferred=[]);for(const b of m._zod.deferred)b();return m}return Object.defineProperty(p,"init",{value:c}),Object.defineProperty(p,Symbol.hasInstance,{value:l=>{var f,m;return d!=null&&d.Parent&&l instanceof d.Parent?!0:(m=(f=l==null?void 0:l._zod)==null?void 0:f.traits)==null?void 0:m.has(o)}}),Object.defineProperty(p,"name",{value:o}),p}e.$brand=Symbol("zod_brand");class r extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}e.$ZodAsyncError=r;class n extends Error{constructor(s){super(`Encountered unidirectional transform during encode: ${s}`),this.name="ZodEncodeError"}}e.$ZodEncodeError=n,e.globalConfig={};function i(o){return o&&Object.assign(e.globalConfig,o),e.globalConfig}})(vp)),vp}var ha={},vr={},Ge={},Ox;function tt(){if(Ox)return Ge;Ox=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.Class=Ge.BIGINT_FORMAT_RANGES=Ge.NUMBER_FORMAT_RANGES=Ge.primitiveTypes=Ge.propertyKeyTypes=Ge.getParsedType=Ge.allowsEval=Ge.captureStackTrace=void 0,Ge.assertEqual=e,Ge.assertNotEqual=t,Ge.assertIs=r,Ge.assertNever=n,Ge.assert=i,Ge.getEnumValues=o,Ge.joinValues=s,Ge.jsonStringifyReplacer=d,Ge.cached=c,Ge.nullish=u,Ge.cleanRegex=h,Ge.floatSafeRemainder=p,Ge.defineLazy=f,Ge.objectClone=m,Ge.assignProp=b,Ge.mergeDefs=S,Ge.cloneDef=x,Ge.getElementAtPath=w,Ge.promiseAllObject=y,Ge.randomString=_,Ge.esc=P,Ge.slugify=T,Ge.isObject=M,Ge.isPlainObject=N,Ge.shallowClone=O,Ge.numKeys=B,Ge.escapeRegex=D,Ge.clone=U,Ge.normalizeParams=z,Ge.createTransparentProxy=G,Ge.stringifyPrimitive=ne,Ge.optionalKeys=A,Ge.pick=k,Ge.omit=j,Ge.extend=$,Ge.safeExtend=F,Ge.merge=R,Ge.partial=W,Ge.required=Y,Ge.aborted=te,Ge.prefixIssues=ie,Ge.unwrapMessage=J,Ge.finalizeIssue=ee,Ge.getSizableOrigin=Q,Ge.getLengthableOrigin=he,Ge.parsedType=ge,Ge.issue=ye,Ge.cleanEnum=_e,Ge.base64ToUint8Array=H,Ge.uint8ArrayToBase64=Se,Ge.base64urlToUint8Array=Ce,Ge.uint8ArrayToBase64url=se,Ge.hexToUint8Array=ae,Ge.uint8ArrayToHex=xe;function e(ue){return ue}function t(ue){return ue}function r(ue){}function n(ue){throw new Error("Unexpected value in exhaustive check")}function i(ue){}function o(ue){const V=Object.values(ue).filter(pe=>typeof pe=="number");return Object.entries(ue).filter(([pe,ke])=>V.indexOf(+pe)===-1).map(([pe,ke])=>ke)}function s(ue,V="|"){return ue.map(me=>ne(me)).join(V)}function d(ue,V){return typeof V=="bigint"?V.toString():V}function c(ue){return{get value(){{const V=ue();return Object.defineProperty(this,"value",{value:V}),V}}}}function u(ue){return ue==null}function h(ue){const V=ue.startsWith("^")?1:0,me=ue.endsWith("$")?ue.length-1:ue.length;return ue.slice(V,me)}function p(ue,V){const me=(ue.toString().split(".")[1]||"").length,pe=V.toString();let ke=(pe.split(".")[1]||"").length;if(ke===0&&/\d?e-\d?/.test(pe)){const ot=pe.match(/\d?e-(\d?)/);ot!=null&&ot[1]&&(ke=Number.parseInt(ot[1]))}const Ie=me>ke?me:ke,Re=Number.parseInt(ue.toFixed(Ie).replace(".","")),Be=Number.parseInt(V.toFixed(Ie).replace(".",""));return Re%Be/10**Ie}const l=Symbol("evaluating");function f(ue,V,me){let pe;Object.defineProperty(ue,V,{get(){if(pe!==l)return pe===void 0&&(pe=l,pe=me()),pe},set(ke){Object.defineProperty(ue,V,{value:ke})},configurable:!0})}function m(ue){return Object.create(Object.getPrototypeOf(ue),Object.getOwnPropertyDescriptors(ue))}function b(ue,V,me){Object.defineProperty(ue,V,{value:me,writable:!0,enumerable:!0,configurable:!0})}function S(...ue){const V={};for(const me of ue){const pe=Object.getOwnPropertyDescriptors(me);Object.assign(V,pe)}return Object.defineProperties({},V)}function x(ue){return S(ue._zod.def)}function w(ue,V){return V?V.reduce((me,pe)=>me==null?void 0:me[pe],ue):ue}function y(ue){const V=Object.keys(ue),me=V.map(pe=>ue[pe]);return Promise.all(me).then(pe=>{const ke={};for(let Ie=0;Ie<V.length;Ie++)ke[V[Ie]]=pe[Ie];return ke})}function _(ue=10){const V="abcdefghijklmnopqrstuvwxyz";let me="";for(let pe=0;pe<ue;pe++)me+=V[Math.floor(Math.random()*V.length)];return me}function P(ue){return JSON.stringify(ue)}function T(ue){return ue.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}Ge.captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...ue)=>{};function M(ue){return typeof ue=="object"&&ue!==null&&!Array.isArray(ue)}Ge.allowsEval=c(()=>{var ue;if(typeof navigator<"u"&&((ue=navigator==null?void 0:navigator.userAgent)!=null&&ue.includes("Cloudflare")))return!1;try{const V=Function;return new V(""),!0}catch{return!1}});function N(ue){if(M(ue)===!1)return!1;const V=ue.constructor;if(V===void 0||typeof V!="function")return!0;const me=V.prototype;return!(M(me)===!1||Object.prototype.hasOwnProperty.call(me,"isPrototypeOf")===!1)}function O(ue){return N(ue)?{...ue}:Array.isArray(ue)?[...ue]:ue}function B(ue){let V=0;for(const me in ue)Object.prototype.hasOwnProperty.call(ue,me)&&V++;return V}const Z=ue=>{const V=typeof ue;switch(V){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(ue)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(ue)?"array":ue===null?"null":ue.then&&typeof ue.then=="function"&&ue.catch&&typeof ue.catch=="function"?"promise":typeof Map<"u"&&ue instanceof Map?"map":typeof Set<"u"&&ue instanceof Set?"set":typeof Date<"u"&&ue instanceof Date?"date":typeof File<"u"&&ue instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${V}`)}};Ge.getParsedType=Z,Ge.propertyKeyTypes=new Set(["string","number","symbol"]),Ge.primitiveTypes=new Set(["string","number","bigint","boolean","symbol","undefined"]);function D(ue){return ue.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function U(ue,V,me){const pe=new ue._zod.constr(V??ue._zod.def);return(!V||me!=null&&me.parent)&&(pe._zod.parent=ue),pe}function z(ue){const V=ue;if(!V)return{};if(typeof V=="string")return{error:()=>V};if((V==null?void 0:V.message)!==void 0){if((V==null?void 0:V.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");V.error=V.message}return delete V.message,typeof V.error=="string"?{...V,error:()=>V.error}:V}function G(ue){let V;return new Proxy({},{get(me,pe,ke){return V??(V=ue()),Reflect.get(V,pe,ke)},set(me,pe,ke,Ie){return V??(V=ue()),Reflect.set(V,pe,ke,Ie)},has(me,pe){return V??(V=ue()),Reflect.has(V,pe)},deleteProperty(me,pe){return V??(V=ue()),Reflect.deleteProperty(V,pe)},ownKeys(me){return V??(V=ue()),Reflect.ownKeys(V)},getOwnPropertyDescriptor(me,pe){return V??(V=ue()),Reflect.getOwnPropertyDescriptor(V,pe)},defineProperty(me,pe,ke){return V??(V=ue()),Reflect.defineProperty(V,pe,ke)}})}function ne(ue){return typeof ue=="bigint"?ue.toString()+"n":typeof ue=="string"?`"${ue}"`:`${ue}`}function A(ue){return Object.keys(ue).filter(V=>ue[V]._zod.optin==="optional"&&ue[V]._zod.optout==="optional")}Ge.NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Ge.BIGINT_FORMAT_RANGES={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function k(ue,V){const me=ue._zod.def,pe=me.checks;if(pe&&pe.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const Ie=S(ue._zod.def,{get shape(){const Re={};for(const Be in V){if(!(Be in me.shape))throw new Error(`Unrecognized key: "${Be}"`);V[Be]&&(Re[Be]=me.shape[Be])}return b(this,"shape",Re),Re},checks:[]});return U(ue,Ie)}function j(ue,V){const me=ue._zod.def,pe=me.checks;if(pe&&pe.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const Ie=S(ue._zod.def,{get shape(){const Re={...ue._zod.def.shape};for(const Be in V){if(!(Be in me.shape))throw new Error(`Unrecognized key: "${Be}"`);V[Be]&&delete Re[Be]}return b(this,"shape",Re),Re},checks:[]});return U(ue,Ie)}function $(ue,V){if(!N(V))throw new Error("Invalid input to extend: expected a plain object");const me=ue._zod.def.checks;if(me&&me.length>0){const Ie=ue._zod.def.shape;for(const Re in V)if(Object.getOwnPropertyDescriptor(Ie,Re)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const ke=S(ue._zod.def,{get shape(){const Ie={...ue._zod.def.shape,...V};return b(this,"shape",Ie),Ie}});return U(ue,ke)}function F(ue,V){if(!N(V))throw new Error("Invalid input to safeExtend: expected a plain object");const me=S(ue._zod.def,{get shape(){const pe={...ue._zod.def.shape,...V};return b(this,"shape",pe),pe}});return U(ue,me)}function R(ue,V){const me=S(ue._zod.def,{get shape(){const pe={...ue._zod.def.shape,...V._zod.def.shape};return b(this,"shape",pe),pe},get catchall(){return V._zod.def.catchall},checks:[]});return U(ue,me)}function W(ue,V,me){const ke=V._zod.def.checks;if(ke&&ke.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const Re=S(V._zod.def,{get shape(){const Be=V._zod.def.shape,ot={...Be};if(me)for(const st in me){if(!(st in Be))throw new Error(`Unrecognized key: "${st}"`);me[st]&&(ot[st]=ue?new ue({type:"optional",innerType:Be[st]}):Be[st])}else for(const st in Be)ot[st]=ue?new ue({type:"optional",innerType:Be[st]}):Be[st];return b(this,"shape",ot),ot},checks:[]});return U(V,Re)}function Y(ue,V,me){const pe=S(V._zod.def,{get shape(){const ke=V._zod.def.shape,Ie={...ke};if(me)for(const Re in me){if(!(Re in Ie))throw new Error(`Unrecognized key: "${Re}"`);me[Re]&&(Ie[Re]=new ue({type:"nonoptional",innerType:ke[Re]}))}else for(const Re in ke)Ie[Re]=new ue({type:"nonoptional",innerType:ke[Re]});return b(this,"shape",Ie),Ie}});return U(V,pe)}function te(ue,V=0){var me;if(ue.aborted===!0)return!0;for(let pe=V;pe<ue.issues.length;pe++)if(((me=ue.issues[pe])==null?void 0:me.continue)!==!0)return!0;return!1}function ie(ue,V){return V.map(me=>{var pe;return(pe=me).path??(pe.path=[]),me.path.unshift(ue),me})}function J(ue){return typeof ue=="string"?ue:ue==null?void 0:ue.message}function ee(ue,V,me){var ke,Ie,Re,Be,ot,st;const pe={...ue,path:ue.path??[]};if(!ue.message){const pt=J((Re=(Ie=(ke=ue.inst)==null?void 0:ke._zod.def)==null?void 0:Ie.error)==null?void 0:Re.call(Ie,ue))??J((Be=V==null?void 0:V.error)==null?void 0:Be.call(V,ue))??J((ot=me.customError)==null?void 0:ot.call(me,ue))??J((st=me.localeError)==null?void 0:st.call(me,ue))??"Invalid input";pe.message=pt}return delete pe.inst,delete pe.continue,V!=null&&V.reportInput||delete pe.input,pe}function Q(ue){return ue instanceof Set?"set":ue instanceof Map?"map":ue instanceof File?"file":"unknown"}function he(ue){return Array.isArray(ue)?"array":typeof ue=="string"?"string":"unknown"}function ge(ue){const V=typeof ue;switch(V){case"number":return Number.isNaN(ue)?"nan":"number";case"object":{if(ue===null)return"null";if(Array.isArray(ue))return"array";const me=ue;if(me&&Object.getPrototypeOf(me)!==Object.prototype&&"constructor"in me&&me.constructor)return me.constructor.name}}return V}function ye(...ue){const[V,me,pe]=ue;return typeof V=="string"?{message:V,code:"custom",input:me,inst:pe}:{...V}}function _e(ue){return Object.entries(ue).filter(([V,me])=>Number.isNaN(Number.parseInt(V,10))).map(V=>V[1])}function H(ue){const V=atob(ue),me=new Uint8Array(V.length);for(let pe=0;pe<V.length;pe++)me[pe]=V.charCodeAt(pe);return me}function Se(ue){let V="";for(let me=0;me<ue.length;me++)V+=String.fromCharCode(ue[me]);return btoa(V)}function Ce(ue){const V=ue.replace(/-/g,"+").replace(/_/g,"/"),me="=".repeat((4-V.length%4)%4);return H(V+me)}function se(ue){return Se(ue).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ae(ue){const V=ue.replace(/^0x/,"");if(V.length%2!==0)throw new Error("Invalid hex string length");const me=new Uint8Array(V.length/2);for(let pe=0;pe<V.length;pe+=2)me[pe/2]=Number.parseInt(V.slice(pe,pe+2),16);return me}function xe(ue){return Array.from(ue).map(V=>V.toString(16).padStart(2,"0")).join("")}class $e{constructor(...V){}}return Ge.Class=$e,Ge}var Fx;function dj(){if(Fx)return vr;Fx=1;var e=vr&&vr.__createBinding||(Object.create?(function(p,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(p,m,b)}):(function(p,l,f,m){m===void 0&&(m=f),p[m]=l[f]})),t=vr&&vr.__setModuleDefault||(Object.create?(function(p,l){Object.defineProperty(p,"default",{enumerable:!0,value:l})}):function(p,l){p.default=l}),r=vr&&vr.__importStar||function(p){if(p&&p.__esModule)return p;var l={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&e(l,p,f);return t(l,p),l};Object.defineProperty(vr,"__esModule",{value:!0}),vr.$ZodRealError=vr.$ZodError=void 0,vr.flattenError=s,vr.formatError=d,vr.treeifyError=c,vr.toDotPath=u,vr.prettifyError=h;const n=bu(),i=r(tt()),o=(p,l)=>{p.name="$ZodError",Object.defineProperty(p,"_zod",{value:p._zod,enumerable:!1}),Object.defineProperty(p,"issues",{value:l,enumerable:!1}),p.message=JSON.stringify(l,i.jsonStringifyReplacer,2),Object.defineProperty(p,"toString",{value:()=>p.message,enumerable:!1})};vr.$ZodError=(0,n.$constructor)("$ZodError",o),vr.$ZodRealError=(0,n.$constructor)("$ZodError",o,{Parent:Error});function s(p,l=f=>f.message){const f={},m=[];for(const b of p.issues)b.path.length>0?(f[b.path[0]]=f[b.path[0]]||[],f[b.path[0]].push(l(b))):m.push(l(b));return{formErrors:m,fieldErrors:f}}function d(p,l=f=>f.message){const f={_errors:[]},m=b=>{for(const S of b.issues)if(S.code==="invalid_union"&&S.errors.length)S.errors.map(x=>m({issues:x}));else if(S.code==="invalid_key")m({issues:S.issues});else if(S.code==="invalid_element")m({issues:S.issues});else if(S.path.length===0)f._errors.push(l(S));else{let x=f,w=0;for(;w<S.path.length;){const y=S.path[w];w===S.path.length-1?(x[y]=x[y]||{_errors:[]},x[y]._errors.push(l(S))):x[y]=x[y]||{_errors:[]},x=x[y],w++}}};return m(p),f}function c(p,l=f=>f.message){const f={errors:[]},m=(b,S=[])=>{var x,w;for(const y of b.issues)if(y.code==="invalid_union"&&y.errors.length)y.errors.map(_=>m({issues:_},y.path));else if(y.code==="invalid_key")m({issues:y.issues},y.path);else if(y.code==="invalid_element")m({issues:y.issues},y.path);else{const _=[...S,...y.path];if(_.length===0){f.errors.push(l(y));continue}let P=f,T=0;for(;T<_.length;){const M=_[T],N=T===_.length-1;typeof M=="string"?(P.properties??(P.properties={}),(x=P.properties)[M]??(x[M]={errors:[]}),P=P.properties[M]):(P.items??(P.items=[]),(w=P.items)[M]??(w[M]={errors:[]}),P=P.items[M]),N&&P.errors.push(l(y)),T++}}};return m(p),f}function u(p){const l=[],f=p.map(m=>typeof m=="object"?m.key:m);for(const m of f)typeof m=="number"?l.push(`[${m}]`):typeof m=="symbol"?l.push(`[${JSON.stringify(String(m))}]`):/[^\w$]/.test(m)?l.push(`[${JSON.stringify(m)}]`):(l.length&&l.push("."),l.push(m));return l.join("")}function h(p){var m;const l=[],f=[...p.issues].sort((b,S)=>(b.path??[]).length-(S.path??[]).length);for(const b of f)l.push(`✖ ${b.message}`),(m=b.path)!=null&&m.length&&l.push(`  → at ${u(b.path)}`);return l.join(`
`)}return vr}var Mx;function hj(){return Mx||(Mx=1,(function(e){var t=ha&&ha.__createBinding||(Object.create?(function(y,_,P,T){T===void 0&&(T=P);var M=Object.getOwnPropertyDescriptor(_,P);(!M||("get"in M?!_.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return _[P]}}),Object.defineProperty(y,T,M)}):(function(y,_,P,T){T===void 0&&(T=P),y[T]=_[P]})),r=ha&&ha.__setModuleDefault||(Object.create?(function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}):function(y,_){y.default=_}),n=ha&&ha.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var P in y)P!=="default"&&Object.prototype.hasOwnProperty.call(y,P)&&t(_,y,P);return r(_,y),_};Object.defineProperty(e,"__esModule",{value:!0}),e.safeDecodeAsync=e._safeDecodeAsync=e.safeEncodeAsync=e._safeEncodeAsync=e.safeDecode=e._safeDecode=e.safeEncode=e._safeEncode=e.decodeAsync=e._decodeAsync=e.encodeAsync=e._encodeAsync=e.decode=e._decode=e.encode=e._encode=e.safeParseAsync=e._safeParseAsync=e.safeParse=e._safeParse=e.parseAsync=e._parseAsync=e.parse=e._parse=void 0;const i=n(bu()),o=n(dj()),s=n(tt()),d=y=>(_,P,T,M)=>{const N=T?Object.assign(T,{async:!1}):{async:!1},O=_._zod.run({value:P,issues:[]},N);if(O instanceof Promise)throw new i.$ZodAsyncError;if(O.issues.length){const B=new((M==null?void 0:M.Err)??y)(O.issues.map(Z=>s.finalizeIssue(Z,N,i.config())));throw s.captureStackTrace(B,M==null?void 0:M.callee),B}return O.value};e._parse=d,e.parse=(0,e._parse)(o.$ZodRealError);const c=y=>async(_,P,T,M)=>{const N=T?Object.assign(T,{async:!0}):{async:!0};let O=_._zod.run({value:P,issues:[]},N);if(O instanceof Promise&&(O=await O),O.issues.length){const B=new((M==null?void 0:M.Err)??y)(O.issues.map(Z=>s.finalizeIssue(Z,N,i.config())));throw s.captureStackTrace(B,M==null?void 0:M.callee),B}return O.value};e._parseAsync=c,e.parseAsync=(0,e._parseAsync)(o.$ZodRealError);const u=y=>(_,P,T)=>{const M=T?{...T,async:!1}:{async:!1},N=_._zod.run({value:P,issues:[]},M);if(N instanceof Promise)throw new i.$ZodAsyncError;return N.issues.length?{success:!1,error:new(y??o.$ZodError)(N.issues.map(O=>s.finalizeIssue(O,M,i.config())))}:{success:!0,data:N.value}};e._safeParse=u,e.safeParse=(0,e._safeParse)(o.$ZodRealError);const h=y=>async(_,P,T)=>{const M=T?Object.assign(T,{async:!0}):{async:!0};let N=_._zod.run({value:P,issues:[]},M);return N instanceof Promise&&(N=await N),N.issues.length?{success:!1,error:new y(N.issues.map(O=>s.finalizeIssue(O,M,i.config())))}:{success:!0,data:N.value}};e._safeParseAsync=h,e.safeParseAsync=(0,e._safeParseAsync)(o.$ZodRealError);const p=y=>(_,P,T)=>{const M=T?Object.assign(T,{direction:"backward"}):{direction:"backward"};return(0,e._parse)(y)(_,P,M)};e._encode=p,e.encode=(0,e._encode)(o.$ZodRealError);const l=y=>(_,P,T)=>(0,e._parse)(y)(_,P,T);e._decode=l,e.decode=(0,e._decode)(o.$ZodRealError);const f=y=>async(_,P,T)=>{const M=T?Object.assign(T,{direction:"backward"}):{direction:"backward"};return(0,e._parseAsync)(y)(_,P,M)};e._encodeAsync=f,e.encodeAsync=(0,e._encodeAsync)(o.$ZodRealError);const m=y=>async(_,P,T)=>(0,e._parseAsync)(y)(_,P,T);e._decodeAsync=m,e.decodeAsync=(0,e._decodeAsync)(o.$ZodRealError);const b=y=>(_,P,T)=>{const M=T?Object.assign(T,{direction:"backward"}):{direction:"backward"};return(0,e._safeParse)(y)(_,P,M)};e._safeEncode=b,e.safeEncode=(0,e._safeEncode)(o.$ZodRealError);const S=y=>(_,P,T)=>(0,e._safeParse)(y)(_,P,T);e._safeDecode=S,e.safeDecode=(0,e._safeDecode)(o.$ZodRealError);const x=y=>async(_,P,T)=>{const M=T?Object.assign(T,{direction:"backward"}):{direction:"backward"};return(0,e._safeParseAsync)(y)(_,P,M)};e._safeEncodeAsync=x,e.safeEncodeAsync=(0,e._safeEncodeAsync)(o.$ZodRealError);const w=y=>async(_,P,T)=>(0,e._safeParseAsync)(y)(_,P,T);e._safeDecodeAsync=w,e.safeDecodeAsync=(0,e._safeDecodeAsync)(o.$ZodRealError)})(ha)),ha}var fa={},pa={},ma={},Lx;function V0(){return Lx||(Lx=1,(function(e){var t=ma&&ma.__createBinding||(Object.create?(function(w,y,_,P){P===void 0&&(P=_);var T=Object.getOwnPropertyDescriptor(y,_);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[_]}}),Object.defineProperty(w,P,T)}):(function(w,y,_,P){P===void 0&&(P=_),w[P]=y[_]})),r=ma&&ma.__setModuleDefault||(Object.create?(function(w,y){Object.defineProperty(w,"default",{enumerable:!0,value:y})}):function(w,y){w.default=y}),n=ma&&ma.__importStar||function(w){if(w&&w.__esModule)return w;var y={};if(w!=null)for(var _ in w)_!=="default"&&Object.prototype.hasOwnProperty.call(w,_)&&t(y,w,_);return r(y,w),y};Object.defineProperty(e,"__esModule",{value:!0}),e.sha384_hex=e.sha256_base64url=e.sha256_base64=e.sha256_hex=e.sha1_base64url=e.sha1_base64=e.sha1_hex=e.md5_base64url=e.md5_base64=e.md5_hex=e.hex=e.uppercase=e.lowercase=e.undefined=e.null=e.boolean=e.number=e.integer=e.bigint=e.string=e.date=e.e164=e.domain=e.hostname=e.base64url=e.base64=e.cidrv6=e.cidrv4=e.mac=e.ipv6=e.ipv4=e.browserEmail=e.idnEmail=e.unicodeEmail=e.rfc5322Email=e.html5Email=e.email=e.uuid7=e.uuid6=e.uuid4=e.uuid=e.guid=e.extendedDuration=e.duration=e.nanoid=e.ksuid=e.xid=e.ulid=e.cuid2=e.cuid=void 0,e.sha512_base64url=e.sha512_base64=e.sha512_hex=e.sha384_base64url=e.sha384_base64=void 0,e.emoji=d,e.time=p,e.datetime=l;const i=n(tt());e.cuid=/^[cC][^\s-]{8,}$/,e.cuid2=/^[0-9a-z]+$/,e.ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,e.xid=/^[0-9a-vA-V]{20}$/,e.ksuid=/^[A-Za-z0-9]{27}$/,e.nanoid=/^[a-zA-Z0-9_-]{21}$/,e.duration=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,e.extendedDuration=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e.guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;const o=w=>w?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${w}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;e.uuid=o,e.uuid4=(0,e.uuid)(4),e.uuid6=(0,e.uuid)(6),e.uuid7=(0,e.uuid)(7),e.email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,e.html5Email=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e.rfc5322Email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e.unicodeEmail=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,e.idnEmail=e.unicodeEmail,e.browserEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;const s="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function d(){return new RegExp(s,"u")}e.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e.ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;const c=w=>{const y=i.escapeRegex(w??":");return new RegExp(`^(?:[0-9A-F]{2}${y}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${y}){5}[0-9a-f]{2}$`)};e.mac=c,e.cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,e.cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e.base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,e.base64url=/^[A-Za-z0-9_-]*$/,e.hostname=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,e.domain=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,e.e164=/^\+[1-9]\d{6,14}$/;const u="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";e.date=new RegExp(`^${u}$`);function h(w){const y="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof w.precision=="number"?w.precision===-1?`${y}`:w.precision===0?`${y}:[0-5]\\d`:`${y}:[0-5]\\d\\.\\d{${w.precision}}`:`${y}(?::[0-5]\\d(?:\\.\\d+)?)?`}function p(w){return new RegExp(`^${h(w)}$`)}function l(w){const y=h({precision:w.precision}),_=["Z"];w.local&&_.push(""),w.offset&&_.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const P=`${y}(?:${_.join("|")})`;return new RegExp(`^${u}T(?:${P})$`)}const f=w=>{const y=w?`[\\s\\S]{${(w==null?void 0:w.minimum)??0},${(w==null?void 0:w.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${y}$`)};e.string=f,e.bigint=/^-?\d+n?$/,e.integer=/^-?\d+$/,e.number=/^-?\d+(?:\.\d+)?$/,e.boolean=/^(?:true|false)$/i;const m=/^null$/i;e.null=m;const b=/^undefined$/i;e.undefined=b,e.lowercase=/^[^A-Z]*$/,e.uppercase=/^[^a-z]*$/,e.hex=/^[0-9a-fA-F]*$/;function S(w,y){return new RegExp(`^[A-Za-z0-9+/]{${w}}${y}$`)}function x(w){return new RegExp(`^[A-Za-z0-9_-]{${w}}$`)}e.md5_hex=/^[0-9a-fA-F]{32}$/,e.md5_base64=S(22,"=="),e.md5_base64url=x(22),e.sha1_hex=/^[0-9a-fA-F]{40}$/,e.sha1_base64=S(27,"="),e.sha1_base64url=x(27),e.sha256_hex=/^[0-9a-fA-F]{64}$/,e.sha256_base64=S(43,"="),e.sha256_base64url=x(43),e.sha384_hex=/^[0-9a-fA-F]{96}$/,e.sha384_base64=S(64,""),e.sha384_base64url=x(64),e.sha512_hex=/^[0-9a-fA-F]{128}$/,e.sha512_base64=S(86,"=="),e.sha512_base64url=x(86)})(ma)),ma}var Ax;function W0(){return Ax||(Ax=1,(function(e){var t=pa&&pa.__createBinding||(Object.create?(function(u,h,p,l){l===void 0&&(l=p);var f=Object.getOwnPropertyDescriptor(h,p);(!f||("get"in f?!h.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(u,l,f)}):(function(u,h,p,l){l===void 0&&(l=p),u[l]=h[p]})),r=pa&&pa.__setModuleDefault||(Object.create?(function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}):function(u,h){u.default=h}),n=pa&&pa.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&t(h,u,p);return r(h,u),h};Object.defineProperty(e,"__esModule",{value:!0}),e.$ZodCheckOverwrite=e.$ZodCheckMimeType=e.$ZodCheckProperty=e.$ZodCheckEndsWith=e.$ZodCheckStartsWith=e.$ZodCheckIncludes=e.$ZodCheckUpperCase=e.$ZodCheckLowerCase=e.$ZodCheckRegex=e.$ZodCheckStringFormat=e.$ZodCheckLengthEquals=e.$ZodCheckMinLength=e.$ZodCheckMaxLength=e.$ZodCheckSizeEquals=e.$ZodCheckMinSize=e.$ZodCheckMaxSize=e.$ZodCheckBigIntFormat=e.$ZodCheckNumberFormat=e.$ZodCheckMultipleOf=e.$ZodCheckGreaterThan=e.$ZodCheckLessThan=e.$ZodCheck=void 0;const i=n(bu()),o=n(V0()),s=n(tt());e.$ZodCheck=i.$constructor("$ZodCheck",(u,h)=>{var p;u._zod??(u._zod={}),u._zod.def=h,(p=u._zod).onattach??(p.onattach=[])});const d={number:"number",bigint:"bigint",object:"date"};e.$ZodCheckLessThan=i.$constructor("$ZodCheckLessThan",(u,h)=>{e.$ZodCheck.init(u,h);const p=d[typeof h.value];u._zod.onattach.push(l=>{const f=l._zod.bag,m=(h.inclusive?f.maximum:f.exclusiveMaximum)??Number.POSITIVE_INFINITY;h.value<m&&(h.inclusive?f.maximum=h.value:f.exclusiveMaximum=h.value)}),u._zod.check=l=>{(h.inclusive?l.value<=h.value:l.value<h.value)||l.issues.push({origin:p,code:"too_big",maximum:typeof h.value=="object"?h.value.getTime():h.value,input:l.value,inclusive:h.inclusive,inst:u,continue:!h.abort})}}),e.$ZodCheckGreaterThan=i.$constructor("$ZodCheckGreaterThan",(u,h)=>{e.$ZodCheck.init(u,h);const p=d[typeof h.value];u._zod.onattach.push(l=>{const f=l._zod.bag,m=(h.inclusive?f.minimum:f.exclusiveMinimum)??Number.NEGATIVE_INFINITY;h.value>m&&(h.inclusive?f.minimum=h.value:f.exclusiveMinimum=h.value)}),u._zod.check=l=>{(h.inclusive?l.value>=h.value:l.value>h.value)||l.issues.push({origin:p,code:"too_small",minimum:typeof h.value=="object"?h.value.getTime():h.value,input:l.value,inclusive:h.inclusive,inst:u,continue:!h.abort})}}),e.$ZodCheckMultipleOf=i.$constructor("$ZodCheckMultipleOf",(u,h)=>{e.$ZodCheck.init(u,h),u._zod.onattach.push(p=>{var l;(l=p._zod.bag).multipleOf??(l.multipleOf=h.value)}),u._zod.check=p=>{if(typeof p.value!=typeof h.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof p.value=="bigint"?p.value%h.value===BigInt(0):s.floatSafeRemainder(p.value,h.value)===0)||p.issues.push({origin:typeof p.value,code:"not_multiple_of",divisor:h.value,input:p.value,inst:u,continue:!h.abort})}}),e.$ZodCheckNumberFormat=i.$constructor("$ZodCheckNumberFormat",(u,h)=>{var b;e.$ZodCheck.init(u,h),h.format=h.format||"float64";const p=(b=h.format)==null?void 0:b.includes("int"),l=p?"int":"number",[f,m]=s.NUMBER_FORMAT_RANGES[h.format];u._zod.onattach.push(S=>{const x=S._zod.bag;x.format=h.format,x.minimum=f,x.maximum=m,p&&(x.pattern=o.integer)}),u._zod.check=S=>{const x=S.value;if(p){if(!Number.isInteger(x)){S.issues.push({expected:l,format:h.format,code:"invalid_type",continue:!1,input:x,inst:u});return}if(!Number.isSafeInteger(x)){x>0?S.issues.push({input:x,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:u,origin:l,inclusive:!0,continue:!h.abort}):S.issues.push({input:x,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:u,origin:l,inclusive:!0,continue:!h.abort});return}}x<f&&S.issues.push({origin:"number",input:x,code:"too_small",minimum:f,inclusive:!0,inst:u,continue:!h.abort}),x>m&&S.issues.push({origin:"number",input:x,code:"too_big",maximum:m,inclusive:!0,inst:u,continue:!h.abort})}}),e.$ZodCheckBigIntFormat=i.$constructor("$ZodCheckBigIntFormat",(u,h)=>{e.$ZodCheck.init(u,h);const[p,l]=s.BIGINT_FORMAT_RANGES[h.format];u._zod.onattach.push(f=>{const m=f._zod.bag;m.format=h.format,m.minimum=p,m.maximum=l}),u._zod.check=f=>{const m=f.value;m<p&&f.issues.push({origin:"bigint",input:m,code:"too_small",minimum:p,inclusive:!0,inst:u,continue:!h.abort}),m>l&&f.issues.push({origin:"bigint",input:m,code:"too_big",maximum:l,inclusive:!0,inst:u,continue:!h.abort})}}),e.$ZodCheckMaxSize=i.$constructor("$ZodCheckMaxSize",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.size!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag.maximum??Number.POSITIVE_INFINITY;h.maximum<f&&(l._zod.bag.maximum=h.maximum)}),u._zod.check=l=>{const f=l.value;f.size<=h.maximum||l.issues.push({origin:s.getSizableOrigin(f),code:"too_big",maximum:h.maximum,inclusive:!0,input:f,inst:u,continue:!h.abort})}}),e.$ZodCheckMinSize=i.$constructor("$ZodCheckMinSize",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.size!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;h.minimum>f&&(l._zod.bag.minimum=h.minimum)}),u._zod.check=l=>{const f=l.value;f.size>=h.minimum||l.issues.push({origin:s.getSizableOrigin(f),code:"too_small",minimum:h.minimum,inclusive:!0,input:f,inst:u,continue:!h.abort})}}),e.$ZodCheckSizeEquals=i.$constructor("$ZodCheckSizeEquals",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.size!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag;f.minimum=h.size,f.maximum=h.size,f.size=h.size}),u._zod.check=l=>{const f=l.value,m=f.size;if(m===h.size)return;const b=m>h.size;l.issues.push({origin:s.getSizableOrigin(f),...b?{code:"too_big",maximum:h.size}:{code:"too_small",minimum:h.size},inclusive:!0,exact:!0,input:l.value,inst:u,continue:!h.abort})}}),e.$ZodCheckMaxLength=i.$constructor("$ZodCheckMaxLength",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.length!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag.maximum??Number.POSITIVE_INFINITY;h.maximum<f&&(l._zod.bag.maximum=h.maximum)}),u._zod.check=l=>{const f=l.value;if(f.length<=h.maximum)return;const b=s.getLengthableOrigin(f);l.issues.push({origin:b,code:"too_big",maximum:h.maximum,inclusive:!0,input:f,inst:u,continue:!h.abort})}}),e.$ZodCheckMinLength=i.$constructor("$ZodCheckMinLength",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.length!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;h.minimum>f&&(l._zod.bag.minimum=h.minimum)}),u._zod.check=l=>{const f=l.value;if(f.length>=h.minimum)return;const b=s.getLengthableOrigin(f);l.issues.push({origin:b,code:"too_small",minimum:h.minimum,inclusive:!0,input:f,inst:u,continue:!h.abort})}}),e.$ZodCheckLengthEquals=i.$constructor("$ZodCheckLengthEquals",(u,h)=>{var p;e.$ZodCheck.init(u,h),(p=u._zod.def).when??(p.when=l=>{const f=l.value;return!s.nullish(f)&&f.length!==void 0}),u._zod.onattach.push(l=>{const f=l._zod.bag;f.minimum=h.length,f.maximum=h.length,f.length=h.length}),u._zod.check=l=>{const f=l.value,m=f.length;if(m===h.length)return;const b=s.getLengthableOrigin(f),S=m>h.length;l.issues.push({origin:b,...S?{code:"too_big",maximum:h.length}:{code:"too_small",minimum:h.length},inclusive:!0,exact:!0,input:l.value,inst:u,continue:!h.abort})}}),e.$ZodCheckStringFormat=i.$constructor("$ZodCheckStringFormat",(u,h)=>{var p,l;e.$ZodCheck.init(u,h),u._zod.onattach.push(f=>{const m=f._zod.bag;m.format=h.format,h.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(h.pattern))}),h.pattern?(p=u._zod).check??(p.check=f=>{h.pattern.lastIndex=0,!h.pattern.test(f.value)&&f.issues.push({origin:"string",code:"invalid_format",format:h.format,input:f.value,...h.pattern?{pattern:h.pattern.toString()}:{},inst:u,continue:!h.abort})}):(l=u._zod).check??(l.check=()=>{})}),e.$ZodCheckRegex=i.$constructor("$ZodCheckRegex",(u,h)=>{e.$ZodCheckStringFormat.init(u,h),u._zod.check=p=>{h.pattern.lastIndex=0,!h.pattern.test(p.value)&&p.issues.push({origin:"string",code:"invalid_format",format:"regex",input:p.value,pattern:h.pattern.toString(),inst:u,continue:!h.abort})}}),e.$ZodCheckLowerCase=i.$constructor("$ZodCheckLowerCase",(u,h)=>{h.pattern??(h.pattern=o.lowercase),e.$ZodCheckStringFormat.init(u,h)}),e.$ZodCheckUpperCase=i.$constructor("$ZodCheckUpperCase",(u,h)=>{h.pattern??(h.pattern=o.uppercase),e.$ZodCheckStringFormat.init(u,h)}),e.$ZodCheckIncludes=i.$constructor("$ZodCheckIncludes",(u,h)=>{e.$ZodCheck.init(u,h);const p=s.escapeRegex(h.includes),l=new RegExp(typeof h.position=="number"?`^.{${h.position}}${p}`:p);h.pattern=l,u._zod.onattach.push(f=>{const m=f._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(l)}),u._zod.check=f=>{f.value.includes(h.includes,h.position)||f.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:h.includes,input:f.value,inst:u,continue:!h.abort})}}),e.$ZodCheckStartsWith=i.$constructor("$ZodCheckStartsWith",(u,h)=>{e.$ZodCheck.init(u,h);const p=new RegExp(`^${s.escapeRegex(h.prefix)}.*`);h.pattern??(h.pattern=p),u._zod.onattach.push(l=>{const f=l._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(p)}),u._zod.check=l=>{l.value.startsWith(h.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:h.prefix,input:l.value,inst:u,continue:!h.abort})}}),e.$ZodCheckEndsWith=i.$constructor("$ZodCheckEndsWith",(u,h)=>{e.$ZodCheck.init(u,h);const p=new RegExp(`.*${s.escapeRegex(h.suffix)}$`);h.pattern??(h.pattern=p),u._zod.onattach.push(l=>{const f=l._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(p)}),u._zod.check=l=>{l.value.endsWith(h.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:h.suffix,input:l.value,inst:u,continue:!h.abort})}});function c(u,h,p){u.issues.length&&h.issues.push(...s.prefixIssues(p,u.issues))}e.$ZodCheckProperty=i.$constructor("$ZodCheckProperty",(u,h)=>{e.$ZodCheck.init(u,h),u._zod.check=p=>{const l=h.schema._zod.run({value:p.value[h.property],issues:[]},{});if(l instanceof Promise)return l.then(f=>c(f,p,h.property));c(l,p,h.property)}}),e.$ZodCheckMimeType=i.$constructor("$ZodCheckMimeType",(u,h)=>{e.$ZodCheck.init(u,h);const p=new Set(h.mime);u._zod.onattach.push(l=>{l._zod.bag.mime=h.mime}),u._zod.check=l=>{p.has(l.value.type)||l.issues.push({code:"invalid_value",values:h.mime,input:l.value.type,inst:u,continue:!h.abort})}}),e.$ZodCheckOverwrite=i.$constructor("$ZodCheckOverwrite",(u,h)=>{e.$ZodCheck.init(u,h),u._zod.check=p=>{p.value=h.tx(p.value)}})})(pa)),pa}var nl={},Rx;function fj(){if(Rx)return nl;Rx=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.Doc=void 0;class e{constructor(r=[]){this.content=[],this.indent=0,this&&(this.args=r)}indented(r){this.indent+=1,r(this),this.indent-=1}write(r){if(typeof r=="function"){r(this,{execution:"sync"}),r(this,{execution:"async"});return}const i=r.split(`
`).filter(d=>d),o=Math.min(...i.map(d=>d.length-d.trimStart().length)),s=i.map(d=>d.slice(o)).map(d=>" ".repeat(this.indent*2)+d);for(const d of s)this.content.push(d)}compile(){const r=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new r(...n,o.join(`
`))}}return nl.Doc=e,nl}var al={},Bx;function pj(){return Bx||(Bx=1,Object.defineProperty(al,"__esModule",{value:!0}),al.version=void 0,al.version={major:4,minor:3,patch:6}),al}var Ux;function mj(){return Ux||(Ux=1,(function(e){var t=fa&&fa.__createBinding||(Object.create?(function(k,j,$,F){F===void 0&&(F=$);var R=Object.getOwnPropertyDescriptor(j,$);(!R||("get"in R?!j.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return j[$]}}),Object.defineProperty(k,F,R)}):(function(k,j,$,F){F===void 0&&(F=$),k[F]=j[$]})),r=fa&&fa.__setModuleDefault||(Object.create?(function(k,j){Object.defineProperty(k,"default",{enumerable:!0,value:j})}):function(k,j){k.default=j}),n=fa&&fa.__importStar||function(k){if(k&&k.__esModule)return k;var j={};if(k!=null)for(var $ in k)$!=="default"&&Object.prototype.hasOwnProperty.call(k,$)&&t(j,k,$);return r(j,k),j};Object.defineProperty(e,"__esModule",{value:!0}),e.$ZodTuple=e.$ZodIntersection=e.$ZodDiscriminatedUnion=e.$ZodXor=e.$ZodUnion=e.$ZodObjectJIT=e.$ZodObject=e.$ZodArray=e.$ZodDate=e.$ZodVoid=e.$ZodNever=e.$ZodUnknown=e.$ZodAny=e.$ZodNull=e.$ZodUndefined=e.$ZodSymbol=e.$ZodBigIntFormat=e.$ZodBigInt=e.$ZodBoolean=e.$ZodNumberFormat=e.$ZodNumber=e.$ZodCustomStringFormat=e.$ZodJWT=e.$ZodE164=e.$ZodBase64URL=e.$ZodBase64=e.$ZodCIDRv6=e.$ZodCIDRv4=e.$ZodMAC=e.$ZodIPv6=e.$ZodIPv4=e.$ZodISODuration=e.$ZodISOTime=e.$ZodISODate=e.$ZodISODateTime=e.$ZodKSUID=e.$ZodXID=e.$ZodULID=e.$ZodCUID2=e.$ZodCUID=e.$ZodNanoID=e.$ZodEmoji=e.$ZodURL=e.$ZodEmail=e.$ZodUUID=e.$ZodGUID=e.$ZodStringFormat=e.$ZodString=e.clone=e.$ZodType=void 0,e.$ZodCustom=e.$ZodLazy=e.$ZodPromise=e.$ZodFunction=e.$ZodTemplateLiteral=e.$ZodReadonly=e.$ZodCodec=e.$ZodPipe=e.$ZodNaN=e.$ZodCatch=e.$ZodSuccess=e.$ZodNonOptional=e.$ZodPrefault=e.$ZodDefault=e.$ZodNullable=e.$ZodExactOptional=e.$ZodOptional=e.$ZodTransform=e.$ZodFile=e.$ZodLiteral=e.$ZodEnum=e.$ZodSet=e.$ZodMap=e.$ZodRecord=void 0,e.isValidBase64=l,e.isValidBase64URL=f,e.isValidJWT=m;const i=n(W0()),o=n(bu()),s=fj(),d=hj(),c=n(V0()),u=n(tt()),h=pj();e.$ZodType=o.$constructor("$ZodType",(k,j)=>{var R;var $;k??(k={}),k._zod.def=j,k._zod.bag=k._zod.bag||{},k._zod.version=h.version;const F=[...k._zod.def.checks??[]];k._zod.traits.has("$ZodCheck")&&F.unshift(k);for(const W of F)for(const Y of W._zod.onattach)Y(k);if(F.length===0)($=k._zod).deferred??($.deferred=[]),(R=k._zod.deferred)==null||R.push(()=>{k._zod.run=k._zod.parse});else{const W=(te,ie,J)=>{let ee=u.aborted(te),Q;for(const he of ie){if(he._zod.def.when){if(!he._zod.def.when(te))continue}else if(ee)continue;const ge=te.issues.length,ye=he._zod.check(te);if(ye instanceof Promise&&(J==null?void 0:J.async)===!1)throw new o.$ZodAsyncError;if(Q||ye instanceof Promise)Q=(Q??Promise.resolve()).then(async()=>{await ye,te.issues.length!==ge&&(ee||(ee=u.aborted(te,ge)))});else{if(te.issues.length===ge)continue;ee||(ee=u.aborted(te,ge))}}return Q?Q.then(()=>te):te},Y=(te,ie,J)=>{if(u.aborted(te))return te.aborted=!0,te;const ee=W(ie,F,J);if(ee instanceof Promise){if(J.async===!1)throw new o.$ZodAsyncError;return ee.then(Q=>k._zod.parse(Q,J))}return k._zod.parse(ee,J)};k._zod.run=(te,ie)=>{if(ie.skipChecks)return k._zod.parse(te,ie);if(ie.direction==="backward"){const ee=k._zod.parse({value:te.value,issues:[]},{...ie,skipChecks:!0});return ee instanceof Promise?ee.then(Q=>Y(Q,te,ie)):Y(ee,te,ie)}const J=k._zod.parse(te,ie);if(J instanceof Promise){if(ie.async===!1)throw new o.$ZodAsyncError;return J.then(ee=>W(ee,F,ie))}return W(J,F,ie)}}u.defineLazy(k,"~standard",()=>({validate:W=>{var Y;try{const te=(0,d.safeParse)(k,W);return te.success?{value:te.data}:{issues:(Y=te.error)==null?void 0:Y.issues}}catch{return(0,d.safeParseAsync)(k,W).then(ie=>{var J;return ie.success?{value:ie.data}:{issues:(J=ie.error)==null?void 0:J.issues}})}},vendor:"zod",version:1}))});var p=tt();Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return p.clone}}),e.$ZodString=o.$constructor("$ZodString",(k,j)=>{var $;e.$ZodType.init(k,j),k._zod.pattern=[...(($=k==null?void 0:k._zod.bag)==null?void 0:$.patterns)??[]].pop()??c.string(k._zod.bag),k._zod.parse=(F,R)=>{if(j.coerce)try{F.value=String(F.value)}catch{}return typeof F.value=="string"||F.issues.push({expected:"string",code:"invalid_type",input:F.value,inst:k}),F}}),e.$ZodStringFormat=o.$constructor("$ZodStringFormat",(k,j)=>{i.$ZodCheckStringFormat.init(k,j),e.$ZodString.init(k,j)}),e.$ZodGUID=o.$constructor("$ZodGUID",(k,j)=>{j.pattern??(j.pattern=c.guid),e.$ZodStringFormat.init(k,j)}),e.$ZodUUID=o.$constructor("$ZodUUID",(k,j)=>{if(j.version){const F={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[j.version];if(F===void 0)throw new Error(`Invalid UUID version: "${j.version}"`);j.pattern??(j.pattern=c.uuid(F))}else j.pattern??(j.pattern=c.uuid());e.$ZodStringFormat.init(k,j)}),e.$ZodEmail=o.$constructor("$ZodEmail",(k,j)=>{j.pattern??(j.pattern=c.email),e.$ZodStringFormat.init(k,j)}),e.$ZodURL=o.$constructor("$ZodURL",(k,j)=>{e.$ZodStringFormat.init(k,j),k._zod.check=$=>{try{const F=$.value.trim(),R=new URL(F);j.hostname&&(j.hostname.lastIndex=0,j.hostname.test(R.hostname)||$.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:j.hostname.source,input:$.value,inst:k,continue:!j.abort})),j.protocol&&(j.protocol.lastIndex=0,j.protocol.test(R.protocol.endsWith(":")?R.protocol.slice(0,-1):R.protocol)||$.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:j.protocol.source,input:$.value,inst:k,continue:!j.abort})),j.normalize?$.value=R.href:$.value=F;return}catch{$.issues.push({code:"invalid_format",format:"url",input:$.value,inst:k,continue:!j.abort})}}}),e.$ZodEmoji=o.$constructor("$ZodEmoji",(k,j)=>{j.pattern??(j.pattern=c.emoji()),e.$ZodStringFormat.init(k,j)}),e.$ZodNanoID=o.$constructor("$ZodNanoID",(k,j)=>{j.pattern??(j.pattern=c.nanoid),e.$ZodStringFormat.init(k,j)}),e.$ZodCUID=o.$constructor("$ZodCUID",(k,j)=>{j.pattern??(j.pattern=c.cuid),e.$ZodStringFormat.init(k,j)}),e.$ZodCUID2=o.$constructor("$ZodCUID2",(k,j)=>{j.pattern??(j.pattern=c.cuid2),e.$ZodStringFormat.init(k,j)}),e.$ZodULID=o.$constructor("$ZodULID",(k,j)=>{j.pattern??(j.pattern=c.ulid),e.$ZodStringFormat.init(k,j)}),e.$ZodXID=o.$constructor("$ZodXID",(k,j)=>{j.pattern??(j.pattern=c.xid),e.$ZodStringFormat.init(k,j)}),e.$ZodKSUID=o.$constructor("$ZodKSUID",(k,j)=>{j.pattern??(j.pattern=c.ksuid),e.$ZodStringFormat.init(k,j)}),e.$ZodISODateTime=o.$constructor("$ZodISODateTime",(k,j)=>{j.pattern??(j.pattern=c.datetime(j)),e.$ZodStringFormat.init(k,j)}),e.$ZodISODate=o.$constructor("$ZodISODate",(k,j)=>{j.pattern??(j.pattern=c.date),e.$ZodStringFormat.init(k,j)}),e.$ZodISOTime=o.$constructor("$ZodISOTime",(k,j)=>{j.pattern??(j.pattern=c.time(j)),e.$ZodStringFormat.init(k,j)}),e.$ZodISODuration=o.$constructor("$ZodISODuration",(k,j)=>{j.pattern??(j.pattern=c.duration),e.$ZodStringFormat.init(k,j)}),e.$ZodIPv4=o.$constructor("$ZodIPv4",(k,j)=>{j.pattern??(j.pattern=c.ipv4),e.$ZodStringFormat.init(k,j),k._zod.bag.format="ipv4"}),e.$ZodIPv6=o.$constructor("$ZodIPv6",(k,j)=>{j.pattern??(j.pattern=c.ipv6),e.$ZodStringFormat.init(k,j),k._zod.bag.format="ipv6",k._zod.check=$=>{try{new URL(`http://[${$.value}]`)}catch{$.issues.push({code:"invalid_format",format:"ipv6",input:$.value,inst:k,continue:!j.abort})}}}),e.$ZodMAC=o.$constructor("$ZodMAC",(k,j)=>{j.pattern??(j.pattern=c.mac(j.delimiter)),e.$ZodStringFormat.init(k,j),k._zod.bag.format="mac"}),e.$ZodCIDRv4=o.$constructor("$ZodCIDRv4",(k,j)=>{j.pattern??(j.pattern=c.cidrv4),e.$ZodStringFormat.init(k,j)}),e.$ZodCIDRv6=o.$constructor("$ZodCIDRv6",(k,j)=>{j.pattern??(j.pattern=c.cidrv6),e.$ZodStringFormat.init(k,j),k._zod.check=$=>{const F=$.value.split("/");try{if(F.length!==2)throw new Error;const[R,W]=F;if(!W)throw new Error;const Y=Number(W);if(`${Y}`!==W)throw new Error;if(Y<0||Y>128)throw new Error;new URL(`http://[${R}]`)}catch{$.issues.push({code:"invalid_format",format:"cidrv6",input:$.value,inst:k,continue:!j.abort})}}});function l(k){if(k==="")return!0;if(k.length%4!==0)return!1;try{return atob(k),!0}catch{return!1}}e.$ZodBase64=o.$constructor("$ZodBase64",(k,j)=>{j.pattern??(j.pattern=c.base64),e.$ZodStringFormat.init(k,j),k._zod.bag.contentEncoding="base64",k._zod.check=$=>{l($.value)||$.issues.push({code:"invalid_format",format:"base64",input:$.value,inst:k,continue:!j.abort})}});function f(k){if(!c.base64url.test(k))return!1;const j=k.replace(/[-_]/g,F=>F==="-"?"+":"/"),$=j.padEnd(Math.ceil(j.length/4)*4,"=");return l($)}e.$ZodBase64URL=o.$constructor("$ZodBase64URL",(k,j)=>{j.pattern??(j.pattern=c.base64url),e.$ZodStringFormat.init(k,j),k._zod.bag.contentEncoding="base64url",k._zod.check=$=>{f($.value)||$.issues.push({code:"invalid_format",format:"base64url",input:$.value,inst:k,continue:!j.abort})}}),e.$ZodE164=o.$constructor("$ZodE164",(k,j)=>{j.pattern??(j.pattern=c.e164),e.$ZodStringFormat.init(k,j)});function m(k,j=null){try{const $=k.split(".");if($.length!==3)return!1;const[F]=$;if(!F)return!1;const R=JSON.parse(atob(F));return!("typ"in R&&(R==null?void 0:R.typ)!=="JWT"||!R.alg||j&&(!("alg"in R)||R.alg!==j))}catch{return!1}}e.$ZodJWT=o.$constructor("$ZodJWT",(k,j)=>{e.$ZodStringFormat.init(k,j),k._zod.check=$=>{m($.value,j.alg)||$.issues.push({code:"invalid_format",format:"jwt",input:$.value,inst:k,continue:!j.abort})}}),e.$ZodCustomStringFormat=o.$constructor("$ZodCustomStringFormat",(k,j)=>{e.$ZodStringFormat.init(k,j),k._zod.check=$=>{j.fn($.value)||$.issues.push({code:"invalid_format",format:j.format,input:$.value,inst:k,continue:!j.abort})}}),e.$ZodNumber=o.$constructor("$ZodNumber",(k,j)=>{e.$ZodType.init(k,j),k._zod.pattern=k._zod.bag.pattern??c.number,k._zod.parse=($,F)=>{if(j.coerce)try{$.value=Number($.value)}catch{}const R=$.value;if(typeof R=="number"&&!Number.isNaN(R)&&Number.isFinite(R))return $;const W=typeof R=="number"?Number.isNaN(R)?"NaN":Number.isFinite(R)?void 0:"Infinity":void 0;return $.issues.push({expected:"number",code:"invalid_type",input:R,inst:k,...W?{received:W}:{}}),$}}),e.$ZodNumberFormat=o.$constructor("$ZodNumberFormat",(k,j)=>{i.$ZodCheckNumberFormat.init(k,j),e.$ZodNumber.init(k,j)}),e.$ZodBoolean=o.$constructor("$ZodBoolean",(k,j)=>{e.$ZodType.init(k,j),k._zod.pattern=c.boolean,k._zod.parse=($,F)=>{if(j.coerce)try{$.value=!!$.value}catch{}const R=$.value;return typeof R=="boolean"||$.issues.push({expected:"boolean",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodBigInt=o.$constructor("$ZodBigInt",(k,j)=>{e.$ZodType.init(k,j),k._zod.pattern=c.bigint,k._zod.parse=($,F)=>{if(j.coerce)try{$.value=BigInt($.value)}catch{}return typeof $.value=="bigint"||$.issues.push({expected:"bigint",code:"invalid_type",input:$.value,inst:k}),$}}),e.$ZodBigIntFormat=o.$constructor("$ZodBigIntFormat",(k,j)=>{i.$ZodCheckBigIntFormat.init(k,j),e.$ZodBigInt.init(k,j)}),e.$ZodSymbol=o.$constructor("$ZodSymbol",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;return typeof R=="symbol"||$.issues.push({expected:"symbol",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodUndefined=o.$constructor("$ZodUndefined",(k,j)=>{e.$ZodType.init(k,j),k._zod.pattern=c.undefined,k._zod.values=new Set([void 0]),k._zod.optin="optional",k._zod.optout="optional",k._zod.parse=($,F)=>{const R=$.value;return typeof R>"u"||$.issues.push({expected:"undefined",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodNull=o.$constructor("$ZodNull",(k,j)=>{e.$ZodType.init(k,j),k._zod.pattern=c.null,k._zod.values=new Set([null]),k._zod.parse=($,F)=>{const R=$.value;return R===null||$.issues.push({expected:"null",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodAny=o.$constructor("$ZodAny",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=$=>$}),e.$ZodUnknown=o.$constructor("$ZodUnknown",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=$=>$}),e.$ZodNever=o.$constructor("$ZodNever",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>($.issues.push({expected:"never",code:"invalid_type",input:$.value,inst:k}),$)}),e.$ZodVoid=o.$constructor("$ZodVoid",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;return typeof R>"u"||$.issues.push({expected:"void",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodDate=o.$constructor("$ZodDate",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{if(j.coerce)try{$.value=new Date($.value)}catch{}const R=$.value,W=R instanceof Date;return W&&!Number.isNaN(R.getTime())||$.issues.push({expected:"date",code:"invalid_type",input:R,...W?{received:"Invalid Date"}:{},inst:k}),$}});function b(k,j,$){k.issues.length&&j.issues.push(...u.prefixIssues($,k.issues)),j.value[$]=k.value}e.$ZodArray=o.$constructor("$ZodArray",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;if(!Array.isArray(R))return $.issues.push({expected:"array",code:"invalid_type",input:R,inst:k}),$;$.value=Array(R.length);const W=[];for(let Y=0;Y<R.length;Y++){const te=R[Y],ie=j.element._zod.run({value:te,issues:[]},F);ie instanceof Promise?W.push(ie.then(J=>b(J,$,Y))):b(ie,$,Y)}return W.length?Promise.all(W).then(()=>$):$}});function S(k,j,$,F,R){if(k.issues.length){if(R&&!($ in F))return;j.issues.push(...u.prefixIssues($,k.issues))}k.value===void 0?$ in F&&(j.value[$]=void 0):j.value[$]=k.value}function x(k){var F,R,W,Y;const j=Object.keys(k.shape);for(const te of j)if(!((Y=(W=(R=(F=k.shape)==null?void 0:F[te])==null?void 0:R._zod)==null?void 0:W.traits)!=null&&Y.has("$ZodType")))throw new Error(`Invalid element at key "${te}": expected a Zod schema`);const $=u.optionalKeys(k.shape);return{...k,keys:j,keySet:new Set(j),numKeys:j.length,optionalKeys:new Set($)}}function w(k,j,$,F,R,W){const Y=[],te=R.keySet,ie=R.catchall._zod,J=ie.def.type,ee=ie.optout==="optional";for(const Q in j){if(te.has(Q))continue;if(J==="never"){Y.push(Q);continue}const he=ie.run({value:j[Q],issues:[]},F);he instanceof Promise?k.push(he.then(ge=>S(ge,$,Q,j,ee))):S(he,$,Q,j,ee)}return Y.length&&$.issues.push({code:"unrecognized_keys",keys:Y,input:j,inst:W}),k.length?Promise.all(k).then(()=>$):$}e.$ZodObject=o.$constructor("$ZodObject",(k,j)=>{e.$ZodType.init(k,j);const $=Object.getOwnPropertyDescriptor(j,"shape");if(!($!=null&&$.get)){const te=j.shape;Object.defineProperty(j,"shape",{get:()=>{const ie={...te};return Object.defineProperty(j,"shape",{value:ie}),ie}})}const F=u.cached(()=>x(j));u.defineLazy(k._zod,"propValues",()=>{const te=j.shape,ie={};for(const J in te){const ee=te[J]._zod;if(ee.values){ie[J]??(ie[J]=new Set);for(const Q of ee.values)ie[J].add(Q)}}return ie});const R=u.isObject,W=j.catchall;let Y;k._zod.parse=(te,ie)=>{Y??(Y=F.value);const J=te.value;if(!R(J))return te.issues.push({expected:"object",code:"invalid_type",input:J,inst:k}),te;te.value={};const ee=[],Q=Y.shape;for(const he of Y.keys){const ge=Q[he],ye=ge._zod.optout==="optional",_e=ge._zod.run({value:J[he],issues:[]},ie);_e instanceof Promise?ee.push(_e.then(H=>S(H,te,he,J,ye))):S(_e,te,he,J,ye)}return W?w(ee,J,te,ie,F.value,k):ee.length?Promise.all(ee).then(()=>te):te}}),e.$ZodObjectJIT=o.$constructor("$ZodObjectJIT",(k,j)=>{e.$ZodObject.init(k,j);const $=k._zod.parse,F=u.cached(()=>x(j)),R=he=>{var se;const ge=new s.Doc(["shape","payload","ctx"]),ye=F.value,_e=ae=>{const xe=u.esc(ae);return`shape[${xe}]._zod.run({ value: input[${xe}], issues: [] }, ctx)`};ge.write("const input = payload.value;");const H=Object.create(null);let Se=0;for(const ae of ye.keys)H[ae]=`key_${Se++}`;ge.write("const newResult = {};");for(const ae of ye.keys){const xe=H[ae],$e=u.esc(ae),ue=he[ae],V=((se=ue==null?void 0:ue._zod)==null?void 0:se.optout)==="optional";ge.write(`const ${xe} = ${_e(ae)};`),V?ge.write(`
        if (${xe}.issues.length) {
          if (${$e} in input) {
            payload.issues = payload.issues.concat(${xe}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$e}, ...iss.path] : [${$e}]
            })));
          }
        }
        
        if (${xe}.value === undefined) {
          if (${$e} in input) {
            newResult[${$e}] = undefined;
          }
        } else {
          newResult[${$e}] = ${xe}.value;
        }
        
      `):ge.write(`
        if (${xe}.issues.length) {
          payload.issues = payload.issues.concat(${xe}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$e}, ...iss.path] : [${$e}]
          })));
        }
        
        if (${xe}.value === undefined) {
          if (${$e} in input) {
            newResult[${$e}] = undefined;
          }
        } else {
          newResult[${$e}] = ${xe}.value;
        }
        
      `)}ge.write("payload.value = newResult;"),ge.write("return payload;");const Ce=ge.compile();return(ae,xe)=>Ce(he,ae,xe)};let W;const Y=u.isObject,te=!o.globalConfig.jitless,ie=u.allowsEval,J=te&&ie.value,ee=j.catchall;let Q;k._zod.parse=(he,ge)=>{Q??(Q=F.value);const ye=he.value;return Y(ye)?te&&J&&(ge==null?void 0:ge.async)===!1&&ge.jitless!==!0?(W||(W=R(j.shape)),he=W(he,ge),ee?w([],ye,he,ge,Q,k):he):$(he,ge):(he.issues.push({expected:"object",code:"invalid_type",input:ye,inst:k}),he)}});function y(k,j,$,F){for(const W of k)if(W.issues.length===0)return j.value=W.value,j;const R=k.filter(W=>!u.aborted(W));return R.length===1?(j.value=R[0].value,R[0]):(j.issues.push({code:"invalid_union",input:j.value,inst:$,errors:k.map(W=>W.issues.map(Y=>u.finalizeIssue(Y,F,o.config())))}),j)}e.$ZodUnion=o.$constructor("$ZodUnion",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"optin",()=>j.options.some(R=>R._zod.optin==="optional")?"optional":void 0),u.defineLazy(k._zod,"optout",()=>j.options.some(R=>R._zod.optout==="optional")?"optional":void 0),u.defineLazy(k._zod,"values",()=>{if(j.options.every(R=>R._zod.values))return new Set(j.options.flatMap(R=>Array.from(R._zod.values)))}),u.defineLazy(k._zod,"pattern",()=>{if(j.options.every(R=>R._zod.pattern)){const R=j.options.map(W=>W._zod.pattern);return new RegExp(`^(${R.map(W=>u.cleanRegex(W.source)).join("|")})$`)}});const $=j.options.length===1,F=j.options[0]._zod.run;k._zod.parse=(R,W)=>{if($)return F(R,W);let Y=!1;const te=[];for(const ie of j.options){const J=ie._zod.run({value:R.value,issues:[]},W);if(J instanceof Promise)te.push(J),Y=!0;else{if(J.issues.length===0)return J;te.push(J)}}return Y?Promise.all(te).then(ie=>y(ie,R,k,W)):y(te,R,k,W)}});function _(k,j,$,F){const R=k.filter(W=>W.issues.length===0);return R.length===1?(j.value=R[0].value,j):(R.length===0?j.issues.push({code:"invalid_union",input:j.value,inst:$,errors:k.map(W=>W.issues.map(Y=>u.finalizeIssue(Y,F,o.config())))}):j.issues.push({code:"invalid_union",input:j.value,inst:$,errors:[],inclusive:!1}),j)}e.$ZodXor=o.$constructor("$ZodXor",(k,j)=>{e.$ZodUnion.init(k,j),j.inclusive=!1;const $=j.options.length===1,F=j.options[0]._zod.run;k._zod.parse=(R,W)=>{if($)return F(R,W);let Y=!1;const te=[];for(const ie of j.options){const J=ie._zod.run({value:R.value,issues:[]},W);J instanceof Promise?(te.push(J),Y=!0):te.push(J)}return Y?Promise.all(te).then(ie=>_(ie,R,k,W)):_(te,R,k,W)}}),e.$ZodDiscriminatedUnion=o.$constructor("$ZodDiscriminatedUnion",(k,j)=>{j.inclusive=!1,e.$ZodUnion.init(k,j);const $=k._zod.parse;u.defineLazy(k._zod,"propValues",()=>{const R={};for(const W of j.options){const Y=W._zod.propValues;if(!Y||Object.keys(Y).length===0)throw new Error(`Invalid discriminated union option at index "${j.options.indexOf(W)}"`);for(const[te,ie]of Object.entries(Y)){R[te]||(R[te]=new Set);for(const J of ie)R[te].add(J)}}return R});const F=u.cached(()=>{var Y;const R=j.options,W=new Map;for(const te of R){const ie=(Y=te._zod.propValues)==null?void 0:Y[j.discriminator];if(!ie||ie.size===0)throw new Error(`Invalid discriminated union option at index "${j.options.indexOf(te)}"`);for(const J of ie){if(W.has(J))throw new Error(`Duplicate discriminator value "${String(J)}"`);W.set(J,te)}}return W});k._zod.parse=(R,W)=>{const Y=R.value;if(!u.isObject(Y))return R.issues.push({code:"invalid_type",expected:"object",input:Y,inst:k}),R;const te=F.value.get(Y==null?void 0:Y[j.discriminator]);return te?te._zod.run(R,W):j.unionFallback?$(R,W):(R.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:j.discriminator,input:Y,path:[j.discriminator],inst:k}),R)}}),e.$ZodIntersection=o.$constructor("$ZodIntersection",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value,W=j.left._zod.run({value:R,issues:[]},F),Y=j.right._zod.run({value:R,issues:[]},F);return W instanceof Promise||Y instanceof Promise?Promise.all([W,Y]).then(([ie,J])=>T($,ie,J)):T($,W,Y)}});function P(k,j){if(k===j)return{valid:!0,data:k};if(k instanceof Date&&j instanceof Date&&+k==+j)return{valid:!0,data:k};if(u.isPlainObject(k)&&u.isPlainObject(j)){const $=Object.keys(j),F=Object.keys(k).filter(W=>$.indexOf(W)!==-1),R={...k,...j};for(const W of F){const Y=P(k[W],j[W]);if(!Y.valid)return{valid:!1,mergeErrorPath:[W,...Y.mergeErrorPath]};R[W]=Y.data}return{valid:!0,data:R}}if(Array.isArray(k)&&Array.isArray(j)){if(k.length!==j.length)return{valid:!1,mergeErrorPath:[]};const $=[];for(let F=0;F<k.length;F++){const R=k[F],W=j[F],Y=P(R,W);if(!Y.valid)return{valid:!1,mergeErrorPath:[F,...Y.mergeErrorPath]};$.push(Y.data)}return{valid:!0,data:$}}return{valid:!1,mergeErrorPath:[]}}function T(k,j,$){const F=new Map;let R;for(const te of j.issues)if(te.code==="unrecognized_keys"){R??(R=te);for(const ie of te.keys)F.has(ie)||F.set(ie,{}),F.get(ie).l=!0}else k.issues.push(te);for(const te of $.issues)if(te.code==="unrecognized_keys")for(const ie of te.keys)F.has(ie)||F.set(ie,{}),F.get(ie).r=!0;else k.issues.push(te);const W=[...F].filter(([,te])=>te.l&&te.r).map(([te])=>te);if(W.length&&R&&k.issues.push({...R,keys:W}),u.aborted(k))return k;const Y=P(j.value,$.value);if(!Y.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(Y.mergeErrorPath)}`);return k.value=Y.data,k}e.$ZodTuple=o.$constructor("$ZodTuple",(k,j)=>{e.$ZodType.init(k,j);const $=j.items;k._zod.parse=(F,R)=>{const W=F.value;if(!Array.isArray(W))return F.issues.push({input:W,inst:k,expected:"tuple",code:"invalid_type"}),F;F.value=[];const Y=[],te=[...$].reverse().findIndex(ee=>ee._zod.optin!=="optional"),ie=te===-1?0:$.length-te;if(!j.rest){const ee=W.length>$.length,Q=W.length<ie-1;if(ee||Q)return F.issues.push({...ee?{code:"too_big",maximum:$.length,inclusive:!0}:{code:"too_small",minimum:$.length},input:W,inst:k,origin:"array"}),F}let J=-1;for(const ee of $){if(J++,J>=W.length&&J>=ie)continue;const Q=ee._zod.run({value:W[J],issues:[]},R);Q instanceof Promise?Y.push(Q.then(he=>M(he,F,J))):M(Q,F,J)}if(j.rest){const ee=W.slice($.length);for(const Q of ee){J++;const he=j.rest._zod.run({value:Q,issues:[]},R);he instanceof Promise?Y.push(he.then(ge=>M(ge,F,J))):M(he,F,J)}}return Y.length?Promise.all(Y).then(()=>F):F}});function M(k,j,$){k.issues.length&&j.issues.push(...u.prefixIssues($,k.issues)),j.value[$]=k.value}e.$ZodRecord=o.$constructor("$ZodRecord",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;if(!u.isPlainObject(R))return $.issues.push({expected:"record",code:"invalid_type",input:R,inst:k}),$;const W=[],Y=j.keyType._zod.values;if(Y){$.value={};const te=new Set;for(const J of Y)if(typeof J=="string"||typeof J=="number"||typeof J=="symbol"){te.add(typeof J=="number"?J.toString():J);const ee=j.valueType._zod.run({value:R[J],issues:[]},F);ee instanceof Promise?W.push(ee.then(Q=>{Q.issues.length&&$.issues.push(...u.prefixIssues(J,Q.issues)),$.value[J]=Q.value})):(ee.issues.length&&$.issues.push(...u.prefixIssues(J,ee.issues)),$.value[J]=ee.value)}let ie;for(const J in R)te.has(J)||(ie=ie??[],ie.push(J));ie&&ie.length>0&&$.issues.push({code:"unrecognized_keys",input:R,inst:k,keys:ie})}else{$.value={};for(const te of Reflect.ownKeys(R)){if(te==="__proto__")continue;let ie=j.keyType._zod.run({value:te,issues:[]},F);if(ie instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof te=="string"&&c.number.test(te)&&ie.issues.length){const Q=j.keyType._zod.run({value:Number(te),issues:[]},F);if(Q instanceof Promise)throw new Error("Async schemas not supported in object keys currently");Q.issues.length===0&&(ie=Q)}if(ie.issues.length){j.mode==="loose"?$.value[te]=R[te]:$.issues.push({code:"invalid_key",origin:"record",issues:ie.issues.map(Q=>u.finalizeIssue(Q,F,o.config())),input:te,path:[te],inst:k});continue}const ee=j.valueType._zod.run({value:R[te],issues:[]},F);ee instanceof Promise?W.push(ee.then(Q=>{Q.issues.length&&$.issues.push(...u.prefixIssues(te,Q.issues)),$.value[ie.value]=Q.value})):(ee.issues.length&&$.issues.push(...u.prefixIssues(te,ee.issues)),$.value[ie.value]=ee.value)}}return W.length?Promise.all(W).then(()=>$):$}}),e.$ZodMap=o.$constructor("$ZodMap",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;if(!(R instanceof Map))return $.issues.push({expected:"map",code:"invalid_type",input:R,inst:k}),$;const W=[];$.value=new Map;for(const[Y,te]of R){const ie=j.keyType._zod.run({value:Y,issues:[]},F),J=j.valueType._zod.run({value:te,issues:[]},F);ie instanceof Promise||J instanceof Promise?W.push(Promise.all([ie,J]).then(([ee,Q])=>{N(ee,Q,$,Y,R,k,F)})):N(ie,J,$,Y,R,k,F)}return W.length?Promise.all(W).then(()=>$):$}});function N(k,j,$,F,R,W,Y){k.issues.length&&(u.propertyKeyTypes.has(typeof F)?$.issues.push(...u.prefixIssues(F,k.issues)):$.issues.push({code:"invalid_key",origin:"map",input:R,inst:W,issues:k.issues.map(te=>u.finalizeIssue(te,Y,o.config()))})),j.issues.length&&(u.propertyKeyTypes.has(typeof F)?$.issues.push(...u.prefixIssues(F,j.issues)):$.issues.push({origin:"map",code:"invalid_element",input:R,inst:W,key:F,issues:j.issues.map(te=>u.finalizeIssue(te,Y,o.config()))})),$.value.set(k.value,j.value)}e.$ZodSet=o.$constructor("$ZodSet",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;if(!(R instanceof Set))return $.issues.push({input:R,inst:k,expected:"set",code:"invalid_type"}),$;const W=[];$.value=new Set;for(const Y of R){const te=j.valueType._zod.run({value:Y,issues:[]},F);te instanceof Promise?W.push(te.then(ie=>O(ie,$))):O(te,$)}return W.length?Promise.all(W).then(()=>$):$}});function O(k,j){k.issues.length&&j.issues.push(...k.issues),j.value.add(k.value)}e.$ZodEnum=o.$constructor("$ZodEnum",(k,j)=>{e.$ZodType.init(k,j);const $=u.getEnumValues(j.entries),F=new Set($);k._zod.values=F,k._zod.pattern=new RegExp(`^(${$.filter(R=>u.propertyKeyTypes.has(typeof R)).map(R=>typeof R=="string"?u.escapeRegex(R):R.toString()).join("|")})$`),k._zod.parse=(R,W)=>{const Y=R.value;return F.has(Y)||R.issues.push({code:"invalid_value",values:$,input:Y,inst:k}),R}}),e.$ZodLiteral=o.$constructor("$ZodLiteral",(k,j)=>{if(e.$ZodType.init(k,j),j.values.length===0)throw new Error("Cannot create literal schema with no valid values");const $=new Set(j.values);k._zod.values=$,k._zod.pattern=new RegExp(`^(${j.values.map(F=>typeof F=="string"?u.escapeRegex(F):F?u.escapeRegex(F.toString()):String(F)).join("|")})$`),k._zod.parse=(F,R)=>{const W=F.value;return $.has(W)||F.issues.push({code:"invalid_value",values:j.values,input:W,inst:k}),F}}),e.$ZodFile=o.$constructor("$ZodFile",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{const R=$.value;return R instanceof File||$.issues.push({expected:"file",code:"invalid_type",input:R,inst:k}),$}}),e.$ZodTransform=o.$constructor("$ZodTransform",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{if(F.direction==="backward")throw new o.$ZodEncodeError(k.constructor.name);const R=j.transform($.value,$);if(F.async)return(R instanceof Promise?R:Promise.resolve(R)).then(Y=>($.value=Y,$));if(R instanceof Promise)throw new o.$ZodAsyncError;return $.value=R,$}});function B(k,j){return k.issues.length&&j===void 0?{issues:[],value:void 0}:k}e.$ZodOptional=o.$constructor("$ZodOptional",(k,j)=>{e.$ZodType.init(k,j),k._zod.optin="optional",k._zod.optout="optional",u.defineLazy(k._zod,"values",()=>j.innerType._zod.values?new Set([...j.innerType._zod.values,void 0]):void 0),u.defineLazy(k._zod,"pattern",()=>{const $=j.innerType._zod.pattern;return $?new RegExp(`^(${u.cleanRegex($.source)})?$`):void 0}),k._zod.parse=($,F)=>{if(j.innerType._zod.optin==="optional"){const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(W=>B(W,$.value)):B(R,$.value)}return $.value===void 0?$:j.innerType._zod.run($,F)}}),e.$ZodExactOptional=o.$constructor("$ZodExactOptional",(k,j)=>{e.$ZodOptional.init(k,j),u.defineLazy(k._zod,"values",()=>j.innerType._zod.values),u.defineLazy(k._zod,"pattern",()=>j.innerType._zod.pattern),k._zod.parse=($,F)=>j.innerType._zod.run($,F)}),e.$ZodNullable=o.$constructor("$ZodNullable",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"optin",()=>j.innerType._zod.optin),u.defineLazy(k._zod,"optout",()=>j.innerType._zod.optout),u.defineLazy(k._zod,"pattern",()=>{const $=j.innerType._zod.pattern;return $?new RegExp(`^(${u.cleanRegex($.source)}|null)$`):void 0}),u.defineLazy(k._zod,"values",()=>j.innerType._zod.values?new Set([...j.innerType._zod.values,null]):void 0),k._zod.parse=($,F)=>$.value===null?$:j.innerType._zod.run($,F)}),e.$ZodDefault=o.$constructor("$ZodDefault",(k,j)=>{e.$ZodType.init(k,j),k._zod.optin="optional",u.defineLazy(k._zod,"values",()=>j.innerType._zod.values),k._zod.parse=($,F)=>{if(F.direction==="backward")return j.innerType._zod.run($,F);if($.value===void 0)return $.value=j.defaultValue,$;const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(W=>Z(W,j)):Z(R,j)}});function Z(k,j){return k.value===void 0&&(k.value=j.defaultValue),k}e.$ZodPrefault=o.$constructor("$ZodPrefault",(k,j)=>{e.$ZodType.init(k,j),k._zod.optin="optional",u.defineLazy(k._zod,"values",()=>j.innerType._zod.values),k._zod.parse=($,F)=>(F.direction==="backward"||$.value===void 0&&($.value=j.defaultValue),j.innerType._zod.run($,F))}),e.$ZodNonOptional=o.$constructor("$ZodNonOptional",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"values",()=>{const $=j.innerType._zod.values;return $?new Set([...$].filter(F=>F!==void 0)):void 0}),k._zod.parse=($,F)=>{const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(W=>D(W,k)):D(R,k)}});function D(k,j){return!k.issues.length&&k.value===void 0&&k.issues.push({code:"invalid_type",expected:"nonoptional",input:k.value,inst:j}),k}e.$ZodSuccess=o.$constructor("$ZodSuccess",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>{if(F.direction==="backward")throw new o.$ZodEncodeError("ZodSuccess");const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(W=>($.value=W.issues.length===0,$)):($.value=R.issues.length===0,$)}}),e.$ZodCatch=o.$constructor("$ZodCatch",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"optin",()=>j.innerType._zod.optin),u.defineLazy(k._zod,"optout",()=>j.innerType._zod.optout),u.defineLazy(k._zod,"values",()=>j.innerType._zod.values),k._zod.parse=($,F)=>{if(F.direction==="backward")return j.innerType._zod.run($,F);const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(W=>($.value=W.value,W.issues.length&&($.value=j.catchValue({...$,error:{issues:W.issues.map(Y=>u.finalizeIssue(Y,F,o.config()))},input:$.value}),$.issues=[]),$)):($.value=R.value,R.issues.length&&($.value=j.catchValue({...$,error:{issues:R.issues.map(W=>u.finalizeIssue(W,F,o.config()))},input:$.value}),$.issues=[]),$)}}),e.$ZodNaN=o.$constructor("$ZodNaN",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>((typeof $.value!="number"||!Number.isNaN($.value))&&$.issues.push({input:$.value,inst:k,expected:"nan",code:"invalid_type"}),$)}),e.$ZodPipe=o.$constructor("$ZodPipe",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"values",()=>j.in._zod.values),u.defineLazy(k._zod,"optin",()=>j.in._zod.optin),u.defineLazy(k._zod,"optout",()=>j.out._zod.optout),u.defineLazy(k._zod,"propValues",()=>j.in._zod.propValues),k._zod.parse=($,F)=>{if(F.direction==="backward"){const W=j.out._zod.run($,F);return W instanceof Promise?W.then(Y=>U(Y,j.in,F)):U(W,j.in,F)}const R=j.in._zod.run($,F);return R instanceof Promise?R.then(W=>U(W,j.out,F)):U(R,j.out,F)}});function U(k,j,$){return k.issues.length?(k.aborted=!0,k):j._zod.run({value:k.value,issues:k.issues},$)}e.$ZodCodec=o.$constructor("$ZodCodec",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"values",()=>j.in._zod.values),u.defineLazy(k._zod,"optin",()=>j.in._zod.optin),u.defineLazy(k._zod,"optout",()=>j.out._zod.optout),u.defineLazy(k._zod,"propValues",()=>j.in._zod.propValues),k._zod.parse=($,F)=>{if((F.direction||"forward")==="forward"){const W=j.in._zod.run($,F);return W instanceof Promise?W.then(Y=>z(Y,j,F)):z(W,j,F)}else{const W=j.out._zod.run($,F);return W instanceof Promise?W.then(Y=>z(Y,j,F)):z(W,j,F)}}});function z(k,j,$){if(k.issues.length)return k.aborted=!0,k;if(($.direction||"forward")==="forward"){const R=j.transform(k.value,k);return R instanceof Promise?R.then(W=>G(k,W,j.out,$)):G(k,R,j.out,$)}else{const R=j.reverseTransform(k.value,k);return R instanceof Promise?R.then(W=>G(k,W,j.in,$)):G(k,R,j.in,$)}}function G(k,j,$,F){return k.issues.length?(k.aborted=!0,k):$._zod.run({value:j,issues:k.issues},F)}e.$ZodReadonly=o.$constructor("$ZodReadonly",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"propValues",()=>j.innerType._zod.propValues),u.defineLazy(k._zod,"values",()=>j.innerType._zod.values),u.defineLazy(k._zod,"optin",()=>{var $,F;return(F=($=j.innerType)==null?void 0:$._zod)==null?void 0:F.optin}),u.defineLazy(k._zod,"optout",()=>{var $,F;return(F=($=j.innerType)==null?void 0:$._zod)==null?void 0:F.optout}),k._zod.parse=($,F)=>{if(F.direction==="backward")return j.innerType._zod.run($,F);const R=j.innerType._zod.run($,F);return R instanceof Promise?R.then(ne):ne(R)}});function ne(k){return k.value=Object.freeze(k.value),k}e.$ZodTemplateLiteral=o.$constructor("$ZodTemplateLiteral",(k,j)=>{e.$ZodType.init(k,j);const $=[];for(const F of j.parts)if(typeof F=="object"&&F!==null){if(!F._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...F._zod.traits].shift()}`);const R=F._zod.pattern instanceof RegExp?F._zod.pattern.source:F._zod.pattern;if(!R)throw new Error(`Invalid template literal part: ${F._zod.traits}`);const W=R.startsWith("^")?1:0,Y=R.endsWith("$")?R.length-1:R.length;$.push(R.slice(W,Y))}else if(F===null||u.primitiveTypes.has(typeof F))$.push(u.escapeRegex(`${F}`));else throw new Error(`Invalid template literal part: ${F}`);k._zod.pattern=new RegExp(`^${$.join("")}$`),k._zod.parse=(F,R)=>typeof F.value!="string"?(F.issues.push({input:F.value,inst:k,expected:"string",code:"invalid_type"}),F):(k._zod.pattern.lastIndex=0,k._zod.pattern.test(F.value)||F.issues.push({input:F.value,inst:k,code:"invalid_format",format:j.format??"template_literal",pattern:k._zod.pattern.source}),F)}),e.$ZodFunction=o.$constructor("$ZodFunction",(k,j)=>(e.$ZodType.init(k,j),k._def=j,k._zod.def=j,k.implement=$=>{if(typeof $!="function")throw new Error("implement() must be called with a function");return function(...F){const R=k._def.input?(0,d.parse)(k._def.input,F):F,W=Reflect.apply($,this,R);return k._def.output?(0,d.parse)(k._def.output,W):W}},k.implementAsync=$=>{if(typeof $!="function")throw new Error("implementAsync() must be called with a function");return async function(...F){const R=k._def.input?await(0,d.parseAsync)(k._def.input,F):F,W=await Reflect.apply($,this,R);return k._def.output?await(0,d.parseAsync)(k._def.output,W):W}},k._zod.parse=($,F)=>typeof $.value!="function"?($.issues.push({code:"invalid_type",expected:"function",input:$.value,inst:k}),$):(k._def.output&&k._def.output._zod.def.type==="promise"?$.value=k.implementAsync($.value):$.value=k.implement($.value),$),k.input=(...$)=>{const F=k.constructor;return Array.isArray($[0])?new F({type:"function",input:new e.$ZodTuple({type:"tuple",items:$[0],rest:$[1]}),output:k._def.output}):new F({type:"function",input:$[0],output:k._def.output})},k.output=$=>{const F=k.constructor;return new F({type:"function",input:k._def.input,output:$})},k)),e.$ZodPromise=o.$constructor("$ZodPromise",(k,j)=>{e.$ZodType.init(k,j),k._zod.parse=($,F)=>Promise.resolve($.value).then(R=>j.innerType._zod.run({value:R,issues:[]},F))}),e.$ZodLazy=o.$constructor("$ZodLazy",(k,j)=>{e.$ZodType.init(k,j),u.defineLazy(k._zod,"innerType",()=>j.getter()),u.defineLazy(k._zod,"pattern",()=>{var $,F;return(F=($=k._zod.innerType)==null?void 0:$._zod)==null?void 0:F.pattern}),u.defineLazy(k._zod,"propValues",()=>{var $,F;return(F=($=k._zod.innerType)==null?void 0:$._zod)==null?void 0:F.propValues}),u.defineLazy(k._zod,"optin",()=>{var $,F;return((F=($=k._zod.innerType)==null?void 0:$._zod)==null?void 0:F.optin)??void 0}),u.defineLazy(k._zod,"optout",()=>{var $,F;return((F=($=k._zod.innerType)==null?void 0:$._zod)==null?void 0:F.optout)??void 0}),k._zod.parse=($,F)=>k._zod.innerType._zod.run($,F)}),e.$ZodCustom=o.$constructor("$ZodCustom",(k,j)=>{i.$ZodCheck.init(k,j),e.$ZodType.init(k,j),k._zod.parse=($,F)=>$,k._zod.check=$=>{const F=$.value,R=j.fn(F);if(R instanceof Promise)return R.then(W=>A(W,$,F,k));A(R,$,F,k)}});function A(k,j,$,F){if(!k){const R={code:"custom",input:$,inst:F,path:[...F._zod.def.path??[]],continue:!F._zod.def.abort};F._zod.def.params&&(R.params=F._zod.def.params),j.issues.push(u.issue(R))}}})(fa)),fa}var il={},Yl={exports:{}},co=Yl.exports,Vx;function YO(){return Vx||(Vx=1,(function(e,t){var r=co&&co.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=co&&co.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=co&&co.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function u(l){return c[l]??null}const h={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`مدخلات غير مقبولة: يفترض إدخال instanceof ${l.expected}، ولكن تم إدخال ${b}`:`مدخلات غير مقبولة: يفترض إدخال ${f}، ولكن تم إدخال ${b}`}case"invalid_value":return l.values.length===1?`مدخلات غير مقبولة: يفترض إدخال ${o.stringifyPrimitive(l.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?` أكبر من اللازم: يفترض أن تكون ${l.origin??"القيمة"} ${f} ${l.maximum.toString()} ${m.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${l.origin??"القيمة"} ${f} ${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`أصغر من اللازم: يفترض لـ ${l.origin} أن يكون ${f} ${l.minimum.toString()} ${m.unit}`:`أصغر من اللازم: يفترض لـ ${l.origin} أن يكون ${f} ${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`نَص غير مقبول: يجب أن يبدأ بـ "${l.prefix}"`:f.format==="ends_with"?`نَص غير مقبول: يجب أن ينتهي بـ "${f.suffix}"`:f.format==="includes"?`نَص غير مقبول: يجب أن يتضمَّن "${f.includes}"`:f.format==="regex"?`نَص غير مقبول: يجب أن يطابق النمط ${f.pattern}`:`${h[f.format]??l.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${l.divisor}`;case"unrecognized_keys":return`معرف${l.keys.length>1?"ات":""} غريب${l.keys.length>1?"ة":""}: ${o.joinValues(l.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${l.origin}`;case"invalid_union":return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${l.origin}`;default:return"مدخل غير مقبول"}}};function d(){return{localeError:s()}}e.exports=t.default})(Yl,Yl.exports)),Yl.exports}var Kl={exports:{}},uo=Kl.exports,Wx;function KO(){return Wx||(Wx=1,(function(e,t){var r=uo&&uo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=uo&&uo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=uo&&uo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function u(l){return c[l]??null}const h={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Yanlış dəyər: gözlənilən instanceof ${l.expected}, daxil olan ${b}`:`Yanlış dəyər: gözlənilən ${f}, daxil olan ${b}`}case"invalid_value":return l.values.length===1?`Yanlış dəyər: gözlənilən ${o.stringifyPrimitive(l.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Çox böyük: gözlənilən ${l.origin??"dəyər"} ${f}${l.maximum.toString()} ${m.unit??"element"}`:`Çox böyük: gözlənilən ${l.origin??"dəyər"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Çox kiçik: gözlənilən ${l.origin} ${f}${l.minimum.toString()} ${m.unit}`:`Çox kiçik: gözlənilən ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Yanlış mətn: "${f.prefix}" ilə başlamalıdır`:f.format==="ends_with"?`Yanlış mətn: "${f.suffix}" ilə bitməlidir`:f.format==="includes"?`Yanlış mətn: "${f.includes}" daxil olmalıdır`:f.format==="regex"?`Yanlış mətn: ${f.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${h[f.format]??l.format}`}case"not_multiple_of":return`Yanlış ədəd: ${l.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${l.keys.length>1?"lar":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} daxilində yanlış açar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${l.origin} daxilində yanlış dəyər`;default:return"Yanlış dəyər"}}};function d(){return{localeError:s()}}e.exports=t.default})(Kl,Kl.exports)),Kl.exports}var Jl={exports:{}},ho=Jl.exports,Hx;function JO(){return Hx||(Hx=1,(function(e,t){var r=ho&&ho.__createBinding||(Object.create?(function(u,h,p,l){l===void 0&&(l=p);var f=Object.getOwnPropertyDescriptor(h,p);(!f||("get"in f?!h.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(u,l,f)}):(function(u,h,p,l){l===void 0&&(l=p),u[l]=h[p]})),n=ho&&ho.__setModuleDefault||(Object.create?(function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}):function(u,h){u.default=h}),i=ho&&ho.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&r(h,u,p);return n(h,u),h};Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;const o=i(tt());function s(u,h,p,l){const f=Math.abs(u),m=f%10,b=f%100;return b>=11&&b<=19?l:m===1?h:m>=2&&m<=4?p:l}const d=()=>{const u={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function h(f){return u[f]??null}const p={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"},l={nan:"NaN",number:"лік",array:"масіў"};return f=>{switch(f.code){case"invalid_type":{const m=l[f.expected]??f.expected,b=o.parsedType(f.input),S=l[b]??b;return/^[A-Z]/.test(f.expected)?`Няправільны ўвод: чакаўся instanceof ${f.expected}, атрымана ${S}`:`Няправільны ўвод: чакаўся ${m}, атрымана ${S}`}case"invalid_value":return f.values.length===1?`Няправільны ўвод: чакалася ${o.stringifyPrimitive(f.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${o.joinValues(f.values,"|")}`;case"too_big":{const m=f.inclusive?"<=":"<",b=h(f.origin);if(b){const S=Number(f.maximum),x=s(S,b.unit.one,b.unit.few,b.unit.many);return`Занадта вялікі: чакалася, што ${f.origin??"значэнне"} павінна ${b.verb} ${m}${f.maximum.toString()} ${x}`}return`Занадта вялікі: чакалася, што ${f.origin??"значэнне"} павінна быць ${m}${f.maximum.toString()}`}case"too_small":{const m=f.inclusive?">=":">",b=h(f.origin);if(b){const S=Number(f.minimum),x=s(S,b.unit.one,b.unit.few,b.unit.many);return`Занадта малы: чакалася, што ${f.origin} павінна ${b.verb} ${m}${f.minimum.toString()} ${x}`}return`Занадта малы: чакалася, што ${f.origin} павінна быць ${m}${f.minimum.toString()}`}case"invalid_format":{const m=f;return m.format==="starts_with"?`Няправільны радок: павінен пачынацца з "${m.prefix}"`:m.format==="ends_with"?`Няправільны радок: павінен заканчвацца на "${m.suffix}"`:m.format==="includes"?`Няправільны радок: павінен змяшчаць "${m.includes}"`:m.format==="regex"?`Няправільны радок: павінен адпавядаць шаблону ${m.pattern}`:`Няправільны ${p[m.format]??f.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${f.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${f.keys.length>1?"ключы":"ключ"}: ${o.joinValues(f.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${f.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${f.origin}`;default:return"Няправільны ўвод"}}};function c(){return{localeError:d()}}e.exports=t.default})(Jl,Jl.exports)),Jl.exports}var Ql={exports:{}},fo=Ql.exports,Gx;function QO(){return Gx||(Gx=1,(function(e,t){var r=fo&&fo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=fo&&fo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=fo&&fo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}};function u(l){return c[l]??null}const h={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"},p={nan:"NaN",number:"число",array:"масив"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Невалиден вход: очакван instanceof ${l.expected}, получен ${b}`:`Невалиден вход: очакван ${f}, получен ${b}`}case"invalid_value":return l.values.length===1?`Невалиден вход: очакван ${o.stringifyPrimitive(l.values[0])}`:`Невалидна опция: очаквано едно от ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Твърде голямо: очаква се ${l.origin??"стойност"} да съдържа ${f}${l.maximum.toString()} ${m.unit??"елемента"}`:`Твърде голямо: очаква се ${l.origin??"стойност"} да бъде ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Твърде малко: очаква се ${l.origin} да съдържа ${f}${l.minimum.toString()} ${m.unit}`:`Твърде малко: очаква се ${l.origin} да бъде ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;if(f.format==="starts_with")return`Невалиден низ: трябва да започва с "${f.prefix}"`;if(f.format==="ends_with")return`Невалиден низ: трябва да завършва с "${f.suffix}"`;if(f.format==="includes")return`Невалиден низ: трябва да включва "${f.includes}"`;if(f.format==="regex")return`Невалиден низ: трябва да съвпада с ${f.pattern}`;let m="Невалиден";return f.format==="emoji"&&(m="Невалидно"),f.format==="datetime"&&(m="Невалидно"),f.format==="date"&&(m="Невалидна"),f.format==="time"&&(m="Невалидно"),f.format==="duration"&&(m="Невалидна"),`${m} ${h[f.format]??l.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${l.divisor}`;case"unrecognized_keys":return`Неразпознат${l.keys.length>1?"и":""} ключ${l.keys.length>1?"ове":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${l.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${l.origin}`;default:return"Невалиден вход"}}};function d(){return{localeError:s()}}e.exports=t.default})(Ql,Ql.exports)),Ql.exports}var ec={exports:{}},po=ec.exports,Zx;function eF(){return Zx||(Zx=1,(function(e,t){var r=po&&po.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=po&&po.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=po&&po.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function u(l){return c[l]??null}const h={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Tipus invàlid: s'esperava instanceof ${l.expected}, s'ha rebut ${b}`:`Tipus invàlid: s'esperava ${f}, s'ha rebut ${b}`}case"invalid_value":return l.values.length===1?`Valor invàlid: s'esperava ${o.stringifyPrimitive(l.values[0])}`:`Opció invàlida: s'esperava una de ${o.joinValues(l.values," o ")}`;case"too_big":{const f=l.inclusive?"com a màxim":"menys de",m=u(l.origin);return m?`Massa gran: s'esperava que ${l.origin??"el valor"} contingués ${f} ${l.maximum.toString()} ${m.unit??"elements"}`:`Massa gran: s'esperava que ${l.origin??"el valor"} fos ${f} ${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?"com a mínim":"més de",m=u(l.origin);return m?`Massa petit: s'esperava que ${l.origin} contingués ${f} ${l.minimum.toString()} ${m.unit}`:`Massa petit: s'esperava que ${l.origin} fos ${f} ${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Format invàlid: ha de començar amb "${f.prefix}"`:f.format==="ends_with"?`Format invàlid: ha d'acabar amb "${f.suffix}"`:f.format==="includes"?`Format invàlid: ha d'incloure "${f.includes}"`:f.format==="regex"?`Format invàlid: ha de coincidir amb el patró ${f.pattern}`:`Format invàlid per a ${h[f.format]??l.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${l.divisor}`;case"unrecognized_keys":return`Clau${l.keys.length>1?"s":""} no reconeguda${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${l.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${l.origin}`;default:return"Entrada invàlida"}}};function d(){return{localeError:s()}}e.exports=t.default})(ec,ec.exports)),ec.exports}var tc={exports:{}},mo=tc.exports,qx;function tF(){return qx||(qx=1,(function(e,t){var r=mo&&mo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=mo&&mo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=mo&&mo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function u(l){return c[l]??null}const h={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"},p={nan:"NaN",number:"číslo",string:"řetězec",function:"funkce",array:"pole"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Neplatný vstup: očekáváno instanceof ${l.expected}, obdrženo ${b}`:`Neplatný vstup: očekáváno ${f}, obdrženo ${b}`}case"invalid_value":return l.values.length===1?`Neplatný vstup: očekáváno ${o.stringifyPrimitive(l.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Hodnota je příliš velká: ${l.origin??"hodnota"} musí mít ${f}${l.maximum.toString()} ${m.unit??"prvků"}`:`Hodnota je příliš velká: ${l.origin??"hodnota"} musí být ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Hodnota je příliš malá: ${l.origin??"hodnota"} musí mít ${f}${l.minimum.toString()} ${m.unit??"prvků"}`:`Hodnota je příliš malá: ${l.origin??"hodnota"} musí být ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Neplatný řetězec: musí začínat na "${f.prefix}"`:f.format==="ends_with"?`Neplatný řetězec: musí končit na "${f.suffix}"`:f.format==="includes"?`Neplatný řetězec: musí obsahovat "${f.includes}"`:f.format==="regex"?`Neplatný řetězec: musí odpovídat vzoru ${f.pattern}`:`Neplatný formát ${h[f.format]??l.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${l.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${l.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${l.origin}`;default:return"Neplatný vstup"}}};function d(){return{localeError:s()}}e.exports=t.default})(tc,tc.exports)),tc.exports}var rc={exports:{}},go=rc.exports,Xx;function rF(){return Xx||(Xx=1,(function(e,t){var r=go&&go.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=go&&go.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=go&&go.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function u(l){return c[l]??null}const h={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},p={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ugyldigt input: forventede instanceof ${l.expected}, fik ${b}`:`Ugyldigt input: forventede ${f}, fik ${b}`}case"invalid_value":return l.values.length===1?`Ugyldig værdi: forventede ${o.stringifyPrimitive(l.values[0])}`:`Ugyldigt valg: forventede en af følgende ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin),b=p[l.origin]??l.origin;return m?`For stor: forventede ${b??"value"} ${m.verb} ${f} ${l.maximum.toString()} ${m.unit??"elementer"}`:`For stor: forventede ${b??"value"} havde ${f} ${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin),b=p[l.origin]??l.origin;return m?`For lille: forventede ${b} ${m.verb} ${f} ${l.minimum.toString()} ${m.unit}`:`For lille: forventede ${b} havde ${f} ${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ugyldig streng: skal starte med "${f.prefix}"`:f.format==="ends_with"?`Ugyldig streng: skal ende med "${f.suffix}"`:f.format==="includes"?`Ugyldig streng: skal indeholde "${f.includes}"`:f.format==="regex"?`Ugyldig streng: skal matche mønsteret ${f.pattern}`:`Ugyldig ${h[f.format]??l.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${l.divisor}`;case"unrecognized_keys":return`${l.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${l.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${l.origin}`;default:return"Ugyldigt input"}}};function d(){return{localeError:s()}}e.exports=t.default})(rc,rc.exports)),rc.exports}var nc={exports:{}},vo=nc.exports,Yx;function nF(){return Yx||(Yx=1,(function(e,t){var r=vo&&vo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=vo&&vo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=vo&&vo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function u(l){return c[l]??null}const h={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},p={nan:"NaN",number:"Zahl",array:"Array"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ungültige Eingabe: erwartet instanceof ${l.expected}, erhalten ${b}`:`Ungültige Eingabe: erwartet ${f}, erhalten ${b}`}case"invalid_value":return l.values.length===1?`Ungültige Eingabe: erwartet ${o.stringifyPrimitive(l.values[0])}`:`Ungültige Option: erwartet eine von ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Zu groß: erwartet, dass ${l.origin??"Wert"} ${f}${l.maximum.toString()} ${m.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${l.origin??"Wert"} ${f}${l.maximum.toString()} ist`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Zu klein: erwartet, dass ${l.origin} ${f}${l.minimum.toString()} ${m.unit} hat`:`Zu klein: erwartet, dass ${l.origin} ${f}${l.minimum.toString()} ist`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ungültiger String: muss mit "${f.prefix}" beginnen`:f.format==="ends_with"?`Ungültiger String: muss mit "${f.suffix}" enden`:f.format==="includes"?`Ungültiger String: muss "${f.includes}" enthalten`:f.format==="regex"?`Ungültiger String: muss dem Muster ${f.pattern} entsprechen`:`Ungültig: ${h[f.format]??l.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${l.divisor} sein`;case"unrecognized_keys":return`${l.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${l.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${l.origin}`;default:return"Ungültige Eingabe"}}};function d(){return{localeError:s()}}e.exports=t.default})(nc,nc.exports)),nc.exports}var ac={exports:{}},bo=ac.exports,Kx;function gj(){return Kx||(Kx=1,(function(e,t){var r=bo&&bo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=bo&&bo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=bo&&bo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function u(l){return c[l]??null}const h={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return`Invalid input: expected ${f}, received ${b}`}case"invalid_value":return l.values.length===1?`Invalid input: expected ${o.stringifyPrimitive(l.values[0])}`:`Invalid option: expected one of ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Too big: expected ${l.origin??"value"} to have ${f}${l.maximum.toString()} ${m.unit??"elements"}`:`Too big: expected ${l.origin??"value"} to be ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Too small: expected ${l.origin} to have ${f}${l.minimum.toString()} ${m.unit}`:`Too small: expected ${l.origin} to be ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Invalid string: must start with "${f.prefix}"`:f.format==="ends_with"?`Invalid string: must end with "${f.suffix}"`:f.format==="includes"?`Invalid string: must include "${f.includes}"`:f.format==="regex"?`Invalid string: must match pattern ${f.pattern}`:`Invalid ${h[f.format]??l.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${l.divisor}`;case"unrecognized_keys":return`Unrecognized key${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Invalid key in ${l.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${l.origin}`;default:return"Invalid input"}}};function d(){return{localeError:s()}}e.exports=t.default})(ac,ac.exports)),ac.exports}var ic={exports:{}},yo=ic.exports,Jx;function aF(){return Jx||(Jx=1,(function(e,t){var r=yo&&yo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=yo&&yo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=yo&&yo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function u(l){return c[l]??null}const h={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},p={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Nevalida enigo: atendiĝis instanceof ${l.expected}, riceviĝis ${b}`:`Nevalida enigo: atendiĝis ${f}, riceviĝis ${b}`}case"invalid_value":return l.values.length===1?`Nevalida enigo: atendiĝis ${o.stringifyPrimitive(l.values[0])}`:`Nevalida opcio: atendiĝis unu el ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Tro granda: atendiĝis ke ${l.origin??"valoro"} havu ${f}${l.maximum.toString()} ${m.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${l.origin??"valoro"} havu ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Tro malgranda: atendiĝis ke ${l.origin} havu ${f}${l.minimum.toString()} ${m.unit}`:`Tro malgranda: atendiĝis ke ${l.origin} estu ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Nevalida karaktraro: devas komenciĝi per "${f.prefix}"`:f.format==="ends_with"?`Nevalida karaktraro: devas finiĝi per "${f.suffix}"`:f.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${f.includes}"`:f.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${f.pattern}`:`Nevalida ${h[f.format]??l.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${l.divisor}`;case"unrecognized_keys":return`Nekonata${l.keys.length>1?"j":""} ŝlosilo${l.keys.length>1?"j":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${l.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${l.origin}`;default:return"Nevalida enigo"}}};function d(){return{localeError:s()}}e.exports=t.default})(ic,ic.exports)),ic.exports}var oc={exports:{}},xo=oc.exports,Qx;function iF(){return Qx||(Qx=1,(function(e,t){var r=xo&&xo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=xo&&xo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=xo&&xo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function u(l){return c[l]??null}const h={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},p={nan:"NaN",string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Entrada inválida: se esperaba instanceof ${l.expected}, recibido ${b}`:`Entrada inválida: se esperaba ${f}, recibido ${b}`}case"invalid_value":return l.values.length===1?`Entrada inválida: se esperaba ${o.stringifyPrimitive(l.values[0])}`:`Opción inválida: se esperaba una de ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin),b=p[l.origin]??l.origin;return m?`Demasiado grande: se esperaba que ${b??"valor"} tuviera ${f}${l.maximum.toString()} ${m.unit??"elementos"}`:`Demasiado grande: se esperaba que ${b??"valor"} fuera ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin),b=p[l.origin]??l.origin;return m?`Demasiado pequeño: se esperaba que ${b} tuviera ${f}${l.minimum.toString()} ${m.unit}`:`Demasiado pequeño: se esperaba que ${b} fuera ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Cadena inválida: debe comenzar con "${f.prefix}"`:f.format==="ends_with"?`Cadena inválida: debe terminar en "${f.suffix}"`:f.format==="includes"?`Cadena inválida: debe incluir "${f.includes}"`:f.format==="regex"?`Cadena inválida: debe coincidir con el patrón ${f.pattern}`:`Inválido ${h[f.format]??l.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${l.divisor}`;case"unrecognized_keys":return`Llave${l.keys.length>1?"s":""} desconocida${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Llave inválida en ${p[l.origin]??l.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido en ${p[l.origin]??l.origin}`;default:return"Entrada inválida"}}};function d(){return{localeError:s()}}e.exports=t.default})(oc,oc.exports)),oc.exports}var sc={exports:{}},wo=sc.exports,ew;function oF(){return ew||(ew=1,(function(e,t){var r=wo&&wo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=wo&&wo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=wo&&wo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function u(l){return c[l]??null}const h={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"},p={nan:"NaN",number:"عدد",array:"آرایه"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`ورودی نامعتبر: می‌بایست instanceof ${l.expected} می‌بود، ${b} دریافت شد`:`ورودی نامعتبر: می‌بایست ${f} می‌بود، ${b} دریافت شد`}case"invalid_value":return l.values.length===1?`ورودی نامعتبر: می‌بایست ${o.stringifyPrimitive(l.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${o.joinValues(l.values,"|")} می‌بود`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`خیلی بزرگ: ${l.origin??"مقدار"} باید ${f}${l.maximum.toString()} ${m.unit??"عنصر"} باشد`:`خیلی بزرگ: ${l.origin??"مقدار"} باید ${f}${l.maximum.toString()} باشد`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`خیلی کوچک: ${l.origin} باید ${f}${l.minimum.toString()} ${m.unit} باشد`:`خیلی کوچک: ${l.origin} باید ${f}${l.minimum.toString()} باشد`}case"invalid_format":{const f=l;return f.format==="starts_with"?`رشته نامعتبر: باید با "${f.prefix}" شروع شود`:f.format==="ends_with"?`رشته نامعتبر: باید با "${f.suffix}" تمام شود`:f.format==="includes"?`رشته نامعتبر: باید شامل "${f.includes}" باشد`:f.format==="regex"?`رشته نامعتبر: باید با الگوی ${f.pattern} مطابقت داشته باشد`:`${h[f.format]??l.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${l.divisor} باشد`;case"unrecognized_keys":return`کلید${l.keys.length>1?"های":""} ناشناس: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${l.origin}`;case"invalid_union":return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${l.origin}`;default:return"ورودی نامعتبر"}}};function d(){return{localeError:s()}}e.exports=t.default})(sc,sc.exports)),sc.exports}var lc={exports:{}},So=lc.exports,tw;function sF(){return tw||(tw=1,(function(e,t){var r=So&&So.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=So&&So.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=So&&So.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function u(l){return c[l]??null}const h={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Virheellinen tyyppi: odotettiin instanceof ${l.expected}, oli ${b}`:`Virheellinen tyyppi: odotettiin ${f}, oli ${b}`}case"invalid_value":return l.values.length===1?`Virheellinen syöte: täytyy olla ${o.stringifyPrimitive(l.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Liian suuri: ${m.subject} täytyy olla ${f}${l.maximum.toString()} ${m.unit}`.trim():`Liian suuri: arvon täytyy olla ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Liian pieni: ${m.subject} täytyy olla ${f}${l.minimum.toString()} ${m.unit}`.trim():`Liian pieni: arvon täytyy olla ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Virheellinen syöte: täytyy alkaa "${f.prefix}"`:f.format==="ends_with"?`Virheellinen syöte: täytyy loppua "${f.suffix}"`:f.format==="includes"?`Virheellinen syöte: täytyy sisältää "${f.includes}"`:f.format==="regex"?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${f.pattern}`:`Virheellinen ${h[f.format]??l.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${l.divisor} monikerta`;case"unrecognized_keys":return`${l.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function d(){return{localeError:s()}}e.exports=t.default})(lc,lc.exports)),lc.exports}var cc={exports:{}},ko=cc.exports,rw;function lF(){return rw||(rw=1,(function(e,t){var r=ko&&ko.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=ko&&ko.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=ko&&ko.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function u(l){return c[l]??null}const h={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},p={nan:"NaN",number:"nombre",array:"tableau"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Entrée invalide : instanceof ${l.expected} attendu, ${b} reçu`:`Entrée invalide : ${f} attendu, ${b} reçu`}case"invalid_value":return l.values.length===1?`Entrée invalide : ${o.stringifyPrimitive(l.values[0])} attendu`:`Option invalide : une valeur parmi ${o.joinValues(l.values,"|")} attendue`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Trop grand : ${l.origin??"valeur"} doit ${m.verb} ${f}${l.maximum.toString()} ${m.unit??"élément(s)"}`:`Trop grand : ${l.origin??"valeur"} doit être ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Trop petit : ${l.origin} doit ${m.verb} ${f}${l.minimum.toString()} ${m.unit}`:`Trop petit : ${l.origin} doit être ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Chaîne invalide : doit commencer par "${f.prefix}"`:f.format==="ends_with"?`Chaîne invalide : doit se terminer par "${f.suffix}"`:f.format==="includes"?`Chaîne invalide : doit inclure "${f.includes}"`:f.format==="regex"?`Chaîne invalide : doit correspondre au modèle ${f.pattern}`:`${h[f.format]??l.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${l.divisor}`;case"unrecognized_keys":return`Clé${l.keys.length>1?"s":""} non reconnue${l.keys.length>1?"s":""} : ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${l.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${l.origin}`;default:return"Entrée invalide"}}};function d(){return{localeError:s()}}e.exports=t.default})(cc,cc.exports)),cc.exports}var uc={exports:{}},Co=uc.exports,nw;function cF(){return nw||(nw=1,(function(e,t){var r=Co&&Co.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Co&&Co.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Co&&Co.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function u(l){return c[l]??null}const h={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Entrée invalide : attendu instanceof ${l.expected}, reçu ${b}`:`Entrée invalide : attendu ${f}, reçu ${b}`}case"invalid_value":return l.values.length===1?`Entrée invalide : attendu ${o.stringifyPrimitive(l.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"≤":"<",m=u(l.origin);return m?`Trop grand : attendu que ${l.origin??"la valeur"} ait ${f}${l.maximum.toString()} ${m.unit}`:`Trop grand : attendu que ${l.origin??"la valeur"} soit ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?"≥":">",m=u(l.origin);return m?`Trop petit : attendu que ${l.origin} ait ${f}${l.minimum.toString()} ${m.unit}`:`Trop petit : attendu que ${l.origin} soit ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Chaîne invalide : doit commencer par "${f.prefix}"`:f.format==="ends_with"?`Chaîne invalide : doit se terminer par "${f.suffix}"`:f.format==="includes"?`Chaîne invalide : doit inclure "${f.includes}"`:f.format==="regex"?`Chaîne invalide : doit correspondre au motif ${f.pattern}`:`${h[f.format]??l.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${l.divisor}`;case"unrecognized_keys":return`Clé${l.keys.length>1?"s":""} non reconnue${l.keys.length>1?"s":""} : ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${l.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${l.origin}`;default:return"Entrée invalide"}}};function d(){return{localeError:s()}}e.exports=t.default})(uc,uc.exports)),uc.exports}var dc={exports:{}},_o=dc.exports,aw;function uF(){return aw||(aw=1,(function(e,t){var r=_o&&_o.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=_o&&_o.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=_o&&_o.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},u={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},h=x=>x?c[x]:void 0,p=x=>{const w=h(x);return w?w.label:x??c.unknown.label},l=x=>`ה${p(x)}`,f=x=>{const w=h(x);return((w==null?void 0:w.gender)??"m")==="f"?"צריכה להיות":"צריך להיות"},m=x=>x?u[x]??null:null,b={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}},S={nan:"NaN"};return x=>{var w;switch(x.code){case"invalid_type":{const y=x.expected,_=S[y??""]??p(y),P=o.parsedType(x.input),T=S[P]??((w=c[P])==null?void 0:w.label)??P;return/^[A-Z]/.test(x.expected)?`קלט לא תקין: צריך להיות instanceof ${x.expected}, התקבל ${T}`:`קלט לא תקין: צריך להיות ${_}, התקבל ${T}`}case"invalid_value":{if(x.values.length===1)return`ערך לא תקין: הערך חייב להיות ${o.stringifyPrimitive(x.values[0])}`;const y=x.values.map(T=>o.stringifyPrimitive(T));if(x.values.length===2)return`ערך לא תקין: האפשרויות המתאימות הן ${y[0]} או ${y[1]}`;const _=y[y.length-1];return`ערך לא תקין: האפשרויות המתאימות הן ${y.slice(0,-1).join(", ")} או ${_}`}case"too_big":{const y=m(x.origin),_=l(x.origin??"value");if(x.origin==="string")return`${(y==null?void 0:y.longLabel)??"ארוך"} מדי: ${_} צריכה להכיל ${x.maximum.toString()} ${(y==null?void 0:y.unit)??""} ${x.inclusive?"או פחות":"לכל היותר"}`.trim();if(x.origin==="number"){const M=x.inclusive?`קטן או שווה ל-${x.maximum}`:`קטן מ-${x.maximum}`;return`גדול מדי: ${_} צריך להיות ${M}`}if(x.origin==="array"||x.origin==="set"){const M=x.origin==="set"?"צריכה":"צריך",N=x.inclusive?`${x.maximum} ${(y==null?void 0:y.unit)??""} או פחות`:`פחות מ-${x.maximum} ${(y==null?void 0:y.unit)??""}`;return`גדול מדי: ${_} ${M} להכיל ${N}`.trim()}const P=x.inclusive?"<=":"<",T=f(x.origin??"value");return y!=null&&y.unit?`${y.longLabel} מדי: ${_} ${T} ${P}${x.maximum.toString()} ${y.unit}`:`${(y==null?void 0:y.longLabel)??"גדול"} מדי: ${_} ${T} ${P}${x.maximum.toString()}`}case"too_small":{const y=m(x.origin),_=l(x.origin??"value");if(x.origin==="string")return`${(y==null?void 0:y.shortLabel)??"קצר"} מדי: ${_} צריכה להכיל ${x.minimum.toString()} ${(y==null?void 0:y.unit)??""} ${x.inclusive?"או יותר":"לפחות"}`.trim();if(x.origin==="number"){const M=x.inclusive?`גדול או שווה ל-${x.minimum}`:`גדול מ-${x.minimum}`;return`קטן מדי: ${_} צריך להיות ${M}`}if(x.origin==="array"||x.origin==="set"){const M=x.origin==="set"?"צריכה":"צריך";if(x.minimum===1&&x.inclusive){const O=(x.origin==="set","לפחות פריט אחד");return`קטן מדי: ${_} ${M} להכיל ${O}`}const N=x.inclusive?`${x.minimum} ${(y==null?void 0:y.unit)??""} או יותר`:`יותר מ-${x.minimum} ${(y==null?void 0:y.unit)??""}`;return`קטן מדי: ${_} ${M} להכיל ${N}`.trim()}const P=x.inclusive?">=":">",T=f(x.origin??"value");return y!=null&&y.unit?`${y.shortLabel} מדי: ${_} ${T} ${P}${x.minimum.toString()} ${y.unit}`:`${(y==null?void 0:y.shortLabel)??"קטן"} מדי: ${_} ${T} ${P}${x.minimum.toString()}`}case"invalid_format":{const y=x;if(y.format==="starts_with")return`המחרוזת חייבת להתחיל ב "${y.prefix}"`;if(y.format==="ends_with")return`המחרוזת חייבת להסתיים ב "${y.suffix}"`;if(y.format==="includes")return`המחרוזת חייבת לכלול "${y.includes}"`;if(y.format==="regex")return`המחרוזת חייבת להתאים לתבנית ${y.pattern}`;const _=b[y.format],P=(_==null?void 0:_.label)??y.format,M=((_==null?void 0:_.gender)??"m")==="f"?"תקינה":"תקין";return`${P} לא ${M}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${x.divisor}`;case"unrecognized_keys":return`מפתח${x.keys.length>1?"ות":""} לא מזוה${x.keys.length>1?"ים":"ה"}: ${o.joinValues(x.keys,", ")}`;case"invalid_key":return"שדה לא תקין באובייקט";case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${l(x.origin??"array")}`;default:return"קלט לא תקין"}}};function d(){return{localeError:s()}}e.exports=t.default})(dc,dc.exports)),dc.exports}var hc={exports:{}},jo=hc.exports,iw;function dF(){return iw||(iw=1,(function(e,t){var r=jo&&jo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=jo&&jo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=jo&&jo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function u(l){return c[l]??null}const h={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"},p={nan:"NaN",number:"szám",array:"tömb"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Érvénytelen bemenet: a várt érték instanceof ${l.expected}, a kapott érték ${b}`:`Érvénytelen bemenet: a várt érték ${f}, a kapott érték ${b}`}case"invalid_value":return l.values.length===1?`Érvénytelen bemenet: a várt érték ${o.stringifyPrimitive(l.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Túl nagy: ${l.origin??"érték"} mérete túl nagy ${f}${l.maximum.toString()} ${m.unit??"elem"}`:`Túl nagy: a bemeneti érték ${l.origin??"érték"} túl nagy: ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Túl kicsi: a bemeneti érték ${l.origin} mérete túl kicsi ${f}${l.minimum.toString()} ${m.unit}`:`Túl kicsi: a bemeneti érték ${l.origin} túl kicsi ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Érvénytelen string: "${f.prefix}" értékkel kell kezdődnie`:f.format==="ends_with"?`Érvénytelen string: "${f.suffix}" értékkel kell végződnie`:f.format==="includes"?`Érvénytelen string: "${f.includes}" értéket kell tartalmaznia`:f.format==="regex"?`Érvénytelen string: ${f.pattern} mintának kell megfelelnie`:`Érvénytelen ${h[f.format]??l.format}`}case"not_multiple_of":return`Érvénytelen szám: ${l.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${l.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${l.origin}`;default:return"Érvénytelen bemenet"}}};function d(){return{localeError:s()}}e.exports=t.default})(hc,hc.exports)),hc.exports}var fc={exports:{}},Po=fc.exports,ow;function hF(){return ow||(ow=1,(function(e,t){var r=Po&&Po.__createBinding||(Object.create?(function(h,p,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(p,l);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[l]}}),Object.defineProperty(h,f,m)}):(function(h,p,l,f){f===void 0&&(f=l),h[f]=p[l]})),n=Po&&Po.__setModuleDefault||(Object.create?(function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}):function(h,p){h.default=p}),i=Po&&Po.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var l in h)l!=="default"&&Object.prototype.hasOwnProperty.call(h,l)&&r(p,h,l);return n(p,h),p};Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;const o=i(tt());function s(h,p,l){return Math.abs(h)===1?p:l}function d(h){if(!h)return"";const p=["ա","ե","ը","ի","ո","ու","օ"],l=h[h.length-1];return h+(p.includes(l)?"ն":"ը")}const c=()=>{const h={string:{unit:{one:"նշան",many:"նշաններ"},verb:"ունենալ"},file:{unit:{one:"բայթ",many:"բայթեր"},verb:"ունենալ"},array:{unit:{one:"տարր",many:"տարրեր"},verb:"ունենալ"},set:{unit:{one:"տարր",many:"տարրեր"},verb:"ունենալ"}};function p(m){return h[m]??null}const l={regex:"մուտք",email:"էլ. հասցե",url:"URL",emoji:"էմոջի",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ամսաթիվ և ժամ",date:"ISO ամսաթիվ",time:"ISO ժամ",duration:"ISO տևողություն",ipv4:"IPv4 հասցե",ipv6:"IPv6 հասցե",cidrv4:"IPv4 միջակայք",cidrv6:"IPv6 միջակայք",base64:"base64 ձևաչափով տող",base64url:"base64url ձևաչափով տող",json_string:"JSON տող",e164:"E.164 համար",jwt:"JWT",template_literal:"մուտք"},f={nan:"NaN",number:"թիվ",array:"զանգված"};return m=>{switch(m.code){case"invalid_type":{const b=f[m.expected]??m.expected,S=o.parsedType(m.input),x=f[S]??S;return/^[A-Z]/.test(m.expected)?`Սխալ մուտքագրում․ սպասվում էր instanceof ${m.expected}, ստացվել է ${x}`:`Սխալ մուտքագրում․ սպասվում էր ${b}, ստացվել է ${x}`}case"invalid_value":return m.values.length===1?`Սխալ մուտքագրում․ սպասվում էր ${o.stringifyPrimitive(m.values[1])}`:`Սխալ տարբերակ․ սպասվում էր հետևյալներից մեկը՝ ${o.joinValues(m.values,"|")}`;case"too_big":{const b=m.inclusive?"<=":"<",S=p(m.origin);if(S){const x=Number(m.maximum),w=s(x,S.unit.one,S.unit.many);return`Չափազանց մեծ արժեք․ սպասվում է, որ ${d(m.origin??"արժեք")} կունենա ${b}${m.maximum.toString()} ${w}`}return`Չափազանց մեծ արժեք․ սպասվում է, որ ${d(m.origin??"արժեք")} լինի ${b}${m.maximum.toString()}`}case"too_small":{const b=m.inclusive?">=":">",S=p(m.origin);if(S){const x=Number(m.minimum),w=s(x,S.unit.one,S.unit.many);return`Չափազանց փոքր արժեք․ սպասվում է, որ ${d(m.origin)} կունենա ${b}${m.minimum.toString()} ${w}`}return`Չափազանց փոքր արժեք․ սպասվում է, որ ${d(m.origin)} լինի ${b}${m.minimum.toString()}`}case"invalid_format":{const b=m;return b.format==="starts_with"?`Սխալ տող․ պետք է սկսվի "${b.prefix}"-ով`:b.format==="ends_with"?`Սխալ տող․ պետք է ավարտվի "${b.suffix}"-ով`:b.format==="includes"?`Սխալ տող․ պետք է պարունակի "${b.includes}"`:b.format==="regex"?`Սխալ տող․ պետք է համապատասխանի ${b.pattern} ձևաչափին`:`Սխալ ${l[b.format]??m.format}`}case"not_multiple_of":return`Սխալ թիվ․ պետք է բազմապատիկ լինի ${m.divisor}-ի`;case"unrecognized_keys":return`Չճանաչված բանալի${m.keys.length>1?"ներ":""}. ${o.joinValues(m.keys,", ")}`;case"invalid_key":return`Սխալ բանալի ${d(m.origin)}-ում`;case"invalid_union":return"Սխալ մուտքագրում";case"invalid_element":return`Սխալ արժեք ${d(m.origin)}-ում`;default:return"Սխալ մուտքագրում"}}};function u(){return{localeError:c()}}e.exports=t.default})(fc,fc.exports)),fc.exports}var pc={exports:{}},$o=pc.exports,sw;function fF(){return sw||(sw=1,(function(e,t){var r=$o&&$o.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=$o&&$o.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=$o&&$o.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function u(l){return c[l]??null}const h={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Input tidak valid: diharapkan instanceof ${l.expected}, diterima ${b}`:`Input tidak valid: diharapkan ${f}, diterima ${b}`}case"invalid_value":return l.values.length===1?`Input tidak valid: diharapkan ${o.stringifyPrimitive(l.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Terlalu besar: diharapkan ${l.origin??"value"} memiliki ${f}${l.maximum.toString()} ${m.unit??"elemen"}`:`Terlalu besar: diharapkan ${l.origin??"value"} menjadi ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Terlalu kecil: diharapkan ${l.origin} memiliki ${f}${l.minimum.toString()} ${m.unit}`:`Terlalu kecil: diharapkan ${l.origin} menjadi ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`String tidak valid: harus dimulai dengan "${f.prefix}"`:f.format==="ends_with"?`String tidak valid: harus berakhir dengan "${f.suffix}"`:f.format==="includes"?`String tidak valid: harus menyertakan "${f.includes}"`:f.format==="regex"?`String tidak valid: harus sesuai pola ${f.pattern}`:`${h[f.format]??l.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${l.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${l.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${l.origin}`;default:return"Input tidak valid"}}};function d(){return{localeError:s()}}e.exports=t.default})(pc,pc.exports)),pc.exports}var mc={exports:{}},Io=mc.exports,lw;function pF(){return lw||(lw=1,(function(e,t){var r=Io&&Io.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Io&&Io.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Io&&Io.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function u(l){return c[l]??null}const h={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"},p={nan:"NaN",number:"númer",array:"fylki"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Rangt gildi: Þú slóst inn ${b} þar sem á að vera instanceof ${l.expected}`:`Rangt gildi: Þú slóst inn ${b} þar sem á að vera ${f}`}case"invalid_value":return l.values.length===1?`Rangt gildi: gert ráð fyrir ${o.stringifyPrimitive(l.values[0])}`:`Ógilt val: má vera eitt af eftirfarandi ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Of stórt: gert er ráð fyrir að ${l.origin??"gildi"} hafi ${f}${l.maximum.toString()} ${m.unit??"hluti"}`:`Of stórt: gert er ráð fyrir að ${l.origin??"gildi"} sé ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Of lítið: gert er ráð fyrir að ${l.origin} hafi ${f}${l.minimum.toString()} ${m.unit}`:`Of lítið: gert er ráð fyrir að ${l.origin} sé ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ógildur strengur: verður að byrja á "${f.prefix}"`:f.format==="ends_with"?`Ógildur strengur: verður að enda á "${f.suffix}"`:f.format==="includes"?`Ógildur strengur: verður að innihalda "${f.includes}"`:f.format==="regex"?`Ógildur strengur: verður að fylgja mynstri ${f.pattern}`:`Rangt ${h[f.format]??l.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${l.divisor}`;case"unrecognized_keys":return`Óþekkt ${l.keys.length>1?"ir lyklar":"ur lykill"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${l.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${l.origin}`;default:return"Rangt gildi"}}};function d(){return{localeError:s()}}e.exports=t.default})(mc,mc.exports)),mc.exports}var gc={exports:{}},To=gc.exports,cw;function mF(){return cw||(cw=1,(function(e,t){var r=To&&To.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=To&&To.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=To&&To.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function u(l){return c[l]??null}const h={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},p={nan:"NaN",number:"numero",array:"vettore"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Input non valido: atteso instanceof ${l.expected}, ricevuto ${b}`:`Input non valido: atteso ${f}, ricevuto ${b}`}case"invalid_value":return l.values.length===1?`Input non valido: atteso ${o.stringifyPrimitive(l.values[0])}`:`Opzione non valida: atteso uno tra ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Troppo grande: ${l.origin??"valore"} deve avere ${f}${l.maximum.toString()} ${m.unit??"elementi"}`:`Troppo grande: ${l.origin??"valore"} deve essere ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Troppo piccolo: ${l.origin} deve avere ${f}${l.minimum.toString()} ${m.unit}`:`Troppo piccolo: ${l.origin} deve essere ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Stringa non valida: deve iniziare con "${f.prefix}"`:f.format==="ends_with"?`Stringa non valida: deve terminare con "${f.suffix}"`:f.format==="includes"?`Stringa non valida: deve includere "${f.includes}"`:f.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${f.pattern}`:`Invalid ${h[f.format]??l.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${l.divisor}`;case"unrecognized_keys":return`Chiav${l.keys.length>1?"i":"e"} non riconosciut${l.keys.length>1?"e":"a"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${l.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${l.origin}`;default:return"Input non valido"}}};function d(){return{localeError:s()}}e.exports=t.default})(gc,gc.exports)),gc.exports}var vc={exports:{}},No=vc.exports,uw;function gF(){return uw||(uw=1,(function(e,t){var r=No&&No.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=No&&No.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=No&&No.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function u(l){return c[l]??null}const h={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"},p={nan:"NaN",number:"数値",array:"配列"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`無効な入力: instanceof ${l.expected}が期待されましたが、${b}が入力されました`:`無効な入力: ${f}が期待されましたが、${b}が入力されました`}case"invalid_value":return l.values.length===1?`無効な入力: ${o.stringifyPrimitive(l.values[0])}が期待されました`:`無効な選択: ${o.joinValues(l.values,"、")}のいずれかである必要があります`;case"too_big":{const f=l.inclusive?"以下である":"より小さい",m=u(l.origin);return m?`大きすぎる値: ${l.origin??"値"}は${l.maximum.toString()}${m.unit??"要素"}${f}必要があります`:`大きすぎる値: ${l.origin??"値"}は${l.maximum.toString()}${f}必要があります`}case"too_small":{const f=l.inclusive?"以上である":"より大きい",m=u(l.origin);return m?`小さすぎる値: ${l.origin}は${l.minimum.toString()}${m.unit}${f}必要があります`:`小さすぎる値: ${l.origin}は${l.minimum.toString()}${f}必要があります`}case"invalid_format":{const f=l;return f.format==="starts_with"?`無効な文字列: "${f.prefix}"で始まる必要があります`:f.format==="ends_with"?`無効な文字列: "${f.suffix}"で終わる必要があります`:f.format==="includes"?`無効な文字列: "${f.includes}"を含む必要があります`:f.format==="regex"?`無効な文字列: パターン${f.pattern}に一致する必要があります`:`無効な${h[f.format]??l.format}`}case"not_multiple_of":return`無効な数値: ${l.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${l.keys.length>1?"群":""}: ${o.joinValues(l.keys,"、")}`;case"invalid_key":return`${l.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${l.origin}内の無効な値`;default:return"無効な入力"}}};function d(){return{localeError:s()}}e.exports=t.default})(vc,vc.exports)),vc.exports}var bc={exports:{}},Eo=bc.exports,dw;function vF(){return dw||(dw=1,(function(e,t){var r=Eo&&Eo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Eo&&Eo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Eo&&Eo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}};function u(l){return c[l]??null}const h={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"},p={nan:"NaN",number:"რიცხვი",string:"სტრინგი",boolean:"ბულეანი",function:"ფუნქცია",array:"მასივი"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`არასწორი შეყვანა: მოსალოდნელი instanceof ${l.expected}, მიღებული ${b}`:`არასწორი შეყვანა: მოსალოდნელი ${f}, მიღებული ${b}`}case"invalid_value":return l.values.length===1?`არასწორი შეყვანა: მოსალოდნელი ${o.stringifyPrimitive(l.values[0])}`:`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${o.joinValues(l.values,"|")}-დან`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`ზედმეტად დიდი: მოსალოდნელი ${l.origin??"მნიშვნელობა"} ${m.verb} ${f}${l.maximum.toString()} ${m.unit}`:`ზედმეტად დიდი: მოსალოდნელი ${l.origin??"მნიშვნელობა"} იყოს ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`ზედმეტად პატარა: მოსალოდნელი ${l.origin} ${m.verb} ${f}${l.minimum.toString()} ${m.unit}`:`ზედმეტად პატარა: მოსალოდნელი ${l.origin} იყოს ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`არასწორი სტრინგი: უნდა იწყებოდეს "${f.prefix}"-ით`:f.format==="ends_with"?`არასწორი სტრინგი: უნდა მთავრდებოდეს "${f.suffix}"-ით`:f.format==="includes"?`არასწორი სტრინგი: უნდა შეიცავდეს "${f.includes}"-ს`:f.format==="regex"?`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${f.pattern}`:`არასწორი ${h[f.format]??l.format}`}case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${l.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${l.keys.length>1?"ები":"ი"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${l.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${l.origin}-ში`;default:return"არასწორი შეყვანა"}}};function d(){return{localeError:s()}}e.exports=t.default})(bc,bc.exports)),bc.exports}var yc={exports:{}},xc={exports:{}},zo=xc.exports,hw;function vj(){return hw||(hw=1,(function(e,t){var r=zo&&zo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=zo&&zo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=zo&&zo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function u(l){return c[l]??null}const h={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"},p={nan:"NaN",number:"លេខ",array:"អារេ (Array)",null:"គ្មានតម្លៃ (null)"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ instanceof ${l.expected} ប៉ុន្តែទទួលបាន ${b}`:`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${f} ប៉ុន្តែទទួលបាន ${b}`}case"invalid_value":return l.values.length===1?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${o.stringifyPrimitive(l.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`ធំពេក៖ ត្រូវការ ${l.origin??"តម្លៃ"} ${f} ${l.maximum.toString()} ${m.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${l.origin??"តម្លៃ"} ${f} ${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`តូចពេក៖ ត្រូវការ ${l.origin} ${f} ${l.minimum.toString()} ${m.unit}`:`តូចពេក៖ ត្រូវការ ${l.origin} ${f} ${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${f.prefix}"`:f.format==="ends_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${f.suffix}"`:f.format==="includes"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${f.includes}"`:f.format==="regex"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${f.pattern}`:`មិនត្រឹមត្រូវ៖ ${h[f.format]??l.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${l.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${l.origin}`;case"invalid_union":return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${l.origin}`;default:return"ទិន្នន័យមិនត្រឹមត្រូវ"}}};function d(){return{localeError:s()}}e.exports=t.default})(xc,xc.exports)),xc.exports}var fw=yc.exports,pw;function bF(){return pw||(pw=1,(function(e,t){var r=fw&&fw.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;const n=r(vj());function i(){return(0,n.default)()}e.exports=t.default})(yc,yc.exports)),yc.exports}var wc={exports:{}},Do=wc.exports,mw;function yF(){return mw||(mw=1,(function(e,t){var r=Do&&Do.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Do&&Do.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Do&&Do.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function u(l){return c[l]??null}const h={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`잘못된 입력: 예상 타입은 instanceof ${l.expected}, 받은 타입은 ${b}입니다`:`잘못된 입력: 예상 타입은 ${f}, 받은 타입은 ${b}입니다`}case"invalid_value":return l.values.length===1?`잘못된 입력: 값은 ${o.stringifyPrimitive(l.values[0])} 이어야 합니다`:`잘못된 옵션: ${o.joinValues(l.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const f=l.inclusive?"이하":"미만",m=f==="미만"?"이어야 합니다":"여야 합니다",b=u(l.origin),S=(b==null?void 0:b.unit)??"요소";return b?`${l.origin??"값"}이 너무 큽니다: ${l.maximum.toString()}${S} ${f}${m}`:`${l.origin??"값"}이 너무 큽니다: ${l.maximum.toString()} ${f}${m}`}case"too_small":{const f=l.inclusive?"이상":"초과",m=f==="이상"?"이어야 합니다":"여야 합니다",b=u(l.origin),S=(b==null?void 0:b.unit)??"요소";return b?`${l.origin??"값"}이 너무 작습니다: ${l.minimum.toString()}${S} ${f}${m}`:`${l.origin??"값"}이 너무 작습니다: ${l.minimum.toString()} ${f}${m}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`잘못된 문자열: "${f.prefix}"(으)로 시작해야 합니다`:f.format==="ends_with"?`잘못된 문자열: "${f.suffix}"(으)로 끝나야 합니다`:f.format==="includes"?`잘못된 문자열: "${f.includes}"을(를) 포함해야 합니다`:f.format==="regex"?`잘못된 문자열: 정규식 ${f.pattern} 패턴과 일치해야 합니다`:`잘못된 ${h[f.format]??l.format}`}case"not_multiple_of":return`잘못된 숫자: ${l.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`잘못된 키: ${l.origin}`;case"invalid_union":return"잘못된 입력";case"invalid_element":return`잘못된 값: ${l.origin}`;default:return"잘못된 입력"}}};function d(){return{localeError:s()}}e.exports=t.default})(wc,wc.exports)),wc.exports}var Sc={exports:{}},Oo=Sc.exports,gw;function xF(){return gw||(gw=1,(function(e,t){var r=Oo&&Oo.__createBinding||(Object.create?(function(h,p,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(p,l);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[l]}}),Object.defineProperty(h,f,m)}):(function(h,p,l,f){f===void 0&&(f=l),h[f]=p[l]})),n=Oo&&Oo.__setModuleDefault||(Object.create?(function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}):function(h,p){h.default=p}),i=Oo&&Oo.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var l in h)l!=="default"&&Object.prototype.hasOwnProperty.call(h,l)&&r(p,h,l);return n(p,h),p};Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;const o=i(tt()),s=h=>h.charAt(0).toUpperCase()+h.slice(1);function d(h){const p=Math.abs(h),l=p%10,f=p%100;return f>=11&&f<=19||l===0?"many":l===1?"one":"few"}const c=()=>{const h={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function p(m,b,S,x){const w=h[m]??null;return w===null?w:{unit:w.unit[b],verb:w.verb[x][S?"inclusive":"notInclusive"]}}const l={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"},f={nan:"NaN",number:"skaičius",bigint:"sveikasis skaičius",string:"eilutė",boolean:"loginė reikšmė",undefined:"neapibrėžta reikšmė",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulinė reikšmė"};return m=>{switch(m.code){case"invalid_type":{const b=f[m.expected]??m.expected,S=o.parsedType(m.input),x=f[S]??S;return/^[A-Z]/.test(m.expected)?`Gautas tipas ${x}, o tikėtasi - instanceof ${m.expected}`:`Gautas tipas ${x}, o tikėtasi - ${b}`}case"invalid_value":return m.values.length===1?`Privalo būti ${o.stringifyPrimitive(m.values[0])}`:`Privalo būti vienas iš ${o.joinValues(m.values,"|")} pasirinkimų`;case"too_big":{const b=f[m.origin]??m.origin,S=p(m.origin,d(Number(m.maximum)),m.inclusive??!1,"smaller");if(S!=null&&S.verb)return`${s(b??m.origin??"reikšmė")} ${S.verb} ${m.maximum.toString()} ${S.unit??"elementų"}`;const x=m.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${s(b??m.origin??"reikšmė")} turi būti ${x} ${m.maximum.toString()} ${S==null?void 0:S.unit}`}case"too_small":{const b=f[m.origin]??m.origin,S=p(m.origin,d(Number(m.minimum)),m.inclusive??!1,"bigger");if(S!=null&&S.verb)return`${s(b??m.origin??"reikšmė")} ${S.verb} ${m.minimum.toString()} ${S.unit??"elementų"}`;const x=m.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${s(b??m.origin??"reikšmė")} turi būti ${x} ${m.minimum.toString()} ${S==null?void 0:S.unit}`}case"invalid_format":{const b=m;return b.format==="starts_with"?`Eilutė privalo prasidėti "${b.prefix}"`:b.format==="ends_with"?`Eilutė privalo pasibaigti "${b.suffix}"`:b.format==="includes"?`Eilutė privalo įtraukti "${b.includes}"`:b.format==="regex"?`Eilutė privalo atitikti ${b.pattern}`:`Neteisingas ${l[b.format]??m.format}`}case"not_multiple_of":return`Skaičius privalo būti ${m.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${m.keys.length>1?"i":"as"} rakt${m.keys.length>1?"ai":"as"}: ${o.joinValues(m.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga įvestis";case"invalid_element":{const b=f[m.origin]??m.origin;return`${s(b??m.origin??"reikšmė")} turi klaidingą įvestį`}default:return"Klaidinga įvestis"}}};function u(){return{localeError:c()}}e.exports=t.default})(Sc,Sc.exports)),Sc.exports}var kc={exports:{}},Fo=kc.exports,vw;function wF(){return vw||(vw=1,(function(e,t){var r=Fo&&Fo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Fo&&Fo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Fo&&Fo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function u(l){return c[l]??null}const h={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"},p={nan:"NaN",number:"број",array:"низа"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Грешен внес: се очекува instanceof ${l.expected}, примено ${b}`:`Грешен внес: се очекува ${f}, примено ${b}`}case"invalid_value":return l.values.length===1?`Invalid input: expected ${o.stringifyPrimitive(l.values[0])}`:`Грешана опција: се очекува една ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Премногу голем: се очекува ${l.origin??"вредноста"} да има ${f}${l.maximum.toString()} ${m.unit??"елементи"}`:`Премногу голем: се очекува ${l.origin??"вредноста"} да биде ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Премногу мал: се очекува ${l.origin} да има ${f}${l.minimum.toString()} ${m.unit}`:`Премногу мал: се очекува ${l.origin} да биде ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Неважечка низа: мора да започнува со "${f.prefix}"`:f.format==="ends_with"?`Неважечка низа: мора да завршува со "${f.suffix}"`:f.format==="includes"?`Неважечка низа: мора да вклучува "${f.includes}"`:f.format==="regex"?`Неважечка низа: мора да одгоара на патернот ${f.pattern}`:`Invalid ${h[f.format]??l.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${l.divisor}`;case"unrecognized_keys":return`${l.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${l.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${l.origin}`;default:return"Грешен внес"}}};function d(){return{localeError:s()}}e.exports=t.default})(kc,kc.exports)),kc.exports}var Cc={exports:{}},Mo=Cc.exports,bw;function SF(){return bw||(bw=1,(function(e,t){var r=Mo&&Mo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Mo&&Mo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Mo&&Mo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function u(l){return c[l]??null}const h={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},p={nan:"NaN",number:"nombor"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Input tidak sah: dijangka instanceof ${l.expected}, diterima ${b}`:`Input tidak sah: dijangka ${f}, diterima ${b}`}case"invalid_value":return l.values.length===1?`Input tidak sah: dijangka ${o.stringifyPrimitive(l.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Terlalu besar: dijangka ${l.origin??"nilai"} ${m.verb} ${f}${l.maximum.toString()} ${m.unit??"elemen"}`:`Terlalu besar: dijangka ${l.origin??"nilai"} adalah ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Terlalu kecil: dijangka ${l.origin} ${m.verb} ${f}${l.minimum.toString()} ${m.unit}`:`Terlalu kecil: dijangka ${l.origin} adalah ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`String tidak sah: mesti bermula dengan "${f.prefix}"`:f.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${f.suffix}"`:f.format==="includes"?`String tidak sah: mesti mengandungi "${f.includes}"`:f.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${f.pattern}`:`${h[f.format]??l.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${l.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${l.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${l.origin}`;default:return"Input tidak sah"}}};function d(){return{localeError:s()}}e.exports=t.default})(Cc,Cc.exports)),Cc.exports}var _c={exports:{}},Lo=_c.exports,yw;function kF(){return yw||(yw=1,(function(e,t){var r=Lo&&Lo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Lo&&Lo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Lo&&Lo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function u(l){return c[l]??null}const h={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},p={nan:"NaN",number:"getal"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ongeldige invoer: verwacht instanceof ${l.expected}, ontving ${b}`:`Ongeldige invoer: verwacht ${f}, ontving ${b}`}case"invalid_value":return l.values.length===1?`Ongeldige invoer: verwacht ${o.stringifyPrimitive(l.values[0])}`:`Ongeldige optie: verwacht één van ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin),b=l.origin==="date"?"laat":l.origin==="string"?"lang":"groot";return m?`Te ${b}: verwacht dat ${l.origin??"waarde"} ${f}${l.maximum.toString()} ${m.unit??"elementen"} ${m.verb}`:`Te ${b}: verwacht dat ${l.origin??"waarde"} ${f}${l.maximum.toString()} is`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin),b=l.origin==="date"?"vroeg":l.origin==="string"?"kort":"klein";return m?`Te ${b}: verwacht dat ${l.origin} ${f}${l.minimum.toString()} ${m.unit} ${m.verb}`:`Te ${b}: verwacht dat ${l.origin} ${f}${l.minimum.toString()} is`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ongeldige tekst: moet met "${f.prefix}" beginnen`:f.format==="ends_with"?`Ongeldige tekst: moet op "${f.suffix}" eindigen`:f.format==="includes"?`Ongeldige tekst: moet "${f.includes}" bevatten`:f.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${f.pattern}`:`Ongeldig: ${h[f.format]??l.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${l.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${l.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${l.origin}`;default:return"Ongeldige invoer"}}};function d(){return{localeError:s()}}e.exports=t.default})(_c,_c.exports)),_c.exports}var jc={exports:{}},Ao=jc.exports,xw;function CF(){return xw||(xw=1,(function(e,t){var r=Ao&&Ao.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Ao&&Ao.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Ao&&Ao.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function u(l){return c[l]??null}const h={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},p={nan:"NaN",number:"tall",array:"liste"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ugyldig input: forventet instanceof ${l.expected}, fikk ${b}`:`Ugyldig input: forventet ${f}, fikk ${b}`}case"invalid_value":return l.values.length===1?`Ugyldig verdi: forventet ${o.stringifyPrimitive(l.values[0])}`:`Ugyldig valg: forventet en av ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`For stor(t): forventet ${l.origin??"value"} til å ha ${f}${l.maximum.toString()} ${m.unit??"elementer"}`:`For stor(t): forventet ${l.origin??"value"} til å ha ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`For lite(n): forventet ${l.origin} til å ha ${f}${l.minimum.toString()} ${m.unit}`:`For lite(n): forventet ${l.origin} til å ha ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ugyldig streng: må starte med "${f.prefix}"`:f.format==="ends_with"?`Ugyldig streng: må ende med "${f.suffix}"`:f.format==="includes"?`Ugyldig streng: må inneholde "${f.includes}"`:f.format==="regex"?`Ugyldig streng: må matche mønsteret ${f.pattern}`:`Ugyldig ${h[f.format]??l.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${l.divisor}`;case"unrecognized_keys":return`${l.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${l.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${l.origin}`;default:return"Ugyldig input"}}};function d(){return{localeError:s()}}e.exports=t.default})(jc,jc.exports)),jc.exports}var Pc={exports:{}},Ro=Pc.exports,ww;function _F(){return ww||(ww=1,(function(e,t){var r=Ro&&Ro.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Ro&&Ro.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Ro&&Ro.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function u(l){return c[l]??null}const h={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"},p={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Fâsit giren: umulan instanceof ${l.expected}, alınan ${b}`:`Fâsit giren: umulan ${f}, alınan ${b}`}case"invalid_value":return l.values.length===1?`Fâsit giren: umulan ${o.stringifyPrimitive(l.values[0])}`:`Fâsit tercih: mûteberler ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Fazla büyük: ${l.origin??"value"}, ${f}${l.maximum.toString()} ${m.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${l.origin??"value"}, ${f}${l.maximum.toString()} olmalıydı.`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Fazla küçük: ${l.origin}, ${f}${l.minimum.toString()} ${m.unit} sahip olmalıydı.`:`Fazla küçük: ${l.origin}, ${f}${l.minimum.toString()} olmalıydı.`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Fâsit metin: "${f.prefix}" ile başlamalı.`:f.format==="ends_with"?`Fâsit metin: "${f.suffix}" ile bitmeli.`:f.format==="includes"?`Fâsit metin: "${f.includes}" ihtivâ etmeli.`:f.format==="regex"?`Fâsit metin: ${f.pattern} nakşına uymalı.`:`Fâsit ${h[f.format]??l.format}`}case"not_multiple_of":return`Fâsit sayı: ${l.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${l.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function d(){return{localeError:s()}}e.exports=t.default})(Pc,Pc.exports)),Pc.exports}var $c={exports:{}},Bo=$c.exports,Sw;function jF(){return Sw||(Sw=1,(function(e,t){var r=Bo&&Bo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Bo&&Bo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Bo&&Bo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function u(l){return c[l]??null}const h={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"},p={nan:"NaN",number:"عدد",array:"ارې"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`ناسم ورودي: باید instanceof ${l.expected} وای, مګر ${b} ترلاسه شو`:`ناسم ورودي: باید ${f} وای, مګر ${b} ترلاسه شو`}case"invalid_value":return l.values.length===1?`ناسم ورودي: باید ${o.stringifyPrimitive(l.values[0])} وای`:`ناسم انتخاب: باید یو له ${o.joinValues(l.values,"|")} څخه وای`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`ډیر لوی: ${l.origin??"ارزښت"} باید ${f}${l.maximum.toString()} ${m.unit??"عنصرونه"} ولري`:`ډیر لوی: ${l.origin??"ارزښت"} باید ${f}${l.maximum.toString()} وي`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`ډیر کوچنی: ${l.origin} باید ${f}${l.minimum.toString()} ${m.unit} ولري`:`ډیر کوچنی: ${l.origin} باید ${f}${l.minimum.toString()} وي`}case"invalid_format":{const f=l;return f.format==="starts_with"?`ناسم متن: باید د "${f.prefix}" سره پیل شي`:f.format==="ends_with"?`ناسم متن: باید د "${f.suffix}" سره پای ته ورسيږي`:f.format==="includes"?`ناسم متن: باید "${f.includes}" ولري`:f.format==="regex"?`ناسم متن: باید د ${f.pattern} سره مطابقت ولري`:`${h[f.format]??l.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${l.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${l.keys.length>1?"کلیډونه":"کلیډ"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${l.origin} کې`;case"invalid_union":return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${l.origin} کې`;default:return"ناسمه ورودي"}}};function d(){return{localeError:s()}}e.exports=t.default})($c,$c.exports)),$c.exports}var Ic={exports:{}},Uo=Ic.exports,kw;function PF(){return kw||(kw=1,(function(e,t){var r=Uo&&Uo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Uo&&Uo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Uo&&Uo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function u(l){return c[l]??null}const h={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"},p={nan:"NaN",number:"liczba",array:"tablica"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Nieprawidłowe dane wejściowe: oczekiwano instanceof ${l.expected}, otrzymano ${b}`:`Nieprawidłowe dane wejściowe: oczekiwano ${f}, otrzymano ${b}`}case"invalid_value":return l.values.length===1?`Nieprawidłowe dane wejściowe: oczekiwano ${o.stringifyPrimitive(l.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Za duża wartość: oczekiwano, że ${l.origin??"wartość"} będzie mieć ${f}${l.maximum.toString()} ${m.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${l.origin??"wartość"} będzie wynosić ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Za mała wartość: oczekiwano, że ${l.origin??"wartość"} będzie mieć ${f}${l.minimum.toString()} ${m.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${l.origin??"wartość"} będzie wynosić ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${f.prefix}"`:f.format==="ends_with"?`Nieprawidłowy ciąg znaków: musi kończyć się na "${f.suffix}"`:f.format==="includes"?`Nieprawidłowy ciąg znaków: musi zawierać "${f.includes}"`:f.format==="regex"?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${f.pattern}`:`Nieprawidłow(y/a/e) ${h[f.format]??l.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${l.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${l.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${l.origin}`;default:return"Nieprawidłowe dane wejściowe"}}};function d(){return{localeError:s()}}e.exports=t.default})(Ic,Ic.exports)),Ic.exports}var Tc={exports:{}},Vo=Tc.exports,Cw;function $F(){return Cw||(Cw=1,(function(e,t){var r=Vo&&Vo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Vo&&Vo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Vo&&Vo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function u(l){return c[l]??null}const h={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},p={nan:"NaN",number:"número",null:"nulo"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Tipo inválido: esperado instanceof ${l.expected}, recebido ${b}`:`Tipo inválido: esperado ${f}, recebido ${b}`}case"invalid_value":return l.values.length===1?`Entrada inválida: esperado ${o.stringifyPrimitive(l.values[0])}`:`Opção inválida: esperada uma das ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Muito grande: esperado que ${l.origin??"valor"} tivesse ${f}${l.maximum.toString()} ${m.unit??"elementos"}`:`Muito grande: esperado que ${l.origin??"valor"} fosse ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Muito pequeno: esperado que ${l.origin} tivesse ${f}${l.minimum.toString()} ${m.unit}`:`Muito pequeno: esperado que ${l.origin} fosse ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Texto inválido: deve começar com "${f.prefix}"`:f.format==="ends_with"?`Texto inválido: deve terminar com "${f.suffix}"`:f.format==="includes"?`Texto inválido: deve incluir "${f.includes}"`:f.format==="regex"?`Texto inválido: deve corresponder ao padrão ${f.pattern}`:`${h[f.format]??l.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${l.divisor}`;case"unrecognized_keys":return`Chave${l.keys.length>1?"s":""} desconhecida${l.keys.length>1?"s":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Chave inválida em ${l.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${l.origin}`;default:return"Campo inválido"}}};function d(){return{localeError:s()}}e.exports=t.default})(Tc,Tc.exports)),Tc.exports}var Nc={exports:{}},Wo=Nc.exports,_w;function IF(){return _w||(_w=1,(function(e,t){var r=Wo&&Wo.__createBinding||(Object.create?(function(u,h,p,l){l===void 0&&(l=p);var f=Object.getOwnPropertyDescriptor(h,p);(!f||("get"in f?!h.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(u,l,f)}):(function(u,h,p,l){l===void 0&&(l=p),u[l]=h[p]})),n=Wo&&Wo.__setModuleDefault||(Object.create?(function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}):function(u,h){u.default=h}),i=Wo&&Wo.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&r(h,u,p);return n(h,u),h};Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;const o=i(tt());function s(u,h,p,l){const f=Math.abs(u),m=f%10,b=f%100;return b>=11&&b<=19?l:m===1?h:m>=2&&m<=4?p:l}const d=()=>{const u={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function h(f){return u[f]??null}const p={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"},l={nan:"NaN",number:"число",array:"массив"};return f=>{switch(f.code){case"invalid_type":{const m=l[f.expected]??f.expected,b=o.parsedType(f.input),S=l[b]??b;return/^[A-Z]/.test(f.expected)?`Неверный ввод: ожидалось instanceof ${f.expected}, получено ${S}`:`Неверный ввод: ожидалось ${m}, получено ${S}`}case"invalid_value":return f.values.length===1?`Неверный ввод: ожидалось ${o.stringifyPrimitive(f.values[0])}`:`Неверный вариант: ожидалось одно из ${o.joinValues(f.values,"|")}`;case"too_big":{const m=f.inclusive?"<=":"<",b=h(f.origin);if(b){const S=Number(f.maximum),x=s(S,b.unit.one,b.unit.few,b.unit.many);return`Слишком большое значение: ожидалось, что ${f.origin??"значение"} будет иметь ${m}${f.maximum.toString()} ${x}`}return`Слишком большое значение: ожидалось, что ${f.origin??"значение"} будет ${m}${f.maximum.toString()}`}case"too_small":{const m=f.inclusive?">=":">",b=h(f.origin);if(b){const S=Number(f.minimum),x=s(S,b.unit.one,b.unit.few,b.unit.many);return`Слишком маленькое значение: ожидалось, что ${f.origin} будет иметь ${m}${f.minimum.toString()} ${x}`}return`Слишком маленькое значение: ожидалось, что ${f.origin} будет ${m}${f.minimum.toString()}`}case"invalid_format":{const m=f;return m.format==="starts_with"?`Неверная строка: должна начинаться с "${m.prefix}"`:m.format==="ends_with"?`Неверная строка: должна заканчиваться на "${m.suffix}"`:m.format==="includes"?`Неверная строка: должна содержать "${m.includes}"`:m.format==="regex"?`Неверная строка: должна соответствовать шаблону ${m.pattern}`:`Неверный ${p[m.format]??f.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${f.divisor}`;case"unrecognized_keys":return`Нераспознанн${f.keys.length>1?"ые":"ый"} ключ${f.keys.length>1?"и":""}: ${o.joinValues(f.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${f.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${f.origin}`;default:return"Неверные входные данные"}}};function c(){return{localeError:d()}}e.exports=t.default})(Nc,Nc.exports)),Nc.exports}var Ec={exports:{}},Ho=Ec.exports,jw;function TF(){return jw||(jw=1,(function(e,t){var r=Ho&&Ho.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Ho&&Ho.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Ho&&Ho.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function u(l){return c[l]??null}const h={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"},p={nan:"NaN",number:"število",array:"tabela"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Neveljaven vnos: pričakovano instanceof ${l.expected}, prejeto ${b}`:`Neveljaven vnos: pričakovano ${f}, prejeto ${b}`}case"invalid_value":return l.values.length===1?`Neveljaven vnos: pričakovano ${o.stringifyPrimitive(l.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Preveliko: pričakovano, da bo ${l.origin??"vrednost"} imelo ${f}${l.maximum.toString()} ${m.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${l.origin??"vrednost"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Premajhno: pričakovano, da bo ${l.origin} imelo ${f}${l.minimum.toString()} ${m.unit}`:`Premajhno: pričakovano, da bo ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Neveljaven niz: mora se začeti z "${f.prefix}"`:f.format==="ends_with"?`Neveljaven niz: mora se končati z "${f.suffix}"`:f.format==="includes"?`Neveljaven niz: mora vsebovati "${f.includes}"`:f.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${f.pattern}`:`Neveljaven ${h[f.format]??l.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${l.divisor}`;case"unrecognized_keys":return`Neprepoznan${l.keys.length>1?"i ključi":" ključ"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${l.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${l.origin}`;default:return"Neveljaven vnos"}}};function d(){return{localeError:s()}}e.exports=t.default})(Ec,Ec.exports)),Ec.exports}var zc={exports:{}},Go=zc.exports,Pw;function NF(){return Pw||(Pw=1,(function(e,t){var r=Go&&Go.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Go&&Go.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Go&&Go.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function u(l){return c[l]??null}const h={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},p={nan:"NaN",number:"antal",array:"lista"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ogiltig inmatning: förväntat instanceof ${l.expected}, fick ${b}`:`Ogiltig inmatning: förväntat ${f}, fick ${b}`}case"invalid_value":return l.values.length===1?`Ogiltig inmatning: förväntat ${o.stringifyPrimitive(l.values[0])}`:`Ogiltigt val: förväntade en av ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`För stor(t): förväntade ${l.origin??"värdet"} att ha ${f}${l.maximum.toString()} ${m.unit??"element"}`:`För stor(t): förväntat ${l.origin??"värdet"} att ha ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`För lite(t): förväntade ${l.origin??"värdet"} att ha ${f}${l.minimum.toString()} ${m.unit}`:`För lite(t): förväntade ${l.origin??"värdet"} att ha ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ogiltig sträng: måste börja med "${f.prefix}"`:f.format==="ends_with"?`Ogiltig sträng: måste sluta med "${f.suffix}"`:f.format==="includes"?`Ogiltig sträng: måste innehålla "${f.includes}"`:f.format==="regex"?`Ogiltig sträng: måste matcha mönstret "${f.pattern}"`:`Ogiltig(t) ${h[f.format]??l.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${l.divisor}`;case"unrecognized_keys":return`${l.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${l.origin??"värdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${l.origin??"värdet"}`;default:return"Ogiltig input"}}};function d(){return{localeError:s()}}e.exports=t.default})(zc,zc.exports)),zc.exports}var Dc={exports:{}},Zo=Dc.exports,$w;function EF(){return $w||($w=1,(function(e,t){var r=Zo&&Zo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Zo&&Zo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Zo&&Zo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function u(l){return c[l]??null}const h={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"},p={nan:"NaN",number:"எண்",array:"அணி",null:"வெறுமை"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது instanceof ${l.expected}, பெறப்பட்டது ${b}`:`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${f}, பெறப்பட்டது ${b}`}case"invalid_value":return l.values.length===1?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${o.stringifyPrimitive(l.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${o.joinValues(l.values,"|")} இல் ஒன்று`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${l.origin??"மதிப்பு"} ${f}${l.maximum.toString()} ${m.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${l.origin??"மதிப்பு"} ${f}${l.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${l.origin} ${f}${l.minimum.toString()} ${m.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${l.origin} ${f}${l.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const f=l;return f.format==="starts_with"?`தவறான சரம்: "${f.prefix}" இல் தொடங்க வேண்டும்`:f.format==="ends_with"?`தவறான சரம்: "${f.suffix}" இல் முடிவடைய வேண்டும்`:f.format==="includes"?`தவறான சரம்: "${f.includes}" ஐ உள்ளடக்க வேண்டும்`:f.format==="regex"?`தவறான சரம்: ${f.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${h[f.format]??l.format}`}case"not_multiple_of":return`தவறான எண்: ${l.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${l.keys.length>1?"கள்":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${l.origin} இல் தவறான மதிப்பு`;default:return"தவறான உள்ளீடு"}}};function d(){return{localeError:s()}}e.exports=t.default})(Dc,Dc.exports)),Dc.exports}var Oc={exports:{}},qo=Oc.exports,Iw;function zF(){return Iw||(Iw=1,(function(e,t){var r=qo&&qo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=qo&&qo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=qo&&qo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function u(l){return c[l]??null}const h={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"},p={nan:"NaN",number:"ตัวเลข",array:"อาร์เรย์ (Array)",null:"ไม่มีค่า (null)"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น instanceof ${l.expected} แต่ได้รับ ${b}`:`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${f} แต่ได้รับ ${b}`}case"invalid_value":return l.values.length===1?`ค่าไม่ถูกต้อง: ควรเป็น ${o.stringifyPrimitive(l.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"ไม่เกิน":"น้อยกว่า",m=u(l.origin);return m?`เกินกำหนด: ${l.origin??"ค่า"} ควรมี${f} ${l.maximum.toString()} ${m.unit??"รายการ"}`:`เกินกำหนด: ${l.origin??"ค่า"} ควรมี${f} ${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?"อย่างน้อย":"มากกว่า",m=u(l.origin);return m?`น้อยกว่ากำหนด: ${l.origin} ควรมี${f} ${l.minimum.toString()} ${m.unit}`:`น้อยกว่ากำหนด: ${l.origin} ควรมี${f} ${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${f.prefix}"`:f.format==="ends_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${f.suffix}"`:f.format==="includes"?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${f.includes}" อยู่ในข้อความ`:f.format==="regex"?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${f.pattern}`:`รูปแบบไม่ถูกต้อง: ${h[f.format]??l.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${l.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${l.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${l.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function d(){return{localeError:s()}}e.exports=t.default})(Oc,Oc.exports)),Oc.exports}var Fc={exports:{}},Xo=Fc.exports,Tw;function DF(){return Tw||(Tw=1,(function(e,t){var r=Xo&&Xo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Xo&&Xo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Xo&&Xo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function u(l){return c[l]??null}const h={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Geçersiz değer: beklenen instanceof ${l.expected}, alınan ${b}`:`Geçersiz değer: beklenen ${f}, alınan ${b}`}case"invalid_value":return l.values.length===1?`Geçersiz değer: beklenen ${o.stringifyPrimitive(l.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Çok büyük: beklenen ${l.origin??"değer"} ${f}${l.maximum.toString()} ${m.unit??"öğe"}`:`Çok büyük: beklenen ${l.origin??"değer"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Çok küçük: beklenen ${l.origin} ${f}${l.minimum.toString()} ${m.unit}`:`Çok küçük: beklenen ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Geçersiz metin: "${f.prefix}" ile başlamalı`:f.format==="ends_with"?`Geçersiz metin: "${f.suffix}" ile bitmeli`:f.format==="includes"?`Geçersiz metin: "${f.includes}" içermeli`:f.format==="regex"?`Geçersiz metin: ${f.pattern} desenine uymalı`:`Geçersiz ${h[f.format]??l.format}`}case"not_multiple_of":return`Geçersiz sayı: ${l.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${l.keys.length>1?"lar":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} içinde geçersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${l.origin} içinde geçersiz değer`;default:return"Geçersiz değer"}}};function d(){return{localeError:s()}}e.exports=t.default})(Fc,Fc.exports)),Fc.exports}var Mc={exports:{}},Lc={exports:{}},Yo=Lc.exports,Nw;function bj(){return Nw||(Nw=1,(function(e,t){var r=Yo&&Yo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Yo&&Yo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Yo&&Yo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function u(l){return c[l]??null}const h={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"},p={nan:"NaN",number:"число",array:"масив"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Неправильні вхідні дані: очікується instanceof ${l.expected}, отримано ${b}`:`Неправильні вхідні дані: очікується ${f}, отримано ${b}`}case"invalid_value":return l.values.length===1?`Неправильні вхідні дані: очікується ${o.stringifyPrimitive(l.values[0])}`:`Неправильна опція: очікується одне з ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Занадто велике: очікується, що ${l.origin??"значення"} ${m.verb} ${f}${l.maximum.toString()} ${m.unit??"елементів"}`:`Занадто велике: очікується, що ${l.origin??"значення"} буде ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Занадто мале: очікується, що ${l.origin} ${m.verb} ${f}${l.minimum.toString()} ${m.unit}`:`Занадто мале: очікується, що ${l.origin} буде ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Неправильний рядок: повинен починатися з "${f.prefix}"`:f.format==="ends_with"?`Неправильний рядок: повинен закінчуватися на "${f.suffix}"`:f.format==="includes"?`Неправильний рядок: повинен містити "${f.includes}"`:f.format==="regex"?`Неправильний рядок: повинен відповідати шаблону ${f.pattern}`:`Неправильний ${h[f.format]??l.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${l.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${l.keys.length>1?"і":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${l.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${l.origin}`;default:return"Неправильні вхідні дані"}}};function d(){return{localeError:s()}}e.exports=t.default})(Lc,Lc.exports)),Lc.exports}var Ew=Mc.exports,zw;function OF(){return zw||(zw=1,(function(e,t){var r=Ew&&Ew.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;const n=r(bj());function i(){return(0,n.default)()}e.exports=t.default})(Mc,Mc.exports)),Mc.exports}var Ac={exports:{}},Ko=Ac.exports,Dw;function FF(){return Dw||(Dw=1,(function(e,t){var r=Ko&&Ko.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Ko&&Ko.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Ko&&Ko.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function u(l){return c[l]??null}const h={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"},p={nan:"NaN",number:"نمبر",array:"آرے",null:"نل"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`غلط ان پٹ: instanceof ${l.expected} متوقع تھا، ${b} موصول ہوا`:`غلط ان پٹ: ${f} متوقع تھا، ${b} موصول ہوا`}case"invalid_value":return l.values.length===1?`غلط ان پٹ: ${o.stringifyPrimitive(l.values[0])} متوقع تھا`:`غلط آپشن: ${o.joinValues(l.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`بہت بڑا: ${l.origin??"ویلیو"} کے ${f}${l.maximum.toString()} ${m.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${l.origin??"ویلیو"} کا ${f}${l.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`بہت چھوٹا: ${l.origin} کے ${f}${l.minimum.toString()} ${m.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${l.origin} کا ${f}${l.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const f=l;return f.format==="starts_with"?`غلط سٹرنگ: "${f.prefix}" سے شروع ہونا چاہیے`:f.format==="ends_with"?`غلط سٹرنگ: "${f.suffix}" پر ختم ہونا چاہیے`:f.format==="includes"?`غلط سٹرنگ: "${f.includes}" شامل ہونا چاہیے`:f.format==="regex"?`غلط سٹرنگ: پیٹرن ${f.pattern} سے میچ ہونا چاہیے`:`غلط ${h[f.format]??l.format}`}case"not_multiple_of":return`غلط نمبر: ${l.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${l.keys.length>1?"ز":""}: ${o.joinValues(l.keys,"، ")}`;case"invalid_key":return`${l.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${l.origin} میں غلط ویلیو`;default:return"غلط ان پٹ"}}};function d(){return{localeError:s()}}e.exports=t.default})(Ac,Ac.exports)),Ac.exports}var Rc={exports:{}},Jo=Rc.exports,Ow;function MF(){return Ow||(Ow=1,(function(e,t){var r=Jo&&Jo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Jo&&Jo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Jo&&Jo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"belgi",verb:"bo‘lishi kerak"},file:{unit:"bayt",verb:"bo‘lishi kerak"},array:{unit:"element",verb:"bo‘lishi kerak"},set:{unit:"element",verb:"bo‘lishi kerak"}};function u(l){return c[l]??null}const h={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},p={nan:"NaN",number:"raqam",array:"massiv"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Noto‘g‘ri kirish: kutilgan instanceof ${l.expected}, qabul qilingan ${b}`:`Noto‘g‘ri kirish: kutilgan ${f}, qabul qilingan ${b}`}case"invalid_value":return l.values.length===1?`Noto‘g‘ri kirish: kutilgan ${o.stringifyPrimitive(l.values[0])}`:`Noto‘g‘ri variant: quyidagilardan biri kutilgan ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Juda katta: kutilgan ${l.origin??"qiymat"} ${f}${l.maximum.toString()} ${m.unit} ${m.verb}`:`Juda katta: kutilgan ${l.origin??"qiymat"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Juda kichik: kutilgan ${l.origin} ${f}${l.minimum.toString()} ${m.unit} ${m.verb}`:`Juda kichik: kutilgan ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Noto‘g‘ri satr: "${f.prefix}" bilan boshlanishi kerak`:f.format==="ends_with"?`Noto‘g‘ri satr: "${f.suffix}" bilan tugashi kerak`:f.format==="includes"?`Noto‘g‘ri satr: "${f.includes}" ni o‘z ichiga olishi kerak`:f.format==="regex"?`Noto‘g‘ri satr: ${f.pattern} shabloniga mos kelishi kerak`:`Noto‘g‘ri ${h[f.format]??l.format}`}case"not_multiple_of":return`Noto‘g‘ri raqam: ${l.divisor} ning karralisi bo‘lishi kerak`;case"unrecognized_keys":return`Noma’lum kalit${l.keys.length>1?"lar":""}: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} dagi kalit noto‘g‘ri`;case"invalid_union":return"Noto‘g‘ri kirish";case"invalid_element":return`${l.origin} da noto‘g‘ri qiymat`;default:return"Noto‘g‘ri kirish"}}};function d(){return{localeError:s()}}e.exports=t.default})(Rc,Rc.exports)),Rc.exports}var Bc={exports:{}},Qo=Bc.exports,Fw;function LF(){return Fw||(Fw=1,(function(e,t){var r=Qo&&Qo.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=Qo&&Qo.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=Qo&&Qo.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function u(l){return c[l]??null}const h={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"},p={nan:"NaN",number:"số",array:"mảng"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Đầu vào không hợp lệ: mong đợi instanceof ${l.expected}, nhận được ${b}`:`Đầu vào không hợp lệ: mong đợi ${f}, nhận được ${b}`}case"invalid_value":return l.values.length===1?`Đầu vào không hợp lệ: mong đợi ${o.stringifyPrimitive(l.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Quá lớn: mong đợi ${l.origin??"giá trị"} ${m.verb} ${f}${l.maximum.toString()} ${m.unit??"phần tử"}`:`Quá lớn: mong đợi ${l.origin??"giá trị"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Quá nhỏ: mong đợi ${l.origin} ${m.verb} ${f}${l.minimum.toString()} ${m.unit}`:`Quá nhỏ: mong đợi ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Chuỗi không hợp lệ: phải bắt đầu bằng "${f.prefix}"`:f.format==="ends_with"?`Chuỗi không hợp lệ: phải kết thúc bằng "${f.suffix}"`:f.format==="includes"?`Chuỗi không hợp lệ: phải bao gồm "${f.includes}"`:f.format==="regex"?`Chuỗi không hợp lệ: phải khớp với mẫu ${f.pattern}`:`${h[f.format]??l.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${l.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${l.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${l.origin}`;default:return"Đầu vào không hợp lệ"}}};function d(){return{localeError:s()}}e.exports=t.default})(Bc,Bc.exports)),Bc.exports}var Uc={exports:{}},es=Uc.exports,Mw;function AF(){return Mw||(Mw=1,(function(e,t){var r=es&&es.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=es&&es.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=es&&es.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function u(l){return c[l]??null}const h={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"},p={nan:"NaN",number:"数字",array:"数组",null:"空值(null)"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`无效输入：期望 instanceof ${l.expected}，实际接收 ${b}`:`无效输入：期望 ${f}，实际接收 ${b}`}case"invalid_value":return l.values.length===1?`无效输入：期望 ${o.stringifyPrimitive(l.values[0])}`:`无效选项：期望以下之一 ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`数值过大：期望 ${l.origin??"值"} ${f}${l.maximum.toString()} ${m.unit??"个元素"}`:`数值过大：期望 ${l.origin??"值"} ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`数值过小：期望 ${l.origin} ${f}${l.minimum.toString()} ${m.unit}`:`数值过小：期望 ${l.origin} ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`无效字符串：必须以 "${f.prefix}" 开头`:f.format==="ends_with"?`无效字符串：必须以 "${f.suffix}" 结尾`:f.format==="includes"?`无效字符串：必须包含 "${f.includes}"`:f.format==="regex"?`无效字符串：必须满足正则表达式 ${f.pattern}`:`无效${h[f.format]??l.format}`}case"not_multiple_of":return`无效数字：必须是 ${l.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`${l.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${l.origin} 中包含无效值(value)`;default:return"无效输入"}}};function d(){return{localeError:s()}}e.exports=t.default})(Uc,Uc.exports)),Uc.exports}var Vc={exports:{}},ts=Vc.exports,Lw;function RF(){return Lw||(Lw=1,(function(e,t){var r=ts&&ts.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=ts&&ts.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=ts&&ts.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function u(l){return c[l]??null}const h={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"},p={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`無效的輸入值：預期為 instanceof ${l.expected}，但收到 ${b}`:`無效的輸入值：預期為 ${f}，但收到 ${b}`}case"invalid_value":return l.values.length===1?`無效的輸入值：預期為 ${o.stringifyPrimitive(l.values[0])}`:`無效的選項：預期為以下其中之一 ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`數值過大：預期 ${l.origin??"值"} 應為 ${f}${l.maximum.toString()} ${m.unit??"個元素"}`:`數值過大：預期 ${l.origin??"值"} 應為 ${f}${l.maximum.toString()}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`數值過小：預期 ${l.origin} 應為 ${f}${l.minimum.toString()} ${m.unit}`:`數值過小：預期 ${l.origin} 應為 ${f}${l.minimum.toString()}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`無效的字串：必須以 "${f.prefix}" 開頭`:f.format==="ends_with"?`無效的字串：必須以 "${f.suffix}" 結尾`:f.format==="includes"?`無效的字串：必須包含 "${f.includes}"`:f.format==="regex"?`無效的字串：必須符合格式 ${f.pattern}`:`無效的 ${h[f.format]??l.format}`}case"not_multiple_of":return`無效的數字：必須為 ${l.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${l.keys.length>1?"們":""}：${o.joinValues(l.keys,"、")}`;case"invalid_key":return`${l.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${l.origin} 中有無效的值`;default:return"無效的輸入值"}}};function d(){return{localeError:s()}}e.exports=t.default})(Vc,Vc.exports)),Vc.exports}var Wc={exports:{}},rs=Wc.exports,Aw;function BF(){return Aw||(Aw=1,(function(e,t){var r=rs&&rs.__createBinding||(Object.create?(function(c,u,h,p){p===void 0&&(p=h);var l=Object.getOwnPropertyDescriptor(u,h);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,p,l)}):(function(c,u,h,p){p===void 0&&(p=h),c[p]=u[h]})),n=rs&&rs.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),i=rs&&rs.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(u,c,h);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;const o=i(tt()),s=()=>{const c={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function u(l){return c[l]??null}const h={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"},p={nan:"NaN",number:"nọ́mbà",array:"akopọ"};return l=>{switch(l.code){case"invalid_type":{const f=p[l.expected]??l.expected,m=o.parsedType(l.input),b=p[m]??m;return/^[A-Z]/.test(l.expected)?`Ìbáwọlé aṣìṣe: a ní láti fi instanceof ${l.expected}, àmọ̀ a rí ${b}`:`Ìbáwọlé aṣìṣe: a ní láti fi ${f}, àmọ̀ a rí ${b}`}case"invalid_value":return l.values.length===1?`Ìbáwọlé aṣìṣe: a ní láti fi ${o.stringifyPrimitive(l.values[0])}`:`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${o.joinValues(l.values,"|")}`;case"too_big":{const f=l.inclusive?"<=":"<",m=u(l.origin);return m?`Tó pọ̀ jù: a ní láti jẹ́ pé ${l.origin??"iye"} ${m.verb} ${f}${l.maximum} ${m.unit}`:`Tó pọ̀ jù: a ní láti jẹ́ ${f}${l.maximum}`}case"too_small":{const f=l.inclusive?">=":">",m=u(l.origin);return m?`Kéré ju: a ní láti jẹ́ pé ${l.origin} ${m.verb} ${f}${l.minimum} ${m.unit}`:`Kéré ju: a ní láti jẹ́ ${f}${l.minimum}`}case"invalid_format":{const f=l;return f.format==="starts_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${f.prefix}"`:f.format==="ends_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${f.suffix}"`:f.format==="includes"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${f.includes}"`:f.format==="regex"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${f.pattern}`:`Aṣìṣe: ${h[f.format]??l.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${l.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${o.joinValues(l.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${l.origin}`;case"invalid_union":return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${l.origin}`;default:return"Ìbáwọlé aṣìṣe"}}};function d(){return{localeError:s()}}e.exports=t.default})(Wc,Wc.exports)),Wc.exports}var Rw;function yj(){return Rw||(Rw=1,(function(e){var t=il&&il.__importDefault||function(Se){return Se&&Se.__esModule?Se:{default:Se}};Object.defineProperty(e,"__esModule",{value:!0}),e.yo=e.zhTW=e.zhCN=e.vi=e.uz=e.ur=e.uk=e.ua=e.tr=e.th=e.ta=e.sv=e.sl=e.ru=e.pt=e.pl=e.ps=e.ota=e.no=e.nl=e.ms=e.mk=e.lt=e.ko=e.km=e.kh=e.ka=e.ja=e.it=e.is=e.id=e.hy=e.hu=e.he=e.frCA=e.fr=e.fi=e.fa=e.es=e.eo=e.en=e.de=e.da=e.cs=e.ca=e.bg=e.be=e.az=e.ar=void 0;var r=YO();Object.defineProperty(e,"ar",{enumerable:!0,get:function(){return t(r).default}});var n=KO();Object.defineProperty(e,"az",{enumerable:!0,get:function(){return t(n).default}});var i=JO();Object.defineProperty(e,"be",{enumerable:!0,get:function(){return t(i).default}});var o=QO();Object.defineProperty(e,"bg",{enumerable:!0,get:function(){return t(o).default}});var s=eF();Object.defineProperty(e,"ca",{enumerable:!0,get:function(){return t(s).default}});var d=tF();Object.defineProperty(e,"cs",{enumerable:!0,get:function(){return t(d).default}});var c=rF();Object.defineProperty(e,"da",{enumerable:!0,get:function(){return t(c).default}});var u=nF();Object.defineProperty(e,"de",{enumerable:!0,get:function(){return t(u).default}});var h=gj();Object.defineProperty(e,"en",{enumerable:!0,get:function(){return t(h).default}});var p=aF();Object.defineProperty(e,"eo",{enumerable:!0,get:function(){return t(p).default}});var l=iF();Object.defineProperty(e,"es",{enumerable:!0,get:function(){return t(l).default}});var f=oF();Object.defineProperty(e,"fa",{enumerable:!0,get:function(){return t(f).default}});var m=sF();Object.defineProperty(e,"fi",{enumerable:!0,get:function(){return t(m).default}});var b=lF();Object.defineProperty(e,"fr",{enumerable:!0,get:function(){return t(b).default}});var S=cF();Object.defineProperty(e,"frCA",{enumerable:!0,get:function(){return t(S).default}});var x=uF();Object.defineProperty(e,"he",{enumerable:!0,get:function(){return t(x).default}});var w=dF();Object.defineProperty(e,"hu",{enumerable:!0,get:function(){return t(w).default}});var y=hF();Object.defineProperty(e,"hy",{enumerable:!0,get:function(){return t(y).default}});var _=fF();Object.defineProperty(e,"id",{enumerable:!0,get:function(){return t(_).default}});var P=pF();Object.defineProperty(e,"is",{enumerable:!0,get:function(){return t(P).default}});var T=mF();Object.defineProperty(e,"it",{enumerable:!0,get:function(){return t(T).default}});var M=gF();Object.defineProperty(e,"ja",{enumerable:!0,get:function(){return t(M).default}});var N=vF();Object.defineProperty(e,"ka",{enumerable:!0,get:function(){return t(N).default}});var O=bF();Object.defineProperty(e,"kh",{enumerable:!0,get:function(){return t(O).default}});var B=vj();Object.defineProperty(e,"km",{enumerable:!0,get:function(){return t(B).default}});var Z=yF();Object.defineProperty(e,"ko",{enumerable:!0,get:function(){return t(Z).default}});var D=xF();Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t(D).default}});var U=wF();Object.defineProperty(e,"mk",{enumerable:!0,get:function(){return t(U).default}});var z=SF();Object.defineProperty(e,"ms",{enumerable:!0,get:function(){return t(z).default}});var G=kF();Object.defineProperty(e,"nl",{enumerable:!0,get:function(){return t(G).default}});var ne=CF();Object.defineProperty(e,"no",{enumerable:!0,get:function(){return t(ne).default}});var A=_F();Object.defineProperty(e,"ota",{enumerable:!0,get:function(){return t(A).default}});var k=jF();Object.defineProperty(e,"ps",{enumerable:!0,get:function(){return t(k).default}});var j=PF();Object.defineProperty(e,"pl",{enumerable:!0,get:function(){return t(j).default}});var $=$F();Object.defineProperty(e,"pt",{enumerable:!0,get:function(){return t($).default}});var F=IF();Object.defineProperty(e,"ru",{enumerable:!0,get:function(){return t(F).default}});var R=TF();Object.defineProperty(e,"sl",{enumerable:!0,get:function(){return t(R).default}});var W=NF();Object.defineProperty(e,"sv",{enumerable:!0,get:function(){return t(W).default}});var Y=EF();Object.defineProperty(e,"ta",{enumerable:!0,get:function(){return t(Y).default}});var te=zF();Object.defineProperty(e,"th",{enumerable:!0,get:function(){return t(te).default}});var ie=DF();Object.defineProperty(e,"tr",{enumerable:!0,get:function(){return t(ie).default}});var J=OF();Object.defineProperty(e,"ua",{enumerable:!0,get:function(){return t(J).default}});var ee=bj();Object.defineProperty(e,"uk",{enumerable:!0,get:function(){return t(ee).default}});var Q=FF();Object.defineProperty(e,"ur",{enumerable:!0,get:function(){return t(Q).default}});var he=MF();Object.defineProperty(e,"uz",{enumerable:!0,get:function(){return t(he).default}});var ge=LF();Object.defineProperty(e,"vi",{enumerable:!0,get:function(){return t(ge).default}});var ye=AF();Object.defineProperty(e,"zhCN",{enumerable:!0,get:function(){return t(ye).default}});var _e=RF();Object.defineProperty(e,"zhTW",{enumerable:!0,get:function(){return t(_e).default}});var H=BF();Object.defineProperty(e,"yo",{enumerable:!0,get:function(){return t(H).default}})})(il)),il}var un={},Bw;function gh(){if(Bw)return un;Bw=1;var e;Object.defineProperty(un,"__esModule",{value:!0}),un.globalRegistry=un.$ZodRegistry=un.$input=un.$output=void 0,un.registry=r,un.$output=Symbol("ZodOutput"),un.$input=Symbol("ZodInput");class t{constructor(){this._map=new WeakMap,this._idmap=new Map}add(i,...o){const s=o[0];return this._map.set(i,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,i),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(i){const o=this._map.get(i);return o&&typeof o=="object"&&"id"in o&&this._idmap.delete(o.id),this._map.delete(i),this}get(i){const o=i._zod.parent;if(o){const s={...this.get(o)??{}};delete s.id;const d={...s,...this._map.get(i)};return Object.keys(d).length?d:void 0}return this._map.get(i)}has(i){return this._map.has(i)}}un.$ZodRegistry=t;function r(){return new t}return(e=globalThis).__zod_globalRegistry??(e.__zod_globalRegistry=r()),un.globalRegistry=globalThis.__zod_globalRegistry,un}var Oe={},Uw;function UF(){if(Uw)return Oe;Uw=1;var e=Oe&&Oe.__createBinding||(Object.create?(function(ve,we,Ae,dt){dt===void 0&&(dt=Ae);var xt=Object.getOwnPropertyDescriptor(we,Ae);(!xt||("get"in xt?!we.__esModule:xt.writable||xt.configurable))&&(xt={enumerable:!0,get:function(){return we[Ae]}}),Object.defineProperty(ve,dt,xt)}):(function(ve,we,Ae,dt){dt===void 0&&(dt=Ae),ve[dt]=we[Ae]})),t=Oe&&Oe.__setModuleDefault||(Object.create?(function(ve,we){Object.defineProperty(ve,"default",{enumerable:!0,value:we})}):function(ve,we){ve.default=we}),r=Oe&&Oe.__importStar||function(ve){if(ve&&ve.__esModule)return ve;var we={};if(ve!=null)for(var Ae in ve)Ae!=="default"&&Object.prototype.hasOwnProperty.call(ve,Ae)&&e(we,ve,Ae);return t(we,ve),we};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.TimePrecision=void 0,Oe._string=d,Oe._coercedString=c,Oe._email=u,Oe._guid=h,Oe._uuid=p,Oe._uuidv4=l,Oe._uuidv6=f,Oe._uuidv7=m,Oe._url=b,Oe._emoji=S,Oe._nanoid=x,Oe._cuid=w,Oe._cuid2=y,Oe._ulid=_,Oe._xid=P,Oe._ksuid=T,Oe._ipv4=M,Oe._ipv6=N,Oe._mac=O,Oe._cidrv4=B,Oe._cidrv6=Z,Oe._base64=D,Oe._base64url=U,Oe._e164=z,Oe._jwt=G,Oe._isoDateTime=ne,Oe._isoDate=A,Oe._isoTime=k,Oe._isoDuration=j,Oe._number=$,Oe._coercedNumber=F,Oe._int=R,Oe._float32=W,Oe._float64=Y,Oe._int32=te,Oe._uint32=ie,Oe._boolean=J,Oe._coercedBoolean=ee,Oe._bigint=Q,Oe._coercedBigint=he,Oe._int64=ge,Oe._uint64=ye,Oe._symbol=_e,Oe._undefined=H,Oe._null=Se,Oe._any=Ce,Oe._unknown=se,Oe._never=ae,Oe._void=xe,Oe._date=$e,Oe._coercedDate=ue,Oe._nan=V,Oe._lt=me,Oe._lte=pe,Oe._max=pe,Oe._lte=pe,Oe._max=pe,Oe._gt=ke,Oe._gte=Ie,Oe._min=Ie,Oe._gte=Ie,Oe._min=Ie,Oe._positive=Re,Oe._negative=Be,Oe._nonpositive=ot,Oe._nonnegative=st,Oe._multipleOf=pt,Oe._maxSize=Rt,Oe._minSize=St,Oe._size=or,Oe._maxLength=Tr,Oe._minLength=rr,Oe._length=Nr,Oe._regex=pn,Oe._lowercase=Qn,Oe._uppercase=ui,Oe._includes=En,Oe._startsWith=Fr,Oe._endsWith=mn,Oe._property=ea,Oe._mime=Bi,Oe._overwrite=gn,Oe._normalize=Ia,Oe._trim=di,Oe._toLowerCase=Ui,Oe._toUpperCase=Vi,Oe._slugify=_s,Oe._array=Ta,Oe._union=Wi,Oe._xor=Na,Oe._discriminatedUnion=js,Oe._intersection=Hi,Oe._tuple=Ea,Oe._record=za,Oe._map=Ps,Oe._set=$s,Oe._enum=Gi,Oe._nativeEnum=Zi,Oe._literal=Is,Oe._file=Ts,Oe._transform=Ns,Oe._optional=Es,Oe._nullable=I,Oe._default=oe,Oe._nonoptional=ce,Oe._success=be,Oe._catch=Ee,Oe._pipe=Tt,Oe._readonly=Lt,Oe._templateLiteral=zs,Oe._lazy=Ds,Oe._promise=$h,Oe._custom=Os,Oe._refine=Da,Oe._superRefine=zn,Oe._check=Et,Oe.describe=zt,Oe.meta=Dn,Oe._stringbool=hr,Oe._stringFormat=Cr;const n=r(W0()),i=r(gh()),o=r(mj()),s=r(tt());function d(ve,we){return new ve({type:"string",...s.normalizeParams(we)})}function c(ve,we){return new ve({type:"string",coerce:!0,...s.normalizeParams(we)})}function u(ve,we){return new ve({type:"string",format:"email",check:"string_format",abort:!1,...s.normalizeParams(we)})}function h(ve,we){return new ve({type:"string",format:"guid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function p(ve,we){return new ve({type:"string",format:"uuid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function l(ve,we){return new ve({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...s.normalizeParams(we)})}function f(ve,we){return new ve({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...s.normalizeParams(we)})}function m(ve,we){return new ve({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...s.normalizeParams(we)})}function b(ve,we){return new ve({type:"string",format:"url",check:"string_format",abort:!1,...s.normalizeParams(we)})}function S(ve,we){return new ve({type:"string",format:"emoji",check:"string_format",abort:!1,...s.normalizeParams(we)})}function x(ve,we){return new ve({type:"string",format:"nanoid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function w(ve,we){return new ve({type:"string",format:"cuid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function y(ve,we){return new ve({type:"string",format:"cuid2",check:"string_format",abort:!1,...s.normalizeParams(we)})}function _(ve,we){return new ve({type:"string",format:"ulid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function P(ve,we){return new ve({type:"string",format:"xid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function T(ve,we){return new ve({type:"string",format:"ksuid",check:"string_format",abort:!1,...s.normalizeParams(we)})}function M(ve,we){return new ve({type:"string",format:"ipv4",check:"string_format",abort:!1,...s.normalizeParams(we)})}function N(ve,we){return new ve({type:"string",format:"ipv6",check:"string_format",abort:!1,...s.normalizeParams(we)})}function O(ve,we){return new ve({type:"string",format:"mac",check:"string_format",abort:!1,...s.normalizeParams(we)})}function B(ve,we){return new ve({type:"string",format:"cidrv4",check:"string_format",abort:!1,...s.normalizeParams(we)})}function Z(ve,we){return new ve({type:"string",format:"cidrv6",check:"string_format",abort:!1,...s.normalizeParams(we)})}function D(ve,we){return new ve({type:"string",format:"base64",check:"string_format",abort:!1,...s.normalizeParams(we)})}function U(ve,we){return new ve({type:"string",format:"base64url",check:"string_format",abort:!1,...s.normalizeParams(we)})}function z(ve,we){return new ve({type:"string",format:"e164",check:"string_format",abort:!1,...s.normalizeParams(we)})}function G(ve,we){return new ve({type:"string",format:"jwt",check:"string_format",abort:!1,...s.normalizeParams(we)})}Oe.TimePrecision={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ne(ve,we){return new ve({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...s.normalizeParams(we)})}function A(ve,we){return new ve({type:"string",format:"date",check:"string_format",...s.normalizeParams(we)})}function k(ve,we){return new ve({type:"string",format:"time",check:"string_format",precision:null,...s.normalizeParams(we)})}function j(ve,we){return new ve({type:"string",format:"duration",check:"string_format",...s.normalizeParams(we)})}function $(ve,we){return new ve({type:"number",checks:[],...s.normalizeParams(we)})}function F(ve,we){return new ve({type:"number",coerce:!0,checks:[],...s.normalizeParams(we)})}function R(ve,we){return new ve({type:"number",check:"number_format",abort:!1,format:"safeint",...s.normalizeParams(we)})}function W(ve,we){return new ve({type:"number",check:"number_format",abort:!1,format:"float32",...s.normalizeParams(we)})}function Y(ve,we){return new ve({type:"number",check:"number_format",abort:!1,format:"float64",...s.normalizeParams(we)})}function te(ve,we){return new ve({type:"number",check:"number_format",abort:!1,format:"int32",...s.normalizeParams(we)})}function ie(ve,we){return new ve({type:"number",check:"number_format",abort:!1,format:"uint32",...s.normalizeParams(we)})}function J(ve,we){return new ve({type:"boolean",...s.normalizeParams(we)})}function ee(ve,we){return new ve({type:"boolean",coerce:!0,...s.normalizeParams(we)})}function Q(ve,we){return new ve({type:"bigint",...s.normalizeParams(we)})}function he(ve,we){return new ve({type:"bigint",coerce:!0,...s.normalizeParams(we)})}function ge(ve,we){return new ve({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...s.normalizeParams(we)})}function ye(ve,we){return new ve({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...s.normalizeParams(we)})}function _e(ve,we){return new ve({type:"symbol",...s.normalizeParams(we)})}function H(ve,we){return new ve({type:"undefined",...s.normalizeParams(we)})}function Se(ve,we){return new ve({type:"null",...s.normalizeParams(we)})}function Ce(ve){return new ve({type:"any"})}function se(ve){return new ve({type:"unknown"})}function ae(ve,we){return new ve({type:"never",...s.normalizeParams(we)})}function xe(ve,we){return new ve({type:"void",...s.normalizeParams(we)})}function $e(ve,we){return new ve({type:"date",...s.normalizeParams(we)})}function ue(ve,we){return new ve({type:"date",coerce:!0,...s.normalizeParams(we)})}function V(ve,we){return new ve({type:"nan",...s.normalizeParams(we)})}function me(ve,we){return new n.$ZodCheckLessThan({check:"less_than",...s.normalizeParams(we),value:ve,inclusive:!1})}function pe(ve,we){return new n.$ZodCheckLessThan({check:"less_than",...s.normalizeParams(we),value:ve,inclusive:!0})}function ke(ve,we){return new n.$ZodCheckGreaterThan({check:"greater_than",...s.normalizeParams(we),value:ve,inclusive:!1})}function Ie(ve,we){return new n.$ZodCheckGreaterThan({check:"greater_than",...s.normalizeParams(we),value:ve,inclusive:!0})}function Re(ve){return ke(0,ve)}function Be(ve){return me(0,ve)}function ot(ve){return pe(0,ve)}function st(ve){return Ie(0,ve)}function pt(ve,we){return new n.$ZodCheckMultipleOf({check:"multiple_of",...s.normalizeParams(we),value:ve})}function Rt(ve,we){return new n.$ZodCheckMaxSize({check:"max_size",...s.normalizeParams(we),maximum:ve})}function St(ve,we){return new n.$ZodCheckMinSize({check:"min_size",...s.normalizeParams(we),minimum:ve})}function or(ve,we){return new n.$ZodCheckSizeEquals({check:"size_equals",...s.normalizeParams(we),size:ve})}function Tr(ve,we){return new n.$ZodCheckMaxLength({check:"max_length",...s.normalizeParams(we),maximum:ve})}function rr(ve,we){return new n.$ZodCheckMinLength({check:"min_length",...s.normalizeParams(we),minimum:ve})}function Nr(ve,we){return new n.$ZodCheckLengthEquals({check:"length_equals",...s.normalizeParams(we),length:ve})}function pn(ve,we){return new n.$ZodCheckRegex({check:"string_format",format:"regex",...s.normalizeParams(we),pattern:ve})}function Qn(ve){return new n.$ZodCheckLowerCase({check:"string_format",format:"lowercase",...s.normalizeParams(ve)})}function ui(ve){return new n.$ZodCheckUpperCase({check:"string_format",format:"uppercase",...s.normalizeParams(ve)})}function En(ve,we){return new n.$ZodCheckIncludes({check:"string_format",format:"includes",...s.normalizeParams(we),includes:ve})}function Fr(ve,we){return new n.$ZodCheckStartsWith({check:"string_format",format:"starts_with",...s.normalizeParams(we),prefix:ve})}function mn(ve,we){return new n.$ZodCheckEndsWith({check:"string_format",format:"ends_with",...s.normalizeParams(we),suffix:ve})}function ea(ve,we,Ae){return new n.$ZodCheckProperty({check:"property",property:ve,schema:we,...s.normalizeParams(Ae)})}function Bi(ve,we){return new n.$ZodCheckMimeType({check:"mime_type",mime:ve,...s.normalizeParams(we)})}function gn(ve){return new n.$ZodCheckOverwrite({check:"overwrite",tx:ve})}function Ia(ve){return gn(we=>we.normalize(ve))}function di(){return gn(ve=>ve.trim())}function Ui(){return gn(ve=>ve.toLowerCase())}function Vi(){return gn(ve=>ve.toUpperCase())}function _s(){return gn(ve=>s.slugify(ve))}function Ta(ve,we,Ae){return new ve({type:"array",element:we,...s.normalizeParams(Ae)})}function Wi(ve,we,Ae){return new ve({type:"union",options:we,...s.normalizeParams(Ae)})}function Na(ve,we,Ae){return new ve({type:"union",options:we,inclusive:!1,...s.normalizeParams(Ae)})}function js(ve,we,Ae,dt){return new ve({type:"union",options:Ae,discriminator:we,...s.normalizeParams(dt)})}function Hi(ve,we,Ae){return new ve({type:"intersection",left:we,right:Ae})}function Ea(ve,we,Ae,dt){const xt=Ae instanceof o.$ZodType,On=xt?dt:Ae,Fn=xt?Ae:null;return new ve({type:"tuple",items:we,rest:Fn,...s.normalizeParams(On)})}function za(ve,we,Ae,dt){return new ve({type:"record",keyType:we,valueType:Ae,...s.normalizeParams(dt)})}function Ps(ve,we,Ae,dt){return new ve({type:"map",keyType:we,valueType:Ae,...s.normalizeParams(dt)})}function $s(ve,we,Ae){return new ve({type:"set",valueType:we,...s.normalizeParams(Ae)})}function Gi(ve,we,Ae){const dt=Array.isArray(we)?Object.fromEntries(we.map(xt=>[xt,xt])):we;return new ve({type:"enum",entries:dt,...s.normalizeParams(Ae)})}function Zi(ve,we,Ae){return new ve({type:"enum",entries:we,...s.normalizeParams(Ae)})}function Is(ve,we,Ae){return new ve({type:"literal",values:Array.isArray(we)?we:[we],...s.normalizeParams(Ae)})}function Ts(ve,we){return new ve({type:"file",...s.normalizeParams(we)})}function Ns(ve,we){return new ve({type:"transform",transform:we})}function Es(ve,we){return new ve({type:"optional",innerType:we})}function I(ve,we){return new ve({type:"nullable",innerType:we})}function oe(ve,we,Ae){return new ve({type:"default",innerType:we,get defaultValue(){return typeof Ae=="function"?Ae():s.shallowClone(Ae)}})}function ce(ve,we,Ae){return new ve({type:"nonoptional",innerType:we,...s.normalizeParams(Ae)})}function be(ve,we){return new ve({type:"success",innerType:we})}function Ee(ve,we,Ae){return new ve({type:"catch",innerType:we,catchValue:typeof Ae=="function"?Ae:()=>Ae})}function Tt(ve,we,Ae){return new ve({type:"pipe",in:we,out:Ae})}function Lt(ve,we){return new ve({type:"readonly",innerType:we})}function zs(ve,we,Ae){return new ve({type:"template_literal",parts:we,...s.normalizeParams(Ae)})}function Ds(ve,we){return new ve({type:"lazy",getter:we})}function $h(ve,we){return new ve({type:"promise",innerType:we})}function Os(ve,we,Ae){const dt=s.normalizeParams(Ae);return dt.abort??(dt.abort=!0),new ve({type:"custom",check:"custom",fn:we,...dt})}function Da(ve,we,Ae){return new ve({type:"custom",check:"custom",fn:we,...s.normalizeParams(Ae)})}function zn(ve){const we=Et(Ae=>(Ae.addIssue=dt=>{if(typeof dt=="string")Ae.issues.push(s.issue(dt,Ae.value,we._zod.def));else{const xt=dt;xt.fatal&&(xt.continue=!1),xt.code??(xt.code="custom"),xt.input??(xt.input=Ae.value),xt.inst??(xt.inst=we),xt.continue??(xt.continue=!we._zod.def.abort),Ae.issues.push(s.issue(xt))}},ve(Ae.value,Ae)));return we}function Et(ve,we){const Ae=new n.$ZodCheck({check:"custom",...s.normalizeParams(we)});return Ae._zod.check=ve,Ae}function zt(ve){const we=new n.$ZodCheck({check:"describe"});return we._zod.onattach=[Ae=>{const dt=i.globalRegistry.get(Ae)??{};i.globalRegistry.add(Ae,{...dt,description:ve})}],we._zod.check=()=>{},we}function Dn(ve){const we=new n.$ZodCheck({check:"meta"});return we._zod.onattach=[Ae=>{const dt=i.globalRegistry.get(Ae)??{};i.globalRegistry.add(Ae,{...dt,...ve})}],we._zod.check=()=>{},we}function hr(ve,we){const Ae=s.normalizeParams(we);let dt=Ae.truthy??["true","1","yes","on","y","enabled"],xt=Ae.falsy??["false","0","no","off","n","disabled"];Ae.case!=="sensitive"&&(dt=dt.map(_r=>typeof _r=="string"?_r.toLowerCase():_r),xt=xt.map(_r=>typeof _r=="string"?_r.toLowerCase():_r));const On=new Set(dt),Fn=new Set(xt),qi=ve.Codec??o.$ZodCodec,Gr=ve.Boolean??o.$ZodBoolean,Ih=ve.String??o.$ZodString,Th=new Ih({type:"string",error:Ae.error}),Nh=new Gr({type:"boolean",error:Ae.error}),hi=new qi({type:"pipe",in:Th,out:Nh,transform:((_r,ta)=>{let ra=_r;return Ae.case!=="sensitive"&&(ra=ra.toLowerCase()),On.has(ra)?!0:Fn.has(ra)?!1:(ta.issues.push({code:"invalid_value",expected:"stringbool",values:[...On,...Fn],input:ta.value,inst:hi,continue:!1}),{})}),reverseTransform:((_r,ta)=>_r===!0?dt[0]||"true":xt[0]||"false"),error:Ae.error});return hi}function Cr(ve,we,Ae,dt={}){const xt=s.normalizeParams(dt),On={...s.normalizeParams(dt),check:"string_format",type:"string",format:we,fn:typeof Ae=="function"?Ae:qi=>Ae.test(qi),...xt};return Ae instanceof RegExp&&(On.pattern=Ae),new ve(On)}return Oe}var bp={},Vw;function vh(){return Vw||(Vw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createStandardJSONSchemaMethod=e.createToJSONSchemaMethod=void 0,e.initializeContext=r,e.process=n,e.extractDefs=i,e.finalize=o;const t=gh();function r(u){let h=(u==null?void 0:u.target)??"draft-2020-12";return h==="draft-4"&&(h="draft-04"),h==="draft-7"&&(h="draft-07"),{processors:u.processors??{},metadataRegistry:(u==null?void 0:u.metadata)??t.globalRegistry,target:h,unrepresentable:(u==null?void 0:u.unrepresentable)??"throw",override:(u==null?void 0:u.override)??(()=>{}),io:(u==null?void 0:u.io)??"output",counter:0,seen:new Map,cycles:(u==null?void 0:u.cycles)??"ref",reused:(u==null?void 0:u.reused)??"inline",external:(u==null?void 0:u.external)??void 0}}function n(u,h,p={path:[],schemaPath:[]}){var y,_;var l;const f=u._zod.def,m=h.seen.get(u);if(m)return m.count++,p.schemaPath.includes(u)&&(m.cycle=p.path),m.schema;const b={schema:{},count:1,cycle:void 0,path:p.path};h.seen.set(u,b);const S=(_=(y=u._zod).toJSONSchema)==null?void 0:_.call(y);if(S)b.schema=S;else{const P={...p,schemaPath:[...p.schemaPath,u],path:p.path};if(u._zod.processJSONSchema)u._zod.processJSONSchema(h,b.schema,P);else{const M=b.schema,N=h.processors[f.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${f.type}`);N(u,h,M,P)}const T=u._zod.parent;T&&(b.ref||(b.ref=T),n(T,h,P),h.seen.get(T).isParent=!0)}const x=h.metadataRegistry.get(u);return x&&Object.assign(b.schema,x),h.io==="input"&&s(u)&&(delete b.schema.examples,delete b.schema.default),h.io==="input"&&b.schema._prefault&&((l=b.schema).default??(l.default=b.schema._prefault)),delete b.schema._prefault,h.seen.get(u).schema}function i(u,h){var b,S,x,w;const p=u.seen.get(h);if(!p)throw new Error("Unprocessed schema. This is a bug in Zod.");const l=new Map;for(const y of u.seen.entries()){const _=(b=u.metadataRegistry.get(y[0]))==null?void 0:b.id;if(_){const P=l.get(_);if(P&&P!==y[0])throw new Error(`Duplicate schema id "${_}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);l.set(_,y[0])}}const f=y=>{var N;const _=u.target==="draft-2020-12"?"$defs":"definitions";if(u.external){const O=(N=u.external.registry.get(y[0]))==null?void 0:N.id,B=u.external.uri??(D=>D);if(O)return{ref:B(O)};const Z=y[1].defId??y[1].schema.id??`schema${u.counter++}`;return y[1].defId=Z,{defId:Z,ref:`${B("__shared")}#/${_}/${Z}`}}if(y[1]===p)return{ref:"#"};const T=`#/${_}/`,M=y[1].schema.id??`__schema${u.counter++}`;return{defId:M,ref:T+M}},m=y=>{if(y[1].schema.$ref)return;const _=y[1],{ref:P,defId:T}=f(y);_.def={..._.schema},T&&(_.defId=T);const M=_.schema;for(const N in M)delete M[N];M.$ref=P};if(u.cycles==="throw")for(const y of u.seen.entries()){const _=y[1];if(_.cycle)throw new Error(`Cycle detected: #/${(S=_.cycle)==null?void 0:S.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const y of u.seen.entries()){const _=y[1];if(h===y[0]){m(y);continue}if(u.external){const T=(x=u.external.registry.get(y[0]))==null?void 0:x.id;if(h!==y[0]&&T){m(y);continue}}if((w=u.metadataRegistry.get(y[0]))==null?void 0:w.id){m(y);continue}if(_.cycle){m(y);continue}if(_.count>1&&u.reused==="ref"){m(y);continue}}}function o(u,h){var b,S,x;const p=u.seen.get(h);if(!p)throw new Error("Unprocessed schema. This is a bug in Zod.");const l=w=>{const y=u.seen.get(w);if(y.ref===null)return;const _=y.def??y.schema,P={..._},T=y.ref;if(y.ref=null,T){l(T);const N=u.seen.get(T),O=N.schema;if(O.$ref&&(u.target==="draft-07"||u.target==="draft-04"||u.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(O)):Object.assign(_,O),Object.assign(_,P),w._zod.parent===T)for(const Z in _)Z==="$ref"||Z==="allOf"||Z in P||delete _[Z];if(O.$ref&&N.def)for(const Z in _)Z==="$ref"||Z==="allOf"||Z in N.def&&JSON.stringify(_[Z])===JSON.stringify(N.def[Z])&&delete _[Z]}const M=w._zod.parent;if(M&&M!==T){l(M);const N=u.seen.get(M);if(N!=null&&N.schema.$ref&&(_.$ref=N.schema.$ref,N.def))for(const O in _)O==="$ref"||O==="allOf"||O in N.def&&JSON.stringify(_[O])===JSON.stringify(N.def[O])&&delete _[O]}u.override({zodSchema:w,jsonSchema:_,path:y.path??[]})};for(const w of[...u.seen.entries()].reverse())l(w[0]);const f={};if(u.target==="draft-2020-12"?f.$schema="https://json-schema.org/draft/2020-12/schema":u.target==="draft-07"?f.$schema="http://json-schema.org/draft-07/schema#":u.target==="draft-04"?f.$schema="http://json-schema.org/draft-04/schema#":u.target,(b=u.external)!=null&&b.uri){const w=(S=u.external.registry.get(h))==null?void 0:S.id;if(!w)throw new Error("Schema is missing an `id` property");f.$id=u.external.uri(w)}Object.assign(f,p.def??p.schema);const m=((x=u.external)==null?void 0:x.defs)??{};for(const w of u.seen.entries()){const y=w[1];y.def&&y.defId&&(m[y.defId]=y.def)}u.external||Object.keys(m).length>0&&(u.target==="draft-2020-12"?f.$defs=m:f.definitions=m);try{const w=JSON.parse(JSON.stringify(f));return Object.defineProperty(w,"~standard",{value:{...h["~standard"],jsonSchema:{input:(0,e.createStandardJSONSchemaMethod)(h,"input",u.processors),output:(0,e.createStandardJSONSchemaMethod)(h,"output",u.processors)}},enumerable:!1,writable:!1}),w}catch{throw new Error("Error converting schema to JSON.")}}function s(u,h){const p=h??{seen:new Set};if(p.seen.has(u))return!1;p.seen.add(u);const l=u._zod.def;if(l.type==="transform")return!0;if(l.type==="array")return s(l.element,p);if(l.type==="set")return s(l.valueType,p);if(l.type==="lazy")return s(l.getter(),p);if(l.type==="promise"||l.type==="optional"||l.type==="nonoptional"||l.type==="nullable"||l.type==="readonly"||l.type==="default"||l.type==="prefault")return s(l.innerType,p);if(l.type==="intersection")return s(l.left,p)||s(l.right,p);if(l.type==="record"||l.type==="map")return s(l.keyType,p)||s(l.valueType,p);if(l.type==="pipe")return s(l.in,p)||s(l.out,p);if(l.type==="object"){for(const f in l.shape)if(s(l.shape[f],p))return!0;return!1}if(l.type==="union"){for(const f of l.options)if(s(f,p))return!0;return!1}if(l.type==="tuple"){for(const f of l.items)if(s(f,p))return!0;return!!(l.rest&&s(l.rest,p))}return!1}const d=(u,h={})=>p=>{const l=r({...p,processors:h});return n(u,l),i(l,u),o(l,u)};e.createToJSONSchemaMethod=d;const c=(u,h,p={})=>l=>{const{libraryOptions:f,target:m}=l??{},b=r({...f??{},target:m,io:h,processors:p});return n(u,b),i(b,u),o(b,u)};e.createStandardJSONSchemaMethod=c})(bp)),bp}var yp={},Ww;function bh(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allProcessors=e.lazyProcessor=e.optionalProcessor=e.promiseProcessor=e.readonlyProcessor=e.pipeProcessor=e.catchProcessor=e.prefaultProcessor=e.defaultProcessor=e.nonoptionalProcessor=e.nullableProcessor=e.recordProcessor=e.tupleProcessor=e.intersectionProcessor=e.unionProcessor=e.objectProcessor=e.arrayProcessor=e.setProcessor=e.mapProcessor=e.transformProcessor=e.functionProcessor=e.customProcessor=e.successProcessor=e.fileProcessor=e.templateLiteralProcessor=e.nanProcessor=e.literalProcessor=e.enumProcessor=e.dateProcessor=e.unknownProcessor=e.anyProcessor=e.neverProcessor=e.voidProcessor=e.undefinedProcessor=e.nullProcessor=e.symbolProcessor=e.bigintProcessor=e.booleanProcessor=e.numberProcessor=e.stringProcessor=void 0,e.toJSONSchema=J;const t=vh(),r=tt(),n={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},i=(ee,Q,he,ge)=>{const ye=he;ye.type="string";const{minimum:_e,maximum:H,format:Se,patterns:Ce,contentEncoding:se}=ee._zod.bag;if(typeof _e=="number"&&(ye.minLength=_e),typeof H=="number"&&(ye.maxLength=H),Se&&(ye.format=n[Se]??Se,ye.format===""&&delete ye.format,Se==="time"&&delete ye.format),se&&(ye.contentEncoding=se),Ce&&Ce.size>0){const ae=[...Ce];ae.length===1?ye.pattern=ae[0].source:ae.length>1&&(ye.allOf=[...ae.map(xe=>({...Q.target==="draft-07"||Q.target==="draft-04"||Q.target==="openapi-3.0"?{type:"string"}:{},pattern:xe.source}))])}};e.stringProcessor=i;const o=(ee,Q,he,ge)=>{const ye=he,{minimum:_e,maximum:H,format:Se,multipleOf:Ce,exclusiveMaximum:se,exclusiveMinimum:ae}=ee._zod.bag;typeof Se=="string"&&Se.includes("int")?ye.type="integer":ye.type="number",typeof ae=="number"&&(Q.target==="draft-04"||Q.target==="openapi-3.0"?(ye.minimum=ae,ye.exclusiveMinimum=!0):ye.exclusiveMinimum=ae),typeof _e=="number"&&(ye.minimum=_e,typeof ae=="number"&&Q.target!=="draft-04"&&(ae>=_e?delete ye.minimum:delete ye.exclusiveMinimum)),typeof se=="number"&&(Q.target==="draft-04"||Q.target==="openapi-3.0"?(ye.maximum=se,ye.exclusiveMaximum=!0):ye.exclusiveMaximum=se),typeof H=="number"&&(ye.maximum=H,typeof se=="number"&&Q.target!=="draft-04"&&(se<=H?delete ye.maximum:delete ye.exclusiveMaximum)),typeof Ce=="number"&&(ye.multipleOf=Ce)};e.numberProcessor=o;const s=(ee,Q,he,ge)=>{he.type="boolean"};e.booleanProcessor=s;const d=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")};e.bigintProcessor=d;const c=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")};e.symbolProcessor=c;const u=(ee,Q,he,ge)=>{Q.target==="openapi-3.0"?(he.type="string",he.nullable=!0,he.enum=[null]):he.type="null"};e.nullProcessor=u;const h=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")};e.undefinedProcessor=h;const p=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")};e.voidProcessor=p;const l=(ee,Q,he,ge)=>{he.not={}};e.neverProcessor=l;const f=(ee,Q,he,ge)=>{};e.anyProcessor=f;const m=(ee,Q,he,ge)=>{};e.unknownProcessor=m;const b=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")};e.dateProcessor=b;const S=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=(0,r.getEnumValues)(ye.entries);_e.every(H=>typeof H=="number")&&(he.type="number"),_e.every(H=>typeof H=="string")&&(he.type="string"),he.enum=_e};e.enumProcessor=S;const x=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=[];for(const H of ye.values)if(H===void 0){if(Q.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof H=="bigint"){if(Q.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");_e.push(Number(H))}else _e.push(H);if(_e.length!==0)if(_e.length===1){const H=_e[0];he.type=H===null?"null":typeof H,Q.target==="draft-04"||Q.target==="openapi-3.0"?he.enum=[H]:he.const=H}else _e.every(H=>typeof H=="number")&&(he.type="number"),_e.every(H=>typeof H=="string")&&(he.type="string"),_e.every(H=>typeof H=="boolean")&&(he.type="boolean"),_e.every(H=>H===null)&&(he.type="null"),he.enum=_e};e.literalProcessor=x;const w=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")};e.nanProcessor=w;const y=(ee,Q,he,ge)=>{const ye=he,_e=ee._zod.pattern;if(!_e)throw new Error("Pattern not found in template literal");ye.type="string",ye.pattern=_e.source};e.templateLiteralProcessor=y;const _=(ee,Q,he,ge)=>{const ye=he,_e={type:"string",format:"binary",contentEncoding:"binary"},{minimum:H,maximum:Se,mime:Ce}=ee._zod.bag;H!==void 0&&(_e.minLength=H),Se!==void 0&&(_e.maxLength=Se),Ce?Ce.length===1?(_e.contentMediaType=Ce[0],Object.assign(ye,_e)):(Object.assign(ye,_e),ye.anyOf=Ce.map(se=>({contentMediaType:se}))):Object.assign(ye,_e)};e.fileProcessor=_;const P=(ee,Q,he,ge)=>{he.type="boolean"};e.successProcessor=P;const T=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")};e.customProcessor=T;const M=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")};e.functionProcessor=M;const N=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")};e.transformProcessor=N;const O=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")};e.mapProcessor=O;const B=(ee,Q,he,ge)=>{if(Q.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")};e.setProcessor=B;const Z=(ee,Q,he,ge)=>{const ye=he,_e=ee._zod.def,{minimum:H,maximum:Se}=ee._zod.bag;typeof H=="number"&&(ye.minItems=H),typeof Se=="number"&&(ye.maxItems=Se),ye.type="array",ye.items=(0,t.process)(_e.element,Q,{...ge,path:[...ge.path,"items"]})};e.arrayProcessor=Z;const D=(ee,Q,he,ge)=>{var se;const ye=he,_e=ee._zod.def;ye.type="object",ye.properties={};const H=_e.shape;for(const ae in H)ye.properties[ae]=(0,t.process)(H[ae],Q,{...ge,path:[...ge.path,"properties",ae]});const Se=new Set(Object.keys(H)),Ce=new Set([...Se].filter(ae=>{const xe=_e.shape[ae]._zod;return Q.io==="input"?xe.optin===void 0:xe.optout===void 0}));Ce.size>0&&(ye.required=Array.from(Ce)),((se=_e.catchall)==null?void 0:se._zod.def.type)==="never"?ye.additionalProperties=!1:_e.catchall?_e.catchall&&(ye.additionalProperties=(0,t.process)(_e.catchall,Q,{...ge,path:[...ge.path,"additionalProperties"]})):Q.io==="output"&&(ye.additionalProperties=!1)};e.objectProcessor=D;const U=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=ye.inclusive===!1,H=ye.options.map((Se,Ce)=>(0,t.process)(Se,Q,{...ge,path:[...ge.path,_e?"oneOf":"anyOf",Ce]}));_e?he.oneOf=H:he.anyOf=H};e.unionProcessor=U;const z=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=(0,t.process)(ye.left,Q,{...ge,path:[...ge.path,"allOf",0]}),H=(0,t.process)(ye.right,Q,{...ge,path:[...ge.path,"allOf",1]}),Se=se=>"allOf"in se&&Object.keys(se).length===1,Ce=[...Se(_e)?_e.allOf:[_e],...Se(H)?H.allOf:[H]];he.allOf=Ce};e.intersectionProcessor=z;const G=(ee,Q,he,ge)=>{const ye=he,_e=ee._zod.def;ye.type="array";const H=Q.target==="draft-2020-12"?"prefixItems":"items",Se=Q.target==="draft-2020-12"||Q.target==="openapi-3.0"?"items":"additionalItems",Ce=_e.items.map(($e,ue)=>(0,t.process)($e,Q,{...ge,path:[...ge.path,H,ue]})),se=_e.rest?(0,t.process)(_e.rest,Q,{...ge,path:[...ge.path,Se,...Q.target==="openapi-3.0"?[_e.items.length]:[]]}):null;Q.target==="draft-2020-12"?(ye.prefixItems=Ce,se&&(ye.items=se)):Q.target==="openapi-3.0"?(ye.items={anyOf:Ce},se&&ye.items.anyOf.push(se),ye.minItems=Ce.length,se||(ye.maxItems=Ce.length)):(ye.items=Ce,se&&(ye.additionalItems=se));const{minimum:ae,maximum:xe}=ee._zod.bag;typeof ae=="number"&&(ye.minItems=ae),typeof xe=="number"&&(ye.maxItems=xe)};e.tupleProcessor=G;const ne=(ee,Q,he,ge)=>{const ye=he,_e=ee._zod.def;ye.type="object";const H=_e.keyType,Se=H._zod.bag,Ce=Se==null?void 0:Se.patterns;if(_e.mode==="loose"&&Ce&&Ce.size>0){const ae=(0,t.process)(_e.valueType,Q,{...ge,path:[...ge.path,"patternProperties","*"]});ye.patternProperties={};for(const xe of Ce)ye.patternProperties[xe.source]=ae}else(Q.target==="draft-07"||Q.target==="draft-2020-12")&&(ye.propertyNames=(0,t.process)(_e.keyType,Q,{...ge,path:[...ge.path,"propertyNames"]})),ye.additionalProperties=(0,t.process)(_e.valueType,Q,{...ge,path:[...ge.path,"additionalProperties"]});const se=H._zod.values;if(se){const ae=[...se].filter(xe=>typeof xe=="string"||typeof xe=="number");ae.length>0&&(ye.required=ae)}};e.recordProcessor=ne;const A=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=(0,t.process)(ye.innerType,Q,ge),H=Q.seen.get(ee);Q.target==="openapi-3.0"?(H.ref=ye.innerType,he.nullable=!0):he.anyOf=[_e,{type:"null"}]};e.nullableProcessor=A;const k=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType};e.nonoptionalProcessor=k;const j=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType,he.default=JSON.parse(JSON.stringify(ye.defaultValue))};e.defaultProcessor=j;const $=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType,Q.io==="input"&&(he._prefault=JSON.parse(JSON.stringify(ye.defaultValue)))};e.prefaultProcessor=$;const F=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType;let H;try{H=ye.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}he.default=H};e.catchProcessor=F;const R=(ee,Q,he,ge)=>{const ye=ee._zod.def,_e=Q.io==="input"?ye.in._zod.def.type==="transform"?ye.out:ye.in:ye.out;(0,t.process)(_e,Q,ge);const H=Q.seen.get(ee);H.ref=_e};e.pipeProcessor=R;const W=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType,he.readOnly=!0};e.readonlyProcessor=W;const Y=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType};e.promiseProcessor=Y;const te=(ee,Q,he,ge)=>{const ye=ee._zod.def;(0,t.process)(ye.innerType,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye.innerType};e.optionalProcessor=te;const ie=(ee,Q,he,ge)=>{const ye=ee._zod.innerType;(0,t.process)(ye,Q,ge);const _e=Q.seen.get(ee);_e.ref=ye};e.lazyProcessor=ie,e.allProcessors={string:e.stringProcessor,number:e.numberProcessor,boolean:e.booleanProcessor,bigint:e.bigintProcessor,symbol:e.symbolProcessor,null:e.nullProcessor,undefined:e.undefinedProcessor,void:e.voidProcessor,never:e.neverProcessor,any:e.anyProcessor,unknown:e.unknownProcessor,date:e.dateProcessor,enum:e.enumProcessor,literal:e.literalProcessor,nan:e.nanProcessor,template_literal:e.templateLiteralProcessor,file:e.fileProcessor,success:e.successProcessor,custom:e.customProcessor,function:e.functionProcessor,transform:e.transformProcessor,map:e.mapProcessor,set:e.setProcessor,array:e.arrayProcessor,object:e.objectProcessor,union:e.unionProcessor,intersection:e.intersectionProcessor,tuple:e.tupleProcessor,record:e.recordProcessor,nullable:e.nullableProcessor,nonoptional:e.nonoptionalProcessor,default:e.defaultProcessor,prefault:e.prefaultProcessor,catch:e.catchProcessor,pipe:e.pipeProcessor,readonly:e.readonlyProcessor,promise:e.promiseProcessor,optional:e.optionalProcessor,lazy:e.lazyProcessor};function J(ee,Q){if("_idmap"in ee){const ge=ee,ye=(0,t.initializeContext)({...Q,processors:e.allProcessors}),_e={};for(const Ce of ge._idmap.entries()){const[se,ae]=Ce;(0,t.process)(ae,ye)}const H={},Se={registry:ge,uri:Q==null?void 0:Q.uri,defs:_e};ye.external=Se;for(const Ce of ge._idmap.entries()){const[se,ae]=Ce;(0,t.extractDefs)(ye,ae),H[se]=(0,t.finalize)(ye,ae)}if(Object.keys(_e).length>0){const Ce=ye.target==="draft-2020-12"?"$defs":"definitions";H.__shared={[Ce]:_e}}return{schemas:H}}const he=(0,t.initializeContext)({...Q,processors:e.allProcessors});return(0,t.process)(ee,he),(0,t.extractDefs)(he,ee),(0,t.finalize)(he,ee)}})(yp)),yp}var ol={},Hw;function VF(){if(Hw)return ol;Hw=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.JSONSchemaGenerator=void 0;const e=bh(),t=vh();class r{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(i){this.ctx.counter=i}get seen(){return this.ctx.seen}constructor(i){let o=(i==null?void 0:i.target)??"draft-2020-12";o==="draft-4"&&(o="draft-04"),o==="draft-7"&&(o="draft-07"),this.ctx=(0,t.initializeContext)({processors:e.allProcessors,target:o,...(i==null?void 0:i.metadata)&&{metadata:i.metadata},...(i==null?void 0:i.unrepresentable)&&{unrepresentable:i.unrepresentable},...(i==null?void 0:i.override)&&{override:i.override},...(i==null?void 0:i.io)&&{io:i.io}})}process(i,o={path:[],schemaPath:[]}){return(0,t.process)(i,this.ctx,o)}emit(i,o){o&&(o.cycles&&(this.ctx.cycles=o.cycles),o.reused&&(this.ctx.reused=o.reused),o.external&&(this.ctx.external=o.external)),(0,t.extractDefs)(this.ctx,i);const s=(0,t.finalize)(this.ctx,i),{"~standard":d,...c}=s;return c}}return ol.JSONSchemaGenerator=r,ol}var xp={},Gw;function WF(){return Gw||(Gw=1,Object.defineProperty(xp,"__esModule",{value:!0})),xp}var Zw;function Jr(){return Zw||(Zw=1,(function(e){var t=kn&&kn.__createBinding||(Object.create?(function(d,c,u,h){h===void 0&&(h=u);var p=Object.getOwnPropertyDescriptor(c,u);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(d,h,p)}):(function(d,c,u,h){h===void 0&&(h=u),d[h]=c[u]})),r=kn&&kn.__setModuleDefault||(Object.create?(function(d,c){Object.defineProperty(d,"default",{enumerable:!0,value:c})}):function(d,c){d.default=c}),n=kn&&kn.__exportStar||function(d,c){for(var u in d)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,d,u)},i=kn&&kn.__importStar||function(d){if(d&&d.__esModule)return d;var c={};if(d!=null)for(var u in d)u!=="default"&&Object.prototype.hasOwnProperty.call(d,u)&&t(c,d,u);return r(c,d),c};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONSchema=e.JSONSchemaGenerator=e.toJSONSchema=e.locales=e.regexes=e.util=void 0,n(bu(),e),n(hj(),e),n(dj(),e),n(mj(),e),n(W0(),e),n(pj(),e),e.util=i(tt()),e.regexes=i(V0()),e.locales=i(yj()),n(gh(),e),n(fj(),e),n(UF(),e),n(vh(),e);var o=bh();Object.defineProperty(e,"toJSONSchema",{enumerable:!0,get:function(){return o.toJSONSchema}});var s=VF();Object.defineProperty(e,"JSONSchemaGenerator",{enumerable:!0,get:function(){return s.JSONSchemaGenerator}}),e.JSONSchema=i(WF())})(kn)),kn}var ga={},wp={},qw;function H0(){return qw||(qw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.slugify=e.toUpperCase=e.toLowerCase=e.trim=e.normalize=e.overwrite=e.mime=e.property=e.endsWith=e.startsWith=e.includes=e.uppercase=e.lowercase=e.regex=e.length=e.minLength=e.maxLength=e.size=e.minSize=e.maxSize=e.multipleOf=e.nonnegative=e.nonpositive=e.negative=e.positive=e.gte=e.gt=e.lte=e.lt=void 0;var t=Jr();Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t._lt}}),Object.defineProperty(e,"lte",{enumerable:!0,get:function(){return t._lte}}),Object.defineProperty(e,"gt",{enumerable:!0,get:function(){return t._gt}}),Object.defineProperty(e,"gte",{enumerable:!0,get:function(){return t._gte}}),Object.defineProperty(e,"positive",{enumerable:!0,get:function(){return t._positive}}),Object.defineProperty(e,"negative",{enumerable:!0,get:function(){return t._negative}}),Object.defineProperty(e,"nonpositive",{enumerable:!0,get:function(){return t._nonpositive}}),Object.defineProperty(e,"nonnegative",{enumerable:!0,get:function(){return t._nonnegative}}),Object.defineProperty(e,"multipleOf",{enumerable:!0,get:function(){return t._multipleOf}}),Object.defineProperty(e,"maxSize",{enumerable:!0,get:function(){return t._maxSize}}),Object.defineProperty(e,"minSize",{enumerable:!0,get:function(){return t._minSize}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t._size}}),Object.defineProperty(e,"maxLength",{enumerable:!0,get:function(){return t._maxLength}}),Object.defineProperty(e,"minLength",{enumerable:!0,get:function(){return t._minLength}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return t._length}}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return t._regex}}),Object.defineProperty(e,"lowercase",{enumerable:!0,get:function(){return t._lowercase}}),Object.defineProperty(e,"uppercase",{enumerable:!0,get:function(){return t._uppercase}}),Object.defineProperty(e,"includes",{enumerable:!0,get:function(){return t._includes}}),Object.defineProperty(e,"startsWith",{enumerable:!0,get:function(){return t._startsWith}}),Object.defineProperty(e,"endsWith",{enumerable:!0,get:function(){return t._endsWith}}),Object.defineProperty(e,"property",{enumerable:!0,get:function(){return t._property}}),Object.defineProperty(e,"mime",{enumerable:!0,get:function(){return t._mime}}),Object.defineProperty(e,"overwrite",{enumerable:!0,get:function(){return t._overwrite}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return t._normalize}}),Object.defineProperty(e,"trim",{enumerable:!0,get:function(){return t._trim}}),Object.defineProperty(e,"toLowerCase",{enumerable:!0,get:function(){return t._toLowerCase}}),Object.defineProperty(e,"toUpperCase",{enumerable:!0,get:function(){return t._toUpperCase}}),Object.defineProperty(e,"slugify",{enumerable:!0,get:function(){return t._slugify}})})(wp)),wp}var va={},Xw;function ih(){return Xw||(Xw=1,(function(e){var t=va&&va.__createBinding||(Object.create?(function(h,p,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(p,l);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[l]}}),Object.defineProperty(h,f,m)}):(function(h,p,l,f){f===void 0&&(f=l),h[f]=p[l]})),r=va&&va.__setModuleDefault||(Object.create?(function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}):function(h,p){h.default=p}),n=va&&va.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var l in h)l!=="default"&&Object.prototype.hasOwnProperty.call(h,l)&&t(p,h,l);return r(p,h),p};Object.defineProperty(e,"__esModule",{value:!0}),e.ZodISODuration=e.ZodISOTime=e.ZodISODate=e.ZodISODateTime=void 0,e.datetime=s,e.date=d,e.time=c,e.duration=u;const i=n(Jr()),o=n(yh());e.ZodISODateTime=i.$constructor("ZodISODateTime",(h,p)=>{i.$ZodISODateTime.init(h,p),o.ZodStringFormat.init(h,p)});function s(h){return i._isoDateTime(e.ZodISODateTime,h)}e.ZodISODate=i.$constructor("ZodISODate",(h,p)=>{i.$ZodISODate.init(h,p),o.ZodStringFormat.init(h,p)});function d(h){return i._isoDate(e.ZodISODate,h)}e.ZodISOTime=i.$constructor("ZodISOTime",(h,p)=>{i.$ZodISOTime.init(h,p),o.ZodStringFormat.init(h,p)});function c(h){return i._isoTime(e.ZodISOTime,h)}e.ZodISODuration=i.$constructor("ZodISODuration",(h,p)=>{i.$ZodISODuration.init(h,p),o.ZodStringFormat.init(h,p)});function u(h){return i._isoDuration(e.ZodISODuration,h)}})(va)),va}var kt={},Yr={},Yw;function xj(){if(Yw)return Yr;Yw=1;var e=Yr&&Yr.__createBinding||(Object.create?(function(d,c,u,h){h===void 0&&(h=u);var p=Object.getOwnPropertyDescriptor(c,u);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(d,h,p)}):(function(d,c,u,h){h===void 0&&(h=u),d[h]=c[u]})),t=Yr&&Yr.__setModuleDefault||(Object.create?(function(d,c){Object.defineProperty(d,"default",{enumerable:!0,value:c})}):function(d,c){d.default=c}),r=Yr&&Yr.__importStar||function(d){if(d&&d.__esModule)return d;var c={};if(d!=null)for(var u in d)u!=="default"&&Object.prototype.hasOwnProperty.call(d,u)&&e(c,d,u);return t(c,d),c};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.ZodRealError=Yr.ZodError=void 0;const n=r(Jr()),i=Jr(),o=r(tt()),s=(d,c)=>{i.$ZodError.init(d,c),d.name="ZodError",Object.defineProperties(d,{format:{value:u=>n.formatError(d,u)},flatten:{value:u=>n.flattenError(d,u)},addIssue:{value:u=>{d.issues.push(u),d.message=JSON.stringify(d.issues,o.jsonStringifyReplacer,2)}},addIssues:{value:u=>{d.issues.push(...u),d.message=JSON.stringify(d.issues,o.jsonStringifyReplacer,2)}},isEmpty:{get(){return d.issues.length===0}}})};return Yr.ZodError=n.$constructor("ZodError",s),Yr.ZodRealError=n.$constructor("ZodError",s,{Parent:Error}),Yr}var Kw;function wj(){if(Kw)return kt;Kw=1;var e=kt&&kt.__createBinding||(Object.create?(function(o,s,d,c){c===void 0&&(c=d);var u=Object.getOwnPropertyDescriptor(s,d);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(o,c,u)}):(function(o,s,d,c){c===void 0&&(c=d),o[c]=s[d]})),t=kt&&kt.__setModuleDefault||(Object.create?(function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}):function(o,s){o.default=s}),r=kt&&kt.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var d in o)d!=="default"&&Object.prototype.hasOwnProperty.call(o,d)&&e(s,o,d);return t(s,o),s};Object.defineProperty(kt,"__esModule",{value:!0}),kt.safeDecodeAsync=kt.safeEncodeAsync=kt.safeDecode=kt.safeEncode=kt.decodeAsync=kt.encodeAsync=kt.decode=kt.encode=kt.safeParseAsync=kt.safeParse=kt.parseAsync=kt.parse=void 0;const n=r(Jr()),i=xj();return kt.parse=n._parse(i.ZodRealError),kt.parseAsync=n._parseAsync(i.ZodRealError),kt.safeParse=n._safeParse(i.ZodRealError),kt.safeParseAsync=n._safeParseAsync(i.ZodRealError),kt.encode=n._encode(i.ZodRealError),kt.decode=n._decode(i.ZodRealError),kt.encodeAsync=n._encodeAsync(i.ZodRealError),kt.decodeAsync=n._decodeAsync(i.ZodRealError),kt.safeEncode=n._safeEncode(i.ZodRealError),kt.safeDecode=n._safeDecode(i.ZodRealError),kt.safeEncodeAsync=n._safeEncodeAsync(i.ZodRealError),kt.safeDecodeAsync=n._safeDecodeAsync(i.ZodRealError),kt}var Jw;function yh(){return Jw||(Jw=1,(function(e){var t=ga&&ga.__createBinding||(Object.create?(function(I,oe,ce,be){be===void 0&&(be=ce);var Ee=Object.getOwnPropertyDescriptor(oe,ce);(!Ee||("get"in Ee?!oe.__esModule:Ee.writable||Ee.configurable))&&(Ee={enumerable:!0,get:function(){return oe[ce]}}),Object.defineProperty(I,be,Ee)}):(function(I,oe,ce,be){be===void 0&&(be=ce),I[be]=oe[ce]})),r=ga&&ga.__setModuleDefault||(Object.create?(function(I,oe){Object.defineProperty(I,"default",{enumerable:!0,value:oe})}):function(I,oe){I.default=oe}),n=ga&&ga.__importStar||function(I){if(I&&I.__esModule)return I;var oe={};if(I!=null)for(var ce in I)ce!=="default"&&Object.prototype.hasOwnProperty.call(I,ce)&&t(oe,I,ce);return r(oe,I),oe};Object.defineProperty(e,"__esModule",{value:!0}),e.ZodLiteral=e.ZodEnum=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodXor=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodDate=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodBigIntFormat=e.ZodBigInt=e.ZodBoolean=e.ZodNumberFormat=e.ZodNumber=e.ZodCustomStringFormat=e.ZodJWT=e.ZodE164=e.ZodBase64URL=e.ZodBase64=e.ZodCIDRv6=e.ZodCIDRv4=e.ZodIPv6=e.ZodMAC=e.ZodIPv4=e.ZodKSUID=e.ZodXID=e.ZodULID=e.ZodCUID2=e.ZodCUID=e.ZodNanoID=e.ZodEmoji=e.ZodURL=e.ZodUUID=e.ZodGUID=e.ZodEmail=e.ZodStringFormat=e.ZodString=e._ZodString=e.ZodType=void 0,e.stringbool=e.meta=e.describe=e.ZodCustom=e.ZodFunction=e.ZodPromise=e.ZodLazy=e.ZodTemplateLiteral=e.ZodReadonly=e.ZodCodec=e.ZodPipe=e.ZodNaN=e.ZodCatch=e.ZodSuccess=e.ZodNonOptional=e.ZodPrefault=e.ZodDefault=e.ZodNullable=e.ZodExactOptional=e.ZodOptional=e.ZodTransform=e.ZodFile=void 0,e.string=p,e.email=l,e.guid=f,e.uuid=m,e.uuidv4=b,e.uuidv6=S,e.uuidv7=x,e.url=w,e.httpUrl=y,e.emoji=_,e.nanoid=P,e.cuid=T,e.cuid2=M,e.ulid=N,e.xid=O,e.ksuid=B,e.ipv4=Z,e.mac=D,e.ipv6=U,e.cidrv4=z,e.cidrv6=G,e.base64=ne,e.base64url=A,e.e164=k,e.jwt=j,e.stringFormat=$,e.hostname=F,e.hex=R,e.hash=W,e.number=Y,e.int=te,e.float32=ie,e.float64=J,e.int32=ee,e.uint32=Q,e.boolean=he,e.bigint=ge,e.int64=ye,e.uint64=_e,e.symbol=H,e.undefined=Se,e.null=Ce,e.any=se,e.unknown=ae,e.never=xe,e.void=$e,e.date=ue,e.array=V,e.keyof=me,e.object=pe,e.strictObject=ke,e.looseObject=Ie,e.union=Re,e.xor=Be,e.discriminatedUnion=ot,e.intersection=st,e.tuple=pt,e.record=Rt,e.partialRecord=St,e.looseRecord=or,e.map=Tr,e.set=rr,e.enum=Nr,e.nativeEnum=pn,e.literal=Qn,e.file=ui,e.transform=En,e.optional=Fr,e.exactOptional=mn,e.nullable=ea,e.nullish=Bi,e._default=gn,e.prefault=Ia,e.nonoptional=di,e.success=Ui,e.catch=Vi,e.nan=_s,e.pipe=Ta,e.codec=Wi,e.readonly=Na,e.templateLiteral=js,e.lazy=Hi,e.promise=Ea,e._function=za,e.function=za,e._function=za,e.function=za,e.check=Ps,e.custom=$s,e.refine=Gi,e.superRefine=Zi,e.instanceof=Is,e.json=Ns,e.preprocess=Es;const i=n(Jr()),o=Jr(),s=n(bh()),d=vh(),c=n(H0()),u=n(ih()),h=n(wj());e.ZodType=i.$constructor("ZodType",(I,oe)=>(i.$ZodType.init(I,oe),Object.assign(I["~standard"],{jsonSchema:{input:(0,d.createStandardJSONSchemaMethod)(I,"input"),output:(0,d.createStandardJSONSchemaMethod)(I,"output")}}),I.toJSONSchema=(0,d.createToJSONSchemaMethod)(I,{}),I.def=oe,I.type=oe.type,Object.defineProperty(I,"_def",{value:oe}),I.check=(...ce)=>I.clone(o.util.mergeDefs(oe,{checks:[...oe.checks??[],...ce.map(be=>typeof be=="function"?{_zod:{check:be,def:{check:"custom"},onattach:[]}}:be)]}),{parent:!0}),I.with=I.check,I.clone=(ce,be)=>i.clone(I,ce,be),I.brand=()=>I,I.register=((ce,be)=>(ce.add(I,be),I)),I.parse=(ce,be)=>h.parse(I,ce,be,{callee:I.parse}),I.safeParse=(ce,be)=>h.safeParse(I,ce,be),I.parseAsync=async(ce,be)=>h.parseAsync(I,ce,be,{callee:I.parseAsync}),I.safeParseAsync=async(ce,be)=>h.safeParseAsync(I,ce,be),I.spa=I.safeParseAsync,I.encode=(ce,be)=>h.encode(I,ce,be),I.decode=(ce,be)=>h.decode(I,ce,be),I.encodeAsync=async(ce,be)=>h.encodeAsync(I,ce,be),I.decodeAsync=async(ce,be)=>h.decodeAsync(I,ce,be),I.safeEncode=(ce,be)=>h.safeEncode(I,ce,be),I.safeDecode=(ce,be)=>h.safeDecode(I,ce,be),I.safeEncodeAsync=async(ce,be)=>h.safeEncodeAsync(I,ce,be),I.safeDecodeAsync=async(ce,be)=>h.safeDecodeAsync(I,ce,be),I.refine=(ce,be)=>I.check(Gi(ce,be)),I.superRefine=ce=>I.check(Zi(ce)),I.overwrite=ce=>I.check(c.overwrite(ce)),I.optional=()=>Fr(I),I.exactOptional=()=>mn(I),I.nullable=()=>ea(I),I.nullish=()=>Fr(ea(I)),I.nonoptional=ce=>di(I,ce),I.array=()=>V(I),I.or=ce=>Re([I,ce]),I.and=ce=>st(I,ce),I.transform=ce=>Ta(I,En(ce)),I.default=ce=>gn(I,ce),I.prefault=ce=>Ia(I,ce),I.catch=ce=>Vi(I,ce),I.pipe=ce=>Ta(I,ce),I.readonly=()=>Na(I),I.describe=ce=>{const be=I.clone();return i.globalRegistry.add(be,{description:ce}),be},Object.defineProperty(I,"description",{get(){var ce;return(ce=i.globalRegistry.get(I))==null?void 0:ce.description},configurable:!0}),I.meta=(...ce)=>{if(ce.length===0)return i.globalRegistry.get(I);const be=I.clone();return i.globalRegistry.add(be,ce[0]),be},I.isOptional=()=>I.safeParse(void 0).success,I.isNullable=()=>I.safeParse(null).success,I.apply=ce=>ce(I),I)),e._ZodString=i.$constructor("_ZodString",(I,oe)=>{i.$ZodString.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(be,Ee,Tt)=>s.stringProcessor(I,be,Ee,Tt);const ce=I._zod.bag;I.format=ce.format??null,I.minLength=ce.minimum??null,I.maxLength=ce.maximum??null,I.regex=(...be)=>I.check(c.regex(...be)),I.includes=(...be)=>I.check(c.includes(...be)),I.startsWith=(...be)=>I.check(c.startsWith(...be)),I.endsWith=(...be)=>I.check(c.endsWith(...be)),I.min=(...be)=>I.check(c.minLength(...be)),I.max=(...be)=>I.check(c.maxLength(...be)),I.length=(...be)=>I.check(c.length(...be)),I.nonempty=(...be)=>I.check(c.minLength(1,...be)),I.lowercase=be=>I.check(c.lowercase(be)),I.uppercase=be=>I.check(c.uppercase(be)),I.trim=()=>I.check(c.trim()),I.normalize=(...be)=>I.check(c.normalize(...be)),I.toLowerCase=()=>I.check(c.toLowerCase()),I.toUpperCase=()=>I.check(c.toUpperCase()),I.slugify=()=>I.check(c.slugify())}),e.ZodString=i.$constructor("ZodString",(I,oe)=>{i.$ZodString.init(I,oe),e._ZodString.init(I,oe),I.email=ce=>I.check(i._email(e.ZodEmail,ce)),I.url=ce=>I.check(i._url(e.ZodURL,ce)),I.jwt=ce=>I.check(i._jwt(e.ZodJWT,ce)),I.emoji=ce=>I.check(i._emoji(e.ZodEmoji,ce)),I.guid=ce=>I.check(i._guid(e.ZodGUID,ce)),I.uuid=ce=>I.check(i._uuid(e.ZodUUID,ce)),I.uuidv4=ce=>I.check(i._uuidv4(e.ZodUUID,ce)),I.uuidv6=ce=>I.check(i._uuidv6(e.ZodUUID,ce)),I.uuidv7=ce=>I.check(i._uuidv7(e.ZodUUID,ce)),I.nanoid=ce=>I.check(i._nanoid(e.ZodNanoID,ce)),I.guid=ce=>I.check(i._guid(e.ZodGUID,ce)),I.cuid=ce=>I.check(i._cuid(e.ZodCUID,ce)),I.cuid2=ce=>I.check(i._cuid2(e.ZodCUID2,ce)),I.ulid=ce=>I.check(i._ulid(e.ZodULID,ce)),I.base64=ce=>I.check(i._base64(e.ZodBase64,ce)),I.base64url=ce=>I.check(i._base64url(e.ZodBase64URL,ce)),I.xid=ce=>I.check(i._xid(e.ZodXID,ce)),I.ksuid=ce=>I.check(i._ksuid(e.ZodKSUID,ce)),I.ipv4=ce=>I.check(i._ipv4(e.ZodIPv4,ce)),I.ipv6=ce=>I.check(i._ipv6(e.ZodIPv6,ce)),I.cidrv4=ce=>I.check(i._cidrv4(e.ZodCIDRv4,ce)),I.cidrv6=ce=>I.check(i._cidrv6(e.ZodCIDRv6,ce)),I.e164=ce=>I.check(i._e164(e.ZodE164,ce)),I.datetime=ce=>I.check(u.datetime(ce)),I.date=ce=>I.check(u.date(ce)),I.time=ce=>I.check(u.time(ce)),I.duration=ce=>I.check(u.duration(ce))});function p(I){return i._string(e.ZodString,I)}e.ZodStringFormat=i.$constructor("ZodStringFormat",(I,oe)=>{i.$ZodStringFormat.init(I,oe),e._ZodString.init(I,oe)}),e.ZodEmail=i.$constructor("ZodEmail",(I,oe)=>{i.$ZodEmail.init(I,oe),e.ZodStringFormat.init(I,oe)});function l(I){return i._email(e.ZodEmail,I)}e.ZodGUID=i.$constructor("ZodGUID",(I,oe)=>{i.$ZodGUID.init(I,oe),e.ZodStringFormat.init(I,oe)});function f(I){return i._guid(e.ZodGUID,I)}e.ZodUUID=i.$constructor("ZodUUID",(I,oe)=>{i.$ZodUUID.init(I,oe),e.ZodStringFormat.init(I,oe)});function m(I){return i._uuid(e.ZodUUID,I)}function b(I){return i._uuidv4(e.ZodUUID,I)}function S(I){return i._uuidv6(e.ZodUUID,I)}function x(I){return i._uuidv7(e.ZodUUID,I)}e.ZodURL=i.$constructor("ZodURL",(I,oe)=>{i.$ZodURL.init(I,oe),e.ZodStringFormat.init(I,oe)});function w(I){return i._url(e.ZodURL,I)}function y(I){return i._url(e.ZodURL,{protocol:/^https?$/,hostname:i.regexes.domain,...o.util.normalizeParams(I)})}e.ZodEmoji=i.$constructor("ZodEmoji",(I,oe)=>{i.$ZodEmoji.init(I,oe),e.ZodStringFormat.init(I,oe)});function _(I){return i._emoji(e.ZodEmoji,I)}e.ZodNanoID=i.$constructor("ZodNanoID",(I,oe)=>{i.$ZodNanoID.init(I,oe),e.ZodStringFormat.init(I,oe)});function P(I){return i._nanoid(e.ZodNanoID,I)}e.ZodCUID=i.$constructor("ZodCUID",(I,oe)=>{i.$ZodCUID.init(I,oe),e.ZodStringFormat.init(I,oe)});function T(I){return i._cuid(e.ZodCUID,I)}e.ZodCUID2=i.$constructor("ZodCUID2",(I,oe)=>{i.$ZodCUID2.init(I,oe),e.ZodStringFormat.init(I,oe)});function M(I){return i._cuid2(e.ZodCUID2,I)}e.ZodULID=i.$constructor("ZodULID",(I,oe)=>{i.$ZodULID.init(I,oe),e.ZodStringFormat.init(I,oe)});function N(I){return i._ulid(e.ZodULID,I)}e.ZodXID=i.$constructor("ZodXID",(I,oe)=>{i.$ZodXID.init(I,oe),e.ZodStringFormat.init(I,oe)});function O(I){return i._xid(e.ZodXID,I)}e.ZodKSUID=i.$constructor("ZodKSUID",(I,oe)=>{i.$ZodKSUID.init(I,oe),e.ZodStringFormat.init(I,oe)});function B(I){return i._ksuid(e.ZodKSUID,I)}e.ZodIPv4=i.$constructor("ZodIPv4",(I,oe)=>{i.$ZodIPv4.init(I,oe),e.ZodStringFormat.init(I,oe)});function Z(I){return i._ipv4(e.ZodIPv4,I)}e.ZodMAC=i.$constructor("ZodMAC",(I,oe)=>{i.$ZodMAC.init(I,oe),e.ZodStringFormat.init(I,oe)});function D(I){return i._mac(e.ZodMAC,I)}e.ZodIPv6=i.$constructor("ZodIPv6",(I,oe)=>{i.$ZodIPv6.init(I,oe),e.ZodStringFormat.init(I,oe)});function U(I){return i._ipv6(e.ZodIPv6,I)}e.ZodCIDRv4=i.$constructor("ZodCIDRv4",(I,oe)=>{i.$ZodCIDRv4.init(I,oe),e.ZodStringFormat.init(I,oe)});function z(I){return i._cidrv4(e.ZodCIDRv4,I)}e.ZodCIDRv6=i.$constructor("ZodCIDRv6",(I,oe)=>{i.$ZodCIDRv6.init(I,oe),e.ZodStringFormat.init(I,oe)});function G(I){return i._cidrv6(e.ZodCIDRv6,I)}e.ZodBase64=i.$constructor("ZodBase64",(I,oe)=>{i.$ZodBase64.init(I,oe),e.ZodStringFormat.init(I,oe)});function ne(I){return i._base64(e.ZodBase64,I)}e.ZodBase64URL=i.$constructor("ZodBase64URL",(I,oe)=>{i.$ZodBase64URL.init(I,oe),e.ZodStringFormat.init(I,oe)});function A(I){return i._base64url(e.ZodBase64URL,I)}e.ZodE164=i.$constructor("ZodE164",(I,oe)=>{i.$ZodE164.init(I,oe),e.ZodStringFormat.init(I,oe)});function k(I){return i._e164(e.ZodE164,I)}e.ZodJWT=i.$constructor("ZodJWT",(I,oe)=>{i.$ZodJWT.init(I,oe),e.ZodStringFormat.init(I,oe)});function j(I){return i._jwt(e.ZodJWT,I)}e.ZodCustomStringFormat=i.$constructor("ZodCustomStringFormat",(I,oe)=>{i.$ZodCustomStringFormat.init(I,oe),e.ZodStringFormat.init(I,oe)});function $(I,oe,ce={}){return i._stringFormat(e.ZodCustomStringFormat,I,oe,ce)}function F(I){return i._stringFormat(e.ZodCustomStringFormat,"hostname",i.regexes.hostname,I)}function R(I){return i._stringFormat(e.ZodCustomStringFormat,"hex",i.regexes.hex,I)}function W(I,oe){const ce=(oe==null?void 0:oe.enc)??"hex",be=`${I}_${ce}`,Ee=i.regexes[be];if(!Ee)throw new Error(`Unrecognized hash format: ${be}`);return i._stringFormat(e.ZodCustomStringFormat,be,Ee,oe)}e.ZodNumber=i.$constructor("ZodNumber",(I,oe)=>{i.$ZodNumber.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(be,Ee,Tt)=>s.numberProcessor(I,be,Ee,Tt),I.gt=(be,Ee)=>I.check(c.gt(be,Ee)),I.gte=(be,Ee)=>I.check(c.gte(be,Ee)),I.min=(be,Ee)=>I.check(c.gte(be,Ee)),I.lt=(be,Ee)=>I.check(c.lt(be,Ee)),I.lte=(be,Ee)=>I.check(c.lte(be,Ee)),I.max=(be,Ee)=>I.check(c.lte(be,Ee)),I.int=be=>I.check(te(be)),I.safe=be=>I.check(te(be)),I.positive=be=>I.check(c.gt(0,be)),I.nonnegative=be=>I.check(c.gte(0,be)),I.negative=be=>I.check(c.lt(0,be)),I.nonpositive=be=>I.check(c.lte(0,be)),I.multipleOf=(be,Ee)=>I.check(c.multipleOf(be,Ee)),I.step=(be,Ee)=>I.check(c.multipleOf(be,Ee)),I.finite=()=>I;const ce=I._zod.bag;I.minValue=Math.max(ce.minimum??Number.NEGATIVE_INFINITY,ce.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,I.maxValue=Math.min(ce.maximum??Number.POSITIVE_INFINITY,ce.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,I.isInt=(ce.format??"").includes("int")||Number.isSafeInteger(ce.multipleOf??.5),I.isFinite=!0,I.format=ce.format??null});function Y(I){return i._number(e.ZodNumber,I)}e.ZodNumberFormat=i.$constructor("ZodNumberFormat",(I,oe)=>{i.$ZodNumberFormat.init(I,oe),e.ZodNumber.init(I,oe)});function te(I){return i._int(e.ZodNumberFormat,I)}function ie(I){return i._float32(e.ZodNumberFormat,I)}function J(I){return i._float64(e.ZodNumberFormat,I)}function ee(I){return i._int32(e.ZodNumberFormat,I)}function Q(I){return i._uint32(e.ZodNumberFormat,I)}e.ZodBoolean=i.$constructor("ZodBoolean",(I,oe)=>{i.$ZodBoolean.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.booleanProcessor(I,ce,be,Ee)});function he(I){return i._boolean(e.ZodBoolean,I)}e.ZodBigInt=i.$constructor("ZodBigInt",(I,oe)=>{i.$ZodBigInt.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(be,Ee,Tt)=>s.bigintProcessor(I,be,Ee,Tt),I.gte=(be,Ee)=>I.check(c.gte(be,Ee)),I.min=(be,Ee)=>I.check(c.gte(be,Ee)),I.gt=(be,Ee)=>I.check(c.gt(be,Ee)),I.gte=(be,Ee)=>I.check(c.gte(be,Ee)),I.min=(be,Ee)=>I.check(c.gte(be,Ee)),I.lt=(be,Ee)=>I.check(c.lt(be,Ee)),I.lte=(be,Ee)=>I.check(c.lte(be,Ee)),I.max=(be,Ee)=>I.check(c.lte(be,Ee)),I.positive=be=>I.check(c.gt(BigInt(0),be)),I.negative=be=>I.check(c.lt(BigInt(0),be)),I.nonpositive=be=>I.check(c.lte(BigInt(0),be)),I.nonnegative=be=>I.check(c.gte(BigInt(0),be)),I.multipleOf=(be,Ee)=>I.check(c.multipleOf(be,Ee));const ce=I._zod.bag;I.minValue=ce.minimum??null,I.maxValue=ce.maximum??null,I.format=ce.format??null});function ge(I){return i._bigint(e.ZodBigInt,I)}e.ZodBigIntFormat=i.$constructor("ZodBigIntFormat",(I,oe)=>{i.$ZodBigIntFormat.init(I,oe),e.ZodBigInt.init(I,oe)});function ye(I){return i._int64(e.ZodBigIntFormat,I)}function _e(I){return i._uint64(e.ZodBigIntFormat,I)}e.ZodSymbol=i.$constructor("ZodSymbol",(I,oe)=>{i.$ZodSymbol.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.symbolProcessor(I,ce,be,Ee)});function H(I){return i._symbol(e.ZodSymbol,I)}e.ZodUndefined=i.$constructor("ZodUndefined",(I,oe)=>{i.$ZodUndefined.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.undefinedProcessor(I,ce,be,Ee)});function Se(I){return i._undefined(e.ZodUndefined,I)}e.ZodNull=i.$constructor("ZodNull",(I,oe)=>{i.$ZodNull.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.nullProcessor(I,ce,be,Ee)});function Ce(I){return i._null(e.ZodNull,I)}e.ZodAny=i.$constructor("ZodAny",(I,oe)=>{i.$ZodAny.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.anyProcessor(I,ce,be,Ee)});function se(){return i._any(e.ZodAny)}e.ZodUnknown=i.$constructor("ZodUnknown",(I,oe)=>{i.$ZodUnknown.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.unknownProcessor(I,ce,be,Ee)});function ae(){return i._unknown(e.ZodUnknown)}e.ZodNever=i.$constructor("ZodNever",(I,oe)=>{i.$ZodNever.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.neverProcessor(I,ce,be,Ee)});function xe(I){return i._never(e.ZodNever,I)}e.ZodVoid=i.$constructor("ZodVoid",(I,oe)=>{i.$ZodVoid.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.voidProcessor(I,ce,be,Ee)});function $e(I){return i._void(e.ZodVoid,I)}e.ZodDate=i.$constructor("ZodDate",(I,oe)=>{i.$ZodDate.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(be,Ee,Tt)=>s.dateProcessor(I,be,Ee,Tt),I.min=(be,Ee)=>I.check(c.gte(be,Ee)),I.max=(be,Ee)=>I.check(c.lte(be,Ee));const ce=I._zod.bag;I.minDate=ce.minimum?new Date(ce.minimum):null,I.maxDate=ce.maximum?new Date(ce.maximum):null});function ue(I){return i._date(e.ZodDate,I)}e.ZodArray=i.$constructor("ZodArray",(I,oe)=>{i.$ZodArray.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.arrayProcessor(I,ce,be,Ee),I.element=oe.element,I.min=(ce,be)=>I.check(c.minLength(ce,be)),I.nonempty=ce=>I.check(c.minLength(1,ce)),I.max=(ce,be)=>I.check(c.maxLength(ce,be)),I.length=(ce,be)=>I.check(c.length(ce,be)),I.unwrap=()=>I.element});function V(I,oe){return i._array(e.ZodArray,I,oe)}function me(I){const oe=I._zod.def.shape;return Nr(Object.keys(oe))}e.ZodObject=i.$constructor("ZodObject",(I,oe)=>{i.$ZodObjectJIT.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.objectProcessor(I,ce,be,Ee),o.util.defineLazy(I,"shape",()=>oe.shape),I.keyof=()=>Nr(Object.keys(I._zod.def.shape)),I.catchall=ce=>I.clone({...I._zod.def,catchall:ce}),I.passthrough=()=>I.clone({...I._zod.def,catchall:ae()}),I.loose=()=>I.clone({...I._zod.def,catchall:ae()}),I.strict=()=>I.clone({...I._zod.def,catchall:xe()}),I.strip=()=>I.clone({...I._zod.def,catchall:void 0}),I.extend=ce=>o.util.extend(I,ce),I.safeExtend=ce=>o.util.safeExtend(I,ce),I.merge=ce=>o.util.merge(I,ce),I.pick=ce=>o.util.pick(I,ce),I.omit=ce=>o.util.omit(I,ce),I.partial=(...ce)=>o.util.partial(e.ZodOptional,I,ce[0]),I.required=(...ce)=>o.util.required(e.ZodNonOptional,I,ce[0])});function pe(I,oe){const ce={type:"object",shape:I??{},...o.util.normalizeParams(oe)};return new e.ZodObject(ce)}function ke(I,oe){return new e.ZodObject({type:"object",shape:I,catchall:xe(),...o.util.normalizeParams(oe)})}function Ie(I,oe){return new e.ZodObject({type:"object",shape:I,catchall:ae(),...o.util.normalizeParams(oe)})}e.ZodUnion=i.$constructor("ZodUnion",(I,oe)=>{i.$ZodUnion.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.unionProcessor(I,ce,be,Ee),I.options=oe.options});function Re(I,oe){return new e.ZodUnion({type:"union",options:I,...o.util.normalizeParams(oe)})}e.ZodXor=i.$constructor("ZodXor",(I,oe)=>{e.ZodUnion.init(I,oe),i.$ZodXor.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.unionProcessor(I,ce,be,Ee),I.options=oe.options});function Be(I,oe){return new e.ZodXor({type:"union",options:I,inclusive:!1,...o.util.normalizeParams(oe)})}e.ZodDiscriminatedUnion=i.$constructor("ZodDiscriminatedUnion",(I,oe)=>{e.ZodUnion.init(I,oe),i.$ZodDiscriminatedUnion.init(I,oe)});function ot(I,oe,ce){return new e.ZodDiscriminatedUnion({type:"union",options:oe,discriminator:I,...o.util.normalizeParams(ce)})}e.ZodIntersection=i.$constructor("ZodIntersection",(I,oe)=>{i.$ZodIntersection.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.intersectionProcessor(I,ce,be,Ee)});function st(I,oe){return new e.ZodIntersection({type:"intersection",left:I,right:oe})}e.ZodTuple=i.$constructor("ZodTuple",(I,oe)=>{i.$ZodTuple.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.tupleProcessor(I,ce,be,Ee),I.rest=ce=>I.clone({...I._zod.def,rest:ce})});function pt(I,oe,ce){const be=oe instanceof i.$ZodType,Ee=be?ce:oe,Tt=be?oe:null;return new e.ZodTuple({type:"tuple",items:I,rest:Tt,...o.util.normalizeParams(Ee)})}e.ZodRecord=i.$constructor("ZodRecord",(I,oe)=>{i.$ZodRecord.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.recordProcessor(I,ce,be,Ee),I.keyType=oe.keyType,I.valueType=oe.valueType});function Rt(I,oe,ce){return new e.ZodRecord({type:"record",keyType:I,valueType:oe,...o.util.normalizeParams(ce)})}function St(I,oe,ce){const be=i.clone(I);return be._zod.values=void 0,new e.ZodRecord({type:"record",keyType:be,valueType:oe,...o.util.normalizeParams(ce)})}function or(I,oe,ce){return new e.ZodRecord({type:"record",keyType:I,valueType:oe,mode:"loose",...o.util.normalizeParams(ce)})}e.ZodMap=i.$constructor("ZodMap",(I,oe)=>{i.$ZodMap.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.mapProcessor(I,ce,be,Ee),I.keyType=oe.keyType,I.valueType=oe.valueType,I.min=(...ce)=>I.check(i._minSize(...ce)),I.nonempty=ce=>I.check(i._minSize(1,ce)),I.max=(...ce)=>I.check(i._maxSize(...ce)),I.size=(...ce)=>I.check(i._size(...ce))});function Tr(I,oe,ce){return new e.ZodMap({type:"map",keyType:I,valueType:oe,...o.util.normalizeParams(ce)})}e.ZodSet=i.$constructor("ZodSet",(I,oe)=>{i.$ZodSet.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.setProcessor(I,ce,be,Ee),I.min=(...ce)=>I.check(i._minSize(...ce)),I.nonempty=ce=>I.check(i._minSize(1,ce)),I.max=(...ce)=>I.check(i._maxSize(...ce)),I.size=(...ce)=>I.check(i._size(...ce))});function rr(I,oe){return new e.ZodSet({type:"set",valueType:I,...o.util.normalizeParams(oe)})}e.ZodEnum=i.$constructor("ZodEnum",(I,oe)=>{i.$ZodEnum.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(be,Ee,Tt)=>s.enumProcessor(I,be,Ee,Tt),I.enum=oe.entries,I.options=Object.values(oe.entries);const ce=new Set(Object.keys(oe.entries));I.extract=(be,Ee)=>{const Tt={};for(const Lt of be)if(ce.has(Lt))Tt[Lt]=oe.entries[Lt];else throw new Error(`Key ${Lt} not found in enum`);return new e.ZodEnum({...oe,checks:[],...o.util.normalizeParams(Ee),entries:Tt})},I.exclude=(be,Ee)=>{const Tt={...oe.entries};for(const Lt of be)if(ce.has(Lt))delete Tt[Lt];else throw new Error(`Key ${Lt} not found in enum`);return new e.ZodEnum({...oe,checks:[],...o.util.normalizeParams(Ee),entries:Tt})}});function Nr(I,oe){const ce=Array.isArray(I)?Object.fromEntries(I.map(be=>[be,be])):I;return new e.ZodEnum({type:"enum",entries:ce,...o.util.normalizeParams(oe)})}function pn(I,oe){return new e.ZodEnum({type:"enum",entries:I,...o.util.normalizeParams(oe)})}e.ZodLiteral=i.$constructor("ZodLiteral",(I,oe)=>{i.$ZodLiteral.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.literalProcessor(I,ce,be,Ee),I.values=new Set(oe.values),Object.defineProperty(I,"value",{get(){if(oe.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return oe.values[0]}})});function Qn(I,oe){return new e.ZodLiteral({type:"literal",values:Array.isArray(I)?I:[I],...o.util.normalizeParams(oe)})}e.ZodFile=i.$constructor("ZodFile",(I,oe)=>{i.$ZodFile.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.fileProcessor(I,ce,be,Ee),I.min=(ce,be)=>I.check(i._minSize(ce,be)),I.max=(ce,be)=>I.check(i._maxSize(ce,be)),I.mime=(ce,be)=>I.check(i._mime(Array.isArray(ce)?ce:[ce],be))});function ui(I){return i._file(e.ZodFile,I)}e.ZodTransform=i.$constructor("ZodTransform",(I,oe)=>{i.$ZodTransform.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.transformProcessor(I,ce,be,Ee),I._zod.parse=(ce,be)=>{if(be.direction==="backward")throw new i.$ZodEncodeError(I.constructor.name);ce.addIssue=Tt=>{if(typeof Tt=="string")ce.issues.push(o.util.issue(Tt,ce.value,oe));else{const Lt=Tt;Lt.fatal&&(Lt.continue=!1),Lt.code??(Lt.code="custom"),Lt.input??(Lt.input=ce.value),Lt.inst??(Lt.inst=I),ce.issues.push(o.util.issue(Lt))}};const Ee=oe.transform(ce.value,ce);return Ee instanceof Promise?Ee.then(Tt=>(ce.value=Tt,ce)):(ce.value=Ee,ce)}});function En(I){return new e.ZodTransform({type:"transform",transform:I})}e.ZodOptional=i.$constructor("ZodOptional",(I,oe)=>{i.$ZodOptional.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.optionalProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function Fr(I){return new e.ZodOptional({type:"optional",innerType:I})}e.ZodExactOptional=i.$constructor("ZodExactOptional",(I,oe)=>{i.$ZodExactOptional.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.optionalProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function mn(I){return new e.ZodExactOptional({type:"optional",innerType:I})}e.ZodNullable=i.$constructor("ZodNullable",(I,oe)=>{i.$ZodNullable.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.nullableProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function ea(I){return new e.ZodNullable({type:"nullable",innerType:I})}function Bi(I){return Fr(ea(I))}e.ZodDefault=i.$constructor("ZodDefault",(I,oe)=>{i.$ZodDefault.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.defaultProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType,I.removeDefault=I.unwrap});function gn(I,oe){return new e.ZodDefault({type:"default",innerType:I,get defaultValue(){return typeof oe=="function"?oe():o.util.shallowClone(oe)}})}e.ZodPrefault=i.$constructor("ZodPrefault",(I,oe)=>{i.$ZodPrefault.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.prefaultProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function Ia(I,oe){return new e.ZodPrefault({type:"prefault",innerType:I,get defaultValue(){return typeof oe=="function"?oe():o.util.shallowClone(oe)}})}e.ZodNonOptional=i.$constructor("ZodNonOptional",(I,oe)=>{i.$ZodNonOptional.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.nonoptionalProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function di(I,oe){return new e.ZodNonOptional({type:"nonoptional",innerType:I,...o.util.normalizeParams(oe)})}e.ZodSuccess=i.$constructor("ZodSuccess",(I,oe)=>{i.$ZodSuccess.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.successProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function Ui(I){return new e.ZodSuccess({type:"success",innerType:I})}e.ZodCatch=i.$constructor("ZodCatch",(I,oe)=>{i.$ZodCatch.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.catchProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType,I.removeCatch=I.unwrap});function Vi(I,oe){return new e.ZodCatch({type:"catch",innerType:I,catchValue:typeof oe=="function"?oe:()=>oe})}e.ZodNaN=i.$constructor("ZodNaN",(I,oe)=>{i.$ZodNaN.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.nanProcessor(I,ce,be,Ee)});function _s(I){return i._nan(e.ZodNaN,I)}e.ZodPipe=i.$constructor("ZodPipe",(I,oe)=>{i.$ZodPipe.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.pipeProcessor(I,ce,be,Ee),I.in=oe.in,I.out=oe.out});function Ta(I,oe){return new e.ZodPipe({type:"pipe",in:I,out:oe})}e.ZodCodec=i.$constructor("ZodCodec",(I,oe)=>{e.ZodPipe.init(I,oe),i.$ZodCodec.init(I,oe)});function Wi(I,oe,ce){return new e.ZodCodec({type:"pipe",in:I,out:oe,transform:ce.decode,reverseTransform:ce.encode})}e.ZodReadonly=i.$constructor("ZodReadonly",(I,oe)=>{i.$ZodReadonly.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.readonlyProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function Na(I){return new e.ZodReadonly({type:"readonly",innerType:I})}e.ZodTemplateLiteral=i.$constructor("ZodTemplateLiteral",(I,oe)=>{i.$ZodTemplateLiteral.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.templateLiteralProcessor(I,ce,be,Ee)});function js(I,oe){return new e.ZodTemplateLiteral({type:"template_literal",parts:I,...o.util.normalizeParams(oe)})}e.ZodLazy=i.$constructor("ZodLazy",(I,oe)=>{i.$ZodLazy.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.lazyProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.getter()});function Hi(I){return new e.ZodLazy({type:"lazy",getter:I})}e.ZodPromise=i.$constructor("ZodPromise",(I,oe)=>{i.$ZodPromise.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.promiseProcessor(I,ce,be,Ee),I.unwrap=()=>I._zod.def.innerType});function Ea(I){return new e.ZodPromise({type:"promise",innerType:I})}e.ZodFunction=i.$constructor("ZodFunction",(I,oe)=>{i.$ZodFunction.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.functionProcessor(I,ce,be,Ee)});function za(I){return new e.ZodFunction({type:"function",input:Array.isArray(I==null?void 0:I.input)?pt(I==null?void 0:I.input):(I==null?void 0:I.input)??V(ae()),output:(I==null?void 0:I.output)??ae()})}e.ZodCustom=i.$constructor("ZodCustom",(I,oe)=>{i.$ZodCustom.init(I,oe),e.ZodType.init(I,oe),I._zod.processJSONSchema=(ce,be,Ee)=>s.customProcessor(I,ce,be,Ee)});function Ps(I){const oe=new i.$ZodCheck({check:"custom"});return oe._zod.check=I,oe}function $s(I,oe){return i._custom(e.ZodCustom,I??(()=>!0),oe)}function Gi(I,oe={}){return i._refine(e.ZodCustom,I,oe)}function Zi(I){return i._superRefine(I)}e.describe=i.describe,e.meta=i.meta;function Is(I,oe={}){const ce=new e.ZodCustom({type:"custom",check:"custom",fn:be=>be instanceof I,abort:!0,...o.util.normalizeParams(oe)});return ce._zod.bag.Class=I,ce._zod.check=be=>{be.value instanceof I||be.issues.push({code:"invalid_type",expected:I.name,input:be.value,inst:ce,path:[...ce._zod.def.path??[]]})},ce}const Ts=(...I)=>i._stringbool({Codec:e.ZodCodec,Boolean:e.ZodBoolean,String:e.ZodString},...I);e.stringbool=Ts;function Ns(I){const oe=Hi(()=>Re([p(I),Y(),he(),Ce(),V(oe),Rt(p(),oe)]));return oe}function Es(I,oe){return Ta(En(I),oe)}})(ga)),ga}var ba={},Qw;function HF(){return Qw||(Qw=1,(function(e){var t=ba&&ba.__createBinding||(Object.create?(function(u,h,p,l){l===void 0&&(l=p);var f=Object.getOwnPropertyDescriptor(h,p);(!f||("get"in f?!h.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(u,l,f)}):(function(u,h,p,l){l===void 0&&(l=p),u[l]=h[p]})),r=ba&&ba.__setModuleDefault||(Object.create?(function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}):function(u,h){u.default=h}),n=ba&&ba.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&t(h,u,p);return r(h,u),h};Object.defineProperty(e,"__esModule",{value:!0}),e.ZodFirstPartyTypeKind=e.config=e.$brand=e.ZodIssueCode=void 0,e.setErrorMap=s,e.getErrorMap=d;const i=n(Jr());e.ZodIssueCode={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};var o=Jr();Object.defineProperty(e,"$brand",{enumerable:!0,get:function(){return o.$brand}}),Object.defineProperty(e,"config",{enumerable:!0,get:function(){return o.config}});function s(u){i.config({customError:u})}function d(){return i.config().customError}var c;c||(e.ZodFirstPartyTypeKind=c={})})(ba)),ba}var Zn={},e1;function GF(){if(e1)return Zn;e1=1;var e=Zn&&Zn.__createBinding||(Object.create?(function(m,b,S,x){x===void 0&&(x=S);var w=Object.getOwnPropertyDescriptor(b,S);(!w||("get"in w?!b.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return b[S]}}),Object.defineProperty(m,x,w)}):(function(m,b,S,x){x===void 0&&(x=S),m[x]=b[S]})),t=Zn&&Zn.__setModuleDefault||(Object.create?(function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}):function(m,b){m.default=b}),r=Zn&&Zn.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var S in m)S!=="default"&&Object.prototype.hasOwnProperty.call(m,S)&&e(b,m,S);return t(b,m),b};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.fromJSONSchema=f;const n=gh(),i=r(H0()),o=r(ih()),d={...r(yh()),...i,iso:o},c=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function u(m,b){const S=m.$schema;return S==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":S==="http://json-schema.org/draft-07/schema#"?"draft-7":S==="http://json-schema.org/draft-04/schema#"?"draft-4":b??"draft-2020-12"}function h(m,b){if(!m.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const S=m.slice(1).split("/").filter(Boolean);if(S.length===0)return b.rootSchema;const x=b.version==="draft-2020-12"?"$defs":"definitions";if(S[0]===x){const w=S[1];if(!w||!b.defs[w])throw new Error(`Reference not found: ${m}`);return b.defs[w]}throw new Error(`Reference not found: ${m}`)}function p(m,b){if(m.not!==void 0){if(typeof m.not=="object"&&Object.keys(m.not).length===0)return d.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(m.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(m.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(m.if!==void 0||m.then!==void 0||m.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(m.dependentSchemas!==void 0||m.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(m.$ref){const w=m.$ref;if(b.refs.has(w))return b.refs.get(w);if(b.processing.has(w))return d.lazy(()=>{if(!b.refs.has(w))throw new Error(`Circular reference not resolved: ${w}`);return b.refs.get(w)});b.processing.add(w);const y=h(w,b),_=l(y,b);return b.refs.set(w,_),b.processing.delete(w),_}if(m.enum!==void 0){const w=m.enum;if(b.version==="openapi-3.0"&&m.nullable===!0&&w.length===1&&w[0]===null)return d.null();if(w.length===0)return d.never();if(w.length===1)return d.literal(w[0]);if(w.every(_=>typeof _=="string"))return d.enum(w);const y=w.map(_=>d.literal(_));return y.length<2?y[0]:d.union([y[0],y[1],...y.slice(2)])}if(m.const!==void 0)return d.literal(m.const);const S=m.type;if(Array.isArray(S)){const w=S.map(y=>{const _={...m,type:y};return p(_,b)});return w.length===0?d.never():w.length===1?w[0]:d.union(w)}if(!S)return d.any();let x;switch(S){case"string":{let w=d.string();if(m.format){const y=m.format;y==="email"?w=w.check(d.email()):y==="uri"||y==="uri-reference"?w=w.check(d.url()):y==="uuid"||y==="guid"?w=w.check(d.uuid()):y==="date-time"?w=w.check(d.iso.datetime()):y==="date"?w=w.check(d.iso.date()):y==="time"?w=w.check(d.iso.time()):y==="duration"?w=w.check(d.iso.duration()):y==="ipv4"?w=w.check(d.ipv4()):y==="ipv6"?w=w.check(d.ipv6()):y==="mac"?w=w.check(d.mac()):y==="cidr"?w=w.check(d.cidrv4()):y==="cidr-v6"?w=w.check(d.cidrv6()):y==="base64"?w=w.check(d.base64()):y==="base64url"?w=w.check(d.base64url()):y==="e164"?w=w.check(d.e164()):y==="jwt"?w=w.check(d.jwt()):y==="emoji"?w=w.check(d.emoji()):y==="nanoid"?w=w.check(d.nanoid()):y==="cuid"?w=w.check(d.cuid()):y==="cuid2"?w=w.check(d.cuid2()):y==="ulid"?w=w.check(d.ulid()):y==="xid"?w=w.check(d.xid()):y==="ksuid"&&(w=w.check(d.ksuid()))}typeof m.minLength=="number"&&(w=w.min(m.minLength)),typeof m.maxLength=="number"&&(w=w.max(m.maxLength)),m.pattern&&(w=w.regex(new RegExp(m.pattern))),x=w;break}case"number":case"integer":{let w=S==="integer"?d.number().int():d.number();typeof m.minimum=="number"&&(w=w.min(m.minimum)),typeof m.maximum=="number"&&(w=w.max(m.maximum)),typeof m.exclusiveMinimum=="number"?w=w.gt(m.exclusiveMinimum):m.exclusiveMinimum===!0&&typeof m.minimum=="number"&&(w=w.gt(m.minimum)),typeof m.exclusiveMaximum=="number"?w=w.lt(m.exclusiveMaximum):m.exclusiveMaximum===!0&&typeof m.maximum=="number"&&(w=w.lt(m.maximum)),typeof m.multipleOf=="number"&&(w=w.multipleOf(m.multipleOf)),x=w;break}case"boolean":{x=d.boolean();break}case"null":{x=d.null();break}case"object":{const w={},y=m.properties||{},_=new Set(m.required||[]);for(const[T,M]of Object.entries(y)){const N=l(M,b);w[T]=_.has(T)?N:N.optional()}if(m.propertyNames){const T=l(m.propertyNames,b),M=m.additionalProperties&&typeof m.additionalProperties=="object"?l(m.additionalProperties,b):d.any();if(Object.keys(w).length===0){x=d.record(T,M);break}const N=d.object(w).passthrough(),O=d.looseRecord(T,M);x=d.intersection(N,O);break}if(m.patternProperties){const T=m.patternProperties,M=Object.keys(T),N=[];for(const B of M){const Z=l(T[B],b),D=d.string().regex(new RegExp(B));N.push(d.looseRecord(D,Z))}const O=[];if(Object.keys(w).length>0&&O.push(d.object(w).passthrough()),O.push(...N),O.length===0)x=d.object({}).passthrough();else if(O.length===1)x=O[0];else{let B=d.intersection(O[0],O[1]);for(let Z=2;Z<O.length;Z++)B=d.intersection(B,O[Z]);x=B}break}const P=d.object(w);m.additionalProperties===!1?x=P.strict():typeof m.additionalProperties=="object"?x=P.catchall(l(m.additionalProperties,b)):x=P.passthrough();break}case"array":{const w=m.prefixItems,y=m.items;if(w&&Array.isArray(w)){const _=w.map(T=>l(T,b)),P=y&&typeof y=="object"&&!Array.isArray(y)?l(y,b):void 0;P?x=d.tuple(_).rest(P):x=d.tuple(_),typeof m.minItems=="number"&&(x=x.check(d.minLength(m.minItems))),typeof m.maxItems=="number"&&(x=x.check(d.maxLength(m.maxItems)))}else if(Array.isArray(y)){const _=y.map(T=>l(T,b)),P=m.additionalItems&&typeof m.additionalItems=="object"?l(m.additionalItems,b):void 0;P?x=d.tuple(_).rest(P):x=d.tuple(_),typeof m.minItems=="number"&&(x=x.check(d.minLength(m.minItems))),typeof m.maxItems=="number"&&(x=x.check(d.maxLength(m.maxItems)))}else if(y!==void 0){const _=l(y,b);let P=d.array(_);typeof m.minItems=="number"&&(P=P.min(m.minItems)),typeof m.maxItems=="number"&&(P=P.max(m.maxItems)),x=P}else x=d.array(d.any());break}default:throw new Error(`Unsupported type: ${S}`)}return m.description&&(x=x.describe(m.description)),m.default!==void 0&&(x=x.default(m.default)),x}function l(m,b){if(typeof m=="boolean")return m?d.any():d.never();let S=p(m,b);const x=m.type||m.enum!==void 0||m.const!==void 0;if(m.anyOf&&Array.isArray(m.anyOf)){const P=m.anyOf.map(M=>l(M,b)),T=d.union(P);S=x?d.intersection(S,T):T}if(m.oneOf&&Array.isArray(m.oneOf)){const P=m.oneOf.map(M=>l(M,b)),T=d.xor(P);S=x?d.intersection(S,T):T}if(m.allOf&&Array.isArray(m.allOf))if(m.allOf.length===0)S=x?S:d.any();else{let P=x?S:l(m.allOf[0],b);const T=x?0:1;for(let M=T;M<m.allOf.length;M++)P=d.intersection(P,l(m.allOf[M],b));S=P}m.nullable===!0&&b.version==="openapi-3.0"&&(S=d.nullable(S)),m.readOnly===!0&&(S=d.readonly(S));const w={},y=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(const P of y)P in m&&(w[P]=m[P]);const _=["contentEncoding","contentMediaType","contentSchema"];for(const P of _)P in m&&(w[P]=m[P]);for(const P of Object.keys(m))c.has(P)||(w[P]=m[P]);return Object.keys(w).length>0&&b.registry.add(S,w),S}function f(m,b){if(typeof m=="boolean")return m?d.any():d.never();const S=u(m,b==null?void 0:b.defaultTarget),x=m.$defs||m.definitions||{},w={version:S,defs:x,refs:new Map,processing:new Set,rootSchema:m,registry:(b==null?void 0:b.registry)??n.globalRegistry};return l(m,w)}return Zn}var Br={},t1;function ZF(){if(t1)return Br;t1=1;var e=Br&&Br.__createBinding||(Object.create?(function(h,p,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(p,l);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[l]}}),Object.defineProperty(h,f,m)}):(function(h,p,l,f){f===void 0&&(f=l),h[f]=p[l]})),t=Br&&Br.__setModuleDefault||(Object.create?(function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}):function(h,p){h.default=p}),r=Br&&Br.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var l in h)l!=="default"&&Object.prototype.hasOwnProperty.call(h,l)&&e(p,h,l);return t(p,h),p};Object.defineProperty(Br,"__esModule",{value:!0}),Br.string=o,Br.number=s,Br.boolean=d,Br.bigint=c,Br.date=u;const n=r(Jr()),i=r(yh());function o(h){return n._coercedString(i.ZodString,h)}function s(h){return n._coercedNumber(i.ZodNumber,h)}function d(h){return n._coercedBoolean(i.ZodBoolean,h)}function c(h){return n._coercedBigint(i.ZodBigInt,h)}function u(h){return n._coercedDate(i.ZodDate,h)}return Br}var r1;function n1(){return r1||(r1=1,(function(e){var t=Xr&&Xr.__createBinding||(Object.create?(function(l,f,m,b){b===void 0&&(b=m);var S=Object.getOwnPropertyDescriptor(f,m);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[m]}}),Object.defineProperty(l,b,S)}):(function(l,f,m,b){b===void 0&&(b=m),l[b]=f[m]})),r=Xr&&Xr.__setModuleDefault||(Object.create?(function(l,f){Object.defineProperty(l,"default",{enumerable:!0,value:f})}):function(l,f){l.default=f}),n=Xr&&Xr.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m in l)m!=="default"&&Object.prototype.hasOwnProperty.call(l,m)&&t(f,l,m);return r(f,l),f},i=Xr&&Xr.__exportStar||function(l,f){for(var m in l)m!=="default"&&!Object.prototype.hasOwnProperty.call(f,m)&&t(f,l,m)},o=Xr&&Xr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.coerce=e.iso=e.ZodISODuration=e.ZodISOTime=e.ZodISODate=e.ZodISODateTime=e.locales=e.fromJSONSchema=e.toJSONSchema=e.NEVER=e.util=e.TimePrecision=e.flattenError=e.formatError=e.prettifyError=e.treeifyError=e.regexes=e.clone=e.$brand=e.$input=e.$output=e.config=e.registry=e.globalRegistry=e.core=void 0,e.core=n(Jr()),i(yh(),e),i(H0(),e),i(xj(),e),i(wj(),e),i(HF(),e);const s=Jr(),d=o(gj());(0,s.config)((0,d.default)());var c=Jr();Object.defineProperty(e,"globalRegistry",{enumerable:!0,get:function(){return c.globalRegistry}}),Object.defineProperty(e,"registry",{enumerable:!0,get:function(){return c.registry}}),Object.defineProperty(e,"config",{enumerable:!0,get:function(){return c.config}}),Object.defineProperty(e,"$output",{enumerable:!0,get:function(){return c.$output}}),Object.defineProperty(e,"$input",{enumerable:!0,get:function(){return c.$input}}),Object.defineProperty(e,"$brand",{enumerable:!0,get:function(){return c.$brand}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return c.clone}}),Object.defineProperty(e,"regexes",{enumerable:!0,get:function(){return c.regexes}}),Object.defineProperty(e,"treeifyError",{enumerable:!0,get:function(){return c.treeifyError}}),Object.defineProperty(e,"prettifyError",{enumerable:!0,get:function(){return c.prettifyError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return c.formatError}}),Object.defineProperty(e,"flattenError",{enumerable:!0,get:function(){return c.flattenError}}),Object.defineProperty(e,"TimePrecision",{enumerable:!0,get:function(){return c.TimePrecision}}),Object.defineProperty(e,"util",{enumerable:!0,get:function(){return c.util}}),Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return c.NEVER}});var u=bh();Object.defineProperty(e,"toJSONSchema",{enumerable:!0,get:function(){return u.toJSONSchema}});var h=GF();Object.defineProperty(e,"fromJSONSchema",{enumerable:!0,get:function(){return h.fromJSONSchema}}),e.locales=n(yj());var p=ih();Object.defineProperty(e,"ZodISODateTime",{enumerable:!0,get:function(){return p.ZodISODateTime}}),Object.defineProperty(e,"ZodISODate",{enumerable:!0,get:function(){return p.ZodISODate}}),Object.defineProperty(e,"ZodISOTime",{enumerable:!0,get:function(){return p.ZodISOTime}}),Object.defineProperty(e,"ZodISODuration",{enumerable:!0,get:function(){return p.ZodISODuration}}),e.iso=n(ih()),e.coerce=n(ZF())})(Xr)),Xr}var a1;function qF(){return a1||(a1=1,(function(e){var t=Sn&&Sn.__createBinding||(Object.create?(function(s,d,c,u){u===void 0&&(u=c);var h=Object.getOwnPropertyDescriptor(d,c);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[c]}}),Object.defineProperty(s,u,h)}):(function(s,d,c,u){u===void 0&&(u=c),s[u]=d[c]})),r=Sn&&Sn.__setModuleDefault||(Object.create?(function(s,d){Object.defineProperty(s,"default",{enumerable:!0,value:d})}):function(s,d){s.default=d}),n=Sn&&Sn.__importStar||function(s){if(s&&s.__esModule)return s;var d={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(d,s,c);return r(d,s),d},i=Sn&&Sn.__exportStar||function(s,d){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(d,c)&&t(d,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const o=n(n1());e.z=o,i(n1(),e),e.default=o})(Sn)),Sn}var i1;function XF(){if(i1)return Id;i1=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.generateError=r;const e=Ss(),t=qF();function r(n,i){if(n instanceof t.z.ZodError){const o=(0,e.generateErrorMessage)(n.issues,i);return new Error(o)}return n instanceof Error?n:new Error("Unknown error")}return Id}var ns={},o1;function YF(){if(o1)return ns;o1=1;var e=ns&&ns.__awaiter||function(n,i,o,s){function d(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function h(f){try{l(s.next(f))}catch(m){u(m)}}function p(f){try{l(s.throw(f))}catch(m){u(m)}}function l(f){f.done?c(f.value):d(f.value).then(h,p)}l((s=s.apply(n,i||[])).next())})};Object.defineProperty(ns,"__esModule",{value:!0}),ns.parseAsync=r;const t=Ss();function r(n,i,o){return e(this,void 0,void 0,function*(){const s=yield n.safeParseAsync(i);if(!s.success){const d=(0,t.generateErrorMessage)(s.error.issues,o);throw new Error(d)}return s.data})}return ns}var Td={},s1;function KF(){if(s1)return Td;s1=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.parse=t;const e=Ss();function t(r,n,i){const o=r.safeParse(n);if(!o.success){const s=(0,e.generateErrorMessage)(o.error.issues,i);throw new Error(s)}return o.data}return Td}var as={},l1;function JF(){if(l1)return as;l1=1;var e=as&&as.__awaiter||function(n,i,o,s){function d(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function h(f){try{l(s.next(f))}catch(m){u(m)}}function p(f){try{l(s.throw(f))}catch(m){u(m)}}function l(f){f.done?c(f.value):d(f.value).then(h,p)}l((s=s.apply(n,i||[])).next())})};Object.defineProperty(as,"__esModule",{value:!0}),as.safeParseAsync=r;const t=Ss();function r(n,i,o){return e(this,void 0,void 0,function*(){const s=yield n.safeParseAsync(i);return s.success?{success:!0,data:s.data}:{success:!1,error:{message:(0,t.generateErrorMessage)(s.error.issues,o)}}})}return as}var Nd={},c1;function QF(){if(c1)return Nd;c1=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.safeParse=t;const e=Ss();function t(r,n,i){const o=r.safeParse(n);return o.success?{success:!0,data:o.data}:{success:!1,error:{message:(0,e.generateErrorMessage)(o.error.issues,i)}}}return Nd}var u1;function eM(){return u1||(u1=1,(function(e){var t=Ci&&Ci.__createBinding||(Object.create?(function(n,i,o,s){s===void 0&&(s=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,d)}):(function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]})),r=Ci&&Ci.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ss(),e),r(XF(),e),r(YF(),e),r(KF(),e),r(JF(),e),r(QF(),e)})(Ci)),Ci}var Sp={},d1;function tM(){return d1||(d1=1,Object.defineProperty(Sp,"__esModule",{value:!0})),Sp}var h1;function rM(){return h1||(h1=1,(function(e){var t=ki&&ki.__createBinding||(Object.create?(function(n,i,o,s){s===void 0&&(s=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,d)}):(function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]})),r=ki&&ki.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(eM(),e),r(tM(),e)})(ki)),ki}rM();function Fe(e,t,r){function n(d,c){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,c);const u=s.prototype,h=Object.keys(u);for(let p=0;p<h.length;p++){const l=h[p];l in d||(d[l]=u[l].bind(d))}}const i=(r==null?void 0:r.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(d){var c;const u=r!=null&&r.Parent?new o:this;n(u,d),(c=u._zod).deferred??(c.deferred=[]);for(const h of u._zod.deferred)h();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:d=>{var c,u;return r!=null&&r.Parent&&d instanceof r.Parent?!0:(u=(c=d==null?void 0:d._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class hs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Sj extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const kj={};function Ni(e){return kj}function Cj(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function hm(e,t){return typeof t=="bigint"?t.toString():t}function xh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function G0(e){return e==null}function Z0(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function nM(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c!=null&&c[1]&&(i=Number.parseInt(c[1]))}const o=r>i?r:i,s=Number.parseInt(e.toFixed(o).replace(".","")),d=Number.parseInt(t.toFixed(o).replace(".",""));return s%d/10**o}const f1=Symbol("evaluating");function It(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==f1)return n===void 0&&(n=f1,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Ai(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function oi(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function p1(e){return JSON.stringify(e)}function aM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const _j="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function au(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const iM=xh(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function iu(e){if(au(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(au(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function jj(e){return iu(e)?{...e}:Array.isArray(e)?[...e]:e}const oM=new Set(["string","number","symbol"]);function ms(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function si(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function nt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function sM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const lM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function cM(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=oi(e._zod.def,{get shape(){const s={};for(const d in t){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&(s[d]=r.shape[d])}return Ai(this,"shape",s),s},checks:[]});return si(e,o)}function uM(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=oi(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const d in t){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&delete s[d]}return Ai(this,"shape",s),s},checks:[]});return si(e,o)}function dM(e,t){if(!iu(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const o=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=oi(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Ai(this,"shape",o),o}});return si(e,i)}function hM(e,t){if(!iu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=oi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ai(this,"shape",n),n}});return si(e,r)}function fM(e,t){const r=oi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ai(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return si(e,r)}function pM(e,t,r){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=oi(t._zod.def,{get shape(){const d=t._zod.def.shape,c={...d};if(r)for(const u in r){if(!(u in d))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:d[u]}):d[u])}else for(const u in d)c[u]=e?new e({type:"optional",innerType:d[u]}):d[u];return Ai(this,"shape",c),c},checks:[]});return si(t,s)}function mM(e,t,r){const n=oi(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(r)for(const s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)o[s]=new e({type:"nonoptional",innerType:i[s]});return Ai(this,"shape",o),o}});return si(t,n)}function cs(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function Pj(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ed(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ei(e,t,r){var i,o,s,d,c,u;const n={...e,path:e.path??[]};if(!e.message){const h=Ed((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??Ed((d=t==null?void 0:t.error)==null?void 0:d.call(t,e))??Ed((c=r.customError)==null?void 0:c.call(r,e))??Ed((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=h}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function q0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ou(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const $j=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,hm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ij=Fe("$ZodError",$j),Tj=Fe("$ZodError",$j,{Parent:Error});function gM(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function vM(e,t=r=>r.message){const r={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>n({issues:s}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let s=r,d=0;for(;d<o.path.length;){const c=o.path[d];d===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(o))):s[c]=s[c]||{_errors:[]},s=s[c],d++}}};return n(e),r}const X0=e=>(t,r,n,i)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new hs;if(s.issues.length){const d=new((i==null?void 0:i.Err)??e)(s.issues.map(c=>Ei(c,o,Ni())));throw _j(d,i==null?void 0:i.callee),d}return s.value},Y0=e=>async(t,r,n,i)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const d=new((i==null?void 0:i.Err)??e)(s.issues.map(c=>Ei(c,o,Ni())));throw _j(d,i==null?void 0:i.callee),d}return s.value},wh=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new hs;return o.issues.length?{success:!1,error:new(e??Ij)(o.issues.map(s=>Ei(s,i,Ni())))}:{success:!0,data:o.value}},bM=wh(Tj),Sh=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Ei(s,i,Ni())))}:{success:!0,data:o.value}},yM=Sh(Tj),xM=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return X0(e)(t,r,i)},wM=e=>(t,r,n)=>X0(e)(t,r,n),SM=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Y0(e)(t,r,i)},kM=e=>async(t,r,n)=>Y0(e)(t,r,n),CM=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return wh(e)(t,r,i)},_M=e=>(t,r,n)=>wh(e)(t,r,n),jM=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Sh(e)(t,r,i)},PM=e=>async(t,r,n)=>Sh(e)(t,r,n),$M=/^[cC][^\s-]{8,}$/,IM=/^[0-9a-z]+$/,TM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,NM=/^[0-9a-vA-V]{20}$/,EM=/^[A-Za-z0-9]{27}$/,zM=/^[a-zA-Z0-9_-]{21}$/,DM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,OM=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,m1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,FM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,MM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function LM(){return new RegExp(MM,"u")}const AM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,BM=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,UM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VM=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Nj=/^[A-Za-z0-9_-]*$/,WM=/^\+[1-9]\d{6,14}$/,Ej="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",HM=new RegExp(`^${Ej}$`);function zj(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function GM(e){return new RegExp(`^${zj(e)}$`)}function ZM(e){const t=zj({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Ej}T(?:${n})$`)}const qM=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},XM=/^-?\d+$/,YM=/^-?\d+(?:\.\d+)?$/,KM=/^(?:true|false)$/i,JM=/^[^A-Z]*$/,QM=/^[^a-z]*$/,Hr=Fe("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Dj={number:"number",bigint:"bigint",object:"date"},Oj=Fe("$ZodCheckLessThan",(e,t)=>{Hr.init(e,t);const r=Dj[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Fj=Fe("$ZodCheckGreaterThan",(e,t)=>{Hr.init(e,t);const r=Dj[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),eL=Fe("$ZodCheckMultipleOf",(e,t)=>{Hr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):nM(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),tL=Fe("$ZodCheckNumberFormat",(e,t)=>{var s;Hr.init(e,t),t.format=t.format||"float64";const r=(s=t.format)==null?void 0:s.includes("int"),n=r?"int":"number",[i,o]=lM[t.format];e._zod.onattach.push(d=>{const c=d._zod.bag;c.format=t.format,c.minimum=i,c.maximum=o,r&&(c.pattern=XM)}),e._zod.check=d=>{const c=d.value;if(r){if(!Number.isInteger(c)){d.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?d.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):d.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}c<i&&d.issues.push({origin:"number",input:c,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),c>o&&d.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),rL=Fe("$ZodCheckMaxLength",(e,t)=>{var r;Hr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!G0(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=q0(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nL=Fe("$ZodCheckMinLength",(e,t)=>{var r;Hr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!G0(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=q0(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),aL=Fe("$ZodCheckLengthEquals",(e,t)=>{var r;Hr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!G0(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,o=i.length;if(o===t.length)return;const s=q0(i),d=o>t.length;n.issues.push({origin:s,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),kh=Fe("$ZodCheckStringFormat",(e,t)=>{var r,n;Hr.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),iL=Fe("$ZodCheckRegex",(e,t)=>{kh.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),oL=Fe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=JM),kh.init(e,t)}),sL=Fe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QM),kh.init(e,t)}),lL=Fe("$ZodCheckIncludes",(e,t)=>{Hr.init(e,t);const r=ms(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),cL=Fe("$ZodCheckStartsWith",(e,t)=>{Hr.init(e,t);const r=new RegExp(`^${ms(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),uL=Fe("$ZodCheckEndsWith",(e,t)=>{Hr.init(e,t);const r=new RegExp(`.*${ms(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),dL=Fe("$ZodCheckOverwrite",(e,t)=>{Hr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class hL{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,r=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...r,i.join(`
`))}}const fL={major:4,minor:3,patch:6},Qt=Fe("$ZodType",(e,t)=>{var i;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=fL;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const s of o._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,c,u)=>{let h=cs(d),p;for(const l of c){if(l._zod.def.when){if(!l._zod.def.when(d))continue}else if(h)continue;const f=d.issues.length,m=l._zod.check(d);if(m instanceof Promise&&(u==null?void 0:u.async)===!1)throw new hs;if(p||m instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await m,d.issues.length!==f&&(h||(h=cs(d,f)))});else{if(d.issues.length===f)continue;h||(h=cs(d,f))}}return p?p.then(()=>d):d},s=(d,c,u)=>{if(cs(d))return d.aborted=!0,d;const h=o(c,n,u);if(h instanceof Promise){if(u.async===!1)throw new hs;return h.then(p=>e._zod.parse(p,u))}return e._zod.parse(h,u)};e._zod.run=(d,c)=>{if(c.skipChecks)return e._zod.parse(d,c);if(c.direction==="backward"){const h=e._zod.parse({value:d.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(p=>s(p,d,c)):s(h,d,c)}const u=e._zod.parse(d,c);if(u instanceof Promise){if(c.async===!1)throw new hs;return u.then(h=>o(h,n,c))}return o(u,n,c)}}It(e,"~standard",()=>({validate:o=>{var s;try{const d=bM(e,o);return d.success?{value:d.data}:{issues:(s=d.error)==null?void 0:s.issues}}catch{return yM(e,o).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),K0=Fe("$ZodString",(e,t)=>{var r;Qt.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??qM(e._zod.bag),e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ht=Fe("$ZodStringFormat",(e,t)=>{kh.init(e,t),K0.init(e,t)}),pL=Fe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=OM),Ht.init(e,t)}),mL=Fe("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=m1(n))}else t.pattern??(t.pattern=m1());Ht.init(e,t)}),gL=Fe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=FM),Ht.init(e,t)}),vL=Fe("$ZodURL",(e,t)=>{Ht.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),bL=Fe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=LM()),Ht.init(e,t)}),yL=Fe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=zM),Ht.init(e,t)}),xL=Fe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=$M),Ht.init(e,t)}),wL=Fe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IM),Ht.init(e,t)}),SL=Fe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TM),Ht.init(e,t)}),kL=Fe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=NM),Ht.init(e,t)}),CL=Fe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=EM),Ht.init(e,t)}),_L=Fe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ZM(t)),Ht.init(e,t)}),jL=Fe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=HM),Ht.init(e,t)}),PL=Fe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=GM(t)),Ht.init(e,t)}),$L=Fe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=DM),Ht.init(e,t)}),IL=Fe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=AM),Ht.init(e,t),e._zod.bag.format="ipv4"}),TL=Fe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=RM),Ht.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),NL=Fe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=BM),Ht.init(e,t)}),EL=Fe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=UM),Ht.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[i,o]=n;if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Mj(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const zL=Fe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=VM),Ht.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Mj(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function DL(e){if(!Nj.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Mj(r)}const OL=Fe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Nj),Ht.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{DL(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),FL=Fe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=WM),Ht.init(e,t)});function ML(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const LL=Fe("$ZodJWT",(e,t)=>{Ht.init(e,t),e._zod.check=r=>{ML(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Lj=Fe("$ZodNumber",(e,t)=>{Qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??YM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),r}}),AL=Fe("$ZodNumberFormat",(e,t)=>{tL.init(e,t),Lj.init(e,t)}),RL=Fe("$ZodBoolean",(e,t)=>{Qt.init(e,t),e._zod.pattern=KM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),BL=Fe("$ZodUnknown",(e,t)=>{Qt.init(e,t),e._zod.parse=r=>r}),UL=Fe("$ZodNever",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function g1(e,t,r){e.issues.length&&t.issues.push(...Pj(r,e.issues)),t.value[r]=e.value}const VL=Fe("$ZodArray",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const d=i[s],c=t.element._zod.run({value:d,issues:[]},n);c instanceof Promise?o.push(c.then(u=>g1(u,r,s))):g1(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function oh(e,t,r,n,i){if(e.issues.length){if(i&&!(r in n))return;t.issues.push(...Pj(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function Aj(e){var n,i,o,s;const t=Object.keys(e.shape);for(const d of t)if(!((s=(o=(i=(n=e.shape)==null?void 0:n[d])==null?void 0:i._zod)==null?void 0:o.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const r=sM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Rj(e,t,r,n,i,o){const s=[],d=i.keySet,c=i.catchall._zod,u=c.def.type,h=c.optout==="optional";for(const p in t){if(d.has(p))continue;if(u==="never"){s.push(p);continue}const l=c.run({value:t[p],issues:[]},n);l instanceof Promise?e.push(l.then(f=>oh(f,r,p,t,h))):oh(l,r,p,t,h)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const WL=Fe("$ZodObject",(e,t)=>{Qt.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...d};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=xh(()=>Aj(t));It(e._zod,"propValues",()=>{const d=t.shape,c={};for(const u in d){const h=d[u]._zod;if(h.values){c[u]??(c[u]=new Set);for(const p of h.values)c[u].add(p)}}return c});const i=au,o=t.catchall;let s;e._zod.parse=(d,c)=>{s??(s=n.value);const u=d.value;if(!i(u))return d.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),d;d.value={};const h=[],p=s.shape;for(const l of s.keys){const f=p[l],m=f._zod.optout==="optional",b=f._zod.run({value:u[l],issues:[]},c);b instanceof Promise?h.push(b.then(S=>oh(S,d,l,u,m))):oh(b,d,l,u,m)}return o?Rj(h,u,d,c,n.value,e):h.length?Promise.all(h).then(()=>d):d}}),HL=Fe("$ZodObjectJIT",(e,t)=>{WL.init(e,t);const r=e._zod.parse,n=xh(()=>Aj(t)),i=l=>{var y;const f=new hL(["shape","payload","ctx"]),m=n.value,b=_=>{const P=p1(_);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};f.write("const input = payload.value;");const S=Object.create(null);let x=0;for(const _ of m.keys)S[_]=`key_${x++}`;f.write("const newResult = {};");for(const _ of m.keys){const P=S[_],T=p1(_),M=l[_],N=((y=M==null?void 0:M._zod)==null?void 0:y.optout)==="optional";f.write(`const ${P} = ${b(_)};`),N?f.write(`
        if (${P}.issues.length) {
          if (${T} in input) {
            payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${T}, ...iss.path] : [${T}]
            })));
          }
        }
        
        if (${P}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${P}.value;
        }
        
      `):f.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        if (${P}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${P}.value;
        }
        
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const w=f.compile();return(_,P)=>w(l,_,P)};let o;const s=au,d=!kj.jitless,u=d&&iM.value,h=t.catchall;let p;e._zod.parse=(l,f)=>{p??(p=n.value);const m=l.value;return s(m)?d&&u&&(f==null?void 0:f.async)===!1&&f.jitless!==!0?(o||(o=i(t.shape)),l=o(l,f),h?Rj([],m,l,f,p,e):l):r(l,f):(l.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),l)}});function v1(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!cs(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(s=>Ei(s,n,Ni())))}),t)}const Bj=Fe("$ZodUnion",(e,t)=>{Qt.init(e,t),It(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),It(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),It(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),It(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>Z0(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1;const d=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},o);if(u instanceof Promise)d.push(u),s=!0;else{if(u.issues.length===0)return u;d.push(u)}}return s?Promise.all(d).then(c=>v1(c,i,e,o)):v1(d,i,e,o)}}),GL=Fe("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Bj.init(e,t);const r=e._zod.parse;It(e._zod,"propValues",()=>{const i={};for(const o of t.options){const s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[d,c]of Object.entries(s)){i[d]||(i[d]=new Set);for(const u of c)i[d].add(u)}}return i});const n=xh(()=>{var s;const i=t.options,o=new Map;for(const d of i){const c=(s=d._zod.propValues)==null?void 0:s[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(d)}"`);for(const u of c){if(o.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,d)}}return o});e._zod.parse=(i,o)=>{const s=i.value;if(!au(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const d=n.value.get(s==null?void 0:s[t.discriminator]);return d?d._zod.run(i,o):t.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),i)}}),ZL=Fe("$ZodIntersection",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,o=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,u])=>b1(r,c,u)):b1(r,o,s)}});function fm(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(iu(e)&&iu(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),i={...e,...t};for(const o of n){const s=fm(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],o=t[n],s=fm(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function b1(e,t,r){const n=new Map;let i;for(const d of t.issues)if(d.code==="unrecognized_keys"){i??(i=d);for(const c of d.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(d);for(const d of r.issues)if(d.code==="unrecognized_keys")for(const c of d.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(d);const o=[...n].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&i&&e.issues.push({...i,keys:o}),cs(e))return e;const s=fm(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const qL=Fe("$ZodEnum",(e,t)=>{Qt.init(e,t);const r=Cj(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>oM.has(typeof i)).map(i=>typeof i=="string"?ms(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),XL=Fe("$ZodLiteral",(e,t)=>{if(Qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?ms(n):n?ms(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{const o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),n}}),YL=Fe("$ZodTransform",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Sj(e.constructor.name);const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new hs;return r.value=i,r}});function y1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Uj=Fe("$ZodOptional",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",It(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),It(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Z0(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>y1(o,r.value)):y1(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),KL=Fe("$ZodExactOptional",(e,t)=>{Uj.init(e,t),It(e._zod,"values",()=>t.innerType._zod.values),It(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),JL=Fe("$ZodNullable",(e,t)=>{Qt.init(e,t),It(e._zod,"optin",()=>t.innerType._zod.optin),It(e._zod,"optout",()=>t.innerType._zod.optout),It(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Z0(r.source)}|null)$`):void 0}),It(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),QL=Fe("$ZodDefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",It(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>x1(o,t)):x1(i,t)}});function x1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const eA=Fe("$ZodPrefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",It(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),tA=Fe("$ZodNonOptional",(e,t)=>{Qt.init(e,t),It(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>w1(o,e)):w1(i,e)}});function w1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rA=Fe("$ZodCatch",(e,t)=>{Qt.init(e,t),It(e._zod,"optin",()=>t.innerType._zod.optin),It(e._zod,"optout",()=>t.innerType._zod.optout),It(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(s=>Ei(s,n,Ni()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Ei(o,n,Ni()))},input:r.value}),r.issues=[]),r)}}),nA=Fe("$ZodPipe",(e,t)=>{Qt.init(e,t),It(e._zod,"values",()=>t.in._zod.values),It(e._zod,"optin",()=>t.in._zod.optin),It(e._zod,"optout",()=>t.out._zod.optout),It(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(s=>zd(s,t.in,n)):zd(o,t.in,n)}const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(o=>zd(o,t.out,n)):zd(i,t.out,n)}});function zd(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const aA=Fe("$ZodReadonly",(e,t)=>{Qt.init(e,t),It(e._zod,"propValues",()=>t.innerType._zod.propValues),It(e._zod,"values",()=>t.innerType._zod.values),It(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),It(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(S1):S1(i)}});function S1(e){return e.value=Object.freeze(e.value),e}const iA=Fe("$ZodCustom",(e,t)=>{Hr.init(e,t),Qt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(o=>k1(o,r,n,e));k1(i,r,n,e)}});function k1(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(ou(i))}}var C1;class oA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function sA(){return new oA}(C1=globalThis).__zod_globalRegistry??(C1.__zod_globalRegistry=sA());const Hc=globalThis.__zod_globalRegistry;function lA(e,t){return new e({type:"string",...nt(t)})}function cA(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...nt(t)})}function _1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...nt(t)})}function uA(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...nt(t)})}function dA(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...nt(t)})}function hA(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...nt(t)})}function fA(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...nt(t)})}function pA(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...nt(t)})}function mA(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...nt(t)})}function gA(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...nt(t)})}function vA(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...nt(t)})}function bA(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...nt(t)})}function yA(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...nt(t)})}function xA(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...nt(t)})}function wA(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...nt(t)})}function SA(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...nt(t)})}function kA(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...nt(t)})}function CA(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...nt(t)})}function _A(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...nt(t)})}function jA(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...nt(t)})}function PA(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...nt(t)})}function $A(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...nt(t)})}function IA(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...nt(t)})}function TA(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...nt(t)})}function NA(e,t){return new e({type:"string",format:"date",check:"string_format",...nt(t)})}function EA(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...nt(t)})}function zA(e,t){return new e({type:"string",format:"duration",check:"string_format",...nt(t)})}function DA(e,t){return new e({type:"number",checks:[],...nt(t)})}function OA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...nt(t)})}function FA(e,t){return new e({type:"boolean",...nt(t)})}function MA(e){return new e({type:"unknown"})}function LA(e,t){return new e({type:"never",...nt(t)})}function j1(e,t){return new Oj({check:"less_than",...nt(t),value:e,inclusive:!1})}function kp(e,t){return new Oj({check:"less_than",...nt(t),value:e,inclusive:!0})}function P1(e,t){return new Fj({check:"greater_than",...nt(t),value:e,inclusive:!1})}function Cp(e,t){return new Fj({check:"greater_than",...nt(t),value:e,inclusive:!0})}function $1(e,t){return new eL({check:"multiple_of",...nt(t),value:e})}function Vj(e,t){return new rL({check:"max_length",...nt(t),maximum:e})}function sh(e,t){return new nL({check:"min_length",...nt(t),minimum:e})}function Wj(e,t){return new aL({check:"length_equals",...nt(t),length:e})}function AA(e,t){return new iL({check:"string_format",format:"regex",...nt(t),pattern:e})}function RA(e){return new oL({check:"string_format",format:"lowercase",...nt(e)})}function BA(e){return new sL({check:"string_format",format:"uppercase",...nt(e)})}function UA(e,t){return new lL({check:"string_format",format:"includes",...nt(t),includes:e})}function VA(e,t){return new cL({check:"string_format",format:"starts_with",...nt(t),prefix:e})}function WA(e,t){return new uL({check:"string_format",format:"ends_with",...nt(t),suffix:e})}function ks(e){return new dL({check:"overwrite",tx:e})}function HA(e){return ks(t=>t.normalize(e))}function GA(){return ks(e=>e.trim())}function ZA(){return ks(e=>e.toLowerCase())}function qA(){return ks(e=>e.toUpperCase())}function XA(){return ks(e=>aM(e))}function YA(e,t,r){return new e({type:"array",element:t,...nt(r)})}function KA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...nt(r)})}function JA(e){const t=QA(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ou(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(ou(i))}},e(r.value,r)));return t}function QA(e,t){const r=new Hr({check:"custom",...nt(t)});return r._zod.check=e,r}function Hj(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Hc,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function kr(e,t,r={path:[],schemaPath:[]}){var h,p;var n;const i=e._zod.def,o=t.seen.get(e);if(o)return o.count++,r.schemaPath.includes(e)&&(o.cycle=r.path),o.schema;const s={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,s);const d=(p=(h=e._zod).toJSONSchema)==null?void 0:p.call(h);if(d)s.schema=d;else{const l={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,l);else{const m=s.schema,b=t.processors[i.type];if(!b)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);b(e,t,m,l)}const f=e._zod.parent;f&&(s.ref||(s.ref=f),kr(f,t,l),t.seen.get(f).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&zr(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function Gj(e,t){var s,d,c,u;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const h of e.seen.entries()){const p=(s=e.metadataRegistry.get(h[0]))==null?void 0:s.id;if(p){const l=n.get(p);if(l&&l!==h[0])throw new Error(`Duplicate schema id "${p}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(p,h[0])}}const i=h=>{var b;const p=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const S=(b=e.external.registry.get(h[0]))==null?void 0:b.id,x=e.external.uri??(y=>y);if(S)return{ref:x(S)};const w=h[1].defId??h[1].schema.id??`schema${e.counter++}`;return h[1].defId=w,{defId:w,ref:`${x("__shared")}#/${p}/${w}`}}if(h[1]===r)return{ref:"#"};const f=`#/${p}/`,m=h[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:f+m}},o=h=>{if(h[1].schema.$ref)return;const p=h[1],{ref:l,defId:f}=i(h);p.def={...p.schema},f&&(p.defId=f);const m=p.schema;for(const b in m)delete m[b];m.$ref=l};if(e.cycles==="throw")for(const h of e.seen.entries()){const p=h[1];if(p.cycle)throw new Error(`Cycle detected: #/${(d=p.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const h of e.seen.entries()){const p=h[1];if(t===h[0]){o(h);continue}if(e.external){const f=(c=e.external.registry.get(h[0]))==null?void 0:c.id;if(t!==h[0]&&f){o(h);continue}}if((u=e.metadataRegistry.get(h[0]))==null?void 0:u.id){o(h);continue}if(p.cycle){o(h);continue}if(p.count>1&&e.reused==="ref"){o(h);continue}}}function Zj(e,t){var s,d,c;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=u=>{const h=e.seen.get(u);if(h.ref===null)return;const p=h.def??h.schema,l={...p},f=h.ref;if(h.ref=null,f){n(f);const b=e.seen.get(f),S=b.schema;if(S.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(S)):Object.assign(p,S),Object.assign(p,l),u._zod.parent===f)for(const w in p)w==="$ref"||w==="allOf"||w in l||delete p[w];if(S.$ref&&b.def)for(const w in p)w==="$ref"||w==="allOf"||w in b.def&&JSON.stringify(p[w])===JSON.stringify(b.def[w])&&delete p[w]}const m=u._zod.parent;if(m&&m!==f){n(m);const b=e.seen.get(m);if(b!=null&&b.schema.$ref&&(p.$ref=b.schema.$ref,b.def))for(const S in p)S==="$ref"||S==="allOf"||S in b.def&&JSON.stringify(p[S])===JSON.stringify(b.def[S])&&delete p[S]}e.override({zodSchema:u,jsonSchema:p,path:h.path??[]})};for(const u of[...e.seen.entries()].reverse())n(u[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(s=e.external)!=null&&s.uri){const u=(d=e.external.registry.get(t))==null?void 0:d.id;if(!u)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(u)}Object.assign(i,r.def??r.schema);const o=((c=e.external)==null?void 0:c.defs)??{};for(const u of e.seen.entries()){const h=u[1];h.def&&h.defId&&(o[h.defId]=h.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const u=JSON.parse(JSON.stringify(i));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:lh(t,"input",e.processors),output:lh(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function zr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return zr(n.element,r);if(n.type==="set")return zr(n.valueType,r);if(n.type==="lazy")return zr(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return zr(n.innerType,r);if(n.type==="intersection")return zr(n.left,r)||zr(n.right,r);if(n.type==="record"||n.type==="map")return zr(n.keyType,r)||zr(n.valueType,r);if(n.type==="pipe")return zr(n.in,r)||zr(n.out,r);if(n.type==="object"){for(const i in n.shape)if(zr(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(const i of n.options)if(zr(i,r))return!0;return!1}if(n.type==="tuple"){for(const i of n.items)if(zr(i,r))return!0;return!!(n.rest&&zr(n.rest,r))}return!1}const e7=(e,t={})=>r=>{const n=Hj({...r,processors:t});return kr(e,n),Gj(n,e),Zj(n,e)},lh=(e,t,r={})=>n=>{const{libraryOptions:i,target:o}=n??{},s=Hj({...i??{},target:o,io:t,processors:r});return kr(e,s),Gj(s,e),Zj(s,e)},t7={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},r7=(e,t,r,n)=>{const i=r;i.type="string";const{minimum:o,maximum:s,format:d,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof s=="number"&&(i.maxLength=s),d&&(i.format=t7[d]??d,i.format===""&&delete i.format,d==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const h=[...c];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},n7=(e,t,r,n)=>{const i=r,{minimum:o,maximum:s,format:d,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:h}=e._zod.bag;typeof d=="string"&&d.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof o=="number"&&(i.minimum=o,typeof h=="number"&&t.target!=="draft-04"&&(h>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof s=="number"&&(i.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},a7=(e,t,r,n)=>{r.type="boolean"},i7=(e,t,r,n)=>{r.not={}},o7=(e,t,r,n)=>{},s7=(e,t,r,n)=>{const i=e._zod.def,o=Cj(i.entries);o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),r.enum=o},l7=(e,t,r,n)=>{const i=e._zod.def,o=[];for(const s of i.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(s))}else o.push(s);if(o.length!==0)if(o.length===1){const s=o[0];r.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[s]:r.const=s}else o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),o.every(s=>typeof s=="boolean")&&(r.type="boolean"),o.every(s=>s===null)&&(r.type="null"),r.enum=o},c7=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},u7=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},d7=(e,t,r,n)=>{const i=r,o=e._zod.def,{minimum:s,maximum:d}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof d=="number"&&(i.maxItems=d),i.type="array",i.items=kr(o.element,t,{...n,path:[...n.path,"items"]})},h7=(e,t,r,n)=>{var u;const i=r,o=e._zod.def;i.type="object",i.properties={};const s=o.shape;for(const h in s)i.properties[h]=kr(s[h],t,{...n,path:[...n.path,"properties",h]});const d=new Set(Object.keys(s)),c=new Set([...d].filter(h=>{const p=o.shape[h]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));c.size>0&&(i.required=Array.from(c)),((u=o.catchall)==null?void 0:u._zod.def.type)==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=kr(o.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},f7=(e,t,r,n)=>{const i=e._zod.def,o=i.inclusive===!1,s=i.options.map((d,c)=>kr(d,t,{...n,path:[...n.path,o?"oneOf":"anyOf",c]}));o?r.oneOf=s:r.anyOf=s},p7=(e,t,r,n)=>{const i=e._zod.def,o=kr(i.left,t,{...n,path:[...n.path,"allOf",0]}),s=kr(i.right,t,{...n,path:[...n.path,"allOf",1]}),d=u=>"allOf"in u&&Object.keys(u).length===1,c=[...d(o)?o.allOf:[o],...d(s)?s.allOf:[s]];r.allOf=c},m7=(e,t,r,n)=>{const i=e._zod.def,o=kr(i.innerType,t,n),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},g7=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType},v7=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},b7=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},y7=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},x7=(e,t,r,n)=>{const i=e._zod.def,o=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;kr(o,t,n);const s=t.seen.get(e);s.ref=o},w7=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType,r.readOnly=!0},qj=(e,t,r,n)=>{const i=e._zod.def;kr(i.innerType,t,n);const o=t.seen.get(e);o.ref=i.innerType},S7=Fe("ZodISODateTime",(e,t)=>{_L.init(e,t),Kt.init(e,t)});function k7(e){return TA(S7,e)}const C7=Fe("ZodISODate",(e,t)=>{jL.init(e,t),Kt.init(e,t)});function _7(e){return NA(C7,e)}const j7=Fe("ZodISOTime",(e,t)=>{PL.init(e,t),Kt.init(e,t)});function P7(e){return EA(j7,e)}const $7=Fe("ZodISODuration",(e,t)=>{$L.init(e,t),Kt.init(e,t)});function I7(e){return zA($7,e)}const T7=(e,t)=>{Ij.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>vM(e,r)},flatten:{value:r=>gM(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,hm,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,hm,2)}},isEmpty:{get(){return e.issues.length===0}}})},hn=Fe("ZodError",T7,{Parent:Error}),N7=X0(hn),E7=Y0(hn),z7=wh(hn),D7=Sh(hn),O7=xM(hn),F7=wM(hn),M7=SM(hn),L7=kM(hn),A7=CM(hn),R7=_M(hn),B7=jM(hn),U7=PM(hn),er=Fe("ZodType",(e,t)=>(Qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:lh(e,"input"),output:lh(e,"output")}}),e.toJSONSchema=e7(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(oi(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>si(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>N7(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>z7(e,r,n),e.parseAsync=async(r,n)=>E7(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>D7(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>O7(e,r,n),e.decode=(r,n)=>F7(e,r,n),e.encodeAsync=async(r,n)=>M7(e,r,n),e.decodeAsync=async(r,n)=>L7(e,r,n),e.safeEncode=(r,n)=>A7(e,r,n),e.safeDecode=(r,n)=>R7(e,r,n),e.safeEncodeAsync=async(r,n)=>B7(e,r,n),e.safeDecodeAsync=async(r,n)=>U7(e,r,n),e.refine=(r,n)=>e.check(DR(r,n)),e.superRefine=r=>e.check(OR(r)),e.overwrite=r=>e.check(ks(r)),e.optional=()=>E1(e),e.exactOptional=()=>wR(e),e.nullable=()=>z1(e),e.nullish=()=>E1(z1(e)),e.nonoptional=r=>PR(e,r),e.array=()=>Xt(e),e.or=r=>J0([e,r]),e.and=r=>gR(e,r),e.transform=r=>D1(e,yR(r)),e.default=r=>CR(e,r),e.prefault=r=>jR(e,r),e.catch=r=>IR(e,r),e.pipe=r=>D1(e,r),e.readonly=()=>ER(e),e.describe=r=>{const n=e.clone();return Hc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Hc.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Hc.get(e);const n=e.clone();return Hc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),Xj=Fe("_ZodString",(e,t)=>{K0.init(e,t),er.init(e,t),e._zod.processJSONSchema=(n,i,o)=>r7(e,n,i);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(AA(...n)),e.includes=(...n)=>e.check(UA(...n)),e.startsWith=(...n)=>e.check(VA(...n)),e.endsWith=(...n)=>e.check(WA(...n)),e.min=(...n)=>e.check(sh(...n)),e.max=(...n)=>e.check(Vj(...n)),e.length=(...n)=>e.check(Wj(...n)),e.nonempty=(...n)=>e.check(sh(1,...n)),e.lowercase=n=>e.check(RA(n)),e.uppercase=n=>e.check(BA(n)),e.trim=()=>e.check(GA()),e.normalize=(...n)=>e.check(HA(...n)),e.toLowerCase=()=>e.check(ZA()),e.toUpperCase=()=>e.check(qA()),e.slugify=()=>e.check(XA())}),V7=Fe("ZodString",(e,t)=>{K0.init(e,t),Xj.init(e,t),e.email=r=>e.check(cA(W7,r)),e.url=r=>e.check(pA(H7,r)),e.jwt=r=>e.check(IA(oR,r)),e.emoji=r=>e.check(mA(G7,r)),e.guid=r=>e.check(_1(I1,r)),e.uuid=r=>e.check(uA(Dd,r)),e.uuidv4=r=>e.check(dA(Dd,r)),e.uuidv6=r=>e.check(hA(Dd,r)),e.uuidv7=r=>e.check(fA(Dd,r)),e.nanoid=r=>e.check(gA(Z7,r)),e.guid=r=>e.check(_1(I1,r)),e.cuid=r=>e.check(vA(q7,r)),e.cuid2=r=>e.check(bA(X7,r)),e.ulid=r=>e.check(yA(Y7,r)),e.base64=r=>e.check(jA(nR,r)),e.base64url=r=>e.check(PA(aR,r)),e.xid=r=>e.check(xA(K7,r)),e.ksuid=r=>e.check(wA(J7,r)),e.ipv4=r=>e.check(SA(Q7,r)),e.ipv6=r=>e.check(kA(eR,r)),e.cidrv4=r=>e.check(CA(tR,r)),e.cidrv6=r=>e.check(_A(rR,r)),e.e164=r=>e.check($A(iR,r)),e.datetime=r=>e.check(k7(r)),e.date=r=>e.check(_7(r)),e.time=r=>e.check(P7(r)),e.duration=r=>e.check(I7(r))});function Ue(e){return lA(V7,e)}const Kt=Fe("ZodStringFormat",(e,t)=>{Ht.init(e,t),Xj.init(e,t)}),W7=Fe("ZodEmail",(e,t)=>{gL.init(e,t),Kt.init(e,t)}),I1=Fe("ZodGUID",(e,t)=>{pL.init(e,t),Kt.init(e,t)}),Dd=Fe("ZodUUID",(e,t)=>{mL.init(e,t),Kt.init(e,t)}),H7=Fe("ZodURL",(e,t)=>{vL.init(e,t),Kt.init(e,t)}),G7=Fe("ZodEmoji",(e,t)=>{bL.init(e,t),Kt.init(e,t)}),Z7=Fe("ZodNanoID",(e,t)=>{yL.init(e,t),Kt.init(e,t)}),q7=Fe("ZodCUID",(e,t)=>{xL.init(e,t),Kt.init(e,t)}),X7=Fe("ZodCUID2",(e,t)=>{wL.init(e,t),Kt.init(e,t)}),Y7=Fe("ZodULID",(e,t)=>{SL.init(e,t),Kt.init(e,t)}),K7=Fe("ZodXID",(e,t)=>{kL.init(e,t),Kt.init(e,t)}),J7=Fe("ZodKSUID",(e,t)=>{CL.init(e,t),Kt.init(e,t)}),Q7=Fe("ZodIPv4",(e,t)=>{IL.init(e,t),Kt.init(e,t)}),eR=Fe("ZodIPv6",(e,t)=>{TL.init(e,t),Kt.init(e,t)}),tR=Fe("ZodCIDRv4",(e,t)=>{NL.init(e,t),Kt.init(e,t)}),rR=Fe("ZodCIDRv6",(e,t)=>{EL.init(e,t),Kt.init(e,t)}),nR=Fe("ZodBase64",(e,t)=>{zL.init(e,t),Kt.init(e,t)}),aR=Fe("ZodBase64URL",(e,t)=>{OL.init(e,t),Kt.init(e,t)}),iR=Fe("ZodE164",(e,t)=>{FL.init(e,t),Kt.init(e,t)}),oR=Fe("ZodJWT",(e,t)=>{LL.init(e,t),Kt.init(e,t)}),Yj=Fe("ZodNumber",(e,t)=>{Lj.init(e,t),er.init(e,t),e._zod.processJSONSchema=(n,i,o)=>n7(e,n,i),e.gt=(n,i)=>e.check(P1(n,i)),e.gte=(n,i)=>e.check(Cp(n,i)),e.min=(n,i)=>e.check(Cp(n,i)),e.lt=(n,i)=>e.check(j1(n,i)),e.lte=(n,i)=>e.check(kp(n,i)),e.max=(n,i)=>e.check(kp(n,i)),e.int=n=>e.check(T1(n)),e.safe=n=>e.check(T1(n)),e.positive=n=>e.check(P1(0,n)),e.nonnegative=n=>e.check(Cp(0,n)),e.negative=n=>e.check(j1(0,n)),e.nonpositive=n=>e.check(kp(0,n)),e.multipleOf=(n,i)=>e.check($1(n,i)),e.step=(n,i)=>e.check($1(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function rt(e){return DA(Yj,e)}const sR=Fe("ZodNumberFormat",(e,t)=>{AL.init(e,t),Yj.init(e,t)});function T1(e){return OA(sR,e)}const lR=Fe("ZodBoolean",(e,t)=>{RL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>a7(e,r,n)});function $n(e){return FA(lR,e)}const cR=Fe("ZodUnknown",(e,t)=>{BL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>o7()});function N1(){return MA(cR)}const uR=Fe("ZodNever",(e,t)=>{UL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>i7(e,r,n)});function dR(e){return LA(uR,e)}const hR=Fe("ZodArray",(e,t)=>{VL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>d7(e,r,n,i),e.element=t.element,e.min=(r,n)=>e.check(sh(r,n)),e.nonempty=r=>e.check(sh(1,r)),e.max=(r,n)=>e.check(Vj(r,n)),e.length=(r,n)=>e.check(Wj(r,n)),e.unwrap=()=>e.element});function Xt(e,t){return YA(hR,e,t)}const fR=Fe("ZodObject",(e,t)=>{HL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>h7(e,r,n,i),It(e,"shape",()=>t.shape),e.keyof=()=>fn(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:N1()}),e.loose=()=>e.clone({...e._zod.def,catchall:N1()}),e.strict=()=>e.clone({...e._zod.def,catchall:dR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>dM(e,r),e.safeExtend=r=>hM(e,r),e.merge=r=>fM(e,r),e.pick=r=>cM(e,r),e.omit=r=>uM(e,r),e.partial=(...r)=>pM(Qj,e,r[0]),e.required=(...r)=>mM(e4,e,r[0])});function Yt(e,t){const r={type:"object",shape:e??{},...nt(t)};return new fR(r)}const Kj=Fe("ZodUnion",(e,t)=>{Bj.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>f7(e,r,n,i),e.options=t.options});function J0(e,t){return new Kj({type:"union",options:e,...nt(t)})}const pR=Fe("ZodDiscriminatedUnion",(e,t)=>{Kj.init(e,t),GL.init(e,t)});function Jj(e,t,r){return new pR({type:"union",options:t,discriminator:e,...nt(r)})}const mR=Fe("ZodIntersection",(e,t)=>{ZL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>p7(e,r,n,i)});function gR(e,t){return new mR({type:"intersection",left:e,right:t})}const pm=Fe("ZodEnum",(e,t)=>{qL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(n,i,o)=>s7(e,n,i),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const o={};for(const s of n)if(r.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new pm({...t,checks:[],...nt(i),entries:o})},e.exclude=(n,i)=>{const o={...t.entries};for(const s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new pm({...t,checks:[],...nt(i),entries:o})}});function fn(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new pm({type:"enum",entries:r,...nt(t)})}const vR=Fe("ZodLiteral",(e,t)=>{XL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>l7(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Cn(e,t){return new vR({type:"literal",values:Array.isArray(e)?e:[e],...nt(t)})}const bR=Fe("ZodTransform",(e,t)=>{YL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>u7(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Sj(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(ou(o,r.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(ou(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function yR(e){return new bR({type:"transform",transform:e})}const Qj=Fe("ZodOptional",(e,t)=>{Uj.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>qj(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function E1(e){return new Qj({type:"optional",innerType:e})}const xR=Fe("ZodExactOptional",(e,t)=>{KL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>qj(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function wR(e){return new xR({type:"optional",innerType:e})}const SR=Fe("ZodNullable",(e,t)=>{JL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>m7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function z1(e){return new SR({type:"nullable",innerType:e})}const kR=Fe("ZodDefault",(e,t)=>{QL.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>v7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CR(e,t){return new kR({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():jj(t)}})}const _R=Fe("ZodPrefault",(e,t)=>{eA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>b7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function jR(e,t){return new _R({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():jj(t)}})}const e4=Fe("ZodNonOptional",(e,t)=>{tA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>g7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function PR(e,t){return new e4({type:"nonoptional",innerType:e,...nt(t)})}const $R=Fe("ZodCatch",(e,t)=>{rA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>y7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function IR(e,t){return new $R({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const TR=Fe("ZodPipe",(e,t)=>{nA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>x7(e,r,n,i),e.in=t.in,e.out=t.out});function D1(e,t){return new TR({type:"pipe",in:e,out:t})}const NR=Fe("ZodReadonly",(e,t)=>{aA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>w7(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function ER(e){return new NR({type:"readonly",innerType:e})}const zR=Fe("ZodCustom",(e,t)=>{iA.init(e,t),er.init(e,t),e._zod.processJSONSchema=(r,n,i)=>c7(e,r)});function DR(e,t={}){return KA(zR,e,t)}function OR(e){return JA(e)}const Ri=Yt({id:Ue(),name:Ue(),x:rt(),y:rt(),width:rt(),height:rt(),rotation:rt(),zIndex:rt(),locked:$n(),visible:$n(),parameterId:Ue().optional(),layerId:Ue().optional()}),FR=Ri.extend({type:Cn("knob"),diameter:rt(),value:rt(),min:rt(),max:rt(),startAngle:rt(),endAngle:rt(),style:fn(["arc","filled","dot","line"]),trackColor:Ue(),fillColor:Ue(),indicatorColor:Ue(),trackWidth:rt(),styleId:Ue().optional(),colorOverrides:Yt({indicator:Ue().optional(),track:Ue().optional(),arc:Ue().optional(),glow:Ue().optional(),shadow:Ue().optional()}).optional()}).passthrough(),MR=Ri.extend({type:Cn("slider"),orientation:fn(["vertical","horizontal"]),value:rt(),min:rt(),max:rt(),trackColor:Ue(),trackFillColor:Ue(),thumbColor:Ue(),thumbWidth:rt(),thumbHeight:rt()}).passthrough(),LR=Ri.extend({type:Cn("button"),mode:fn(["momentary","toggle"]),label:Ue(),pressed:$n(),backgroundColor:Ue(),textColor:Ue(),borderColor:Ue(),borderRadius:rt(),borderWidth:rt().optional().default(1)}).passthrough(),AR=Ri.extend({type:Cn("label"),text:Ue(),fontSize:rt(),fontFamily:Ue(),fontWeight:rt(),color:Ue(),textAlign:fn(["left","center","right"])}).passthrough(),RR=Ri.extend({type:Cn("meter"),orientation:fn(["vertical","horizontal"]),value:rt(),min:rt(),max:rt(),colorStops:Xt(Yt({position:rt(),color:Ue()})),backgroundColor:Ue(),showPeakHold:$n()}).passthrough(),BR=Ri.extend({type:Cn("image"),src:Ue(),assetId:Ue().optional(),fit:fn(["contain","cover","fill","none"])}).passthrough(),Q0=Yt({id:Ue(),name:Ue(),svgContent:Ue(),categories:Xt(Ue()),fileSize:rt(),elementCount:rt(),createdAt:rt()}),ev=Yt({id:Ue(),name:Ue(),color:fn(["red","orange","yellow","green","blue","purple","gray"]),visible:$n(),locked:$n(),order:rt(),createdAt:rt()}),UR=Yt({indicator:Ue().optional(),track:Ue().optional(),arc:Ue().optional(),glow:Ue().optional(),shadow:Ue().optional()}),tv=Yt({id:Ue(),name:Ue(),svgContent:Ue(),layers:UR,minAngle:rt(),maxAngle:rt(),createdAt:rt()}),VR=Yt({indicator:Ue().optional(),track:Ue().optional(),arc:Ue().optional(),glow:Ue().optional(),shadow:Ue().optional()}),WR=Yt({thumb:Ue().optional(),track:Ue().optional(),fill:Ue().optional()}),HR=Yt({thumb:Ue().optional(),track:Ue().optional(),fill:Ue().optional(),arc:Ue().optional()}),GR=Yt({body:Ue().optional(),label:Ue().optional(),icon:Ue().optional(),pressed:Ue().optional(),normal:Ue().optional()}),ZR=Yt({body:Ue().optional(),fill:Ue().optional(),scale:Ue().optional(),peak:Ue().optional(),segments:Ue().optional()}),qR=Jj("category",[Yt({category:Cn("rotary"),id:Ue(),name:Ue(),svgContent:Ue(),layers:VR,minAngle:rt(),maxAngle:rt(),createdAt:rt()}),Yt({category:Cn("linear"),id:Ue(),name:Ue(),svgContent:Ue(),layers:WR,createdAt:rt()}),Yt({category:Cn("arc"),id:Ue(),name:Ue(),svgContent:Ue(),layers:HR,minAngle:rt(),maxAngle:rt(),arcRadius:rt(),createdAt:rt()}),Yt({category:Cn("button"),id:Ue(),name:Ue(),svgContent:Ue(),layers:GR,createdAt:rt()}),Yt({category:Cn("meter"),id:Ue(),name:Ue(),svgContent:Ue(),layers:ZR,createdAt:rt()})]),XR=Jj("type",[FR,MR,LR,AR,RR,BR]),YR=Ri.extend({type:Ue()}).passthrough(),rv=J0([XR,YR]),t4=Yt({type:fn(["linear","radial"]),colors:Xt(Ue()),angle:rt().optional()}),KR=Yt({canvasWidth:rt(),canvasHeight:rt(),backgroundColor:Ue(),backgroundType:fn(["color","gradient","image"]),gradientConfig:t4.optional(),snapToGrid:$n(),gridSize:rt()}),JR=fn(["release","developer"]),r4=Yt({id:Ue(),name:Ue(),type:JR,width:rt(),height:rt(),backgroundColor:Ue(),backgroundType:fn(["color","gradient","image"]),gradientConfig:t4.optional(),elementIds:Xt(Ue()),createdAt:rt()}),QR=Yt({version:Ue(),canvas:KR,elements:Xt(rv),assets:Xt(Q0).optional().default([]),knobStyles:Xt(tv).optional().default([]),layers:Xt(ev).optional().default([]),selectedIds:Xt(Ue()).optional(),lastModified:rt().optional()}),e9=Yt({version:Ue(),windows:Xt(r4),elements:Xt(rv),assets:Xt(Q0).optional().default([]),knobStyles:Xt(tv).optional().default([]),layers:Xt(ev).optional().default([]),selectedIds:Xt(Ue()).optional(),snapToGrid:$n().optional().default(!1),gridSize:rt().optional().default(10),showGrid:$n().optional().default(!1),gridColor:Ue().optional().default("#ffffff"),lastModified:rt().optional()}),t9=Yt({version:Ue(),windows:Xt(r4),elements:Xt(rv),assets:Xt(Q0).optional().default([]),knobStyles:Xt(tv).optional().default([]),elementStyles:Xt(qR).optional().default([]),layers:Xt(ev).optional().default([]),selectedIds:Xt(Ue()).optional(),snapToGrid:$n().optional().default(!1),gridSize:rt().optional().default(10),showGrid:$n().optional().default(!1),gridColor:Ue().optional().default("#ffffff"),lastModified:rt().optional()});J0([t9,e9,QR]);const r9="modulepreload",n9=function(e,t){return new URL(e,t).href},O1={},_p=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let s=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};const d=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=s(r.map(h=>{if(h=n9(h,n),h in O1)return;O1[h]=!0;const p=h.endsWith(".css"),l=p?'[rel="stylesheet"]':"";if(!!n)for(let b=d.length-1;b>=0;b--){const S=d[b];if(S.href===h&&(!p||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${l}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":r9,p||(m.as="script"),m.crossOrigin="",m.href=h,u&&m.setAttribute("nonce",u),document.head.appendChild(m),p)return new Promise((b,S)=>{m.addEventListener("load",b),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(s){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=s,window.dispatchEvent(d),!d.defaultPrevented)throw s}return i.then(s=>{for(const d of s||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},a9=(e,t,r)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})},i9=[{id:"effect-starter",name:"Effect Starter",description:"Basic effect with volume control and output meter",category:"effect"},{id:"instrument-starter",name:"Instrument Starter",description:"Instrument with ADSR envelope and gain control",category:"instrument"},{id:"test-template",name:"Test Template",description:"All element types for testing (controls, meters, visualizations)",category:"test"}];async function o9(e){if(!i9.find(n=>n.id===e))throw new Error(`Unknown template: ${e}`);return(await a9(Object.assign({"../../templates/effect-starter.json":()=>_p(()=>Promise.resolve().then(()=>c$),void 0,import.meta.url),"../../templates/instrument-starter.json":()=>_p(()=>Promise.resolve().then(()=>u$),void 0,import.meta.url),"../../templates/test-template.json":()=>_p(()=>Promise.resolve().then(()=>d$),void 0,import.meta.url)}),`../../templates/${e}.json`,4)).default}function Od(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var F1;function s9(){return F1||(F1=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,o){function s(u,h){if(!i[u]){if(!n[u]){var p=typeof Od=="function"&&Od;if(!h&&p)return p(u,!0);if(d)return d(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=i[u]={exports:{}};n[u][0].call(f.exports,function(m){var b=n[u][1][m];return s(b||m)},f,f.exports,r,n,i,o)}return i[u].exports}for(var d=typeof Od=="function"&&Od,c=0;c<o.length;c++)s(o[c]);return s})({1:[function(r,n,i){var o=r("./utils"),s=r("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,h,p,l,f,m,b,S=[],x=0,w=c.length,y=w,_=o.getTypeOf(c)!=="string";x<c.length;)y=w-x,p=_?(u=c[x++],h=x<w?c[x++]:0,x<w?c[x++]:0):(u=c.charCodeAt(x++),h=x<w?c.charCodeAt(x++):0,x<w?c.charCodeAt(x++):0),l=u>>2,f=(3&u)<<4|h>>4,m=1<y?(15&h)<<2|p>>6:64,b=2<y?63&p:64,S.push(d.charAt(l)+d.charAt(f)+d.charAt(m)+d.charAt(b));return S.join("")},i.decode=function(c){var u,h,p,l,f,m,b=0,S=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,y=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===d.charAt(64)&&y--,c.charAt(c.length-2)===d.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|y):new Array(0|y);b<c.length;)u=d.indexOf(c.charAt(b++))<<2|(l=d.indexOf(c.charAt(b++)))>>4,h=(15&l)<<4|(f=d.indexOf(c.charAt(b++)))>>2,p=(3&f)<<6|(m=d.indexOf(c.charAt(b++))),w[S++]=u,f!==64&&(w[S++]=h),m!==64&&(w[S++]=p);return w}},{"./support":30,"./utils":32}],2:[function(r,n,i){var o=r("./external"),s=r("./stream/DataWorker"),d=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(h,p,l,f,m){this.compressedSize=h,this.uncompressedSize=p,this.crc32=l,this.compression=f,this.compressedContent=m}u.prototype={getContentWorker:function(){var h=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,p,l){return h.pipe(new d).pipe(new c("uncompressedSize")).pipe(p.compressWorker(l)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var o=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var o=r("./utils"),s=(function(){for(var d,c=[],u=0;u<256;u++){d=u;for(var h=0;h<8;h++)d=1&d?3988292384^d>>>1:d>>>1;c[u]=d}return c})();n.exports=function(d,c){return d!==void 0&&d.length?o.getTypeOf(d)!=="string"?(function(u,h,p,l){var f=s,m=l+p;u^=-1;for(var b=l;b<m;b++)u=u>>>8^f[255&(u^h[b])];return-1^u})(0|c,d,d.length,0):(function(u,h,p,l){var f=s,m=l+p;u^=-1;for(var b=l;b<m;b++)u=u>>>8^f[255&(u^h.charCodeAt(b))];return-1^u})(0|c,d,d.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var o=null;o=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:o}},{lie:37}],7:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),d=r("./utils"),c=r("./stream/GenericWorker"),u=o?"uint8array":"array";function h(p,l){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=l,this.meta={}}i.magic="\b\0",d.inherits(h,c),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(u,p.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(l){p.push({data:l,meta:p.meta})}},i.compressWorker=function(p){return new h("Deflate",p)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function o(f,m){var b,S="";for(b=0;b<m;b++)S+=String.fromCharCode(255&f),f>>>=8;return S}function s(f,m,b,S,x,w){var y,_,P=f.file,T=f.compression,M=w!==u.utf8encode,N=d.transformTo("string",w(P.name)),O=d.transformTo("string",u.utf8encode(P.name)),B=P.comment,Z=d.transformTo("string",w(B)),D=d.transformTo("string",u.utf8encode(B)),U=O.length!==P.name.length,z=D.length!==B.length,G="",ne="",A="",k=P.dir,j=P.date,$={crc32:0,compressedSize:0,uncompressedSize:0};m&&!b||($.crc32=f.crc32,$.compressedSize=f.compressedSize,$.uncompressedSize=f.uncompressedSize);var F=0;m&&(F|=8),M||!U&&!z||(F|=2048);var R=0,W=0;k&&(R|=16),x==="UNIX"?(W=798,R|=(function(te,ie){var J=te;return te||(J=ie?16893:33204),(65535&J)<<16})(P.unixPermissions,k)):(W=20,R|=(function(te){return 63&(te||0)})(P.dosPermissions)),y=j.getUTCHours(),y<<=6,y|=j.getUTCMinutes(),y<<=5,y|=j.getUTCSeconds()/2,_=j.getUTCFullYear()-1980,_<<=4,_|=j.getUTCMonth()+1,_<<=5,_|=j.getUTCDate(),U&&(ne=o(1,1)+o(h(N),4)+O,G+="up"+o(ne.length,2)+ne),z&&(A=o(1,1)+o(h(Z),4)+D,G+="uc"+o(A.length,2)+A);var Y="";return Y+=`
\0`,Y+=o(F,2),Y+=T.magic,Y+=o(y,2),Y+=o(_,2),Y+=o($.crc32,4),Y+=o($.compressedSize,4),Y+=o($.uncompressedSize,4),Y+=o(N.length,2),Y+=o(G.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Y+N+G,dirRecord:p.CENTRAL_FILE_HEADER+o(W,2)+Y+o(Z.length,2)+"\0\0\0\0"+o(R,4)+o(S,4)+N+G+Z}}var d=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),h=r("../crc32"),p=r("../signature");function l(f,m,b,S){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=b,this.encodeFileName=S,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(l,c),l.prototype.push=function(f){var m=f.meta.percent||0,b=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:b?(m+100*(b-S-1))/b:100}}))},l.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var b=s(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,b=s(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),m)this.push({data:(function(S){return p.DATA_DESCRIPTOR+o(S.crc32,4)+o(S.compressedSize,4)+o(S.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var b=this.bytesWritten-f,S=(function(x,w,y,_,P){var T=d.transformTo("string",P(_));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(w,4)+o(y,4)+o(T.length,2)+T})(this.dirRecords.length,b,f,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(b){m.processChunk(b)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(b){m.error(b)}),this},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(f){var m=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var b=0;b<m.length;b++)try{m[b].error(f)}catch{}return!0},l.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},n.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var o=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(d,c,u){var h=new s(c.streamFiles,u,c.platform,c.encodeFileName),p=0;try{d.forEach(function(l,f){p++;var m=(function(w,y){var _=w||y,P=o[_];if(!P)throw new Error(_+" is not a valid compression method !");return P})(f.options.compression,c.compression),b=f.options.compressionOptions||c.compressionOptions||{},S=f.dir,x=f.date;f._compressWorker(m,b).withStreamInfo("file",{name:l,dir:S,date:x,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(l){h.error(l)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var d in this)typeof this[d]!="function"&&(s[d]=this[d]);return s}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(s,d){return new o().loadAsync(s,d)},o.external=r("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var o=r("./utils"),s=r("./external"),d=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function p(l){return new s.Promise(function(f,m){var b=l.decompressed.getContentWorker().pipe(new u);b.on("error",function(S){m(S)}).on("end",function(){b.streamInfo.crc32!==l.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(l,f){var m=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),h.isNode&&h.isStream(l)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",l,!0,f.optimizedBinaryString,f.base64).then(function(b){var S=new c(f);return S.load(b),S}).then(function(b){var S=[s.Promise.resolve(b)],x=b.files;if(f.checkCRC32)for(var w=0;w<x.length;w++)S.push(p(x[w]));return s.Promise.all(S)}).then(function(b){for(var S=b.shift(),x=S.files,w=0;w<x.length;w++){var y=x[w],_=y.fileNameStr,P=o.resolve(y.fileNameStr);m.file(P,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders}),y.dir||(m.file(P).unsafeOriginalName=_)}return S.zipComment.length&&(m.comment=S.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var o=r("../utils"),s=r("../stream/GenericWorker");function d(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(d,s),d.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},d.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var o=r("readable-stream").Readable;function s(d,c,u){o.call(this,c),this._helper=d;var h=this;d.on("data",function(p,l){h.push(p)||h._helper.pause(),u&&u(l)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}r("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,n,i){function o(P,T,M){var N,O=d.getTypeOf(T),B=d.extend(M||{},h);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(P=x(P)),B.createFolders&&(N=S(P))&&w.call(this,N,!0);var Z=O==="string"&&B.binary===!1&&B.base64===!1;M&&M.binary!==void 0||(B.binary=!Z),(T instanceof p&&T.uncompressedSize===0||B.dir||!T||T.length===0)&&(B.base64=!1,B.binary=!0,T="",B.compression="STORE",O="string");var D=null;D=T instanceof p||T instanceof c?T:m.isNode&&m.isStream(T)?new b(P,T):d.prepareContent(P,T,B.binary,B.optimizedBinaryString,B.base64);var U=new l(P,D,B);this.files[P]=U}var s=r("./utf8"),d=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),h=r("./defaults"),p=r("./compressedObject"),l=r("./zipObject"),f=r("./generate"),m=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),S=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var T=P.lastIndexOf("/");return 0<T?P.substring(0,T):""},x=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},w=function(P,T){return T=T!==void 0?T:h.createFolders,P=x(P),this.files[P]||o.call(this,P,null,{dir:!0,createFolders:T}),this.files[P]};function y(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var T,M,N;for(T in this.files)N=this.files[T],(M=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&P(M,N)},filter:function(P){var T=[];return this.forEach(function(M,N){P(M,N)&&T.push(N)}),T},file:function(P,T,M){if(arguments.length!==1)return P=this.root+P,o.call(this,P,T,M),this;if(y(P)){var N=P;return this.filter(function(B,Z){return!Z.dir&&N.test(B)})}var O=this.files[this.root+P];return O&&!O.dir?O:null},folder:function(P){if(!P)return this;if(y(P))return this.filter(function(O,B){return B.dir&&P.test(O)});var T=this.root+P,M=w.call(this,T),N=this.clone();return N.root=M.name,N},remove:function(P){P=this.root+P;var T=this.files[P];if(T||(P.slice(-1)!=="/"&&(P+="/"),T=this.files[P]),T&&!T.dir)delete this.files[P];else for(var M=this.filter(function(O,B){return B.name.slice(0,P.length)===P}),N=0;N<M.length;N++)delete this.files[M[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var T,M={};try{if((M=d.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");d.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var N=M.comment||this.comment||"";T=f.generateWorker(this,M,N)}catch(O){(T=new c("error")).error(O)}return new u(T,M.type||"string",M.mimeType)},generateAsync:function(P,T){return this.generateInternalStream(P).accumulate(T)},generateNodeStream:function(P,T){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(T)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var o=r("./DataReader");function s(d){o.call(this,d);for(var c=0;c<this.data.length;c++)d[c]=255&d[c]}r("../utils").inherits(s,o),s.prototype.byteAt=function(d){return this.data[this.zero+d]},s.prototype.lastIndexOfSignature=function(d){for(var c=d.charCodeAt(0),u=d.charCodeAt(1),h=d.charCodeAt(2),p=d.charCodeAt(3),l=this.length-4;0<=l;--l)if(this.data[l]===c&&this.data[l+1]===u&&this.data[l+2]===h&&this.data[l+3]===p)return l-this.zero;return-1},s.prototype.readAndCheckSignature=function(d){var c=d.charCodeAt(0),u=d.charCodeAt(1),h=d.charCodeAt(2),p=d.charCodeAt(3),l=this.readData(4);return c===l[0]&&u===l[1]&&h===l[2]&&p===l[3]},s.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var o=r("../utils");function s(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var c,u=0;for(this.checkOffset(d),c=this.index+d-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=d,u},readString:function(d){return o.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var o=r("./Uint8ArrayReader");function s(d){o.call(this,d)}r("../utils").inherits(s,o),s.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var o=r("./DataReader");function s(d){o.call(this,d)}r("../utils").inherits(s,o),s.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},s.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},s.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},s.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var o=r("./ArrayReader");function s(d){o.call(this,d)}r("../utils").inherits(s,o),s.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var o=r("../utils"),s=r("../support"),d=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(p){var l=o.getTypeOf(p);return o.checkSupport(l),l!=="string"||s.uint8array?l==="nodebuffer"?new u(p):s.uint8array?new h(o.transformTo("uint8array",p)):new d(o.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var o=r("./GenericWorker"),s=r("../utils");function d(c){o.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(d,o),d.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},n.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var o=r("./GenericWorker"),s=r("../crc32");function d(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(d,o),d.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var o=r("../utils"),s=r("./GenericWorker");function d(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(d,s),d.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},n.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var o=r("../utils"),s=r("./GenericWorker");function d(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=o.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}o.inherits(d,s),d.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,d){return this._listeners[s].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,d){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,d)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var d=this;return s.on("data",function(c){d.processChunk(c)}),s.on("end",function(){d.end()}),s.on("error",function(c){d.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,d){return this.extraStreamInfo[s]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=o},{}],29:[function(r,n,i){var o=r("../utils"),s=r("./ConvertWorker"),d=r("./GenericWorker"),c=r("../base64"),u=r("../support"),h=r("../external"),p=null;if(u.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function l(m,b){return new h.Promise(function(S,x){var w=[],y=m._internalType,_=m._outputType,P=m._mimeType;m.on("data",function(T,M){w.push(T),b&&b(M)}).on("error",function(T){w=[],x(T)}).on("end",function(){try{var T=(function(M,N,O){switch(M){case"blob":return o.newBlob(o.transformTo("arraybuffer",N),O);case"base64":return c.encode(N);default:return o.transformTo(M,N)}})(_,(function(M,N){var O,B=0,Z=null,D=0;for(O=0;O<N.length;O++)D+=N[O].length;switch(M){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(Z=new Uint8Array(D),O=0;O<N.length;O++)Z.set(N[O],B),B+=N[O].length;return Z;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+M+"'")}})(y,w),P);S(T)}catch(M){x(M)}w=[]}).resume()})}function f(m,b,S){var x=b;switch(b){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=b,this._mimeType=S,o.checkSupport(x),this._worker=m.pipe(new s(x)),m.lock()}catch(w){this._worker=new d("error"),this._worker.error(w)}}f.prototype={accumulate:function(m){return l(this,m)},on:function(m,b){var S=this;return m==="data"?this._worker.on(m,function(x){b.call(S,x.data,x.meta)}):this._worker.on(m,function(){o.delay(b,arguments,S)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},m)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var o=r("./utils"),s=r("./support"),d=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function l(){c.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?d.newBufferFrom(f,"utf-8"):(function(m){var b,S,x,w,y,_=m.length,P=0;for(w=0;w<_;w++)(64512&(S=m.charCodeAt(w)))==55296&&w+1<_&&(64512&(x=m.charCodeAt(w+1)))==56320&&(S=65536+(S-55296<<10)+(x-56320),w++),P+=S<128?1:S<2048?2:S<65536?3:4;for(b=s.uint8array?new Uint8Array(P):new Array(P),w=y=0;y<P;w++)(64512&(S=m.charCodeAt(w)))==55296&&w+1<_&&(64512&(x=m.charCodeAt(w+1)))==56320&&(S=65536+(S-55296<<10)+(x-56320),w++),S<128?b[y++]=S:(S<2048?b[y++]=192|S>>>6:(S<65536?b[y++]=224|S>>>12:(b[y++]=240|S>>>18,b[y++]=128|S>>>12&63),b[y++]=128|S>>>6&63),b[y++]=128|63&S);return b})(f)},i.utf8decode=function(f){return s.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):(function(m){var b,S,x,w,y=m.length,_=new Array(2*y);for(b=S=0;b<y;)if((x=m[b++])<128)_[S++]=x;else if(4<(w=u[x]))_[S++]=65533,b+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&b<y;)x=x<<6|63&m[b++],w--;1<w?_[S++]=65533:x<65536?_[S++]=x:(x-=65536,_[S++]=55296|x>>10&1023,_[S++]=56320|1023&x)}return _.length!==S&&(_.subarray?_=_.subarray(0,S):_.length=S),o.applyFromCharCode(_)})(f=o.transformTo(s.uint8array?"uint8array":"array",f))},o.inherits(p,c),p.prototype.processChunk=function(f){var m=o.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var b=m;(m=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),m.set(b,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var S=(function(w,y){var _;for((y=y||w.length)>w.length&&(y=w.length),_=y-1;0<=_&&(192&w[_])==128;)_--;return _<0||_===0?y:_+u[w[_]]>y?_:y})(m),x=m;S!==m.length&&(s.uint8array?(x=m.subarray(0,S),this.leftOver=m.subarray(S,m.length)):(x=m.slice(0,S),this.leftOver=m.slice(S,m.length))),this.push({data:i.utf8decode(x),meta:f.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,o.inherits(l,c),l.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var o=r("./support"),s=r("./base64"),d=r("./nodejsUtils"),c=r("./external");function u(b){return b}function h(b,S){for(var x=0;x<b.length;++x)S[x]=255&b.charCodeAt(x);return S}r("setimmediate"),i.newBlob=function(b,S){i.checkSupport("blob");try{return new Blob([b],{type:S})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(b),x.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,S,x){var w=[],y=0,_=b.length;if(_<=x)return String.fromCharCode.apply(null,b);for(;y<_;)S==="array"||S==="nodebuffer"?w.push(String.fromCharCode.apply(null,b.slice(y,Math.min(y+x,_)))):w.push(String.fromCharCode.apply(null,b.subarray(y,Math.min(y+x,_)))),y+=x;return w.join("")},stringifyByChar:function(b){for(var S="",x=0;x<b.length;x++)S+=String.fromCharCode(b[x]);return S},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function l(b){var S=65536,x=i.getTypeOf(b),w=!0;if(x==="uint8array"?w=p.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=p.applyCanBeUsed.nodebuffer),w)for(;1<S;)try{return p.stringifyByChunk(b,x,S)}catch{S=Math.floor(S/2)}return p.stringifyByChar(b)}function f(b,S){for(var x=0;x<b.length;x++)S[x]=b[x];return S}i.applyFromCharCode=l;var m={};m.string={string:u,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return m.string.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:function(b){return h(b,d.allocBuffer(b.length))}},m.array={string:l,array:u,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(b)}},m.arraybuffer={string:function(b){return l(new Uint8Array(b))},array:function(b){return f(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:u,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(new Uint8Array(b))}},m.uint8array={string:l,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:u,nodebuffer:function(b){return d.newBufferFrom(b)}},m.nodebuffer={string:l,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return m.nodebuffer.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:u},i.transformTo=function(b,S){if(S=S||"",!b)return S;i.checkSupport(b);var x=i.getTypeOf(S);return m[x][b](S)},i.resolve=function(b){for(var S=b.split("/"),x=[],w=0;w<S.length;w++){var y=S[w];y==="."||y===""&&w!==0&&w!==S.length-1||(y===".."?x.pop():x.push(y))}return x.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&d.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var S,x,w="";for(x=0;x<(b||"").length;x++)w+="\\x"+((S=b.charCodeAt(x))<16?"0":"")+S.toString(16).toUpperCase();return w},i.delay=function(b,S,x){setImmediate(function(){b.apply(x||null,S||[])})},i.inherits=function(b,S){function x(){}x.prototype=S.prototype,b.prototype=new x},i.extend=function(){var b,S,x={};for(b=0;b<arguments.length;b++)for(S in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],S)&&x[S]===void 0&&(x[S]=arguments[b][S]);return x},i.prepareContent=function(b,S,x,w,y){return c.Promise.resolve(S).then(function(_){return o.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(P,T){var M=new FileReader;M.onload=function(N){P(N.target.result)},M.onerror=function(N){T(N.target.error)},M.readAsArrayBuffer(_)}):_}).then(function(_){var P=i.getTypeOf(_);return P?(P==="arraybuffer"?_=i.transformTo("uint8array",_):P==="string"&&(y?_=s.decode(_):x&&w!==!0&&(_=(function(T){return h(T,o.uint8array?new Uint8Array(T.length):new Array(T.length))})(_))),_):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var o=r("./reader/readerFor"),s=r("./utils"),d=r("./signature"),c=r("./zipEntry"),u=r("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var l=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(l)+", expected "+s.pretty(p)+")")}},isSignature:function(p,l){var f=this.reader.index;this.reader.setIndex(p);var m=this.reader.readString(4)===l;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),l=u.uint8array?"uint8array":"array",f=s.transformTo(l,p);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,l,f,m=this.zip64EndOfCentralSize-44;0<m;)p=this.reader.readInt(2),l=this.reader.readInt(4),f=this.reader.readData(l),this.zip64ExtensibleData[p]={id:p,length:l,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,l;for(p=0;p<this.files.length;p++)l=this.files[p],this.reader.setIndex(l.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),l.readLocalPart(this.reader),l.handleUTF8(),l.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var l=p;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=l-f;if(0<m)this.isSignature(l,d.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var o=r("./reader/readerFor"),s=r("./utils"),d=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),h=r("./compressions"),p=r("./support");function l(f,m){this.options=f,this.loadOptions=m}l.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,b;if(f.skip(22),this.fileNameLength=f.readInt(2),b=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(S){for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)&&h[x].magic===S)return h[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,b,S,x=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<x;)m=f.readInt(2),b=f.readInt(2),S=f.readData(b),this.extraFields[m]={id:m,length:b,value:S};f.setIndex(x)},handleUTF8:function(){var f=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var b=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var x=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=o(f.value);return m.readInt(1)!==1||c(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=o(f.value);return m.readInt(1)!==1||c(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null}},n.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function o(m,b,S){this.name=m,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=b,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var s=r("./stream/StreamHelper"),d=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),h=r("./stream/GenericWorker");o.prototype={internalStream:function(m){var b=null,S="string";try{if(!m)throw new Error("No output type specified.");var x=(S=m.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),b=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(b=b.pipe(new c.Utf8EncodeWorker)),!w&&x&&(b=b.pipe(new c.Utf8DecodeWorker))}catch(y){(b=new h("error")).error(y)}return new s(b,S,"")},async:function(m,b){return this.internalStream(m).accumulate(b)},nodeStream:function(m,b){return this.internalStream(m||"nodebuffer").toNodejsStream(b)},_compressWorker:function(m,b){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(S,m,b)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new d(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<p.length;f++)o.prototype[p[f]]=l;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(o){var s,d,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var u=0,h=new c(m),p=o.document.createTextNode("");h.observe(p,{characterData:!0}),s=function(){p.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){m(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(m,0)};else{var l=new o.MessageChannel;l.port1.onmessage=m,s=function(){l.port2.postMessage(0)}}var f=[];function m(){var b,S;d=!0;for(var x=f.length;x;){for(S=f,f=[],b=-1;++b<x;)S[b]();x=f.length}d=!1}n.exports=function(b){f.push(b)!==1||d||s()}}).call(this,typeof ls<"u"?ls:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var o=r("immediate");function s(){}var d={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function p(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,x!==s&&b(this,x)}function l(x,w,y){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function f(x,w,y){o(function(){var _;try{_=w(y)}catch(P){return d.reject(x,P)}_===x?d.reject(x,new TypeError("Cannot resolve promise with itself")):d.resolve(x,_)})}function m(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function b(x,w){var y=!1;function _(M){y||(y=!0,d.reject(x,M))}function P(M){y||(y=!0,d.resolve(x,M))}var T=S(function(){w(P,_)});T.status==="error"&&_(T.value)}function S(x,w){var y={};try{y.value=x(w),y.status="success"}catch(_){y.status="error",y.value=_}return y}(n.exports=p).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(y){return w.resolve(x()).then(function(){return y})},function(y){return w.resolve(x()).then(function(){throw y})})},p.prototype.catch=function(x){return this.then(null,x)},p.prototype.then=function(x,w){if(typeof x!="function"&&this.state===u||typeof w!="function"&&this.state===c)return this;var y=new this.constructor(s);return this.state!==h?f(y,this.state===u?x:w,this.outcome):this.queue.push(new l(y,x,w)),y},l.prototype.callFulfilled=function(x){d.resolve(this.promise,x)},l.prototype.otherCallFulfilled=function(x){f(this.promise,this.onFulfilled,x)},l.prototype.callRejected=function(x){d.reject(this.promise,x)},l.prototype.otherCallRejected=function(x){f(this.promise,this.onRejected,x)},d.resolve=function(x,w){var y=S(m,w);if(y.status==="error")return d.reject(x,y.value);var _=y.value;if(_)b(x,_);else{x.state=u,x.outcome=w;for(var P=-1,T=x.queue.length;++P<T;)x.queue[P].callFulfilled(w)}return x},d.reject=function(x,w){x.state=c,x.outcome=w;for(var y=-1,_=x.queue.length;++y<_;)x.queue[y].callRejected(w);return x},p.resolve=function(x){return x instanceof this?x:d.resolve(new this(s),x)},p.reject=function(x){var w=new this(s);return d.reject(w,x)},p.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=x.length,_=!1;if(!y)return this.resolve([]);for(var P=new Array(y),T=0,M=-1,N=new this(s);++M<y;)O(x[M],M);return N;function O(B,Z){w.resolve(B).then(function(D){P[Z]=D,++T!==y||_||(_=!0,d.resolve(N,P))},function(D){_||(_=!0,d.reject(N,D))})}},p.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=x.length,_=!1;if(!y)return this.resolve([]);for(var P=-1,T=new this(s);++P<y;)M=x[P],w.resolve(M).then(function(N){_||(_=!0,d.resolve(T,N))},function(N){_||(_=!0,d.reject(T,N))});var M;return T}},{immediate:36}],38:[function(r,n,i){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var o=r("./zlib/deflate"),s=r("./utils/common"),d=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=Object.prototype.toString,p=0,l=-1,f=0,m=8;function b(x){if(!(this instanceof b))return new b(x);this.options=s.assign({level:l,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=o.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(y!==p)throw new Error(c[y]);if(w.header&&o.deflateSetHeader(this.strm,w.header),w.dictionary){var _;if(_=typeof w.dictionary=="string"?d.string2buf(w.dictionary):h.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(y=o.deflateSetDictionary(this.strm,_))!==p)throw new Error(c[y]);this._dict_set=!0}}function S(x,w){var y=new b(w);if(y.push(x,!0),y.err)throw y.msg||c[y.err];return y.result}b.prototype.push=function(x,w){var y,_,P=this.strm,T=this.options.chunkSize;if(this.ended)return!1;_=w===~~w?w:w===!0?4:0,typeof x=="string"?P.input=d.string2buf(x):h.call(x)==="[object ArrayBuffer]"?P.input=new Uint8Array(x):P.input=x,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(T),P.next_out=0,P.avail_out=T),(y=o.deflate(P,_))!==1&&y!==p)return this.onEnd(y),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(s.shrinkBuf(P.output,P.next_out))):this.onData(s.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&y!==1);return _===4?(y=o.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===p):_!==2||(this.onEnd(p),!(P.avail_out=0))},b.prototype.onData=function(x){this.chunks.push(x)},b.prototype.onEnd=function(x){x===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=b,i.deflate=S,i.deflateRaw=function(x,w){return(w=w||{}).raw=!0,S(x,w)},i.gzip=function(x,w){return(w=w||{}).gzip=!0,S(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var o=r("./zlib/inflate"),s=r("./utils/common"),d=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),h=r("./zlib/zstream"),p=r("./zlib/gzheader"),l=Object.prototype.toString;function f(b){if(!(this instanceof f))return new f(b);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},b||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||b&&b.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,S.windowBits);if(x!==c.Z_OK)throw new Error(u[x]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function m(b,S){var x=new f(S);if(x.push(b,!0),x.err)throw x.msg||u[x.err];return x.result}f.prototype.push=function(b,S){var x,w,y,_,P,T,M=this.strm,N=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;w=S===~~S?S:S===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?M.input=d.binstring2buf(b):l.call(b)==="[object ArrayBuffer]"?M.input=new Uint8Array(b):M.input=b,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(N),M.next_out=0,M.avail_out=N),(x=o.inflate(M,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(T=typeof O=="string"?d.string2buf(O):l.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,x=o.inflateSetDictionary(this.strm,T)),x===c.Z_BUF_ERROR&&B===!0&&(x=c.Z_OK,B=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&x!==c.Z_STREAM_END&&(M.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=d.utf8border(M.output,M.next_out),_=M.next_out-y,P=d.buf2string(M.output,y),M.next_out=_,M.avail_out=N-_,_&&s.arraySet(M.output,M.output,y,_,0),this.onData(P)):this.onData(s.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(B=!0)}while((0<M.avail_in||M.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(M.avail_out=0))},f.prototype.onData=function(b){this.chunks.push(b)},f.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=f,i.inflate=m,i.inflateRaw=function(b,S){return(S=S||{}).raw=!0,m(b,S)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,h,p,l){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+p),l);else for(var f=0;f<p;f++)c[l+f]=u[h+f]},flattenChunks:function(c){var u,h,p,l,f,m;for(u=p=0,h=c.length;u<h;u++)p+=c[u].length;for(m=new Uint8Array(p),u=l=0,h=c.length;u<h;u++)f=c[u],m.set(f,l),l+=f.length;return m}},d={arraySet:function(c,u,h,p,l){for(var f=0;f<p;f++)c[l+f]=u[h+f]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,d))},i.setTyped(o)},{}],42:[function(r,n,i){var o=r("./common"),s=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var c=new o.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(p,l){if(l<65537&&(p.subarray&&d||!p.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(p,l));for(var f="",m=0;m<l;m++)f+=String.fromCharCode(p[m]);return f}c[254]=c[254]=1,i.string2buf=function(p){var l,f,m,b,S,x=p.length,w=0;for(b=0;b<x;b++)(64512&(f=p.charCodeAt(b)))==55296&&b+1<x&&(64512&(m=p.charCodeAt(b+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),b++),w+=f<128?1:f<2048?2:f<65536?3:4;for(l=new o.Buf8(w),b=S=0;S<w;b++)(64512&(f=p.charCodeAt(b)))==55296&&b+1<x&&(64512&(m=p.charCodeAt(b+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),b++),f<128?l[S++]=f:(f<2048?l[S++]=192|f>>>6:(f<65536?l[S++]=224|f>>>12:(l[S++]=240|f>>>18,l[S++]=128|f>>>12&63),l[S++]=128|f>>>6&63),l[S++]=128|63&f);return l},i.buf2binstring=function(p){return h(p,p.length)},i.binstring2buf=function(p){for(var l=new o.Buf8(p.length),f=0,m=l.length;f<m;f++)l[f]=p.charCodeAt(f);return l},i.buf2string=function(p,l){var f,m,b,S,x=l||p.length,w=new Array(2*x);for(f=m=0;f<x;)if((b=p[f++])<128)w[m++]=b;else if(4<(S=c[b]))w[m++]=65533,f+=S-1;else{for(b&=S===2?31:S===3?15:7;1<S&&f<x;)b=b<<6|63&p[f++],S--;1<S?w[m++]=65533:b<65536?w[m++]=b:(b-=65536,w[m++]=55296|b>>10&1023,w[m++]=56320|1023&b)}return h(w,m)},i.utf8border=function(p,l){var f;for((l=l||p.length)>p.length&&(l=p.length),f=l-1;0<=f&&(192&p[f])==128;)f--;return f<0||f===0?l:f+c[p[f]]>l?f:l}},{"./common":41}],43:[function(r,n,i){n.exports=function(o,s,d,c){for(var u=65535&o|0,h=o>>>16&65535|0,p=0;d!==0;){for(d-=p=2e3<d?2e3:d;h=h+(u=u+s[c++]|0)|0,--p;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var o=(function(){for(var s,d=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;d[c]=s}return d})();n.exports=function(s,d,c,u){var h=o,p=u+c;s^=-1;for(var l=u;l<p;l++)s=s>>>8^h[255&(s^d[l])];return-1^s}},{}],46:[function(r,n,i){var o,s=r("../utils/common"),d=r("./trees"),c=r("./adler32"),u=r("./crc32"),h=r("./messages"),p=0,l=4,f=0,m=-2,b=-1,S=4,x=2,w=8,y=9,_=286,P=30,T=19,M=2*_+1,N=15,O=3,B=258,Z=B+O+1,D=42,U=113,z=1,G=2,ne=3,A=4;function k(H,Se){return H.msg=h[Se],Se}function j(H){return(H<<1)-(4<H?9:0)}function $(H){for(var Se=H.length;0<=--Se;)H[Se]=0}function F(H){var Se=H.state,Ce=Se.pending;Ce>H.avail_out&&(Ce=H.avail_out),Ce!==0&&(s.arraySet(H.output,Se.pending_buf,Se.pending_out,Ce,H.next_out),H.next_out+=Ce,Se.pending_out+=Ce,H.total_out+=Ce,H.avail_out-=Ce,Se.pending-=Ce,Se.pending===0&&(Se.pending_out=0))}function R(H,Se){d._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,Se),H.block_start=H.strstart,F(H.strm)}function W(H,Se){H.pending_buf[H.pending++]=Se}function Y(H,Se){H.pending_buf[H.pending++]=Se>>>8&255,H.pending_buf[H.pending++]=255&Se}function te(H,Se){var Ce,se,ae=H.max_chain_length,xe=H.strstart,$e=H.prev_length,ue=H.nice_match,V=H.strstart>H.w_size-Z?H.strstart-(H.w_size-Z):0,me=H.window,pe=H.w_mask,ke=H.prev,Ie=H.strstart+B,Re=me[xe+$e-1],Be=me[xe+$e];H.prev_length>=H.good_match&&(ae>>=2),ue>H.lookahead&&(ue=H.lookahead);do if(me[(Ce=Se)+$e]===Be&&me[Ce+$e-1]===Re&&me[Ce]===me[xe]&&me[++Ce]===me[xe+1]){xe+=2,Ce++;do;while(me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&me[++xe]===me[++Ce]&&xe<Ie);if(se=B-(Ie-xe),xe=Ie-B,$e<se){if(H.match_start=Se,ue<=($e=se))break;Re=me[xe+$e-1],Be=me[xe+$e]}}while((Se=ke[Se&pe])>V&&--ae!=0);return $e<=H.lookahead?$e:H.lookahead}function ie(H){var Se,Ce,se,ae,xe,$e,ue,V,me,pe,ke=H.w_size;do{if(ae=H.window_size-H.lookahead-H.strstart,H.strstart>=ke+(ke-Z)){for(s.arraySet(H.window,H.window,ke,ke,0),H.match_start-=ke,H.strstart-=ke,H.block_start-=ke,Se=Ce=H.hash_size;se=H.head[--Se],H.head[Se]=ke<=se?se-ke:0,--Ce;);for(Se=Ce=ke;se=H.prev[--Se],H.prev[Se]=ke<=se?se-ke:0,--Ce;);ae+=ke}if(H.strm.avail_in===0)break;if($e=H.strm,ue=H.window,V=H.strstart+H.lookahead,me=ae,pe=void 0,pe=$e.avail_in,me<pe&&(pe=me),Ce=pe===0?0:($e.avail_in-=pe,s.arraySet(ue,$e.input,$e.next_in,pe,V),$e.state.wrap===1?$e.adler=c($e.adler,ue,pe,V):$e.state.wrap===2&&($e.adler=u($e.adler,ue,pe,V)),$e.next_in+=pe,$e.total_in+=pe,pe),H.lookahead+=Ce,H.lookahead+H.insert>=O)for(xe=H.strstart-H.insert,H.ins_h=H.window[xe],H.ins_h=(H.ins_h<<H.hash_shift^H.window[xe+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[xe+O-1])&H.hash_mask,H.prev[xe&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=xe,xe++,H.insert--,!(H.lookahead+H.insert<O)););}while(H.lookahead<Z&&H.strm.avail_in!==0)}function J(H,Se){for(var Ce,se;;){if(H.lookahead<Z){if(ie(H),H.lookahead<Z&&Se===p)return z;if(H.lookahead===0)break}if(Ce=0,H.lookahead>=O&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+O-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),Ce!==0&&H.strstart-Ce<=H.w_size-Z&&(H.match_length=te(H,Ce)),H.match_length>=O)if(se=d._tr_tally(H,H.strstart-H.match_start,H.match_length-O),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=O){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+O-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else se=d._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(se&&(R(H,!1),H.strm.avail_out===0))return z}return H.insert=H.strstart<O-1?H.strstart:O-1,Se===l?(R(H,!0),H.strm.avail_out===0?ne:A):H.last_lit&&(R(H,!1),H.strm.avail_out===0)?z:G}function ee(H,Se){for(var Ce,se,ae;;){if(H.lookahead<Z){if(ie(H),H.lookahead<Z&&Se===p)return z;if(H.lookahead===0)break}if(Ce=0,H.lookahead>=O&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+O-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=O-1,Ce!==0&&H.prev_length<H.max_lazy_match&&H.strstart-Ce<=H.w_size-Z&&(H.match_length=te(H,Ce),H.match_length<=5&&(H.strategy===1||H.match_length===O&&4096<H.strstart-H.match_start)&&(H.match_length=O-1)),H.prev_length>=O&&H.match_length<=H.prev_length){for(ae=H.strstart+H.lookahead-O,se=d._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-O),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=ae&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+O-1])&H.hash_mask,Ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=O-1,H.strstart++,se&&(R(H,!1),H.strm.avail_out===0))return z}else if(H.match_available){if((se=d._tr_tally(H,0,H.window[H.strstart-1]))&&R(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return z}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(se=d._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<O-1?H.strstart:O-1,Se===l?(R(H,!0),H.strm.avail_out===0?ne:A):H.last_lit&&(R(H,!1),H.strm.avail_out===0)?z:G}function Q(H,Se,Ce,se,ae){this.good_length=H,this.max_lazy=Se,this.nice_length=Ce,this.max_chain=se,this.func=ae}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*M),this.dyn_dtree=new s.Buf16(2*(2*P+1)),this.bl_tree=new s.Buf16(2*(2*T+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*_+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*_+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(H){var Se;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=x,(Se=H.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?D:U,H.adler=Se.wrap===2?0:1,Se.last_flush=p,d._tr_init(Se),f):k(H,m)}function ye(H){var Se=ge(H);return Se===f&&(function(Ce){Ce.window_size=2*Ce.w_size,$(Ce.head),Ce.max_lazy_match=o[Ce.level].max_lazy,Ce.good_match=o[Ce.level].good_length,Ce.nice_match=o[Ce.level].nice_length,Ce.max_chain_length=o[Ce.level].max_chain,Ce.strstart=0,Ce.block_start=0,Ce.lookahead=0,Ce.insert=0,Ce.match_length=Ce.prev_length=O-1,Ce.match_available=0,Ce.ins_h=0})(H.state),Se}function _e(H,Se,Ce,se,ae,xe){if(!H)return m;var $e=1;if(Se===b&&(Se=6),se<0?($e=0,se=-se):15<se&&($e=2,se-=16),ae<1||y<ae||Ce!==w||se<8||15<se||Se<0||9<Se||xe<0||S<xe)return k(H,m);se===8&&(se=9);var ue=new he;return(H.state=ue).strm=H,ue.wrap=$e,ue.gzhead=null,ue.w_bits=se,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=ae+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+O-1)/O),ue.window=new s.Buf8(2*ue.w_size),ue.head=new s.Buf16(ue.hash_size),ue.prev=new s.Buf16(ue.w_size),ue.lit_bufsize=1<<ae+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new s.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=Se,ue.strategy=xe,ue.method=Ce,ye(H)}o=[new Q(0,0,0,0,function(H,Se){var Ce=65535;for(Ce>H.pending_buf_size-5&&(Ce=H.pending_buf_size-5);;){if(H.lookahead<=1){if(ie(H),H.lookahead===0&&Se===p)return z;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var se=H.block_start+Ce;if((H.strstart===0||H.strstart>=se)&&(H.lookahead=H.strstart-se,H.strstart=se,R(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-Z&&(R(H,!1),H.strm.avail_out===0))return z}return H.insert=0,Se===l?(R(H,!0),H.strm.avail_out===0?ne:A):(H.strstart>H.block_start&&(R(H,!1),H.strm.avail_out),z)}),new Q(4,4,8,4,J),new Q(4,5,16,8,J),new Q(4,6,32,32,J),new Q(4,4,16,16,ee),new Q(8,16,32,32,ee),new Q(8,16,128,128,ee),new Q(8,32,128,256,ee),new Q(32,128,258,1024,ee),new Q(32,258,258,4096,ee)],i.deflateInit=function(H,Se){return _e(H,Se,w,15,8,0)},i.deflateInit2=_e,i.deflateReset=ye,i.deflateResetKeep=ge,i.deflateSetHeader=function(H,Se){return H&&H.state?H.state.wrap!==2?m:(H.state.gzhead=Se,f):m},i.deflate=function(H,Se){var Ce,se,ae,xe;if(!H||!H.state||5<Se||Se<0)return H?k(H,m):m;if(se=H.state,!H.output||!H.input&&H.avail_in!==0||se.status===666&&Se!==l)return k(H,H.avail_out===0?-5:m);if(se.strm=H,Ce=se.last_flush,se.last_flush=Se,se.status===D)if(se.wrap===2)H.adler=0,W(se,31),W(se,139),W(se,8),se.gzhead?(W(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),W(se,255&se.gzhead.time),W(se,se.gzhead.time>>8&255),W(se,se.gzhead.time>>16&255),W(se,se.gzhead.time>>24&255),W(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),W(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(W(se,255&se.gzhead.extra.length),W(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(H.adler=u(H.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(W(se,0),W(se,0),W(se,0),W(se,0),W(se,0),W(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),W(se,3),se.status=U);else{var $e=w+(se.w_bits-8<<4)<<8;$e|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&($e|=32),$e+=31-$e%31,se.status=U,Y(se,$e),se.strstart!==0&&(Y(se,H.adler>>>16),Y(se,65535&H.adler)),H.adler=1}if(se.status===69)if(se.gzhead.extra){for(ae=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),F(H),ae=se.pending,se.pending!==se.pending_buf_size));)W(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){ae=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),F(H),ae=se.pending,se.pending===se.pending_buf_size)){xe=1;break}xe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,W(se,xe)}while(xe!==0);se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),xe===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){ae=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),F(H),ae=se.pending,se.pending===se.pending_buf_size)){xe=1;break}xe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,W(se,xe)}while(xe!==0);se.gzhead.hcrc&&se.pending>ae&&(H.adler=u(H.adler,se.pending_buf,se.pending-ae,ae)),xe===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&F(H),se.pending+2<=se.pending_buf_size&&(W(se,255&H.adler),W(se,H.adler>>8&255),H.adler=0,se.status=U)):se.status=U),se.pending!==0){if(F(H),H.avail_out===0)return se.last_flush=-1,f}else if(H.avail_in===0&&j(Se)<=j(Ce)&&Se!==l)return k(H,-5);if(se.status===666&&H.avail_in!==0)return k(H,-5);if(H.avail_in!==0||se.lookahead!==0||Se!==p&&se.status!==666){var ue=se.strategy===2?(function(V,me){for(var pe;;){if(V.lookahead===0&&(ie(V),V.lookahead===0)){if(me===p)return z;break}if(V.match_length=0,pe=d._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,pe&&(R(V,!1),V.strm.avail_out===0))return z}return V.insert=0,me===l?(R(V,!0),V.strm.avail_out===0?ne:A):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?z:G})(se,Se):se.strategy===3?(function(V,me){for(var pe,ke,Ie,Re,Be=V.window;;){if(V.lookahead<=B){if(ie(V),V.lookahead<=B&&me===p)return z;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=O&&0<V.strstart&&(ke=Be[Ie=V.strstart-1])===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]){Re=V.strstart+B;do;while(ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&ke===Be[++Ie]&&Ie<Re);V.match_length=B-(Re-Ie),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=O?(pe=d._tr_tally(V,1,V.match_length-O),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(pe=d._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),pe&&(R(V,!1),V.strm.avail_out===0))return z}return V.insert=0,me===l?(R(V,!0),V.strm.avail_out===0?ne:A):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?z:G})(se,Se):o[se.level].func(se,Se);if(ue!==ne&&ue!==A||(se.status=666),ue===z||ue===ne)return H.avail_out===0&&(se.last_flush=-1),f;if(ue===G&&(Se===1?d._tr_align(se):Se!==5&&(d._tr_stored_block(se,0,0,!1),Se===3&&($(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),F(H),H.avail_out===0))return se.last_flush=-1,f}return Se!==l?f:se.wrap<=0?1:(se.wrap===2?(W(se,255&H.adler),W(se,H.adler>>8&255),W(se,H.adler>>16&255),W(se,H.adler>>24&255),W(se,255&H.total_in),W(se,H.total_in>>8&255),W(se,H.total_in>>16&255),W(se,H.total_in>>24&255)):(Y(se,H.adler>>>16),Y(se,65535&H.adler)),F(H),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?f:1)},i.deflateEnd=function(H){var Se;return H&&H.state?(Se=H.state.status)!==D&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==U&&Se!==666?k(H,m):(H.state=null,Se===U?k(H,-3):f):m},i.deflateSetDictionary=function(H,Se){var Ce,se,ae,xe,$e,ue,V,me,pe=Se.length;if(!H||!H.state||(xe=(Ce=H.state).wrap)===2||xe===1&&Ce.status!==D||Ce.lookahead)return m;for(xe===1&&(H.adler=c(H.adler,Se,pe,0)),Ce.wrap=0,pe>=Ce.w_size&&(xe===0&&($(Ce.head),Ce.strstart=0,Ce.block_start=0,Ce.insert=0),me=new s.Buf8(Ce.w_size),s.arraySet(me,Se,pe-Ce.w_size,Ce.w_size,0),Se=me,pe=Ce.w_size),$e=H.avail_in,ue=H.next_in,V=H.input,H.avail_in=pe,H.next_in=0,H.input=Se,ie(Ce);Ce.lookahead>=O;){for(se=Ce.strstart,ae=Ce.lookahead-(O-1);Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[se+O-1])&Ce.hash_mask,Ce.prev[se&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=se,se++,--ae;);Ce.strstart=se,Ce.lookahead=O-1,ie(Ce)}return Ce.strstart+=Ce.lookahead,Ce.block_start=Ce.strstart,Ce.insert=Ce.lookahead,Ce.lookahead=0,Ce.match_length=Ce.prev_length=O-1,Ce.match_available=0,H.next_in=ue,H.input=V,H.avail_in=$e,Ce.wrap=xe,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(o,s){var d,c,u,h,p,l,f,m,b,S,x,w,y,_,P,T,M,N,O,B,Z,D,U,z,G;d=o.state,c=o.next_in,z=o.input,u=c+(o.avail_in-5),h=o.next_out,G=o.output,p=h-(s-o.avail_out),l=h+(o.avail_out-257),f=d.dmax,m=d.wsize,b=d.whave,S=d.wnext,x=d.window,w=d.hold,y=d.bits,_=d.lencode,P=d.distcode,T=(1<<d.lenbits)-1,M=(1<<d.distbits)-1;e:do{y<15&&(w+=z[c++]<<y,y+=8,w+=z[c++]<<y,y+=8),N=_[w&T];t:for(;;){if(w>>>=O=N>>>24,y-=O,(O=N>>>16&255)===0)G[h++]=65535&N;else{if(!(16&O)){if((64&O)==0){N=_[(65535&N)+(w&(1<<O)-1)];continue t}if(32&O){d.mode=12;break e}o.msg="invalid literal/length code",d.mode=30;break e}B=65535&N,(O&=15)&&(y<O&&(w+=z[c++]<<y,y+=8),B+=w&(1<<O)-1,w>>>=O,y-=O),y<15&&(w+=z[c++]<<y,y+=8,w+=z[c++]<<y,y+=8),N=P[w&M];r:for(;;){if(w>>>=O=N>>>24,y-=O,!(16&(O=N>>>16&255))){if((64&O)==0){N=P[(65535&N)+(w&(1<<O)-1)];continue r}o.msg="invalid distance code",d.mode=30;break e}if(Z=65535&N,y<(O&=15)&&(w+=z[c++]<<y,(y+=8)<O&&(w+=z[c++]<<y,y+=8)),f<(Z+=w&(1<<O)-1)){o.msg="invalid distance too far back",d.mode=30;break e}if(w>>>=O,y-=O,(O=h-p)<Z){if(b<(O=Z-O)&&d.sane){o.msg="invalid distance too far back",d.mode=30;break e}if(U=x,(D=0)===S){if(D+=m-O,O<B){for(B-=O;G[h++]=x[D++],--O;);D=h-Z,U=G}}else if(S<O){if(D+=m+S-O,(O-=S)<B){for(B-=O;G[h++]=x[D++],--O;);if(D=0,S<B){for(B-=O=S;G[h++]=x[D++],--O;);D=h-Z,U=G}}}else if(D+=S-O,O<B){for(B-=O;G[h++]=x[D++],--O;);D=h-Z,U=G}for(;2<B;)G[h++]=U[D++],G[h++]=U[D++],G[h++]=U[D++],B-=3;B&&(G[h++]=U[D++],1<B&&(G[h++]=U[D++]))}else{for(D=h-Z;G[h++]=G[D++],G[h++]=G[D++],G[h++]=G[D++],2<(B-=3););B&&(G[h++]=G[D++],1<B&&(G[h++]=G[D++]))}break}}break}}while(c<u&&h<l);c-=B=y>>3,w&=(1<<(y-=B<<3))-1,o.next_in=c,o.next_out=h,o.avail_in=c<u?u-c+5:5-(c-u),o.avail_out=h<l?l-h+257:257-(h-l),d.hold=w,d.bits=y}},{}],49:[function(r,n,i){var o=r("../utils/common"),s=r("./adler32"),d=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),h=1,p=2,l=0,f=-2,m=1,b=852,S=592;function x(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(D){var U;return D&&D.state?(U=D.state,D.total_in=D.total_out=U.total=0,D.msg="",U.wrap&&(D.adler=1&U.wrap),U.mode=m,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new o.Buf32(b),U.distcode=U.distdyn=new o.Buf32(S),U.sane=1,U.back=-1,l):f}function _(D){var U;return D&&D.state?((U=D.state).wsize=0,U.whave=0,U.wnext=0,y(D)):f}function P(D,U){var z,G;return D&&D.state?(G=D.state,U<0?(z=0,U=-U):(z=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?f:(G.window!==null&&G.wbits!==U&&(G.window=null),G.wrap=z,G.wbits=U,_(D))):f}function T(D,U){var z,G;return D?(G=new w,(D.state=G).window=null,(z=P(D,U))!==l&&(D.state=null),z):f}var M,N,O=!0;function B(D){if(O){var U;for(M=new o.Buf32(512),N=new o.Buf32(32),U=0;U<144;)D.lens[U++]=8;for(;U<256;)D.lens[U++]=9;for(;U<280;)D.lens[U++]=7;for(;U<288;)D.lens[U++]=8;for(u(h,D.lens,0,288,M,0,D.work,{bits:9}),U=0;U<32;)D.lens[U++]=5;u(p,D.lens,0,32,N,0,D.work,{bits:5}),O=!1}D.lencode=M,D.lenbits=9,D.distcode=N,D.distbits=5}function Z(D,U,z,G){var ne,A=D.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new o.Buf8(A.wsize)),G>=A.wsize?(o.arraySet(A.window,U,z-A.wsize,A.wsize,0),A.wnext=0,A.whave=A.wsize):(G<(ne=A.wsize-A.wnext)&&(ne=G),o.arraySet(A.window,U,z-G,ne,A.wnext),(G-=ne)?(o.arraySet(A.window,U,z-G,G,0),A.wnext=G,A.whave=A.wsize):(A.wnext+=ne,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=ne))),0}i.inflateReset=_,i.inflateReset2=P,i.inflateResetKeep=y,i.inflateInit=function(D){return T(D,15)},i.inflateInit2=T,i.inflate=function(D,U){var z,G,ne,A,k,j,$,F,R,W,Y,te,ie,J,ee,Q,he,ge,ye,_e,H,Se,Ce,se,ae=0,xe=new o.Buf8(4),$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return f;(z=D.state).mode===12&&(z.mode=13),k=D.next_out,ne=D.output,$=D.avail_out,A=D.next_in,G=D.input,j=D.avail_in,F=z.hold,R=z.bits,W=j,Y=$,Se=l;e:for(;;)switch(z.mode){case m:if(z.wrap===0){z.mode=13;break}for(;R<16;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(2&z.wrap&&F===35615){xe[z.check=0]=255&F,xe[1]=F>>>8&255,z.check=d(z.check,xe,2,0),R=F=0,z.mode=2;break}if(z.flags=0,z.head&&(z.head.done=!1),!(1&z.wrap)||(((255&F)<<8)+(F>>8))%31){D.msg="incorrect header check",z.mode=30;break}if((15&F)!=8){D.msg="unknown compression method",z.mode=30;break}if(R-=4,H=8+(15&(F>>>=4)),z.wbits===0)z.wbits=H;else if(H>z.wbits){D.msg="invalid window size",z.mode=30;break}z.dmax=1<<H,D.adler=z.check=1,z.mode=512&F?10:12,R=F=0;break;case 2:for(;R<16;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(z.flags=F,(255&z.flags)!=8){D.msg="unknown compression method",z.mode=30;break}if(57344&z.flags){D.msg="unknown header flags set",z.mode=30;break}z.head&&(z.head.text=F>>8&1),512&z.flags&&(xe[0]=255&F,xe[1]=F>>>8&255,z.check=d(z.check,xe,2,0)),R=F=0,z.mode=3;case 3:for(;R<32;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.head&&(z.head.time=F),512&z.flags&&(xe[0]=255&F,xe[1]=F>>>8&255,xe[2]=F>>>16&255,xe[3]=F>>>24&255,z.check=d(z.check,xe,4,0)),R=F=0,z.mode=4;case 4:for(;R<16;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.head&&(z.head.xflags=255&F,z.head.os=F>>8),512&z.flags&&(xe[0]=255&F,xe[1]=F>>>8&255,z.check=d(z.check,xe,2,0)),R=F=0,z.mode=5;case 5:if(1024&z.flags){for(;R<16;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.length=F,z.head&&(z.head.extra_len=F),512&z.flags&&(xe[0]=255&F,xe[1]=F>>>8&255,z.check=d(z.check,xe,2,0)),R=F=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(1024&z.flags&&(j<(te=z.length)&&(te=j),te&&(z.head&&(H=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),o.arraySet(z.head.extra,G,A,te,H)),512&z.flags&&(z.check=d(z.check,G,te,A)),j-=te,A+=te,z.length-=te),z.length))break e;z.length=0,z.mode=7;case 7:if(2048&z.flags){if(j===0)break e;for(te=0;H=G[A+te++],z.head&&H&&z.length<65536&&(z.head.name+=String.fromCharCode(H)),H&&te<j;);if(512&z.flags&&(z.check=d(z.check,G,te,A)),j-=te,A+=te,H)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=8;case 8:if(4096&z.flags){if(j===0)break e;for(te=0;H=G[A+te++],z.head&&H&&z.length<65536&&(z.head.comment+=String.fromCharCode(H)),H&&te<j;);if(512&z.flags&&(z.check=d(z.check,G,te,A)),j-=te,A+=te,H)break e}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(512&z.flags){for(;R<16;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(F!==(65535&z.check)){D.msg="header crc mismatch",z.mode=30;break}R=F=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),D.adler=z.check=0,z.mode=12;break;case 10:for(;R<32;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}D.adler=z.check=x(F),R=F=0,z.mode=11;case 11:if(z.havedict===0)return D.next_out=k,D.avail_out=$,D.next_in=A,D.avail_in=j,z.hold=F,z.bits=R,2;D.adler=z.check=1,z.mode=12;case 12:if(U===5||U===6)break e;case 13:if(z.last){F>>>=7&R,R-=7&R,z.mode=27;break}for(;R<3;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}switch(z.last=1&F,R-=1,3&(F>>>=1)){case 0:z.mode=14;break;case 1:if(B(z),z.mode=20,U!==6)break;F>>>=2,R-=2;break e;case 2:z.mode=17;break;case 3:D.msg="invalid block type",z.mode=30}F>>>=2,R-=2;break;case 14:for(F>>>=7&R,R-=7&R;R<32;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if((65535&F)!=(F>>>16^65535)){D.msg="invalid stored block lengths",z.mode=30;break}if(z.length=65535&F,R=F=0,z.mode=15,U===6)break e;case 15:z.mode=16;case 16:if(te=z.length){if(j<te&&(te=j),$<te&&(te=$),te===0)break e;o.arraySet(ne,G,A,te,k),j-=te,A+=te,$-=te,k+=te,z.length-=te;break}z.mode=12;break;case 17:for(;R<14;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(z.nlen=257+(31&F),F>>>=5,R-=5,z.ndist=1+(31&F),F>>>=5,R-=5,z.ncode=4+(15&F),F>>>=4,R-=4,286<z.nlen||30<z.ndist){D.msg="too many length or distance symbols",z.mode=30;break}z.have=0,z.mode=18;case 18:for(;z.have<z.ncode;){for(;R<3;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.lens[$e[z.have++]]=7&F,F>>>=3,R-=3}for(;z.have<19;)z.lens[$e[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,Ce={bits:z.lenbits},Se=u(0,z.lens,0,19,z.lencode,0,z.work,Ce),z.lenbits=Ce.bits,Se){D.msg="invalid code lengths set",z.mode=30;break}z.have=0,z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;Q=(ae=z.lencode[F&(1<<z.lenbits)-1])>>>16&255,he=65535&ae,!((ee=ae>>>24)<=R);){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(he<16)F>>>=ee,R-=ee,z.lens[z.have++]=he;else{if(he===16){for(se=ee+2;R<se;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(F>>>=ee,R-=ee,z.have===0){D.msg="invalid bit length repeat",z.mode=30;break}H=z.lens[z.have-1],te=3+(3&F),F>>>=2,R-=2}else if(he===17){for(se=ee+3;R<se;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}R-=ee,H=0,te=3+(7&(F>>>=ee)),F>>>=3,R-=3}else{for(se=ee+7;R<se;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}R-=ee,H=0,te=11+(127&(F>>>=ee)),F>>>=7,R-=7}if(z.have+te>z.nlen+z.ndist){D.msg="invalid bit length repeat",z.mode=30;break}for(;te--;)z.lens[z.have++]=H}}if(z.mode===30)break;if(z.lens[256]===0){D.msg="invalid code -- missing end-of-block",z.mode=30;break}if(z.lenbits=9,Ce={bits:z.lenbits},Se=u(h,z.lens,0,z.nlen,z.lencode,0,z.work,Ce),z.lenbits=Ce.bits,Se){D.msg="invalid literal/lengths set",z.mode=30;break}if(z.distbits=6,z.distcode=z.distdyn,Ce={bits:z.distbits},Se=u(p,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Ce),z.distbits=Ce.bits,Se){D.msg="invalid distances set",z.mode=30;break}if(z.mode=20,U===6)break e;case 20:z.mode=21;case 21:if(6<=j&&258<=$){D.next_out=k,D.avail_out=$,D.next_in=A,D.avail_in=j,z.hold=F,z.bits=R,c(D,Y),k=D.next_out,ne=D.output,$=D.avail_out,A=D.next_in,G=D.input,j=D.avail_in,F=z.hold,R=z.bits,z.mode===12&&(z.back=-1);break}for(z.back=0;Q=(ae=z.lencode[F&(1<<z.lenbits)-1])>>>16&255,he=65535&ae,!((ee=ae>>>24)<=R);){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(Q&&(240&Q)==0){for(ge=ee,ye=Q,_e=he;Q=(ae=z.lencode[_e+((F&(1<<ge+ye)-1)>>ge)])>>>16&255,he=65535&ae,!(ge+(ee=ae>>>24)<=R);){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}F>>>=ge,R-=ge,z.back+=ge}if(F>>>=ee,R-=ee,z.back+=ee,z.length=he,Q===0){z.mode=26;break}if(32&Q){z.back=-1,z.mode=12;break}if(64&Q){D.msg="invalid literal/length code",z.mode=30;break}z.extra=15&Q,z.mode=22;case 22:if(z.extra){for(se=z.extra;R<se;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.length+=F&(1<<z.extra)-1,F>>>=z.extra,R-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=23;case 23:for(;Q=(ae=z.distcode[F&(1<<z.distbits)-1])>>>16&255,he=65535&ae,!((ee=ae>>>24)<=R);){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if((240&Q)==0){for(ge=ee,ye=Q,_e=he;Q=(ae=z.distcode[_e+((F&(1<<ge+ye)-1)>>ge)])>>>16&255,he=65535&ae,!(ge+(ee=ae>>>24)<=R);){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}F>>>=ge,R-=ge,z.back+=ge}if(F>>>=ee,R-=ee,z.back+=ee,64&Q){D.msg="invalid distance code",z.mode=30;break}z.offset=he,z.extra=15&Q,z.mode=24;case 24:if(z.extra){for(se=z.extra;R<se;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}z.offset+=F&(1<<z.extra)-1,F>>>=z.extra,R-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){D.msg="invalid distance too far back",z.mode=30;break}z.mode=25;case 25:if($===0)break e;if(te=Y-$,z.offset>te){if((te=z.offset-te)>z.whave&&z.sane){D.msg="invalid distance too far back",z.mode=30;break}ie=te>z.wnext?(te-=z.wnext,z.wsize-te):z.wnext-te,te>z.length&&(te=z.length),J=z.window}else J=ne,ie=k-z.offset,te=z.length;for($<te&&(te=$),$-=te,z.length-=te;ne[k++]=J[ie++],--te;);z.length===0&&(z.mode=21);break;case 26:if($===0)break e;ne[k++]=z.length,$--,z.mode=21;break;case 27:if(z.wrap){for(;R<32;){if(j===0)break e;j--,F|=G[A++]<<R,R+=8}if(Y-=$,D.total_out+=Y,z.total+=Y,Y&&(D.adler=z.check=z.flags?d(z.check,ne,Y,k-Y):s(z.check,ne,Y,k-Y)),Y=$,(z.flags?F:x(F))!==z.check){D.msg="incorrect data check",z.mode=30;break}R=F=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;R<32;){if(j===0)break e;j--,F+=G[A++]<<R,R+=8}if(F!==(4294967295&z.total)){D.msg="incorrect length check",z.mode=30;break}R=F=0}z.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return f}return D.next_out=k,D.avail_out=$,D.next_in=A,D.avail_in=j,z.hold=F,z.bits=R,(z.wsize||Y!==D.avail_out&&z.mode<30&&(z.mode<27||U!==4))&&Z(D,D.output,D.next_out,Y-D.avail_out)?(z.mode=31,-4):(W-=D.avail_in,Y-=D.avail_out,D.total_in+=W,D.total_out+=Y,z.total+=Y,z.wrap&&Y&&(D.adler=z.check=z.flags?d(z.check,ne,Y,D.next_out-Y):s(z.check,ne,Y,D.next_out-Y)),D.data_type=z.bits+(z.last?64:0)+(z.mode===12?128:0)+(z.mode===20||z.mode===15?256:0),(W==0&&Y===0||U===4)&&Se===l&&(Se=-5),Se)},i.inflateEnd=function(D){if(!D||!D.state)return f;var U=D.state;return U.window&&(U.window=null),D.state=null,l},i.inflateGetHeader=function(D,U){var z;return D&&D.state?(2&(z=D.state).wrap)==0?f:((z.head=U).done=!1,l):f},i.inflateSetDictionary=function(D,U){var z,G=U.length;return D&&D.state?(z=D.state).wrap!==0&&z.mode!==11?f:z.mode===11&&s(1,U,G,0)!==z.check?-3:Z(D,U,G,G)?(z.mode=31,-4):(z.havedict=1,l):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var o=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,p,l,f,m,b,S,x){var w,y,_,P,T,M,N,O,B,Z=x.bits,D=0,U=0,z=0,G=0,ne=0,A=0,k=0,j=0,$=0,F=0,R=null,W=0,Y=new o.Buf16(16),te=new o.Buf16(16),ie=null,J=0;for(D=0;D<=15;D++)Y[D]=0;for(U=0;U<f;U++)Y[p[l+U]]++;for(ne=Z,G=15;1<=G&&Y[G]===0;G--);if(G<ne&&(ne=G),G===0)return m[b++]=20971520,m[b++]=20971520,x.bits=1,0;for(z=1;z<G&&Y[z]===0;z++);for(ne<z&&(ne=z),D=j=1;D<=15;D++)if(j<<=1,(j-=Y[D])<0)return-1;if(0<j&&(h===0||G!==1))return-1;for(te[1]=0,D=1;D<15;D++)te[D+1]=te[D]+Y[D];for(U=0;U<f;U++)p[l+U]!==0&&(S[te[p[l+U]]++]=U);if(M=h===0?(R=ie=S,19):h===1?(R=s,W-=257,ie=d,J-=257,256):(R=c,ie=u,-1),D=z,T=b,k=U=F=0,_=-1,P=($=1<<(A=ne))-1,h===1&&852<$||h===2&&592<$)return 1;for(;;){for(N=D-k,B=S[U]<M?(O=0,S[U]):S[U]>M?(O=ie[J+S[U]],R[W+S[U]]):(O=96,0),w=1<<D-k,z=y=1<<A;m[T+(F>>k)+(y-=w)]=N<<24|O<<16|B|0,y!==0;);for(w=1<<D-1;F&w;)w>>=1;if(w!==0?(F&=w-1,F+=w):F=0,U++,--Y[D]==0){if(D===G)break;D=p[l+S[U]]}if(ne<D&&(F&P)!==_){for(k===0&&(k=ne),T+=z,j=1<<(A=D-k);A+k<G&&!((j-=Y[A+k])<=0);)A++,j<<=1;if($+=1<<A,h===1&&852<$||h===2&&592<$)return 1;m[_=F&P]=ne<<24|A<<16|T-b|0}}return F!==0&&(m[T+F]=D-k<<24|64<<16|0),x.bits=ne,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var o=r("../utils/common"),s=0,d=1;function c(ae){for(var xe=ae.length;0<=--xe;)ae[xe]=0}var u=0,h=29,p=256,l=p+1+h,f=30,m=19,b=2*l+1,S=15,x=16,w=7,y=256,_=16,P=17,T=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(l+2));c(Z);var D=new Array(2*f);c(D);var U=new Array(512);c(U);var z=new Array(256);c(z);var G=new Array(h);c(G);var ne,A,k,j=new Array(f);function $(ae,xe,$e,ue,V){this.static_tree=ae,this.extra_bits=xe,this.extra_base=$e,this.elems=ue,this.max_length=V,this.has_stree=ae&&ae.length}function F(ae,xe){this.dyn_tree=ae,this.max_code=0,this.stat_desc=xe}function R(ae){return ae<256?U[ae]:U[256+(ae>>>7)]}function W(ae,xe){ae.pending_buf[ae.pending++]=255&xe,ae.pending_buf[ae.pending++]=xe>>>8&255}function Y(ae,xe,$e){ae.bi_valid>x-$e?(ae.bi_buf|=xe<<ae.bi_valid&65535,W(ae,ae.bi_buf),ae.bi_buf=xe>>x-ae.bi_valid,ae.bi_valid+=$e-x):(ae.bi_buf|=xe<<ae.bi_valid&65535,ae.bi_valid+=$e)}function te(ae,xe,$e){Y(ae,$e[2*xe],$e[2*xe+1])}function ie(ae,xe){for(var $e=0;$e|=1&ae,ae>>>=1,$e<<=1,0<--xe;);return $e>>>1}function J(ae,xe,$e){var ue,V,me=new Array(S+1),pe=0;for(ue=1;ue<=S;ue++)me[ue]=pe=pe+$e[ue-1]<<1;for(V=0;V<=xe;V++){var ke=ae[2*V+1];ke!==0&&(ae[2*V]=ie(me[ke]++,ke))}}function ee(ae){var xe;for(xe=0;xe<l;xe++)ae.dyn_ltree[2*xe]=0;for(xe=0;xe<f;xe++)ae.dyn_dtree[2*xe]=0;for(xe=0;xe<m;xe++)ae.bl_tree[2*xe]=0;ae.dyn_ltree[2*y]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function Q(ae){8<ae.bi_valid?W(ae,ae.bi_buf):0<ae.bi_valid&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function he(ae,xe,$e,ue){var V=2*xe,me=2*$e;return ae[V]<ae[me]||ae[V]===ae[me]&&ue[xe]<=ue[$e]}function ge(ae,xe,$e){for(var ue=ae.heap[$e],V=$e<<1;V<=ae.heap_len&&(V<ae.heap_len&&he(xe,ae.heap[V+1],ae.heap[V],ae.depth)&&V++,!he(xe,ue,ae.heap[V],ae.depth));)ae.heap[$e]=ae.heap[V],$e=V,V<<=1;ae.heap[$e]=ue}function ye(ae,xe,$e){var ue,V,me,pe,ke=0;if(ae.last_lit!==0)for(;ue=ae.pending_buf[ae.d_buf+2*ke]<<8|ae.pending_buf[ae.d_buf+2*ke+1],V=ae.pending_buf[ae.l_buf+ke],ke++,ue===0?te(ae,V,xe):(te(ae,(me=z[V])+p+1,xe),(pe=M[me])!==0&&Y(ae,V-=G[me],pe),te(ae,me=R(--ue),$e),(pe=N[me])!==0&&Y(ae,ue-=j[me],pe)),ke<ae.last_lit;);te(ae,y,xe)}function _e(ae,xe){var $e,ue,V,me=xe.dyn_tree,pe=xe.stat_desc.static_tree,ke=xe.stat_desc.has_stree,Ie=xe.stat_desc.elems,Re=-1;for(ae.heap_len=0,ae.heap_max=b,$e=0;$e<Ie;$e++)me[2*$e]!==0?(ae.heap[++ae.heap_len]=Re=$e,ae.depth[$e]=0):me[2*$e+1]=0;for(;ae.heap_len<2;)me[2*(V=ae.heap[++ae.heap_len]=Re<2?++Re:0)]=1,ae.depth[V]=0,ae.opt_len--,ke&&(ae.static_len-=pe[2*V+1]);for(xe.max_code=Re,$e=ae.heap_len>>1;1<=$e;$e--)ge(ae,me,$e);for(V=Ie;$e=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],ge(ae,me,1),ue=ae.heap[1],ae.heap[--ae.heap_max]=$e,ae.heap[--ae.heap_max]=ue,me[2*V]=me[2*$e]+me[2*ue],ae.depth[V]=(ae.depth[$e]>=ae.depth[ue]?ae.depth[$e]:ae.depth[ue])+1,me[2*$e+1]=me[2*ue+1]=V,ae.heap[1]=V++,ge(ae,me,1),2<=ae.heap_len;);ae.heap[--ae.heap_max]=ae.heap[1],(function(Be,ot){var st,pt,Rt,St,or,Tr,rr=ot.dyn_tree,Nr=ot.max_code,pn=ot.stat_desc.static_tree,Qn=ot.stat_desc.has_stree,ui=ot.stat_desc.extra_bits,En=ot.stat_desc.extra_base,Fr=ot.stat_desc.max_length,mn=0;for(St=0;St<=S;St++)Be.bl_count[St]=0;for(rr[2*Be.heap[Be.heap_max]+1]=0,st=Be.heap_max+1;st<b;st++)Fr<(St=rr[2*rr[2*(pt=Be.heap[st])+1]+1]+1)&&(St=Fr,mn++),rr[2*pt+1]=St,Nr<pt||(Be.bl_count[St]++,or=0,En<=pt&&(or=ui[pt-En]),Tr=rr[2*pt],Be.opt_len+=Tr*(St+or),Qn&&(Be.static_len+=Tr*(pn[2*pt+1]+or)));if(mn!==0){do{for(St=Fr-1;Be.bl_count[St]===0;)St--;Be.bl_count[St]--,Be.bl_count[St+1]+=2,Be.bl_count[Fr]--,mn-=2}while(0<mn);for(St=Fr;St!==0;St--)for(pt=Be.bl_count[St];pt!==0;)Nr<(Rt=Be.heap[--st])||(rr[2*Rt+1]!==St&&(Be.opt_len+=(St-rr[2*Rt+1])*rr[2*Rt],rr[2*Rt+1]=St),pt--)}})(ae,xe),J(me,Re,ae.bl_count)}function H(ae,xe,$e){var ue,V,me=-1,pe=xe[1],ke=0,Ie=7,Re=4;for(pe===0&&(Ie=138,Re=3),xe[2*($e+1)+1]=65535,ue=0;ue<=$e;ue++)V=pe,pe=xe[2*(ue+1)+1],++ke<Ie&&V===pe||(ke<Re?ae.bl_tree[2*V]+=ke:V!==0?(V!==me&&ae.bl_tree[2*V]++,ae.bl_tree[2*_]++):ke<=10?ae.bl_tree[2*P]++:ae.bl_tree[2*T]++,me=V,Re=(ke=0)===pe?(Ie=138,3):V===pe?(Ie=6,3):(Ie=7,4))}function Se(ae,xe,$e){var ue,V,me=-1,pe=xe[1],ke=0,Ie=7,Re=4;for(pe===0&&(Ie=138,Re=3),ue=0;ue<=$e;ue++)if(V=pe,pe=xe[2*(ue+1)+1],!(++ke<Ie&&V===pe)){if(ke<Re)for(;te(ae,V,ae.bl_tree),--ke!=0;);else V!==0?(V!==me&&(te(ae,V,ae.bl_tree),ke--),te(ae,_,ae.bl_tree),Y(ae,ke-3,2)):ke<=10?(te(ae,P,ae.bl_tree),Y(ae,ke-3,3)):(te(ae,T,ae.bl_tree),Y(ae,ke-11,7));me=V,Re=(ke=0)===pe?(Ie=138,3):V===pe?(Ie=6,3):(Ie=7,4)}}c(j);var Ce=!1;function se(ae,xe,$e,ue){Y(ae,(u<<1)+(ue?1:0),3),(function(V,me,pe,ke){Q(V),W(V,pe),W(V,~pe),o.arraySet(V.pending_buf,V.window,me,pe,V.pending),V.pending+=pe})(ae,xe,$e)}i._tr_init=function(ae){Ce||((function(){var xe,$e,ue,V,me,pe=new Array(S+1);for(V=ue=0;V<h-1;V++)for(G[V]=ue,xe=0;xe<1<<M[V];xe++)z[ue++]=V;for(z[ue-1]=V,V=me=0;V<16;V++)for(j[V]=me,xe=0;xe<1<<N[V];xe++)U[me++]=V;for(me>>=7;V<f;V++)for(j[V]=me<<7,xe=0;xe<1<<N[V]-7;xe++)U[256+me++]=V;for($e=0;$e<=S;$e++)pe[$e]=0;for(xe=0;xe<=143;)Z[2*xe+1]=8,xe++,pe[8]++;for(;xe<=255;)Z[2*xe+1]=9,xe++,pe[9]++;for(;xe<=279;)Z[2*xe+1]=7,xe++,pe[7]++;for(;xe<=287;)Z[2*xe+1]=8,xe++,pe[8]++;for(J(Z,l+1,pe),xe=0;xe<f;xe++)D[2*xe+1]=5,D[2*xe]=ie(xe,5);ne=new $(Z,M,p+1,l,S),A=new $(D,N,0,f,S),k=new $(new Array(0),O,0,m,w)})(),Ce=!0),ae.l_desc=new F(ae.dyn_ltree,ne),ae.d_desc=new F(ae.dyn_dtree,A),ae.bl_desc=new F(ae.bl_tree,k),ae.bi_buf=0,ae.bi_valid=0,ee(ae)},i._tr_stored_block=se,i._tr_flush_block=function(ae,xe,$e,ue){var V,me,pe=0;0<ae.level?(ae.strm.data_type===2&&(ae.strm.data_type=(function(ke){var Ie,Re=4093624447;for(Ie=0;Ie<=31;Ie++,Re>>>=1)if(1&Re&&ke.dyn_ltree[2*Ie]!==0)return s;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return d;for(Ie=32;Ie<p;Ie++)if(ke.dyn_ltree[2*Ie]!==0)return d;return s})(ae)),_e(ae,ae.l_desc),_e(ae,ae.d_desc),pe=(function(ke){var Ie;for(H(ke,ke.dyn_ltree,ke.l_desc.max_code),H(ke,ke.dyn_dtree,ke.d_desc.max_code),_e(ke,ke.bl_desc),Ie=m-1;3<=Ie&&ke.bl_tree[2*B[Ie]+1]===0;Ie--);return ke.opt_len+=3*(Ie+1)+5+5+4,Ie})(ae),V=ae.opt_len+3+7>>>3,(me=ae.static_len+3+7>>>3)<=V&&(V=me)):V=me=$e+5,$e+4<=V&&xe!==-1?se(ae,xe,$e,ue):ae.strategy===4||me===V?(Y(ae,2+(ue?1:0),3),ye(ae,Z,D)):(Y(ae,4+(ue?1:0),3),(function(ke,Ie,Re,Be){var ot;for(Y(ke,Ie-257,5),Y(ke,Re-1,5),Y(ke,Be-4,4),ot=0;ot<Be;ot++)Y(ke,ke.bl_tree[2*B[ot]+1],3);Se(ke,ke.dyn_ltree,Ie-1),Se(ke,ke.dyn_dtree,Re-1)})(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,pe+1),ye(ae,ae.dyn_ltree,ae.dyn_dtree)),ee(ae),ue&&Q(ae)},i._tr_tally=function(ae,xe,$e){return ae.pending_buf[ae.d_buf+2*ae.last_lit]=xe>>>8&255,ae.pending_buf[ae.d_buf+2*ae.last_lit+1]=255&xe,ae.pending_buf[ae.l_buf+ae.last_lit]=255&$e,ae.last_lit++,xe===0?ae.dyn_ltree[2*$e]++:(ae.matches++,xe--,ae.dyn_ltree[2*(z[$e]+p+1)]++,ae.dyn_dtree[2*R(xe)]++),ae.last_lit===ae.lit_bufsize-1},i._tr_align=function(ae){Y(ae,2,3),te(ae,y,Z),(function(xe){xe.bi_valid===16?(W(xe,xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0):8<=xe.bi_valid&&(xe.pending_buf[xe.pending++]=255&xe.bi_buf,xe.bi_buf>>=8,xe.bi_valid-=8)})(ae)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(o){(function(s,d){if(!s.setImmediate){var c,u,h,p,l=1,f={},m=!1,b=s.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(s);S=S&&S.setTimeout?S:s,c={}.toString.call(s.process)==="[object process]"?function(_){process.nextTick(function(){w(_)})}:(function(){if(s.postMessage&&!s.importScripts){var _=!0,P=s.onmessage;return s.onmessage=function(){_=!1},s.postMessage("","*"),s.onmessage=P,_}})()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(_){s.postMessage(p+_,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(_){w(_.data)},function(_){h.port2.postMessage(_)}):b&&"onreadystatechange"in b.createElement("script")?(u=b.documentElement,function(_){var P=b.createElement("script");P.onreadystatechange=function(){w(_),P.onreadystatechange=null,u.removeChild(P),P=null},u.appendChild(P)}):function(_){setTimeout(w,0,_)},S.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var P=new Array(arguments.length-1),T=0;T<P.length;T++)P[T]=arguments[T+1];var M={callback:_,args:P};return f[l]=M,c(l),l++},S.clearImmediate=x}function x(_){delete f[_]}function w(_){if(m)setTimeout(w,0,_);else{var P=f[_];if(P){m=!0;try{(function(T){var M=T.callback,N=T.args;switch(N.length){case 0:M();break;case 1:M(N[0]);break;case 2:M(N[0],N[1]);break;case 3:M(N[0],N[1],N[2]);break;default:M.apply(d,N)}})(P)}finally{x(_),m=!1}}}}function y(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(p)===0&&w(+_.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof ls<"u"?ls:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jp)),jp.exports}s9();function We(e){return e==null?"":e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}function Le(e){return e==null?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function $a(e,t,r,n,i,o){const s=t+e*(r-t);switch(n){case"percentage":return`${Math.round(e*100)}%`;case"db":return`${s.toFixed(o)} dB`;case"hz":return s>=1e3?`${(s/1e3).toFixed(o)} kHz`:`${s.toFixed(o)} Hz`;case"custom":return`${s.toFixed(o)}${i}`;default:return s.toFixed(o)}}function li(e,t,r){if(!r)return e;let n=e;for(const[i,o]of Object.entries(r)){const s=t[i];s&&o&&(n=S6(n,s,o))}return n}function Fd(e){const t={width:e.scrollbarWidth??At.scrollbarWidth,thumbColor:e.scrollbarThumbColor??At.scrollbarThumbColor,thumbHoverColor:e.scrollbarThumbHoverColor??At.scrollbarThumbHoverColor,trackColor:e.scrollbarTrackColor??At.scrollbarTrackColor,borderRadius:e.scrollbarBorderRadius??At.scrollbarBorderRadius,thumbBorder:e.scrollbarThumbBorder??At.scrollbarThumbBorder};return JSON.stringify(t)}function Kr(e,t,r,n){const i=(n-90)*Math.PI/180;return{x:e+r*Math.cos(i),y:t+r*Math.sin(i)}}function ni(e,t,r,n,i){const o=Kr(e,t,r,i),s=Kr(e,t,r,n),d=Math.abs(i-n)>180?"1":"0";return["M",o.x,o.y,"A",r,r,0,d,0,s.x,s.y].join(" ")}function sl(e,t){if(!t)return"";const r=t.filter(n=>n.parentId===e);return r.length===0?"":r.map(n=>nv(n,t)).join(`
      `)}function Md(e,t){if(!t)return"";const r=t.filter(s=>s.parentId===e);if(r.length===0)return"";let n=0,i=0;for(const s of r){const d=s.x+s.width,c=s.y+s.height;n=Math.max(n,d),i=Math.max(i,c)}const o=r.map(s=>nv(s,t)).join(`
        `);return`<div class="scroll-sizer" style="position: relative; width: ${n}px; height: ${i}px; min-width: 100%; min-height: 100%;">
        ${o}
      </div>`}function n4(e,t){return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:;">
  <title>JUCE WebView UI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="plugin-wrapper">
    <div id="plugin-container">
      ${[...e.filter(o=>!o.parentId)].map(o=>nv(o,e)).join(`
    `)}
    </div>
  </div>
  <script src="components.js"><\/script>
  <script src="bindings.js"><\/script>
</body>
</html>`}function nv(e,t){const r=We(e.name),n="element",i=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;switch(e.type){case"knob":return m9(r,n,i,e);case"slider":return y9(r,n,i,e);case"rangeslider":return _9(r,n,i,e);case"button":{const s=e,d=s.action&&s.action!=="none"?` data-action="${s.action}"`:"",c=s.targetWindowId?` data-target-window="${s.targetWindowId}"`:"",u=` data-parameter-id="${e.parameterId||We(e.name)}"`,h=`${i} font-size: ${s.fontSize}px; font-family: ${s.fontFamily}; font-weight: ${s.fontWeight}; color: ${s.textColor}; background-color: ${s.backgroundColor}; border: ${s.borderWidth}px solid ${s.borderColor}; border-radius: ${s.borderRadius}px;`;return`<button id="${r}" class="${n} button-element" data-type="button"${u} data-mode="${e.mode}"${d}${c} style="${h}">${Le(e.label)}</button>`}case"label":{const s=e,d=`${i} font-size: ${s.fontSize}px; font-family: ${s.fontFamily}; font-weight: ${s.fontWeight}; color: ${s.color}; text-align: ${s.textAlign}; display: flex; align-items: center; justify-content: ${s.textAlign==="left"?"flex-start":s.textAlign==="right"?"flex-end":"center"};`;return`<span id="${r}" class="${n} label-element" data-type="label" style="${d}">${Le(e.text)}</span>`}case"meter":return j9(r,n,i,e);case"image":{let s=e.src.trim();return s.startsWith("/assets/")&&(s=s.slice(1)),`<img id="${r}" class="${n} image-element" data-type="image" src="${s}" alt="${Le(e.name)}" style="${i}" />`}case"dropdown":return N9(r,n,i,e);case"checkbox":return E9(r,n,i,e);case"radiogroup":return z9(r,n,i,e);case"textfield":return D9(r,n,i,e);case"rectangle":{const s=e.fillOpacity<1?`${e.fillColor}${Math.round(e.fillOpacity*255).toString(16).padStart(2,"0")}`:e.fillColor;return`<div id="${r}" class="${n} rectangle-element" data-type="rectangle" style="${i}; background-color: ${s}; border: ${e.borderWidth}px ${e.borderStyle} ${e.borderColor}; border-radius: ${e.borderRadius}px;"></div>`}case"line":{const d=e.width>e.height?`width: 100%; height: ${e.strokeWidth}px; background-color: ${e.strokeStyle==="solid"?e.strokeColor:"transparent"}; border-top: ${e.strokeWidth}px ${e.strokeStyle} ${e.strokeColor};`:`width: ${e.strokeWidth}px; height: 100%; background-color: ${e.strokeStyle==="solid"?e.strokeColor:"transparent"}; border-left: ${e.strokeWidth}px ${e.strokeStyle} ${e.strokeColor};`;return`<div id="${r}" class="${n} line-element" data-type="line" style="${i}"><div style="${d}"></div></div>`}case"asciiart":{const s=e,d=s.borderWidth>0?`border: ${s.borderWidth}px solid ${s.borderColor};`:"",c=s.selectable?"user-select: text; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; cursor: text;":"user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; cursor: default;",u=`${i}; font-family: ${s.fontFamily}; font-size: ${s.fontSize}px; font-weight: ${s.fontWeight}; color: ${s.textColor}; line-height: ${s.lineHeight}; background-color: ${s.backgroundColor}; padding: ${s.padding}px; border-radius: ${s.borderRadius}px; ${d} overflow: ${s.overflow}; white-space: pre; box-sizing: border-box; margin: 0; ${c}`;if((s.contentType||"static")==="noise"){const p=`data-content-type="noise" data-noise-chars="${Le(s.noiseCharacters||".:!*#$@%&")}" data-noise-intensity="${s.noiseIntensity??.5}" data-noise-width="${s.noiseWidth??40}" data-noise-height="${s.noiseHeight??20}" data-noise-refresh="${s.noiseRefreshRate??100}"${s.noiseParameterId?` data-noise-param="${Le(s.noiseParameterId)}"`:""}`;return`<pre id="${r}" class="${n} asciiart-element" data-type="asciiart" ${p} style="${u}"></pre>`}return`<pre id="${r}" class="${n} asciiart-element" data-type="asciiart" data-content-type="static" style="${u}">${Le(s.content)}</pre>`}case"panel":{if(e.allowScroll){const d=Fd(e),c=e.scrollbarWidth??At.scrollbarWidth,u=Md(e.id,t);return`<div id="${r}" class="${n} panel-element" data-type="panel" style="${i} overflow: hidden;"><div class="panel-scroll-content" data-custom-scrollbar='${d}' style="width: calc(100% - ${c}px); height: 100%; overflow: auto; scrollbar-width: none; -ms-overflow-style: none;">${u}</div></div>`}const s=sl(e.id,t);return`<div id="${r}" class="${n} panel-element" data-type="panel" style="${i} overflow: hidden;">${s}</div>`}case"frame":{if(e.allowScroll){const d=Fd(e),c=e.scrollbarWidth??At.scrollbarWidth,u=Md(e.id,t);return`<div id="${r}" class="${n} frame-element" data-type="frame" style="${i} overflow: hidden;"><div class="frame-scroll-content" data-custom-scrollbar='${d}' style="width: calc(100% - ${c}px); height: 100%; overflow: auto; scrollbar-width: none; -ms-overflow-style: none;">${u}</div></div>`}const s=sl(e.id,t);return`<div id="${r}" class="${n} frame-element" data-type="frame" style="${i} overflow: hidden;">${s}</div>`}case"groupbox":{const s=e.headerFontSize/2;if(e.allowScroll){const c=Fd(e),u=e.scrollbarWidth??At.scrollbarWidth,h=Md(e.id,t);return`<div id="${r}" class="${n} groupbox-element" data-type="groupbox" data-header="${Le(e.headerText)}" style="${i} overflow: hidden;"><div class="groupbox-border"></div><div class="groupbox-header">${Le(e.headerText)}</div><div class="groupbox-scroll-content" data-custom-scrollbar='${c}' style="width: calc(100% - ${u}px); height: calc(100% - ${s}px); overflow: auto; scrollbar-width: none; -ms-overflow-style: none;">${h}</div></div>`}const d=sl(e.id,t);return`<div id="${r}" class="${n} groupbox-element" data-type="groupbox" data-header="${Le(e.headerText)}" style="${i} overflow: hidden;"><div class="groupbox-border"></div><div class="groupbox-header">${Le(e.headerText)}</div>${d}</div>`}case"collapsible":{if(e.scrollBehavior!=="hidden"){const d=Fd(e),c=e.scrollbarWidth??At.scrollbarWidth,u=Md(e.id,t);return`<div id="${r}" class="${n} collapsible-element" data-type="collapsible" data-collapsed="${e.collapsed}" style="${i} overflow: hidden;"><div class="collapsible-header"><span class="collapsible-arrow">▼</span><span>${Le(e.headerText)}</span></div><div class="collapsible-content" data-custom-scrollbar='${d}' style="width: calc(100% - ${c}px); overflow: auto; scrollbar-width: none; -ms-overflow-style: none;">${u}</div></div>`}const s=sl(e.id,t);return`<div id="${r}" class="${n} collapsible-element" data-type="collapsible" data-collapsed="${e.collapsed}" style="${i} overflow: hidden;"><div class="collapsible-header"><span class="collapsible-arrow">▼</span><span>${Le(e.headerText)}</span></div><div class="collapsible-content">${s}</div></div>`}case"dbdisplay":return $9(r,n,i,e);case"frequencydisplay":return I9(r,n,i,e);case"gainreductionmeter":return T9(r,n,i,e);case"presetbrowser":{const s=e.presets.map(d=>Le(d)).join("|");return`<div id="${r}" class="${n} presetbrowser-element" data-type="presetbrowser" data-presets="${s}" data-selected="${e.selectedIndex}" style="${i}">
    ${e.showSearch?'<div class="preset-search"><input type="text" placeholder="Search presets..." /></div>':""}
    <div class="preset-list"></div>
  </div>`}case"waveform":return`<div id="${r}" class="${n} waveform-element" data-type="waveform" data-zoom-level="${e.zoomLevel}" style="${i}">
    <div class="waveform-placeholder">Waveform Display</div>
  </div>`;case"oscilloscope":return`<div id="${r}" class="${n} oscilloscope-element" data-type="oscilloscope" data-time-div="${e.timeDiv}" data-amplitude-scale="${e.amplitudeScale}" data-trigger-level="${e.triggerLevel}" data-grid-divisions="${e.gridDivisions}" style="${i}">
    <div class="oscilloscope-grid"></div>
    <div class="oscilloscope-placeholder">Oscilloscope</div>
  </div>`;case"modulationmatrix":return P9(r,n,i,e);case"svggraphic":return O9(r,n,i,e);case"steppedknob":return g9(r,n,i,e);case"centerdetentknob":return v9(r,n,i,e);case"dotindicatorknob":return b9(r,n,i,e);case"multislider":return F9(r,n,i,e);case"bipolarslider":return x9(r,n,i,e);case"crossfadeslider":return w9(r,n,i,e);case"notchedslider":return S9(r,n,i,e);case"asciislider":return k9(r,n,i,e);case"asciibutton":return C9(r,n,i,e);case"rockerswitch":return B9(r,n,i,e);case"rotaryswitch":return U9(r,n,i,e);case"segmentbutton":return V9(r,n,i,e);case"iconbutton":return L9(r,n,i,e);case"toggleswitch":return A9(r,n,i,e);case"powerbutton":return R9(r,n,i,e);case"numericdisplay":return W9(r,n,i,e);case"timedisplay":return H9(r,n,i,e);case"percentagedisplay":return G9(r,n,i,e);case"ratiodisplay":return Z9(r,n,i,e);case"notedisplay":return q9(r,n,i,e);case"bpmdisplay":return X9(r,n,i,e);case"editabledisplay":return Y9(r,n,i,e);case"multivaluedisplay":return K9(r,n,i,e);case"rmsmetermo":case"vumetermono":case"ppmtype1mono":case"ppmtype2mono":case"truepeakmetermono":case"lufsmomomo":case"lufsshortmono":case"lufsintmono":case"k12metermono":case"k14metermono":case"k20metermono":{const s=e;if(s.styleId){const u=fe.getState().elementStyles.find(h=>h.id===s.styleId);if(u){const h={...s,type:"meter",min:s.minDb??-60,max:s.maxDb??0,value:s.value??.5,colorStops:[]},p=mm(r,n,i,h,u);if(p)return p}}const d=M1(s,!1);return`<div id="${r}" class="${n} ${e.type}-element" data-type="${e.type}" style="${i}">
  ${d}
</div>`}case"rmsmeterstereo":case"vumeterstereo":case"ppmtype1stereo":case"ppmtype2stereo":case"truepeakmeterstereo":case"lufsmomostereo":case"lufsshortstereo":case"lufsintstereo":case"k12meterstereo":case"k14meterstereo":case"k20meterstereo":{const s=e;if(s.styleId){const u=fe.getState().elementStyles.find(h=>h.id===s.styleId);if(u){const h={...s,type:"meter",min:s.minDb??-60,max:s.maxDb??0,value:s.value??.5,colorStops:[]},p=mm(r,n,i,h,u);if(p)return p}}const d=M1(s,!0);return`<div id="${r}" class="${n} ${e.type}-element" data-type="${e.type}" style="${i}">
  ${d}
</div>`}case"correlationmeter":case"stereowidthmeter":{const s=J9(e);return`<div id="${r}" class="${n} ${e.type}-element" data-type="${e.type}" style="${i}">
  ${s}
</div>`}case"stepper":return Q9(r,n,i,e);case"breadcrumb":return eB(r,n,i,e);case"multiselectdropdown":return tB(r,n,i,e);case"combobox":return rB(r,n,i,e);case"menubutton":return aB(r,n,i,e);case"tabbar":return iB(r,n,i,e);case"tagselector":return oB(r,n,i,e);case"treeview":return sB(r,n,i,e);case"scrollingwaveform":return lB(e);case"spectrumanalyzer":return cB(e);case"spectrogram":return uB(e);case"goniometer":return dB(e);case"vectorscope":return hB(e);case"eqcurve":return fB(e);case"compressorcurve":return pB(e);case"envelopedisplay":return mB(e);case"lfodisplay":return gB(e);case"filterresponse":return vB(e);case"tooltip":return bB(r,n,i,e);case"horizontalspacer":return yB(r,n,i,e);case"verticalspacer":return xB(r,n,i,e);case"windowchrome":{const s=e,d=sl(e.id,t);return wB(r,n,i,s,d)}case"pianokeyboard":return SB(r,n,i,e);case"drumpad":return kB(r,n,i,e);case"padgrid":return CB(r,n,i,e);case"stepsequencer":return _B(r,n,i,e);case"xypad":return jB(r,n,i,e);case"wavetabledisplay":return PB(r,n,i,e);case"harmoniceditor":return $B(r,n,i,e);case"looppoints":return IB(r,n,i,e);case"envelopeeditor":return TB(r,n,i,e);case"sampledisplay":return NB(r,n,i,e);case"patchbay":return EB(r,n,i,e);case"signalflow":return zB(r,n,i,e);default:const o=e;throw new Error(`Unknown element type: ${o.type}`)}}function l9(e,t,r,n,i){let o=i.svgContent;n.colorOverrides&&(o=k6(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers.track?Qs(s,i.layers.track):"",c=i.layers.shadow?Qs(s,i.layers.shadow):"",u=i.layers.arc?Qs(s,i.layers.arc):"",h=i.layers.indicator?Qs(s,i.layers.indicator):"",p=i.layers.glow?Qs(s,i.layers.glow):"",l=n.max-n.min,f=(n.value-n.min)/l,m=$a(f,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),b=n.showLabel?`<span class="knob-label knob-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",S=n.showValue?`<span class="knob-value knob-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(m)}</span>`:"",x=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element styled-knob" data-type="knob"${x} data-value="${f}" data-min-angle="${i.minAngle}" data-max-angle="${i.maxAngle}" style="${r}">
      ${b}
      ${S}
      <div class="styled-knob-container">
        ${d?`<div class="knob-layer knob-track">${d}</div>`:""}
        ${c?`<div class="knob-layer knob-shadow">${c}</div>`:""}
        ${u?`<div class="knob-layer knob-arc">${u}</div>`:""}
        ${h?`<div class="knob-layer knob-indicator">${h}</div>`:""}
        ${p?`<div class="knob-layer knob-glow">${p}</div>`:""}
      </div>
    </div>`}function Ch(e,t,r,n,i){if(i.category!=="linear"&&i.category!=="arc")return console.warn(`Slider requires linear or arc category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.track?Nt(s,d.track):"",u=d.fill?Nt(s,d.fill):"",h=d.thumb?Nt(s,d.thumb):"",p="min"in n?n.min:0,l="max"in n?n.max:1,f="value"in n?n.value:.5,m=l-p,b=m>0?(f-p)/m:0,S="orientation"in n?n.orientation:"vertical",x=S==="vertical";let w,y;x?(w=`inset(${(1-b)*100}% 0 0 0)`,y=`translate(0, ${(1-b)*100}%)`):(w=`inset(0 ${(1-b)*100}% 0 0)`,y=`translate(${b*100}%, 0)`);const _=` data-parameter-id="${n.parameterId||We(n.name)}"`,P=` data-orientation="${S}"`,T=` data-value="${b}"`,M="valueFormat"in n?n.valueFormat:"numeric",N="valueSuffix"in n?n.valueSuffix:"",O="valueDecimalPlaces"in n?n.valueDecimalPlaces:2,B=$a(b,p,l,M,N,O),Z="showLabel"in n&&n.showLabel,D="labelPosition"in n?n.labelPosition:"top",U="labelFontSize"in n?n.labelFontSize:12,z="labelColor"in n?n.labelColor:"#ffffff",G="labelText"in n?n.labelText:n.name,ne=Z?`<span class="slider-label slider-label-${D}" style="font-size: ${U}px; color: ${z};">${Le(G)}</span>`:"",A="showValue"in n&&n.showValue,k="valuePosition"in n?n.valuePosition:"bottom",j="valueFontSize"in n?n.valueFontSize:12,$="valueColor"in n?n.valueColor:"#ffffff",F=A?`<span class="slider-value slider-value-${k}" style="font-size: ${j}px; color: ${$};">${Le(B)}</span>`:"";return`<div id="${e}" class="${t} slider slider-element styled-slider" data-type="slider"${_}${P}${T} style="${r}">
      ${ne}
      ${F}
      <div class="styled-slider-container">
        ${c?`<div class="slider-layer slider-track">${c}</div>`:""}
        ${u?`<div class="slider-layer slider-fill" style="clip-path: ${w};">${u}</div>`:""}
        ${h?`<div class="slider-layer slider-thumb" style="transform: ${y};">${h}</div>`:""}
      </div>
    </div>`}function c9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Button requires button category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.normal?Nt(s,d.normal):"",u=d.pressed?Nt(s,d.pressed):"",h=d.icon?Nt(s,d.icon):"",p=d.label?Nt(s,d.label):"";let l="0";("pressed"in n&&n.pressed||"isOn"in n&&n.isOn)&&(l="1");const f=` data-parameter-id="${n.parameterId||We(n.name)}"`,m="mode"in n?` data-mode="${n.mode}"`:"",b=` data-state="${l}"`;return`<div id="${e}" class="${t} button button-element styled-button" data-type="button"${f}${m}${b} style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-normal" style="opacity: ${l==="0"?"1":"0"};">${c}</div>`:""}
        ${u?`<div class="button-layer button-pressed" style="opacity: ${l==="1"?"1":"0"};">${u}</div>`:""}
        ${h?`<div class="button-layer button-icon">${h}</div>`:""}
        ${p?`<div class="button-layer button-label">${p}</div>`:""}
      </div>
    </div>`}function u9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Toggle switch requires button category style, got: ${i.category}`),"";let o=i.svgContent;n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.body?Nt(s,d.body):"",u=d.on?Nt(s,d.on):"",h=d.off?Nt(s,d.off):"",p=d.indicator?Nt(s,d.indicator):"",l=n.isOn?"1":"0",f=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} toggleswitch toggleswitch-element styled-button styled-toggleswitch" data-type="toggleswitch"${f} data-on="${l}" style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-body">${c}</div>`:""}
        ${h?`<div class="button-layer button-off" style="opacity: ${l==="0"?"1":"0"};">${h}</div>`:""}
        ${u?`<div class="button-layer button-on" style="opacity: ${l==="1"?"1":"0"};">${u}</div>`:""}
        ${p?`<div class="button-layer button-indicator" style="opacity: ${l==="1"?"1":"0"};">${p}</div>`:""}
      </div>
    </div>`}function d9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Power button requires button category style, got: ${i.category}`),"";let o=i.svgContent;n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.normal?Nt(s,d.normal):"",u=d.pressed?Nt(s,d.pressed):"",h=d.icon?Nt(s,d.icon):"",p=d.led?Nt(s,d.led):"",l=n.isOn?"1":"0",f=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} powerbutton powerbutton-element styled-button styled-powerbutton" data-type="powerbutton"${f} data-on="${l}" data-led-position="${n.ledPosition}" style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-normal" style="opacity: ${l==="0"?"1":"0"};">${c}</div>`:""}
        ${u?`<div class="button-layer button-pressed" style="opacity: ${l==="1"?"1":"0"};">${u}</div>`:""}
        ${h?`<div class="button-layer button-icon">${h}</div>`:""}
        ${p?`<div class="button-layer button-led" style="opacity: ${l==="1"?"1":"0"};">${p}</div>`:""}
      </div>
    </div>`}function h9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Rocker switch requires button category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.base?Nt(s,d.base):"",u=d["position-0"]?Nt(s,d["position-0"]):"",h=d["position-1"]?Nt(s,d["position-1"]):"",p=d["position-2"]?Nt(s,d["position-2"]):"",l=n.position,f=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} rockerswitch rockerswitch-element styled-button styled-rockerswitch" data-type="rockerswitch"${f} data-position="${l}" data-mode="${n.mode}" style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-base">${c}</div>`:""}
        ${u?`<div class="button-layer button-position-0" style="opacity: ${l===0?"1":"0"};">${u}</div>`:""}
        ${h?`<div class="button-layer button-position-1" style="opacity: ${l===1?"1":"0"};">${h}</div>`:""}
        ${p?`<div class="button-layer button-position-2" style="opacity: ${l===2?"1":"0"};">${p}</div>`:""}
      </div>
    </div>`}function f9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Rotary switch requires button category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.base?Nt(s,d.base):"",u=d.selector?Nt(s,d.selector):"",h=n.positionCount>1?n.rotationAngle/(n.positionCount-1):0,l=-n.rotationAngle/2+n.currentPosition*h,f=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} rotaryswitch rotaryswitch-element styled-button styled-rotaryswitch" data-type="rotaryswitch"${f} data-position="${n.currentPosition}" data-count="${n.positionCount}" style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-base">${c}</div>`:""}
        ${u?`<div class="button-layer button-selector" style="transform: rotate(${l}deg);">${u}</div>`:""}
      </div>
    </div>`}function p9(e,t,r,n,i){if(i.category!=="button")return console.warn(`Segment button requires button category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.body?Nt(s,d.body):"",u=d.highlight?Nt(s,d.highlight):"",h=n.segments.length,p=n.orientation==="vertical";let l="";if(u&&n.selectedIndices.length>0){const b=100/h;n.selectedIndices.forEach(S=>{let x;if(p){const w=S*b,y=100-(S+1)*b;x=`inset(${w}% 0 ${y}% 0)`}else{const w=S*b;x=`inset(0 ${100-(S+1)*b}% 0 ${w}%)`}l+=`<div class="button-layer button-highlight" style="clip-path: ${x};">${u}</div>
        `})}const f=` data-parameter-id="${n.parameterId||We(n.name)}"`,m=` data-selected-indices="${n.selectedIndices.join(",")}"`;return`<div id="${e}" class="${t} segmentbutton segmentbutton-element styled-button styled-segmentbutton" data-type="segmentbutton"${f}${m} data-mode="${n.selectionMode}" data-orientation="${n.orientation}" style="${r}">
      <div class="styled-button-container">
        ${c?`<div class="button-layer button-body">${c}</div>`:""}
        ${l}
      </div>
    </div>`}function mm(e,t,r,n,i){if(i.category!=="meter")return console.warn(`Meter requires meter category style, got: ${i.category}`),"";let o=i.svgContent;"colorOverrides"in n&&n.colorOverrides&&(o=li(i.svgContent,i.layers,n.colorOverrides));const s=Dr(o),d=i.layers,c=d.body?Nt(s,d.body):"",u=d["fill-green"]?Nt(s,d["fill-green"]):"",h=d["fill-yellow"]?Nt(s,d["fill-yellow"]):"",p=d["fill-red"]?Nt(s,d["fill-red"]):"",l=d.scale?Nt(s,d.scale):"",f=d.peak?Nt(s,d.peak):"",m=n.min??0,b=n.max??1,S=n.value??.5,x=b>m?(S-m)/(b-m):0,w=n.orientation??"vertical",y=w==="vertical",_=.6,P=.85,M=`inset(${(1-x)*100}% 0 0 0)`,N=x>_?M:"inset(100% 0 0 0)",O=x>P?M:"inset(100% 0 0 0)",B=` data-parameter-id="${n.parameterId||We(n.name)}"`,Z=` data-orientation="${w}"`,D=` data-value="${x}"`,U=n.showPeakHold?` data-peak-hold="true" data-peak-duration="${n.peakHoldDuration??2e3}"`:"",z=y?"":' style="transform: rotate(-90deg); transform-origin: center center;"',G=f&&n.showPeakHold?`<div class="meter-layer meter-peak" style="bottom: ${x*100}%; transform: translateY(50%);">${f}</div>`:"";return`<div id="${e}" class="${t} meter meter-element styled-meter" data-type="meter"${B}${Z}${D}${U} style="${r}">
      <div class="styled-meter-container"${z}>
        ${c?`<div class="meter-layer meter-body">${c}</div>`:""}
        ${u?`<div class="meter-layer meter-fill-green" style="clip-path: ${M};">${u}</div>`:""}
        ${h?`<div class="meter-layer meter-fill-yellow" style="clip-path: ${N};">${h}</div>`:""}
        ${p?`<div class="meter-layer meter-fill-red" style="clip-path: ${O};">${p}</div>`:""}
        ${l?`<div class="meter-layer meter-scale">${l}</div>`:""}
        ${G}
      </div>
    </div>`}function m9(e,t,r,n){if(n.styleId){const P=fe.getState().knobStyles.find(T=>T.id===n.styleId);if(P)return l9(e,t,r,n,P);{const T=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element" data-type="knob"${T} style="${r}">
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666; font-size: 12px;">
          <!-- Style missing: ${n.styleId} -->
        </div>
      </div>`}}const i=n.diameter/2,o=n.diameter/2,s=(n.diameter-n.trackWidth)/2,d=n.max-n.min,c=(n.value-n.min)/d,u=n.startAngle+c*(n.endAngle-n.startAngle),h=ni(i,o,s,n.startAngle,n.endAngle),p=ni(i,o,s,n.startAngle,u),l=Kr(i,o,s*.4,u),f=Kr(i,o,s*.9,u);let m="";n.style==="line"?m=`<line class="knob-indicator" x1="${l.x}" y1="${l.y}" x2="${f.x}" y2="${f.y}" stroke="${n.indicatorColor}" stroke-width="2" stroke-linecap="round" />`:n.style==="dot"&&(m=`<circle class="knob-indicator" cx="${f.x}" cy="${f.y}" r="${n.trackWidth/2}" fill="${n.indicatorColor}" />`);const b=c>.001?`<path class="knob-arc-fill" d="${p}" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`:`<path class="knob-arc-fill" d="" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`,S=$a(c,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),x=n.showLabel?`<span class="knob-label knob-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",w=n.showValue?`<span class="knob-value knob-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(S)}</span>`:"",y=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element" data-type="knob"${y} data-value="${c}" data-start-angle="${n.startAngle}" data-end-angle="${n.endAngle}" style="${r}">
      ${x}
      ${w}
      <svg width="100%" height="100%" viewBox="0 0 ${n.diameter} ${n.diameter}" style="overflow: visible;">
        <path class="knob-arc-track" d="${h}" fill="none" stroke="${n.trackColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />
        ${b}
        ${m}
      </svg>
    </div>`}function g9(e,t,r,n){const i=n.diameter/2,o=n.diameter/2,s=(n.diameter-n.trackWidth)/2,d=n.max-n.min,c=(n.value-n.min)/d,u=1/(n.stepCount-1),h=Math.round(c/u)*u,p=n.startAngle+h*(n.endAngle-n.startAngle),l=ni(i,o,s,n.startAngle,n.endAngle),f=ni(i,o,s,n.startAngle,p),m=Kr(i,o,s*.4,p),b=Kr(i,o,s*.9,p);let S="";if(n.showStepIndicators){const M=n.stepIndicatorSize??n.trackWidth/3;for(let N=0;N<n.stepCount;N++){const O=N/(n.stepCount-1),B=n.startAngle+O*(n.endAngle-n.startAngle),Z=Kr(i,o,s,B),D=N<=Math.round(h*(n.stepCount-1));S+=`<circle class="step-indicator" data-step-index="${N}" cx="${Z.x}" cy="${Z.y}" r="${M}" fill="${D?n.fillColor:n.trackColor}" />`}}let x="";if(n.showStepMarks){const M=n.stepMarkLength??6,N=n.stepMarkWidth??Math.max(1,n.trackWidth/4),O=s+2,B=O+M;for(let Z=0;Z<n.stepCount;Z++){const D=Z/(n.stepCount-1),U=n.startAngle+D*(n.endAngle-n.startAngle),z=Kr(i,o,O,U),G=Kr(i,o,B,U);x+=`<line class="step-mark" x1="${z.x}" y1="${z.y}" x2="${G.x}" y2="${G.y}" stroke="${n.trackColor}" stroke-width="${N}" stroke-linecap="round" />`}}const w=$a(h,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),y=n.showLabel?`<span class="knob-label knob-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",_=n.showValue?`<span class="knob-value knob-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(w)}</span>`:"",P=h>.001?`<path class="knob-arc-fill" d="${f}" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`:`<path class="knob-arc-fill" d="" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`,T=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element steppedknob-element" data-type="steppedknob"${T} data-value="${h}" data-start-angle="${n.startAngle}" data-end-angle="${n.endAngle}" data-step-count="${n.stepCount}" data-fill-color="${n.fillColor}" data-track-color="${n.trackColor}" data-step-indicator-size="${n.stepIndicatorSize??n.trackWidth/3}" data-step-mark-length="${n.stepMarkLength??6}" data-step-mark-width="${n.stepMarkWidth??Math.max(1,n.trackWidth/4)}" style="${r}">
      ${y}
      ${_}
      <svg width="100%" height="100%" viewBox="0 0 ${n.diameter} ${n.diameter}" style="overflow: visible;">
        <path class="knob-arc-track" d="${l}" fill="none" stroke="${n.trackColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />
        ${S}
        ${P}
        ${x}
        <line class="knob-indicator" x1="${m.x}" y1="${m.y}" x2="${b.x}" y2="${b.y}" stroke="${n.indicatorColor}" stroke-width="2" stroke-linecap="round" />
      </svg>
    </div>`}function v9(e,t,r,n){const i=n.diameter/2,o=n.diameter/2,s=(n.diameter-n.trackWidth)/2,d=n.max-n.min,c=(n.value-n.min)/d,u=n.startAngle+c*(n.endAngle-n.startAngle),h=n.startAngle+.5*(n.endAngle-n.startAngle),p=ni(i,o,s,n.startAngle,n.endAngle);let l=`<path class="knob-arc-fill" d="" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`;if(Math.abs(c-.5)>.01){const P=c>.5?h:u,T=c>.5?u:h;l=`<path class="knob-arc-fill" d="${ni(i,o,s,P,T)}" fill="none" stroke="${n.fillColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`}const f=Kr(i,o,s+n.trackWidth,h),m=`<circle cx="${f.x}" cy="${f.y}" r="3" fill="${n.indicatorColor}" />`,b=Kr(i,o,s*.4,u),S=Kr(i,o,s*.9,u),x=$a(c,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),w=n.showLabel?`<span class="knob-label knob-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",y=n.showValue?`<span class="knob-value knob-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(x)}</span>`:"",_=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element centerdetentknob-element" data-type="centerdetentknob"${_} data-value="${c}" data-start-angle="${n.startAngle}" data-end-angle="${n.endAngle}" style="${r}">
      ${w}
      ${y}
      <svg width="100%" height="100%" viewBox="0 0 ${n.diameter} ${n.diameter}" style="overflow: visible;">
        <path class="knob-arc-track" d="${p}" fill="none" stroke="${n.trackColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />
        ${l}
        ${m}
        <line class="knob-indicator" x1="${b.x}" y1="${b.y}" x2="${S.x}" y2="${S.y}" stroke="${n.indicatorColor}" stroke-width="2" stroke-linecap="round" />
      </svg>
    </div>`}function b9(e,t,r,n){const i=n.diameter/2,o=n.diameter/2,s=(n.diameter-n.trackWidth)/2,d=n.max-n.min,c=(n.value-n.min)/d,u=n.startAngle+c*(n.endAngle-n.startAngle),h=ni(i,o,s,n.startAngle,n.endAngle),p=ni(i,o,s,n.startAngle,u),l=c>.001?`<path class="knob-arc-fill" d="${p}" fill="none" stroke="${n.indicatorColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`:`<path class="knob-arc-fill" d="" fill="none" stroke="${n.indicatorColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />`,f=Kr(i,o,s*.7,u),m=`<circle class="knob-indicator" cx="${f.x}" cy="${f.y}" r="${n.trackWidth/2}" fill="${n.indicatorColor}" />`,b=$a(c,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),S=n.showLabel?`<span class="knob-label knob-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",x=n.showValue?`<span class="knob-value knob-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(b)}</span>`:"",w=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} knob knob-element dotindicatorknob-element" data-type="dotindicatorknob"${w} data-value="${c}" data-start-angle="${n.startAngle}" data-end-angle="${n.endAngle}" style="${r}">
      ${S}
      ${x}
      <svg width="100%" height="100%" viewBox="0 0 ${n.diameter} ${n.diameter}" style="overflow: visible;">
        <path class="knob-arc-track" d="${h}" fill="none" stroke="${n.trackColor}" stroke-width="${n.trackWidth}" stroke-linecap="round" />
        ${l}
        ${m}
      </svg>
    </div>`}function y9(e,t,r,n){if(n.styleId){const m=fe.getState().elementStyles.find(b=>b.id===n.styleId);if(m){const b=Ch(e,t,r,n,m);if(b)return b}}const i=n.orientation==="vertical",o=(n.value-n.min)/(n.max-n.min),s=i?"vertical":"horizontal",d=i?`height: ${o*100}%`:`width: ${o*100}%`,c=i?`bottom: ${o*100}%`:`left: ${o*100}%`,u=$a(o,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),h=n.showLabel?`<span class="slider-label slider-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",p=n.showValue?`<span class="slider-value slider-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(u)}</span>`:"",l=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} slider slider-element ${s}" data-type="slider"${l} data-orientation="${n.orientation}" data-value="${o}" style="${r}">
      ${h}
      ${p}
      <div class="slider-track" style="background: ${n.trackColor};"></div>
      <div class="slider-fill" style="background: ${n.trackFillColor}; ${d}"></div>
      <div class="slider-thumb" style="background: ${n.thumbColor}; ${c}"></div>
    </div>`}function x9(e,t,r,n){if(n.styleId){const _=fe.getState().elementStyles.find(P=>P.id===n.styleId);if(_){const P=Ch(e,t,r,n,_);if(P)return P}}const i=n.orientation==="vertical",o=(n.value-n.min)/(n.max-n.min),s=n.centerValue,d=i?"vertical":"horizontal",c=o>=s?n.positiveFillColor??n.trackFillColor:n.negativeFillColor??n.trackFillColor,u=$a(o,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),h=n.showLabel?`<span class="slider-label slider-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",p=n.showValue?`<span class="slider-value slider-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(u)}</span>`:"",l=` data-parameter-id="${n.parameterId||We(n.name)}"`,f=Math.min(s,o)*100,b=Math.max(s,o)*100-f;let S,x,w;return i?(S=`bottom: ${o*100}%; width: ${n.thumbWidth}px; height: ${n.thumbHeight}px; background: ${n.thumbColor};`,x=`bottom: ${f}%; height: ${b}%; background: ${c};`,w=`bottom: ${s*100}%; background: ${n.centerLineColor};`):(S=`left: ${o*100}%; width: ${n.thumbWidth}px; height: ${n.thumbHeight}px; background: ${n.thumbColor};`,x=`left: ${f}%; width: ${b}%; background: ${c};`,w=`left: ${s*100}%; background: ${n.centerLineColor};`),`<div id="${e}" class="${t} slider slider-element bipolarslider-element ${d}" data-type="bipolarslider"${l} data-orientation="${n.orientation}" data-value="${o}" data-center-value="${s}" style="${r}">
      ${h}
      ${p}
      <div class="slider-track" style="background: ${n.trackColor};"></div>
      <div class="slider-fill" style="${x}"></div>
      <div class="slider-center-mark" style="${w}"></div>
      <div class="slider-thumb" style="${S}"></div>
    </div>`}function w9(e,t,r,n){if(n.styleId){const h=fe.getState().elementStyles.find(p=>p.id===n.styleId);if(h){const p=Ch(e,t,r,n,h);if(p)return p}}const i=(n.value-n.min)/(n.max-n.min),o=`left: ${i*100}%`,s="",d="",c=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} slider slider-element crossfadeslider-element" data-type="crossfadeslider"${c} data-value="${i}" style="${r}">
      ${s}
      ${d}
      <div class="crossfade-labels">
        <span class="label-a" style="color: ${n.labelColor}; font-size: ${n.labelFontSize}px; font-family: ${n.labelFontFamily}; font-weight: ${n.labelFontWeight};">${Le(n.labelA)}</span>
        <span class="label-b" style="color: ${n.labelColor}; font-size: ${n.labelFontSize}px; font-family: ${n.labelFontFamily}; font-weight: ${n.labelFontWeight};">${Le(n.labelB)}</span>
      </div>
      <div class="slider-track" style="background: ${n.trackColor};"></div>
      <div class="slider-fill" style="width: ${i>=.5?(i-.5)*200:(.5-i)*200}%; left: ${i>=.5?"50%":i*100+"%"}; background: ${n.trackFillColor};"></div>
      <div class="center-detent"></div>
      <div class="slider-thumb" style="${o}; background: ${n.thumbColor};"></div>
    </div>`}function S9(e,t,r,n){if(n.styleId){const w=fe.getState().elementStyles.find(y=>y.id===n.styleId);if(w){const y=Ch(e,t,r,n,w);if(y)return y}}const i=n.orientation==="vertical",o=(n.value-n.min)/(n.max-n.min),s=i?"vertical":"horizontal",d=n.max-n.min,c=6,u=n.notchLength??12,h=n.notchLabelFontSize??10,p=n.showNotchLabels??!1,l=n.notchPositions?n.notchPositions:Array.from({length:n.notchCount},(x,w)=>w/(n.notchCount-1)),f=$a(o,n.min,n.max,n.valueFormat,n.valueSuffix,n.valueDecimalPlaces),m=n.showLabel?`<span class="slider-label slider-label-${n.labelPosition}" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${Le(n.labelText)}</span>`:"",b=n.showValue?`<span class="slider-value slider-value-${n.valuePosition}" style="font-size: ${n.valueFontSize??12}px; color: ${n.valueColor};">${Le(f)}</span>`:"",S=` data-parameter-id="${n.parameterId||We(n.name)}"`;if(i){const x=n.width/2,w=n.height*(1-o)-n.thumbHeight/2,y=o*n.height;let _="";return l.forEach(P=>{const T=n.height-P*n.height;if(_+=`
        <line x1="${x-c/2-2}" y1="${T}" x2="${x-c/2-2-u}" y2="${T}" stroke="${n.notchColor}" stroke-width="1.5" />
        <line x1="${x+c/2+2}" y1="${T}" x2="${x+c/2+2+u}" y2="${T}" stroke="${n.notchColor}" stroke-width="1.5" />`,p){const M=(n.min+P*d).toFixed(1);_+=`<text x="${x+c/2+u+6}" y="${T}" fill="${n.notchColor}" font-size="${h}" dominant-baseline="middle">${M}</text>`}}),`<div id="${e}" class="${t} slider slider-element notchedslider-element ${s}" data-type="notchedslider"${S} data-orientation="${n.orientation}" data-value="${o}" data-notch-count="${l.length}" style="${r}">
      ${m}
      ${b}
      <svg width="100%" height="100%" viewBox="0 0 ${n.width} ${n.height}" style="overflow: visible;">
        <rect class="slider-track" x="${x-c/2}" y="0" width="${c}" height="${n.height}" fill="${n.trackColor}" />
        <rect class="slider-fill" x="${x-c/2}" y="${n.height-y}" width="${c}" height="${y}" fill="${n.trackFillColor}" />
        ${_}
        <rect class="slider-thumb" x="${(n.width-n.thumbWidth)/2}" y="${w}" width="${n.thumbWidth}" height="${n.thumbHeight}" fill="${n.thumbColor}" />
      </svg>
    </div>`}else{const x=n.height/2,w=o*n.width-n.thumbWidth/2,y=o*n.width;let _="";return l.forEach(P=>{const T=P*n.width;if(_+=`
        <line x1="${T}" y1="${x-c/2-2}" x2="${T}" y2="${x-c/2-2-u}" stroke="${n.notchColor}" stroke-width="1.5" />
        <line x1="${T}" y1="${x+c/2+2}" x2="${T}" y2="${x+c/2+2+u}" stroke="${n.notchColor}" stroke-width="1.5" />`,p){const M=(n.min+P*d).toFixed(1);_+=`<text x="${T}" y="${x+c/2+u+12}" fill="${n.notchColor}" font-size="${h}" text-anchor="middle">${M}</text>`}}),`<div id="${e}" class="${t} slider slider-element notchedslider-element ${s}" data-type="notchedslider"${S} data-orientation="${n.orientation}" data-value="${o}" data-notch-count="${l.length}" style="${r}">
      ${m}
      ${b}
      <svg width="100%" height="100%" viewBox="0 0 ${n.width} ${n.height}" style="overflow: visible;">
        <rect class="slider-track" x="0" y="${x-c/2}" width="${n.width}" height="${c}" fill="${n.trackColor}" />
        <rect class="slider-fill" x="0" y="${x-c/2}" width="${y}" height="${c}" fill="${n.trackFillColor}" />
        ${_}
        <rect class="slider-thumb" x="${w}" y="${(n.height-n.thumbHeight)/2}" width="${n.thumbWidth}" height="${n.thumbHeight}" fill="${n.thumbColor}" />
      </svg>
    </div>`}}function k9(e,t,r,n){const i=n.max-n.min,o=i>0?(n.value-n.min)/i:0,s=Math.round(o*n.barWidth),d=n.barWidth-s,c=n.filledChar.repeat(s),u=n.emptyChar.repeat(d),h=`${n.leftBracket}${c}${u}${n.rightBracket}`;let p="";n.valueFormat==="percentage"?p=`${Math.round(o*100)}%`:n.valueFormat==="numeric"?p=(n.min+o*i).toFixed(n.valueDecimalPlaces):p=`${(n.min+o*i).toFixed(n.valueDecimalPlaces)}${n.valueSuffix}`;const l=[];n.showLabel&&n.labelPosition==="left"&&l.push(Le(n.labelText)),n.showMinMax&&l.push(Le(n.minLabel)),n.showValue&&n.valuePosition==="left"&&l.push(Le(p)),l.push(Le(h)),n.showValue&&n.valuePosition==="right"&&l.push(Le(p)),n.showMinMax&&l.push(Le(n.maxLabel)),n.showLabel&&n.labelPosition==="right"&&l.push(Le(n.labelText));const f=l.join(" "),m=n.borderWidth>0?`border: ${n.borderWidth}px solid ${n.borderColor};`:"",b=n.selectable?"user-select: text; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; cursor: text;":"user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; cursor: default;",x={left:"flex-start",center:"center",right:"flex-end"}[n.textAlign||"left"]||"flex-start",w=`${r}; font-family: ${n.fontFamily}; font-size: ${n.fontSize}px; font-weight: ${n.fontWeight}; color: ${n.textColor}; line-height: ${n.lineHeight}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border-radius: ${n.borderRadius}px; ${m} white-space: pre; display: flex; align-items: center; justify-content: ${x}; box-sizing: border-box; ${b}`,y=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} slider slider-element asciislider-element" data-type="asciislider"${y} data-min="${n.min}" data-max="${n.max}" data-value="${o}" data-bar-width="${n.barWidth}" data-filled-char="${Le(n.filledChar)}" data-empty-char="${Le(n.emptyChar)}" data-left-bracket="${Le(n.leftBracket)}" data-right-bracket="${Le(n.rightBracket)}" data-show-value="${n.showValue}" data-value-position="${n.valuePosition}" data-value-format="${n.valueFormat}" data-show-label="${n.showLabel}" data-label-text="${Le(n.labelText)}" data-label-position="${n.labelPosition}" style="${w}; cursor: ew-resize;"><span class="asciislider-bar">${f}</span></div>`}function C9(e,t,r,n){const i=n.pressed?n.pressedArt:n.normalArt,o=n.pressed?n.pressedTextColor:n.textColor,s=n.pressed?n.pressedBackgroundColor:n.backgroundColor,d=n.borderWidth>0?`border: ${n.borderWidth}px solid ${n.borderColor};`:"",c=n.selectable?"user-select: text; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text;":"user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;",h={left:"flex-start",center:"center",right:"flex-end"}[n.textAlign||"center"]||"center",p=`${r}; font-family: ${n.fontFamily}; font-size: ${n.fontSize}px; font-weight: ${n.fontWeight}; color: ${o}; line-height: ${n.lineHeight}; background-color: ${s}; padding: ${n.padding}px; border-radius: ${n.borderRadius}px; ${d} white-space: pre; display: flex; align-items: center; justify-content: ${h}; box-sizing: border-box; cursor: pointer; ${c}`,l=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} button button-element asciibutton-element" data-type="asciibutton"${l} data-mode="${n.mode}" data-pressed="${n.pressed}" data-normal-art="${Le(n.normalArt)}" data-pressed-art="${Le(n.pressedArt)}" data-normal-color="${n.textColor}" data-pressed-color="${n.pressedTextColor}" data-normal-bg="${n.backgroundColor}" data-pressed-bg="${n.pressedBackgroundColor}" style="${p}"><span class="asciibutton-art">${Le(i)}</span></div>`}function _9(e,t,r,n){const i=n.orientation==="vertical",o=n.max-n.min,s=(n.minValue-n.min)/o,d=(n.maxValue-n.min)/o,c=i?"vertical":"horizontal",u=i?`bottom: ${s*100}%; height: ${(d-s)*100}%`:`left: ${s*100}%; width: ${(d-s)*100}%`,h=i?`bottom: ${s*100}%`:`left: ${s*100}%`,p=i?`bottom: ${d*100}%`:`left: ${d*100}%`,l=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} rangeslider rangeslider-element ${c}" data-type="rangeslider"${l} data-orientation="${n.orientation}" data-min-value="${s}" data-max-value="${d}" style="${r}">
      <div class="rangeslider-track" style="background: ${n.trackColor};"></div>
      <div class="rangeslider-fill" style="background: ${n.fillColor}; ${u}"></div>
      <div class="rangeslider-thumb rangeslider-thumb-min" data-thumb="min" style="background: ${n.thumbColor}; ${h}"></div>
      <div class="rangeslider-thumb rangeslider-thumb-max" data-thumb="max" style="background: ${n.thumbColor}; ${p}"></div>
    </div>`}function j9(e,t,r,n){if(n.styleId){const l=fe.getState().elementStyles.find(f=>f.id===n.styleId);if(l){const f=mm(e,t,r,n,l);if(f)return f}}const i=n.orientation==="vertical",o=(n.value-n.min)/(n.max-n.min),s=i?"vertical":"horizontal",d=i?`height: ${o*100}%`:`width: ${o*100}%`,c=n.colorStops.map(p=>`${p.color} ${p.position*100}%`).join(", "),h=`linear-gradient(${i?"to top":"to right"}, ${c})`;return`<div id="${e}" class="${t} meter meter-element ${s}" data-type="meter" data-orientation="${n.orientation}" data-value="${o}" style="${r}; background: ${n.backgroundColor};">
      <div class="meter-fill" style="background: ${h}; ${d}"></div>
    </div>`}function P9(e,t,r,n){const{sources:i,destinations:o,previewActiveConnections:s}=n,d=o.map(u=>`<th class="matrix-header">${Le(u)}</th>`).join(""),c=i.map((u,h)=>{const p=o.map((l,f)=>`<td class="matrix-cell"${s.some(([S,x])=>S===h&&x===f)?' data-active="true"':""}></td>`).join("");return`<tr>
        <th class="matrix-row-header">${Le(u)}</th>
        ${p}
      </tr>`}).join("");return`<div id="${e}" class="${t} modulationmatrix-element" data-type="modulationmatrix" data-sources="${Le(JSON.stringify(i))}" data-destinations="${Le(JSON.stringify(o))}" style="${r}">
      <table class="modulation-matrix">
        <thead>
          <tr>
            <th class="matrix-corner"></th>
            ${d}
          </tr>
        </thead>
        <tbody>
          ${c}
        </tbody>
      </table>
    </div>`}function $9(e,t,r,n){const i=n.value.toFixed(n.decimalPlaces),o=n.showUnit?`${i} dB`:i,s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} dbdisplay-element" data-type="dbdisplay" data-value="${n.value}" data-min="${n.minDb}" data-max="${n.maxDb}" style="${s}">${Le(o)}</div>`}function I9(e,t,r,n){const i=n.autoSwitchKHz&&n.value>=1e3,o=i?n.value/1e3:n.value,s=i?"kHz":"Hz",d=o.toFixed(n.decimalPlaces),c=n.showUnit?`${d} ${s}`:d,u=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} frequencydisplay-element" data-type="frequencydisplay" data-value="${n.value}" data-auto-khz="${n.autoSwitchKHz}" style="${u}">${Le(c)}</div>`}function T9(e,t,r,n){const i=n.value*100,o=n.value*n.maxReduction,d=n.orientation==="vertical"?`top: 0; left: 0; right: 0; height: ${i}%; background-color: ${n.meterColor};`:`top: 0; right: 0; bottom: 0; width: ${i}%; background-color: ${n.meterColor};`,c=n.showValue?`<div class="gr-value" style="font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor};">${o.toFixed(1)}</div>`:"",u=`${r} background-color: ${n.backgroundColor}; position: relative;`;return`<div id="${e}" class="${t} gainreductionmeter-element" data-type="gainreductionmeter" data-value="${n.value}" data-max-reduction="${n.maxReduction}" data-orientation="${n.orientation}" style="${u}">
      <div class="gr-fill" style="position: absolute; ${d}"></div>
      ${c}
    </div>`}function N9(e,t,r,n){const i=n.options.map((d,c)=>{const u=c===n.selectedIndex?" selected":"";return`<option value="${c}"${u}>${Le(d)}</option>`}).join(""),o=` data-parameter-id="${n.parameterId||We(n.name)}"`,s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; border: 1px solid ${n.borderColor}; border-radius: ${n.borderRadius}px;`;return`<select id="${e}" class="${t} dropdown-element" data-type="dropdown"${o} style="${s}">
      ${i}
    </select>`}function E9(e,t,r,n){const i=n.checked?" checked":"",o=`${e}-label`,s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; display: flex; align-items: center; gap: 8px; flex-direction: ${n.labelPosition==="left"?"row-reverse":"row"};`;return`<div id="${e}" class="${t} checkbox-element" data-type="checkbox" data-label-position="${n.labelPosition}" style="${s}">
      <input type="checkbox" id="${e}-input"${i} />
      <label id="${o}" for="${e}-input">${Le(n.label)}</label>
    </div>`}function z9(e,t,r,n){const i=n.options.map((s,d)=>{const c=`${e}-option-${d}`,u=d===n.selectedIndex?" checked":"";return`<div class="radio-option" style="display: flex; align-items: center; gap: 8px;">
        <input type="radio" id="${c}" name="${e}" value="${d}"${u} />
        <label for="${c}">${Le(s)}</label>
      </div>`}).join(""),o=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; display: flex; flex-direction: ${n.orientation==="vertical"?"column":"row"}; gap: ${n.spacing}px;`;return`<div id="${e}" class="${t} radiogroup-element" data-type="radiogroup" data-orientation="${n.orientation}" style="${o}">
      ${i}
    </div>`}function D9(e,t,r,n){const i=n.maxLength>0?` maxlength="${n.maxLength}"`:"",o=n.value?` value="${Le(n.value)}"`:"",s=n.placeholder?` placeholder="${Le(n.placeholder)}"`:"",d=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; text-align: ${n.textAlign}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: ${n.borderWidth}px solid ${n.borderColor}; border-radius: ${n.borderRadius}px;`;return`<input type="text" id="${e}" class="${t} textfield-element" data-type="textfield"${o}${s}${i} style="${d}" />`}function O9(e,t,r,n){const i=fe.getState().getAsset,o=n.assetId?i(n.assetId):null,s=[];n.flipH&&s.push("scaleX(-1)"),n.flipV&&s.push("scaleY(-1)");const d=s.length>0?s.join(" "):"";let c=r;if(d&&(c=c.replace(/transform: rotate\(([^)]+)\);/,`transform: rotate($1) ${d}; transform-origin: center center;`)),n.opacity!==1&&(c+=` opacity: ${n.opacity};`),!o)return`<div id="${e}" class="${t} svggraphic-element" data-type="svggraphic" style="${c}">
  <!-- SVG Graphic: Asset not assigned or missing -->
</div>`;const u=Dr(o.svgContent);return`<div id="${e}" class="${t} svggraphic-element" data-type="svggraphic" style="${c}">
  ${u}
</div>`}function F9(e,t,r,n){const i=n.bandValues.join(",");let o="";for(let d=0;d<n.bandCount;d++){const h=((n.bandValues[d]??.5)-n.min)/(n.max-n.min)*100,p=n.labelStyle!=="hidden"?`<span class="multislider-label" style="font-size: ${n.labelFontSize??12}px; color: ${n.labelColor};">${d+1}</span>`:"";o+=`<div class="multislider-band">
      <div class="multislider-fill" style="height: ${h}%;"></div>
      <div class="multislider-thumb" style="bottom: ${h}%;"></div>
      ${p}
    </div>`}const s=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} multislider-element" data-type="multislider"${s} data-band-count="${n.bandCount}" data-band-values="${i}" data-min="${n.min}" data-max="${n.max}" data-label-style="${n.labelStyle}" data-link-mode="${n.linkMode}" style="${r}">
  <div class="multislider-container">${o}</div>
</div>`}function M9(e){if(e.iconSource==="builtin"&&e.builtInIcon){const t=e.builtInIcon;return Pm[t]||""}if(e.iconSource==="asset"&&e.assetId){const t=fe.getState().getAsset,r=t(e.assetId);if(r)return Dr(r.svgContent)}return""}function L9(e,t,r,n){if(n.styleId){const d=fe.getState().elementStyles.find(c=>c.id===n.styleId);if(d){const c=c9(e,t,r,n,d);if(c)return c}}let i="";if(n.iconSource==="builtin"&&n.builtInIcon)i=Pm[n.builtInIcon]||"";else if(n.iconSource==="asset"&&n.assetId){const s=fe.getState().getAsset,d=s(n.assetId);d&&(i=Dr(d.svgContent))}const o=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<button id="${e}" class="${t} iconbutton-element" data-type="iconbutton"${o} data-mode="${n.mode}" data-pressed="${n.pressed}" style="${r}">
  <span class="icon">${i}</span>
</button>`}function A9(e,t,r,n){if(n.styleId){const d=fe.getState().elementStyles.find(c=>c.id===n.styleId);if(d){const c=u9(e,t,r,n,d);if(c)return c}}const i=n.showLabels?`<span class="label-off">${Le(n.offLabel)}</span><span class="label-on">${Le(n.onLabel)}</span>`:"",o=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} toggleswitch-element" data-type="toggleswitch"${o} data-on="${n.isOn}" style="${r}">
  <div class="track"></div>
  <div class="thumb"></div>
  ${i}
</div>`}function R9(e,t,r,n){if(n.styleId){const s=fe.getState().elementStyles.find(d=>d.id===n.styleId);if(s){const d=d9(e,t,r,n,s);if(d)return d}}const i=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<button id="${e}" class="${t} powerbutton-element" data-type="powerbutton"${i} data-on="${n.isOn}" data-led-position="${n.ledPosition}" style="${r}">
  <span class="label">${Le(n.label)}</span>
  <span class="led"></span>
</button>`}function B9(e,t,r,n){if("styleId"in n&&n.styleId){const c=fe.getState().elementStyles.find(u=>u.id===n.styleId);if(c){const u=h9(e,t,r,n,c);if(u)return u}}const i={2:"↑",1:"─",0:"↓"},o=n.showLabels?`<div class="labels">
    <span class="label-up">${Le(n.upLabel)}</span>
    <span class="label-down">${Le(n.downLabel)}</span>
  </div>`:"",s=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} rockerswitch-element" data-type="rockerswitch"${s} data-position="${n.position}" data-mode="${n.mode}" style="${r}">
  <div class="track">
    <div class="paddle">${i[n.position]}</div>
  </div>
  ${o}
</div>`}function U9(e,t,r,n){if("styleId"in n&&n.styleId){const P=fe.getState().elementStyles.find(T=>T.id===n.styleId);if(P){const T=f9(e,t,r,n,P);if(T)return T}}const i=Math.min(n.width,n.height),o=i/2,s=i/2,d=i*.35,c=d*.7,u=n.positionCount>1?n.rotationAngle/(n.positionCount-1):0,h=-n.rotationAngle/2,p=h+n.currentPosition*u,l=n.positionLabels||Array.from({length:n.positionCount},(_,P)=>String(P+1)),f=_=>_*Math.PI/180,m=o+c*Math.sin(f(p)),b=s-c*Math.cos(f(p)),S=Array.from({length:n.positionCount},(_,P)=>{const T=h+P*u,M=d-6,N=d-2,O=o+M*Math.sin(f(T)),B=s-M*Math.cos(f(T)),Z=o+N*Math.sin(f(T)),D=s-N*Math.cos(f(T)),z=P===n.currentPosition?n.pointerColor:n.borderColor;return`<line x1="${O}" y1="${B}" x2="${Z}" y2="${D}" stroke="${z}" stroke-width="2" stroke-linecap="round" />`}).join("");let x="";if(n.labelLayout==="radial"){const _=d+20;x=l.slice(0,n.positionCount).map((T,M)=>{const N=h+M*u,O=o+_*Math.sin(f(N)),B=s-_*Math.cos(f(N)),Z=M===n.currentPosition,D=Z?1:.6,U=Z?"bold":"normal";return`<text x="${O}" y="${B}" text-anchor="middle" dominant-baseline="middle" font-size="${n.labelFontSize??12}" fill="${n.labelColor}" font-weight="${U}" opacity="${D}">${Le(T)}</text>`}).join("")}else x=`</svg><div class="labels-legend">${l.slice(0,n.positionCount).map((P,T)=>`<span class="label" data-active="${T===n.currentPosition}">${T+1}. ${Le(P)}</span>`).join("")}</div>`;const w=`<svg width="${i}" height="${i}" viewBox="0 0 ${i} ${i}">
    <!-- Switch body -->
    <circle cx="${o}" cy="${s}" r="${d}" fill="${n.backgroundColor}" stroke="${n.borderColor}" stroke-width="2" />
    <!-- Position indicator marks -->
    ${S}
    <!-- Pointer line -->
    <line x1="${o}" y1="${s}" x2="${m}" y2="${b}" stroke="${n.pointerColor}" stroke-width="3" stroke-linecap="round" />
    <!-- Center dot -->
    <circle cx="${o}" cy="${s}" r="4" fill="${n.pointerColor}" />
    <!-- Radial labels (if applicable) -->
    ${n.labelLayout==="radial"?x:""}
  </svg>${n.labelLayout==="legend"?x.substring(6):""}`,y=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} rotaryswitch-element" data-type="rotaryswitch"${y} data-position="${n.currentPosition}" data-count="${n.positionCount}" data-layout="${n.labelLayout}" style="${r}">
  ${w}
</div>`}function V9(e,t,r,n){if("styleId"in n&&n.styleId){const d=fe.getState().elementStyles.find(c=>c.id===n.styleId);if(d){const c=p9(e,t,r,n,d);if(c)return c}}const i=n.segments.map((s,d)=>{const c=n.selectedIndices.includes(d),u=s.displayMode!=="text"?`<span class="segment-icon">${M9(s)}</span>`:"",h=s.displayMode!=="icon"?`<span class="segment-text">${Le(s.text||"")}</span>`:"";return`<div class="segment" data-index="${d}" data-selected="${c}">
      ${u}
      ${h}
    </div>`}).join(""),o=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} segmentbutton-element" data-type="segmentbutton"${o} data-mode="${n.selectionMode}" data-orientation="${n.orientation}" style="${r}">
  ${i}
</div>`}function W9(e,t,r,n){const i=Di(n.value,n.min,n.max,"numeric",{decimals:n.decimalPlaces}),o="8".repeat(i.replace(/[^0-9.-]/g,"").length),s=n.showGhostSegments&&n.fontStyle==="7segment"?`<span class="ghost">${o}</span>`:"",d=n.unitDisplay==="label"&&n.unit?`<span class="unit">${Le(n.unit)}</span>`:"",c=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} numericdisplay-element" data-type="numericdisplay" data-font-style="${n.fontStyle}" data-bezel="${n.bezelStyle}" style="${c}">
  ${s}
  <span class="value">${Le(i)}</span>
  ${d}
</div>`}function H9(e,t,r,n){const i=Di(n.value,n.min,n.max,"time",{decimals:n.decimalPlaces,bpm:n.bpm,timeSignature:n.timeSignature}),o=n.showGhostSegments&&n.fontStyle==="7segment"?'<span class="ghost">88:88:88</span>':"",s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} timedisplay-element" data-type="timedisplay" data-font-style="${n.fontStyle}" data-bezel="${n.bezelStyle}" style="${s}">
  ${o}
  <span class="value">${Le(i)}</span>
</div>`}function G9(e,t,r,n){const i=Di(n.value,0,1,"percentage",{decimals:n.decimalPlaces}),o=n.showGhostSegments&&n.fontStyle==="7segment"?'<span class="ghost">888%</span>':"",s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} percentagedisplay-element" data-type="percentagedisplay" data-font-style="${n.fontStyle}" data-bezel="${n.bezelStyle}" style="${s}">
  ${o}
  <span class="value">${Le(i)}</span>
</div>`}function Z9(e,t,r,n){const i=Di(n.value,n.min,n.max,"ratio",{decimals:n.decimalPlaces}),o=n.showGhostSegments&&n.fontStyle==="7segment"?'<span class="ghost">88:1</span>':"",s=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} ratiodisplay-element" data-type="ratiodisplay" data-font-style="${n.fontStyle}" data-bezel="${n.bezelStyle}" style="${s}">
  ${o}
  <span class="value">${Le(i)}</span>
</div>`}function q9(e,t,r,n){const i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=Math.round(n.min+n.value*(n.max-n.min)),s=Math.floor(o/12)-1,d=i[o%12],c=n.showMidiNumber?`<span class="midi" style="font-size: ${n.midiNumberFontSize}px;">${o}</span>`:"",u=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; flex-direction: column; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} notedisplay-element" data-type="notedisplay" data-bezel="${n.bezelStyle}" style="${u}">
  <span class="note">${d}${n.showOctave?s:""}</span>
  ${c}
</div>`}function X9(e,t,r,n){const i=Di(n.value,n.min,n.max,"bpm",{decimals:n.decimalPlaces}),o=n.showGhostSegments&&n.fontStyle==="7segment"?'<span class="ghost">888.88</span>':"",s=n.showLabel?'<span class="label">BPM</span>':"",d=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center; gap: 4px;`;return`<div id="${e}" class="${t} bpmdisplay-element" data-type="bpmdisplay" data-font-style="${n.fontStyle}" data-bezel="${n.bezelStyle}" style="${d}">
  ${o}
  <span class="value">${Le(i.replace(" BPM",""))}</span>
  ${s}
</div>`}function Y9(e,t,r,n){let i;if(n.format==="db")i=`${(n.min+n.value*(n.max-n.min)).toFixed(n.decimalPlaces)} dB`;else{const s=n.format;i=Di(n.value,n.min,n.max,s,{decimals:n.decimalPlaces})}const o=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; padding: ${n.padding}px; border: 1px solid ${n.borderColor}; display: flex; align-items: center; justify-content: center;`;return`<div id="${e}" class="${t} editabledisplay-element" data-type="editabledisplay" data-format="${n.format}" data-min="${n.min}" data-max="${n.max}" style="${o}">
  <span class="value">${Le(i)}</span>
</div>`}function K9(e,t,r,n){const i=n.values.slice(0,4).map(s=>{let d;return["numeric","time","percentage","ratio","note","bpm"].includes(s.format)?d=Di(s.value,s.min,s.max,s.format,{decimals:s.decimalPlaces}):s.format==="db"?d=`${(s.min+s.value*(s.max-s.min)).toFixed(s.decimalPlaces||2)} dB`:d=(s.min+s.value*(s.max-s.min)).toFixed(s.decimalPlaces||2),`<div class="value-item">
      ${s.label?`<span class="label">${Le(s.label)}</span>`:""}
      <span class="value">${Le(d)}</span>
    </div>`}).join(""),o=`${r} font-size: ${n.fontSize}px; font-family: ${n.fontFamily}; font-weight: ${n.fontWeight}; color: ${n.textColor}; background-color: ${n.backgroundColor}; border: 1px solid ${n.borderColor}; display: flex; flex-direction: ${n.layout==="vertical"?"column":"row"}; align-items: center; justify-content: center; gap: 8px;`;return`<div id="${e}" class="${t} multivaluedisplay-element" data-type="multivaluedisplay" data-layout="${n.layout}" style="${o}">
  ${i}
</div>`}function M1(e,t){const{segmentCount:r,orientation:n,showPeakHold:i,scalePosition:o,minDb:s,maxDb:d,colorZones:c}=e,u=n==="vertical",h=m=>{const b=s+m/r*(d-s),S=c.find(x=>b>=x.startDb&&b<x.endDb);return(S==null?void 0:S.color)||"#333333"},p=Array.from({length:r},(m,b)=>{const S=u?r-1-b:b,x=h(S);return`<div class="meter-segment" data-segment="${b}" style="background-color: ${x};"></div>`}).join(`
    `),l=i?'<div class="peak-hold" data-peak-hold></div>':"",f=o!=="none"?`
  <div class="meter-scale" data-min="${s}" data-max="${d}">
    <span>${s}</span>
    <span>${d>0?"+"+d:d}</span>
  </div>`:"";if(t){const m=`
  <div class="meter-channel" data-channel="L">
    ${p}
    ${l}
  </div>`,b=`
  <div class="meter-channel" data-channel="R">
    ${p}
    ${l}
  </div>`;return`
<div class="stereo-wrapper">
  ${f}
  ${m}
  ${b}
  <div class="channel-labels">
    <span>L</span>
    <span>R</span>
  </div>
</div>`}return`
${f}
<div class="meter-segments" data-orientation="${n}">
  ${p}
  ${l}
</div>`}function J9(e){const{showScale:t,scalePosition:r,showNumericReadout:n}=e,o=e.type==="correlationmeter"?["<span>-1</span>","<span>0</span>","<span>+1</span>"]:["<span>0%</span>","<span>100%</span>","<span>200%</span>"],s=t?`<div class="meter-scale" data-position="${r}">${o.join("")}</div>`:"";return`
${r==="above"?s:""}
<div class="meter-track">
  <div class="center-marker"></div>
  <div class="meter-indicator" data-indicator></div>
</div>
${r==="below"?s:""}
${n?'<div class="meter-readout" data-readout></div>':""}`}function Q9(e,t,r,n){const i=n.min+n.value*(n.max-n.min),o=n.valueFormat==="custom"?`${i.toFixed(n.decimalPlaces)}${n.valueSuffix}`:i.toFixed(n.decimalPlaces),s=n.showValue?`<span class="stepper-value">${Le(o)}</span>`:"",d=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} stepper-element" data-type="stepper"${d} data-value="${n.value}" data-min="${n.min}" data-max="${n.max}" data-step="${n.step}" data-orientation="${n.orientation}" style="${r}">
  <button class="stepper-button decrement" aria-label="Decrement"></button>
  ${s}
  <button class="stepper-button increment" aria-label="Increment"></button>
</div>`}function eB(e,t,r,n){const i=JSON.stringify(n.items.map(c=>({id:c.id,label:c.label})));let o=n.items;const s=n.maxVisibleItems>0&&n.items.length>n.maxVisibleItems;if(s&&n.items.length>0){const c=n.items[0],u=n.items.slice(-(n.maxVisibleItems-1));o=[c,...u]}const d=o.map((c,u)=>{const h=u===o.length-1,p=s&&u===0;let l="<li>";return h?l+=`<span class="breadcrumb-current">${Le(c.label)}</span>`:l+=`<a href="#" data-item-id="${Le(c.id)}">${Le(c.label)}</a>`,h||(l+=`<span class="breadcrumb-separator">${Le(n.separator)}</span>`),p&&(l+='<span class="breadcrumb-ellipsis" title="Click to show all items" style="cursor: pointer;">...</span>',l+=`<span class="breadcrumb-separator">${Le(n.separator)}</span>`),l+="</li>",l}).join("");return`<nav id="${e}" class="${t} breadcrumb-element" data-type="breadcrumb" aria-label="breadcrumb" style="${r}" data-all-items='${Le(i)}' data-separator="${Le(n.separator)}" data-max-visible="${n.maxVisibleItems}">
  <ol>
    ${d}
  </ol>
</nav>`}function tB(e,t,r,n){const o=n.selectedIndices.map(c=>n.options[c]).join(", ")||"Select options...",s=n.options.map((c,u)=>{const h=n.selectedIndices.includes(u);return`<div class="dropdown-item" data-index="${u}">
      <input type="checkbox" ${h?"checked":""} />
      <span>${Le(c)}</span>
    </div>`}).join(""),d=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} multiselectdropdown-element" data-type="multiselectdropdown"${d} data-max-selections="${n.maxSelections}" role="listbox" aria-multiselectable="true" style="${r}">
  <div class="dropdown-container">
    <div class="selected-text">${Le(o)}</div>
    <div class="dropdown-menu">
      ${s}
    </div>
  </div>
</div>`}function rB(e,t,r,n){const i=n.options.map(s=>`<div class="dropdown-item" data-value="${Le(s)}">${Le(s)}</div>`).join(""),o=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} combobox-element" data-type="combobox"${o} role="combobox" aria-expanded="false" aria-autocomplete="list" style="${r}">
  <div class="dropdown-container">
    <input type="text" value="${Le(n.selectedValue)}" placeholder="${Le(n.placeholder)}" />
    <div class="dropdown-menu">
      ${i}
      <div class="empty-state" style="display: none;">No matching options</div>
    </div>
  </div>
</div>`}function nB(e){return e&&Pm[e]||""}function aB(e,t,r,n){const i=n.menuItems.map((o,s)=>o.divider?'<div class="menu-divider"></div>':`<div class="dropdown-item${o.disabled?" disabled":""}" role="menuitem" data-item-id="${Le(o.id)}" data-index="${s}">${Le(o.label)}</div>`).join("");return`<button id="${e}" class="${t} menubutton-element" data-type="menubutton" aria-haspopup="menu" style="${r}">
  ${Le(n.label)}
  <div class="dropdown-container">
    <div class="dropdown-menu" role="menu">
      ${i}
    </div>
  </div>
</button>`}function iB(e,t,r,n){const i=n.tabs.map((d,c)=>{const u=c===n.activeTabIndex,h=d.showIcon&&d.icon?`<span class="tab-icon">${nB(d.icon)}</span>`:"",p=d.showLabel&&d.label?`<span class="tab-label">${Le(d.label)}</span>`:"";return`<div class="tab" role="tab" aria-selected="${u}" data-tab-index="${c}" data-tab-id="${Le(d.id)}">
    ${h}
    ${p}
  </div>`}).join(""),o=n.indicatorStyle==="underline"?'<div class="indicator-underline"></div>':n.indicatorStyle==="accent-bar"?'<div class="indicator-underline"></div><div class="indicator-accent"></div>':"",s=` data-parameter-id="${n.parameterId||We(n.name)}"`;return`<div id="${e}" class="${t} tabbar-element" data-type="tabbar"${s} data-active-tab="${n.activeTabIndex}" data-orientation="${n.orientation}" data-indicator-style="${n.indicatorStyle}" role="tablist" style="${r}">
  ${i}
  ${o}
</div>`}function oB(e,t,r,n){const i=n.selectedTags.map(s=>`<div class="tag-chip" data-tag-id="${Le(s.id)}">
    <span>${Le(s.label)}</span>
    <button class="tag-remove" aria-label="Remove ${Le(s.label)}">×</button>
  </div>`).join(""),o=n.showInput?`
  <div class="tag-input-wrapper">
    <input type="text" placeholder="${Le(n.inputPlaceholder)}" />
    <div class="tag-dropdown">
      ${n.availableTags.filter(s=>!n.selectedTags.find(d=>d.id===s.id)).map(s=>`<div class="tag-dropdown-item" data-tag-id="${Le(s.id)}">${Le(s.label)}</div>`).join("")}
    </div>
  </div>`:"";return`<div id="${e}" class="${t} tagselector-element" data-type="tagselector" role="list" style="${r}">
  <div class="tags-container">
    ${i}
  </div>
  ${o}
</div>`}function a4(e,t,r,n){const i=e.children&&e.children.length>0,o=e.id===n,s=t*r;let d=`<div class="tree-node" data-node-id="${Le(e.id)}" data-level="${t}" data-selected="${o}" style="padding-left: ${s}px;">
  <span class="tree-arrow ${i?"":"empty"}"></span>
  <span class="tree-node-name">${Le(e.name)}</span>
</div>`;return i&&e.children&&(d+=e.children.map(c=>a4(c,t+1,r,n)).join("")),d}function sB(e,t,r,n){const i=n.data.map(o=>a4(o,0,n.indent,n.selectedId)).join("");return`<div id="${e}" class="${t} treeview-element" data-type="treeview" data-selected-id="${n.selectedId||""}" data-row-height="${n.rowHeight}" data-indent="${n.indent}" style="${r}">
  ${i}
</div>`}function lB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element viz-container" data-viz-type="scrollingwaveform" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  // HiDPI setup
  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  // Draw function called by JUCE with waveform data
  window.updateWaveform_${t.replace(/-/g,"_")} = function(waveformData) {
    const width = ${e.width};
    const height = ${e.height};

    // Clear
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    // Grid
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    ctx.beginPath();
    ctx.moveTo(0, height / 2);
    ctx.lineTo(width, height / 2);
    ctx.stroke();
    ctx.globalAlpha = 1.0;
    `:""}

    // Waveform
    ctx.strokeStyle = '${e.waveformColor}';
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let i = 0; i < waveformData.length; i++) {
      const x = (i / waveformData.length) * width;
      const y = (height / 2) - (waveformData[i] * height * 0.4);
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ${e.displayMode==="fill"?`
    ctx.lineTo(width, height / 2);
    ctx.closePath();
    ctx.globalAlpha = 0.5;
    ctx.fillStyle = '${e.waveformColor}';
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:"ctx.stroke();"}
  };

  // Register with JUCE
  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('waveform_${t}', (e) => {
      window.updateWaveform_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Draw initial demo waveform for preview
  const demoData = Array(100).fill(0).map((_, i) => Math.sin(i * 0.2) * 0.5 + (Math.random() - 0.5) * 0.2);
  window.updateWaveform_${t.replace(/-/g,"_")}(demoData);
})();
<\/script>`}function cB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element viz-container" data-viz-type="spectrumanalyzer" data-fft-size="${e.fftSize}" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  window.updateSpectrum_${t.replace(/-/g,"_")} = function(frequencyData) {
    const width = ${e.width};
    const height = ${e.height};
    const barCount = frequencyData.length;
    const barWidth = width / barCount;
    const gapWidth = ${e.barGap};

    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    for (let i = 0; i < barCount; i++) {
      const magnitude = frequencyData[i];
      const x = i * barWidth;
      const barHeight = magnitude * height * 0.9;
      const y = height - barHeight;

      // Color gradient
      const hue = (1 - magnitude) * 240;
      ctx.fillStyle = \`hsl(\${hue}, 100%, \${40 + magnitude * 20}%)\`;
      ctx.fillRect(x + gapWidth / 2, y, barWidth - gapWidth, barHeight);
    }
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('fftData_${t}', (e) => {
      window.updateSpectrum_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Draw initial demo spectrum for preview
  const demoFreqData = Array(${e.fftSize/2}).fill(0).map((_, i) => Math.max(0, 0.8 - i / ${e.fftSize/2} + (Math.random() - 0.5) * 0.3));
  window.updateSpectrum_${t.replace(/-/g,"_")}(demoFreqData);
})();
<\/script>`}function uB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element viz-container" data-viz-type="spectrogram" data-fft-size="${e.fftSize}" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  window.updateSpectrogram_${t.replace(/-/g,"_")} = function(spectrogramData) {
    const width = ${e.width};
    const height = ${e.height};

    // Shift existing pixel buffer left by 1px
    const imageData = ctx.getImageData(1, 0, width - 1, height);
    ctx.putImageData(imageData, 0, 0);

    // Draw new line at rightmost column
    const x = width - 1;
    for (let y = 0; y < spectrogramData.length; y++) {
      const magnitude = spectrogramData[y];
      const hue = (1 - magnitude) * 240;
      ctx.fillStyle = \`hsl(\${hue}, 100%, \${40 + magnitude * 20}%)\`;
      const pixelY = height - (y / spectrogramData.length) * height;
      ctx.fillRect(x, pixelY, 1, height / spectrogramData.length);
    }
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('spectrogramData_${t}', (e) => {
      window.updateSpectrogram_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Draw initial demo spectrogram for preview (fill with color bars)
  const width = ${e.width};
  const height = ${e.height};
  ctx.fillStyle = '${e.backgroundColor}';
  ctx.fillRect(0, 0, width, height);
  for (let x = 0; x < width; x += 2) {
    for (let y = 0; y < height; y++) {
      const magnitude = Math.max(0, 0.6 - (y / height) + (Math.random() - 0.5) * 0.2);
      const hue = (1 - magnitude) * 240;
      ctx.fillStyle = \`hsl(\${hue}, 100%, \${40 + magnitude * 20}%)\`;
      ctx.fillRect(x, y, 2, 1);
    }
  }
})();
<\/script>`}function dB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element viz-container" data-viz-type="goniometer" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  window.updateGoniometer_${t.replace(/-/g,"_")} = function(stereoData) {
    const width = ${e.width};
    const height = ${e.height};
    const cx = width / 2;
    const cy = height / 2;
    const radius = Math.min(width, height) / 2 - 10;

    // Clear
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    // Grid circles
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.3;
    for (let r = 0.25; r <= 1.0; r += 0.25) {
      ctx.beginPath();
      ctx.arc(cx, cy, radius * r, 0, Math.PI * 2);
      ctx.stroke();
    }
    ctx.globalAlpha = 1.0;
    `:""}

    ${e.showAxisLines?`
    // L/R and M/S axes
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.5;
    // L/R diagonal axes
    ctx.beginPath();
    ctx.moveTo(cx - radius * 0.707, cy + radius * 0.707);
    ctx.lineTo(cx + radius * 0.707, cy - radius * 0.707);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx - radius * 0.707, cy - radius * 0.707);
    ctx.lineTo(cx + radius * 0.707, cy + radius * 0.707);
    ctx.stroke();
    // M/S axes
    ctx.beginPath();
    ctx.moveTo(cx, cy - radius);
    ctx.lineTo(cx, cy + radius);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx - radius, cy);
    ctx.lineTo(cx + radius, cy);
    ctx.stroke();
    ctx.globalAlpha = 1.0;
    `:""}

    // Draw stereo trace
    ctx.strokeStyle = '${e.traceColor}';
    ctx.lineWidth = 2;
    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    for (let i = 0; i < stereoData.length; i += 2) {
      const l = stereoData[i];
      const r = stereoData[i + 1];
      const x = cx + (l - r) * radius * 0.707;
      const y = cy - (l + r) * radius * 0.707;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1.0;
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('stereoData_${t}', (e) => {
      window.updateGoniometer_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Draw initial demo goniometer for preview
  const demoStereo = { left: [], right: [] };
  for (let i = 0; i < 256; i++) {
    const t = i / 256;
    demoStereo.left.push(Math.sin(t * Math.PI * 4) * 0.6 + (Math.random() - 0.5) * 0.2);
    demoStereo.right.push(Math.sin(t * Math.PI * 4 + 0.3) * 0.6 + (Math.random() - 0.5) * 0.2);
  }
  window.updateGoniometer_${t.replace(/-/g,"_")}(demoStereo);
})();
<\/script>`}function hB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element viz-container" data-viz-type="vectorscope" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  window.updateVectorscope_${t.replace(/-/g,"_")} = function(stereoData) {
    const width = ${e.width};
    const height = ${e.height};
    const cx = width / 2;
    const cy = height / 2;
    const radius = Math.min(width, height) / 2 - 10;

    // Clear
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    // Grid circles
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.3;
    for (let r = 0.25; r <= 1.0; r += 0.25) {
      ctx.beginPath();
      ctx.arc(cx, cy, radius * r, 0, Math.PI * 2);
      ctx.stroke();
    }
    ctx.globalAlpha = 1.0;
    `:""}

    ${e.showAxisLines?`
    // L/R axes
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.5;
    ctx.beginPath();
    ctx.moveTo(cx - radius, cy);
    ctx.lineTo(cx + radius, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy - radius);
    ctx.lineTo(cx, cy + radius);
    ctx.stroke();
    ctx.globalAlpha = 1.0;
    `:""}

    // Draw Lissajous trace
    ctx.strokeStyle = '${e.traceColor}';
    ctx.lineWidth = 2;
    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    for (let i = 0; i < stereoData.length; i += 2) {
      const l = stereoData[i];
      const r = stereoData[i + 1];
      const x = cx + l * radius;
      const y = cy - r * radius;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1.0;
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('stereoData_${t}', (e) => {
      window.updateVectorscope_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Draw initial demo vectorscope for preview
  const demoVecStereo = { left: [], right: [] };
  for (let i = 0; i < 256; i++) {
    const t = i / 256;
    demoVecStereo.left.push(Math.sin(t * Math.PI * 4) * 0.6 + (Math.random() - 0.5) * 0.2);
    demoVecStereo.right.push(Math.sin(t * Math.PI * 4 + 0.3) * 0.6 + (Math.random() - 0.5) * 0.2);
  }
  window.updateVectorscope_${t.replace(/-/g,"_")}(demoVecStereo);
})();
<\/script>`}function fB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element curve-container" data-curve-type="eqcurve" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const width = ${e.width};
  const height = ${e.height};

  canvas.width = width * dpr;
  canvas.height = height * dpr;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  ctx.scale(dpr, dpr);

  let currentBands = ${JSON.stringify(e.bands)};
  let hoveredHandle = -1;

  function frequencyToX(freq) {
    const minLog = Math.log10(${e.minFreq});
    const maxLog = Math.log10(${e.maxFreq});
    return ((Math.log10(freq) - minLog) / (maxLog - minLog)) * width;
  }

  function dbToY(db) {
    return height - ((db - ${e.minDb}) / (${e.maxDb} - ${e.minDb})) * height;
  }

  function calculateBiquadResponse(freq, centerFreq, gain, Q) {
    const freqRatio = Math.log10(freq / centerFreq);
    const bellShape = Math.exp(-Math.pow(freqRatio * Q * 3, 2));
    return gain * bellShape;
  }

  function draw() {
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    [20, 50, 100, 200, 500, 1000, 2000, 5000, 10000, 20000].forEach(freq => {
      const x = frequencyToX(freq);
      ctx.beginPath();
      ctx.moveTo(x, 0);
      ctx.lineTo(x, height);
      ctx.stroke();
    });
    ctx.globalAlpha = 1.0;
    `:""}

    const points = [];
    for (let i = 0; i <= 200; i++) {
      const x = (i / 200) * width;
      const freq = Math.pow(10, Math.log10(${e.minFreq}) + (x / width) * (Math.log10(${e.maxFreq}) - Math.log10(${e.minFreq})));
      let totalDb = 0;
      currentBands.forEach(band => {
        totalDb += calculateBiquadResponse(freq, band.frequency, band.gain, band.Q);
      });
      points.push({x, y: dbToY(totalDb)});
    }

    ctx.strokeStyle = '${e.curveColor}';
    ctx.lineWidth = ${e.lineWidth};
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    for (let i = 1; i < points.length; i++) {
      ctx.lineTo(points[i].x, points[i].y);
    }
    ctx.stroke();

    ${e.showFill?`
    ctx.fillStyle = '${e.fillColor}';
    ctx.globalAlpha = ${e.fillOpacity};
    ctx.lineTo(width, height);
    ctx.lineTo(0, height);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:""}

    currentBands.forEach((band, i) => {
      const hx = frequencyToX(band.frequency);
      const hy = dbToY(band.gain);
      const isHovered = i === hoveredHandle;
      ctx.fillStyle = isHovered ? '${e.handleHoverColor??"#00ffff"}' : '${e.handleColor}';
      ctx.fillRect(hx - 4, hy - 4, 8, 8);
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = 1;
      ctx.strokeRect(hx - 4, hy - 4, 8, 8);
    });
  }

  let isDragging = false;
  let draggedBand = -1;

  function xToFrequency(x) {
    const minLog = Math.log10(${e.minFreq});
    const maxLog = Math.log10(${e.maxFreq});
    return Math.pow(10, minLog + (x / width) * (maxLog - minLog));
  }

  function yToDb(y) {
    return ${e.minDb} + ((height - y) / height) * (${e.maxDb} - ${e.minDb});
  }

  function getHandleAtPosition(mx, my) {
    for (let i = 0; i < currentBands.length; i++) {
      const hx = frequencyToX(currentBands[i].frequency);
      const hy = dbToY(currentBands[i].gain);
      if (Math.abs(mx - hx) < 8 && Math.abs(my - hy) < 8) {
        return i;
      }
    }
    return -1;
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    const handle = getHandleAtPosition(mx, my);
    if (handle >= 0) {
      isDragging = true;
      draggedBand = handle;
      canvas.style.cursor = 'grabbing';
    }
  });

  canvas.addEventListener('mousemove', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;

    if (isDragging && draggedBand >= 0) {
      const newFreq = Math.max(${e.minFreq}, Math.min(${e.maxFreq}, xToFrequency(mx)));
      const newGain = Math.max(${e.minDb}, Math.min(${e.maxDb}, yToDb(my)));
      currentBands[draggedBand].frequency = newFreq;
      currentBands[draggedBand].gain = newGain;
      draw();
    } else {
      const newHovered = getHandleAtPosition(mx, my);
      if (newHovered !== hoveredHandle) {
        hoveredHandle = newHovered;
        canvas.style.cursor = hoveredHandle >= 0 ? 'grab' : 'default';
        draw();
      }
    }
  });

  document.addEventListener('mouseup', function() {
    if (isDragging) {
      isDragging = false;
      draggedBand = -1;
      canvas.style.cursor = hoveredHandle >= 0 ? 'grab' : 'default';
    }
  });

  canvas.addEventListener('mouseleave', function() {
    if (!isDragging && hoveredHandle !== -1) {
      hoveredHandle = -1;
      canvas.style.cursor = 'default';
      draw();
    }
  });

  window.updateEQCurve_${t.replace(/-/g,"_")} = function(bands) {
    currentBands = bands;
    draw();
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('eqData_${t}', (e) => {
      window.updateEQCurve_${t.replace(/-/g,"_")}(e.data);
    });
  }

  draw();
})();
<\/script>`}function pB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element curve-container" data-curve-type="compressorcurve" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const width = ${e.width};
  const height = ${e.height};

  canvas.width = width * dpr;
  canvas.height = height * dpr;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  ctx.scale(dpr, dpr);

  let currentParams = {threshold: ${e.threshold}, ratio: ${e.ratio}, knee: ${e.knee}};
  let isHovered = false;

  function dbToX(db) {
    return ((db - ${e.minDb}) / (${e.maxDb} - ${e.minDb})) * width;
  }

  function dbToY(db) {
    return height - ((db - ${e.minDb}) / (${e.maxDb} - ${e.minDb})) * height;
  }

  function applyCompression(inputDb, threshold, ratio, knee) {
    const halfKnee = knee / 2;
    if (inputDb < threshold - halfKnee) {
      return inputDb;
    } else if (inputDb > threshold + halfKnee) {
      return threshold + (inputDb - threshold) / ratio;
    } else {
      const x = inputDb - threshold + halfKnee;
      const w = 2 * halfKnee;
      const y = x * x / (2 * w);
      return inputDb + (1 / ratio - 1) * y;
    }
  }

  function draw() {
    const threshold = currentParams.threshold;
    const ratio = currentParams.ratio;
    const knee = currentParams.knee;

    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    for (let db = ${e.minDb}; db <= ${e.maxDb}; db += 12) {
      const x = dbToX(db);
      const y = dbToY(db);
      ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, height); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(width, y); ctx.stroke();
    }
    ctx.globalAlpha = 1.0;
    `:""}

    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.5;
    ctx.beginPath();
    ctx.moveTo(0, height);
    ctx.lineTo(width, 0);
    ctx.stroke();
    ctx.globalAlpha = 1.0;

    ctx.strokeStyle = '${e.curveColor}';
    ctx.lineWidth = ${e.lineWidth};
    ctx.beginPath();
    for (let i = 0; i <= 200; i++) {
      const inputDb = ${e.minDb} + (i / 200) * (${e.maxDb} - ${e.minDb});
      const outputDb = applyCompression(inputDb, threshold, ratio, knee);
      const x = dbToX(inputDb);
      const y = dbToY(outputDb);
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();

    ${e.showFill?`
    ctx.fillStyle = '${e.fillColor}';
    ctx.globalAlpha = 0.3;
    ctx.lineTo(width, height);
    ctx.lineTo(0, height);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:""}

    const tx = dbToX(threshold);
    const ty = dbToY(threshold);
    ctx.fillStyle = isHovered ? '${e.handleHoverColor??"#00ffff"}' : '${e.handleColor}';
    ctx.fillRect(tx - 4, ty - 4, 8, 8);
    ctx.strokeStyle = '#ffffff';
    ctx.lineWidth = 1;
    ctx.strokeRect(tx - 4, ty - 4, 8, 8);
  }

  let isDragging = false;

  function xToDb(x) {
    return ${e.minDb} + (x / width) * (${e.maxDb} - ${e.minDb});
  }

  function isOverHandle(mx, my) {
    const tx = dbToX(currentParams.threshold);
    const ty = dbToY(currentParams.threshold);
    return Math.abs(mx - tx) < 8 && Math.abs(my - ty) < 8;
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    if (isOverHandle(mx, my)) {
      isDragging = true;
      canvas.style.cursor = 'grabbing';
    }
  });

  canvas.addEventListener('mousemove', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;

    if (isDragging) {
      const newThreshold = Math.max(${e.minDb}, Math.min(${e.maxDb}, xToDb(mx)));
      currentParams.threshold = newThreshold;
      draw();
    } else {
      const newHovered = isOverHandle(mx, my);
      if (newHovered !== isHovered) {
        isHovered = newHovered;
        canvas.style.cursor = isHovered ? 'grab' : 'default';
        draw();
      }
    }
  });

  document.addEventListener('mouseup', function() {
    if (isDragging) {
      isDragging = false;
      canvas.style.cursor = isHovered ? 'grab' : 'default';
    }
  });

  canvas.addEventListener('mouseleave', function() {
    if (!isDragging && isHovered) {
      isHovered = false;
      canvas.style.cursor = 'default';
      draw();
    }
  });

  window.updateCompressorCurve_${t.replace(/-/g,"_")} = function(params) {
    currentParams = {...currentParams, ...params};
    draw();
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('compressorData_${t}', (e) => {
      window.updateCompressorCurve_${t.replace(/-/g,"_")}(e.data);
    });
  }

  draw();
})();
<\/script>`}function mB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element curve-container" data-curve-type="envelopedisplay" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const width = ${e.width};
  const height = ${e.height};

  canvas.width = width * dpr;
  canvas.height = height * dpr;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  ctx.scale(dpr, dpr);

  let currentParams = {
    attack: ${e.attack},
    decay: ${e.decay},
    sustain: ${e.sustain},
    release: ${e.release},
    curveType: '${e.curveType}'
  };
  let hoveredHandle = -1; // 0=attack, 1=decay/sustain, 2=release
  let isDragging = false;
  let draggedHandle = -1;

  const sustainTime = 0.3; // Fixed sustain display time

  function getTotalTime() {
    return currentParams.attack + currentParams.decay + sustainTime + currentParams.release;
  }

  function getHandlePositions() {
    const totalTime = getTotalTime();
    const attack = currentParams.attack;
    const decay = currentParams.decay;
    const sustain = currentParams.sustain;
    const release = currentParams.release;

    return [
      // Attack peak (end of attack phase)
      { x: (attack / totalTime) * width, y: 0 },
      // Decay end / Sustain point
      { x: ((attack + decay) / totalTime) * width, y: height - sustain * height },
      // Release end
      { x: width, y: height }
    ];
  }

  function calculateEnvelopeCurve() {
    const points = [];
    const attack = currentParams.attack;
    const decay = currentParams.decay;
    const sustain = currentParams.sustain;
    const release = currentParams.release;
    const curveType = currentParams.curveType;
    const totalTime = getTotalTime();

    for (let i = 0; i <= 200; i++) {
      const t = (i / 200) * totalTime;
      let level = 0;

      if (t < attack) {
        const attackProgress = t / attack;
        level = curveType === 'exponential' ? Math.pow(attackProgress, 0.3) : attackProgress;
      } else if (t < attack + decay) {
        const decayProgress = (t - attack) / decay;
        if (curveType === 'exponential') {
          level = sustain + (1 - sustain) * Math.exp(-5 * decayProgress);
        } else {
          level = 1 - (1 - sustain) * decayProgress;
        }
      } else if (t < attack + decay + sustainTime) {
        level = sustain;
      } else {
        const releaseProgress = (t - attack - decay - sustainTime) / release;
        if (curveType === 'exponential') {
          level = sustain * Math.exp(-5 * releaseProgress);
        } else {
          level = sustain * (1 - releaseProgress);
        }
      }

      points.push({t, level});
    }
    return points;
  }

  function draw() {
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    ctx.beginPath();
    ctx.moveTo(0, height / 2);
    ctx.lineTo(width, height / 2);
    ctx.stroke();
    ctx.globalAlpha = 1.0;
    `:""}

    const points = calculateEnvelopeCurve();
    const totalTime = getTotalTime();

    ctx.strokeStyle = '${e.curveColor}';
    ctx.lineWidth = ${e.lineWidth};
    ctx.beginPath();
    points.forEach((p, i) => {
      const x = (p.t / totalTime) * width;
      const y = height - p.level * height;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    });
    ctx.stroke();

    ${e.showFill?`
    ctx.fillStyle = '${e.fillColor}';
    ctx.globalAlpha = 0.3;
    ctx.lineTo(width, height);
    ctx.lineTo(0, height);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:""}

    ${e.showStageMarkers?`
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 1;
    ctx.globalAlpha = 0.5;
    ctx.setLineDash([4, 4]);
    const attackX = (currentParams.attack / totalTime) * width;
    const decayX = ((currentParams.attack + currentParams.decay) / totalTime) * width;
    const releaseX = ((currentParams.attack + currentParams.decay + sustainTime) / totalTime) * width;
    [attackX, decayX, releaseX].forEach(x => {
      ctx.beginPath();
      ctx.moveTo(x, 0);
      ctx.lineTo(x, height);
      ctx.stroke();
    });
    ctx.setLineDash([]);
    ctx.globalAlpha = 1.0;
    `:""}

    // Draw handles
    const handles = getHandlePositions();
    handles.forEach((h, i) => {
      const isHovered = i === hoveredHandle || i === draggedHandle;
      ctx.fillStyle = isHovered ? '${e.handleHoverColor??"#00ffff"}' : '${e.handleColor??"#ffffff"}';
      ctx.fillRect(h.x - 4, h.y - 4, 8, 8);
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = 1;
      ctx.strokeRect(h.x - 4, h.y - 4, 8, 8);
    });
  }

  function getHandleAtPosition(mx, my) {
    const handles = getHandlePositions();
    for (let i = 0; i < handles.length; i++) {
      if (Math.abs(mx - handles[i].x) < 8 && Math.abs(my - handles[i].y) < 8) {
        return i;
      }
    }
    return -1;
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    const handle = getHandleAtPosition(mx, my);
    if (handle >= 0) {
      isDragging = true;
      draggedHandle = handle;
      canvas.style.cursor = 'grabbing';
    }
  });

  canvas.addEventListener('mousemove', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;

    if (isDragging && draggedHandle >= 0) {
      const totalTime = getTotalTime();
      const timeAtX = (mx / width) * totalTime;

      if (draggedHandle === 0) {
        // Attack handle - adjust attack time
        const newAttack = Math.max(0.01, Math.min(2.0, timeAtX));
        currentParams.attack = newAttack;
      } else if (draggedHandle === 1) {
        // Decay/Sustain handle - adjust decay time and sustain level
        const newDecayEnd = Math.max(currentParams.attack + 0.01, timeAtX);
        const newDecay = Math.max(0.01, Math.min(2.0, newDecayEnd - currentParams.attack));
        const newSustain = Math.max(0, Math.min(1, 1 - my / height));
        currentParams.decay = newDecay;
        currentParams.sustain = newSustain;
      } else if (draggedHandle === 2) {
        // Release handle - adjust release time based on X position relative to sustain end
        const sustainEndTime = currentParams.attack + currentParams.decay + sustainTime;
        const newRelease = Math.max(0.01, Math.min(2.0, (mx / width) * totalTime - sustainEndTime + currentParams.release));
        if (newRelease > 0.01) {
          currentParams.release = newRelease;
        }
      }
      draw();
    } else {
      const newHovered = getHandleAtPosition(mx, my);
      if (newHovered !== hoveredHandle) {
        hoveredHandle = newHovered;
        canvas.style.cursor = hoveredHandle >= 0 ? 'grab' : 'default';
        draw();
      }
    }
  });

  document.addEventListener('mouseup', function() {
    if (isDragging) {
      isDragging = false;
      draggedHandle = -1;
      canvas.style.cursor = hoveredHandle >= 0 ? 'grab' : 'default';
    }
  });

  canvas.addEventListener('mouseleave', function() {
    if (!isDragging && hoveredHandle !== -1) {
      hoveredHandle = -1;
      canvas.style.cursor = 'default';
      draw();
    }
  });

  window.updateEnvelopeDisplay_${t.replace(/-/g,"_")} = function(params) {
    currentParams = {...currentParams, ...params};
    draw();
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('envelopeData_${t}', (e) => {
      window.updateEnvelopeDisplay_${t.replace(/-/g,"_")}(e.data);
    });
  }

  draw();
})();
<\/script>`}function gB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element curve-container" data-curve-type="lfodisplay" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  canvas.width = ${e.width} * dpr;
  canvas.height = ${e.height} * dpr;
  canvas.style.width = '${e.width}px';
  canvas.style.height = '${e.height}px';
  ctx.scale(dpr, dpr);

  function generateLFOWaveform(shape, pulseWidth, sampleCount) {
    const points = [];
    for (let i = 0; i < sampleCount; i++) {
      const phase = i / sampleCount;
      let value = 0;

      switch (shape) {
        case 'sine':
          value = Math.sin(phase * Math.PI * 2);
          break;
        case 'triangle':
          value = phase < 0.5 ? (4 * phase - 1) : (3 - 4 * phase);
          break;
        case 'saw-up':
          value = 2 * phase - 1;
          break;
        case 'saw-down':
          value = 1 - 2 * phase;
          break;
        case 'square':
          value = phase < 0.5 ? 1 : -1;
          break;
        case 'pulse':
          value = phase < pulseWidth ? 1 : -1;
          break;
        case 'sample-hold':
          value = Math.sin(Math.floor(phase * 8) * 0.7854) * 0.8;
          break;
        case 'smooth-random':
          const t = phase * 4;
          const t0 = Math.floor(t);
          const t1 = t0 + 1;
          const frac = t - t0;
          const v0 = Math.sin(t0 * 2.3456) * 0.7;
          const v1 = Math.sin(t1 * 2.3456) * 0.7;
          value = v0 + (v1 - v0) * (3 - 2 * frac) * frac * frac;
          break;
      }

      points.push(value);
    }
    return points;
  }

  window.updateLFODisplay_${t.replace(/-/g,"_")} = function(params) {
    const width = ${e.width};
    const height = ${e.height};
    const shape = params.shape || '${e.shape}';
    const pulseWidth = params.pulseWidth || ${e.pulseWidth};

    // Clear
    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    // Grid
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    ctx.beginPath();
    ctx.moveTo(0, height / 2);
    ctx.lineTo(width, height / 2);
    ctx.stroke();
    ctx.globalAlpha = 1.0;
    `:""}

    const waveform = generateLFOWaveform(shape, pulseWidth, 200);

    // Draw waveform
    ctx.strokeStyle = '${e.waveformColor}';
    ctx.lineWidth = ${e.lineWidth};
    ctx.beginPath();
    waveform.forEach((value, i) => {
      const x = (i / waveform.length) * width;
      const y = height / 2 - (value * height * 0.4);
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    });
    ctx.stroke();

    ${e.showFill?`
    // Fill
    ctx.fillStyle = '${e.fillColor}';
    ctx.globalAlpha = 0.3;
    ctx.lineTo(width, height / 2);
    ctx.lineTo(0, height / 2);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:""}
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('lfoData_${t}', (e) => {
      window.updateLFODisplay_${t.replace(/-/g,"_")}(e.data);
    });
  }

  // Initial draw
  window.updateLFODisplay_${t.replace(/-/g,"_")}({shape: '${e.shape}', pulseWidth: ${e.pulseWidth}});
})();
<\/script>`}function vB(e){const t=We(e.name),r=`position: absolute; left: ${e.x}px; top: ${e.y}px; width: ${e.width}px; height: ${e.height}px; transform: rotate(${e.rotation}deg);`;return`<div id="${t}" class="element curve-container" data-curve-type="filterresponse" style="${r}">
  <canvas id="${t}-canvas"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${t}-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const width = ${e.width};
  const height = ${e.height};

  canvas.width = width * dpr;
  canvas.height = height * dpr;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  ctx.scale(dpr, dpr);

  let currentParams = {filterType: '${e.filterType}', cutoffFrequency: ${e.cutoffFrequency}, resonance: ${e.resonance}, gain: ${e.gain}};
  let isHovered = false;

  function frequencyToX(freq) {
    const minLog = Math.log10(${e.minFreq});
    const maxLog = Math.log10(${e.maxFreq});
    return ((Math.log10(freq) - minLog) / (maxLog - minLog)) * width;
  }

  function dbToY(db) {
    return height - ((db - ${e.minDb}) / (${e.maxDb} - ${e.minDb})) * height;
  }

  function calculateFilterResponse(freq, filterType, cutoff, resonance, gain) {
    const ratio = freq / cutoff;
    let db = 0;
    switch (filterType) {
      case 'lowpass':
        db = ratio > 1 ? -12 * Math.log2(ratio) : 0;
        db += (resonance - 1) * 6 * Math.exp(-Math.pow(Math.log2(ratio), 2));
        break;
      case 'highpass':
        db = ratio < 1 ? 12 * Math.log2(ratio) : 0;
        db += (resonance - 1) * 6 * Math.exp(-Math.pow(Math.log2(ratio), 2));
        break;
      case 'bandpass':
        db = -6 * Math.abs(Math.log2(ratio));
        db += resonance * 6 * Math.exp(-Math.pow(Math.log2(ratio), 2) * resonance);
        break;
      case 'notch':
        db = -resonance * 24 * Math.exp(-Math.pow(Math.log2(ratio), 2) * resonance * 2);
        break;
      case 'lowshelf':
        db = ratio < 1 ? gain : gain / (1 + Math.pow(ratio - 1, 2));
        break;
      case 'highshelf':
        db = ratio > 1 ? gain : gain / (1 + Math.pow(1 / ratio - 1, 2));
        break;
      case 'peak':
        db = gain * Math.exp(-Math.pow(Math.log2(ratio) * resonance, 2));
        break;
    }
    return db;
  }

  function draw() {
    const filterType = currentParams.filterType;
    const cutoff = currentParams.cutoffFrequency;
    const resonance = currentParams.resonance;
    const gain = currentParams.gain;

    ctx.fillStyle = '${e.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${e.showGrid?`
    ctx.strokeStyle = '${e.gridColor}';
    ctx.lineWidth = 0.5;
    ctx.globalAlpha = 0.3;
    [20, 50, 100, 200, 500, 1000, 2000, 5000, 10000, 20000].forEach(freq => {
      const x = frequencyToX(freq);
      ctx.beginPath();
      ctx.moveTo(x, 0);
      ctx.lineTo(x, height);
      ctx.stroke();
    });
    ctx.globalAlpha = 1.0;
    `:""}

    const points = [];
    for (let i = 0; i <= 200; i++) {
      const x = (i / 200) * width;
      const freq = Math.pow(10, Math.log10(${e.minFreq}) + (x / width) * (Math.log10(${e.maxFreq}) - Math.log10(${e.minFreq})));
      const db = calculateFilterResponse(freq, filterType, cutoff, resonance, gain);
      points.push({x, y: dbToY(db)});
    }

    ctx.strokeStyle = '${e.curveColor}';
    ctx.lineWidth = ${e.lineWidth};
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    for (let i = 1; i < points.length; i++) {
      ctx.lineTo(points[i].x, points[i].y);
    }
    ctx.stroke();

    ${e.showFill?`
    ctx.fillStyle = '${e.fillColor}';
    ctx.globalAlpha = 0.3;
    ctx.lineTo(width, height);
    ctx.lineTo(0, height);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    `:""}

    const cutoffX = frequencyToX(cutoff);
    const cutoffDb = calculateFilterResponse(cutoff, filterType, cutoff, resonance, gain);
    const cutoffY = dbToY(cutoffDb);
    ctx.fillStyle = isHovered ? '${e.handleHoverColor??"#00ffff"}' : '${e.handleColor}';
    ctx.fillRect(cutoffX - 4, cutoffY - 4, 8, 8);
    ctx.strokeStyle = '#ffffff';
    ctx.lineWidth = 1;
    ctx.strokeRect(cutoffX - 4, cutoffY - 4, 8, 8);
  }

  let isDragging = false;

  function xToFrequency(x) {
    const minLog = Math.log10(${e.minFreq});
    const maxLog = Math.log10(${e.maxFreq});
    return Math.pow(10, minLog + (x / width) * (maxLog - minLog));
  }

  function yToDb(y) {
    return ${e.minDb} + ((height - y) / height) * (${e.maxDb} - ${e.minDb});
  }

  function isOverHandle(mx, my) {
    const cutoffX = frequencyToX(currentParams.cutoffFrequency);
    const cutoffDb = calculateFilterResponse(currentParams.cutoffFrequency, currentParams.filterType, currentParams.cutoffFrequency, currentParams.resonance, currentParams.gain);
    const cutoffY = dbToY(cutoffDb);
    return Math.abs(mx - cutoffX) < 8 && Math.abs(my - cutoffY) < 8;
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    if (isOverHandle(mx, my)) {
      isDragging = true;
      canvas.style.cursor = 'grabbing';
    }
  });

  canvas.addEventListener('mousemove', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;

    if (isDragging) {
      const newCutoff = Math.max(${e.minFreq}, Math.min(${e.maxFreq}, xToFrequency(mx)));
      const newResonance = Math.max(0.1, Math.min(10, yToDb(my) / 3 + 1));
      currentParams.cutoffFrequency = newCutoff;
      currentParams.resonance = Math.max(0.1, Math.min(10, newResonance));
      draw();
    } else {
      const newHovered = isOverHandle(mx, my);
      if (newHovered !== isHovered) {
        isHovered = newHovered;
        canvas.style.cursor = isHovered ? 'grab' : 'default';
        draw();
      }
    }
  });

  document.addEventListener('mouseup', function() {
    if (isDragging) {
      isDragging = false;
      canvas.style.cursor = isHovered ? 'grab' : 'default';
    }
  });

  canvas.addEventListener('mouseleave', function() {
    if (!isDragging && isHovered) {
      isHovered = false;
      canvas.style.cursor = 'default';
      draw();
    }
  });

  window.updateFilterResponse_${t.replace(/-/g,"_")} = function(params) {
    currentParams = {...currentParams, ...params};
    draw();
  };

  if (window.__JUCE__) {
    window.__JUCE__.backend.addEventListener('filterData_${t}', (e) => {
      window.updateFilterResponse_${t.replace(/-/g,"_")}(e.data);
    });
  }

  draw();
})();
<\/script>`}function bB(e,t,r,n){return`<div id="${e}" class="${t} tooltip-element" data-type="tooltip" data-position="${n.position}" data-hover-delay="${n.hoverDelay}" data-content="${Le(n.content)}" style="${r}"></div>`}function yB(e,t,r,n){return`<div id="${e}" class="${t} spacer-element horizontal-spacer" data-type="horizontalspacer" data-sizing-mode="${n.sizingMode}" ${n.sizingMode==="fixed"?`data-fixed-width="${n.fixedWidth}"`:`data-flex-grow="${n.flexGrow}" data-min-width="${n.minWidth}" data-max-width="${n.maxWidth}"`} style="${r}"></div>`}function xB(e,t,r,n){return`<div id="${e}" class="${t} spacer-element vertical-spacer" data-type="verticalspacer" data-sizing-mode="${n.sizingMode}" ${n.sizingMode==="fixed"?`data-fixed-height="${n.fixedHeight}"`:`data-flex-grow="${n.flexGrow}" data-min-height="${n.minHeight}" data-max-height="${n.maxHeight}"`} style="${r}"></div>`}function wB(e,t,r,n,i=""){let o="";if(n.buttonStyle==="macos"){const h=[];n.showCloseButton&&h.push('<div class="chrome-button close" data-action="close" style="background-color: #ff5f57;"></div>'),n.showMinimizeButton&&h.push('<div class="chrome-button minimize" data-action="minimize" style="background-color: #ffbd2e;"></div>'),n.showMaximizeButton&&h.push('<div class="chrome-button maximize" data-action="maximize" style="background-color: #28ca42;"></div>'),o=`<div class="chrome-buttons macos" data-drag-region="no-drag">${h.join("")}</div>`}else if(n.buttonStyle==="windows"){const h=[];n.showMinimizeButton&&h.push('<div class="chrome-button minimize" data-action="minimize">−</div>'),n.showMaximizeButton&&h.push('<div class="chrome-button maximize" data-action="maximize">□</div>'),n.showCloseButton&&h.push('<div class="chrome-button close" data-action="close">×</div>'),o=`<div class="chrome-buttons windows" data-drag-region="no-drag">${h.join("")}</div>`}else{const h=[];n.showCloseButton&&h.push('<div class="chrome-button close" data-action="close"></div>'),n.showMinimizeButton&&h.push('<div class="chrome-button minimize" data-action="minimize"></div>'),n.showMaximizeButton&&h.push('<div class="chrome-button maximize" data-action="maximize"></div>'),o=`<div class="chrome-buttons neutral" data-drag-region="no-drag">${h.join("")}</div>`}const s=n.showTitle?`<div class="chrome-title" data-drag-region="drag">${Le(n.titleText)}</div>`:"",d=n.titleBarHeight||32,c=n.allowScroll?"auto":"hidden",u=i?`<div class="windowchrome-content" style="position:absolute;top:${d}px;left:0;right:0;bottom:0;overflow:${c};">${i}</div>`:"";return`<div id="${e}" class="${t} windowchrome-element" data-type="windowchrome" data-button-style="${n.buttonStyle}" data-drag-region="drag" style="${r} overflow: hidden;">
  ${o}
  ${s}
  ${u}
</div>`}function SB(e,t,r,n){const i=p=>[1,3,6,8,10].includes(p%12),o=[],s=[];for(let p=n.startNote;p<=n.endNote;p++)i(p)?s.push(p):o.push(p);const d=n.width/o.length,c=d*n.blackKeyWidthRatio,u=n.height*.6;let h="";return o.forEach((p,l)=>{const f=l*d;h+=`<div class="piano-key white" data-note="${p}" style="left:${f}px;width:${d-1}px;height:100%;background:${n.whiteKeyColor};border:1px solid #333;"></div>`}),s.forEach(p=>{let l=0;for(let m=n.startNote;m<p;m++)i(m)||l++;const f=l*d-c/2;h+=`<div class="piano-key black" data-note="${p}" style="left:${f}px;width:${c}px;height:${u}px;background:${n.blackKeyColor};z-index:1;"></div>`}),`<div id="${e}" class="${t} pianokeyboard-element" data-type="pianokeyboard" style="${r}">${h}</div>`}function kB(e,t,r,n){return`<div id="${e}" class="${t} drumpad-element" data-type="drumpad" data-midi-note="${n.midiNote}" style="${r}; background-color:${n.backgroundColor}; border:${n.borderWidth}px solid ${n.borderColor}; border-radius:${n.borderRadius}px; display:flex; align-items:center; justify-content:center;">
  <span style="color:${n.labelColor}; font-size:${n.fontSize}px; font-family:${n.fontFamily}; font-weight:${n.fontWeight};">${Le(n.label)}</span>
</div>`}function CB(e,t,r,n){const i=(n.width-n.gridGap*(n.columns+1))/n.columns,o=(n.height-n.gridGap*(n.rows+1))/n.rows;let s="";for(let d=0;d<n.rows;d++)for(let c=0;c<n.columns;c++){const u=d*n.columns+c,h=n.padLabels[u]||`${u+1}`,p=n.gridGap+c*(i+n.gridGap),l=n.gridGap+d*(o+n.gridGap),f=n.startNote+u;s+=`<div class="pad" data-index="${u}" data-note="${f}" style="position:absolute;left:${p}px;top:${l}px;width:${i}px;height:${o}px;background:${n.padColor};border-radius:${n.padBorderRadius}px;display:flex;align-items:center;justify-content:center;">
        <span style="color:${n.labelColor};font-size:${n.fontSize}px;font-family:${n.fontFamily};font-weight:${n.fontWeight};">${Le(h)}</span>
      </div>`}return`<div id="${e}" class="${t} padgrid-element" data-type="padgrid" style="${r}; background:${n.borderColor}; border-radius:4px;">${s}</div>`}function _B(e,t,r,n){return`<div id="${e}" class="${t} stepsequencer-element" data-type="stepsequencer" style="${r}" data-step-on-color="${n.stepOnColor}" data-step-off-color="${n.stepOffColor}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}" style="cursor: pointer;"></canvas>
</div>
<script>
(function() {
  const container = document.getElementById('${e}');
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const steps = ${JSON.stringify(n.steps)};
  const stepCount = ${n.stepCount};
  const rowCount = ${n.rowCount};
  const beatsPerMeasure = ${n.beatsPerMeasure};
  const showVelocity = ${n.showVelocity};
  const velocityHeight = ${n.velocityHeight};
  const mainHeight = showVelocity ? ${n.height} - velocityHeight : ${n.height};
  const stepWidth = ${n.width} / stepCount;
  const rowHeight = mainHeight / rowCount;

  function draw() {
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, ${n.width}, ${n.height});

    // Draw steps
    for (let row = 0; row < rowCount; row++) {
      for (let step = 0; step < stepCount; step++) {
        const idx = row * stepCount + step;
        const s = steps[idx] || {active: false, velocity: 0.75};
        const isDownbeat = step % beatsPerMeasure === 0;
        let color = s.active ? '${n.stepOnColor}' : (isDownbeat && ${n.highlightDownbeats} ? '${n.downbeatColor}' : '${n.stepOffColor}');
        ctx.fillStyle = color;
        ctx.globalAlpha = s.active ? 1 : 0.5;
        ctx.fillRect(step * stepWidth + 2, row * rowHeight + 2, stepWidth - 4, rowHeight - 4);
      }
    }
    ctx.globalAlpha = 1;

    // Draw velocity bars if enabled
    if (showVelocity) {
      for (let step = 0; step < stepCount; step++) {
        const s = steps[step] || {active: false, velocity: 0.75};
        if (s.active) {
          const barHeight = s.velocity * (velocityHeight - 4);
          ctx.fillStyle = '${n.stepOnColor}';
          ctx.fillRect(step * stepWidth + 2, mainHeight + velocityHeight - barHeight - 2, stepWidth - 4, barHeight);
        }
      }
    }
  }

  draw();

  // Click to toggle steps
  canvas.addEventListener('click', function(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const step = Math.floor(x / stepWidth);
    const row = Math.floor(y / rowHeight);
    if (step >= 0 && step < stepCount && row >= 0 && row < rowCount) {
      const idx = row * stepCount + step;
      if (steps[idx]) {
        steps[idx].active = !steps[idx].active;
      } else {
        steps[idx] = {active: true, velocity: 0.75};
      }
      draw();
    }
  });
})();
<\/script>`}function jB(e,t,r,n){return`<div id="${e}" class="${t} xypad-element" data-type="xypad" style="${r}" data-x-value="${n.xValue}" data-y-value="${n.yValue}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}" style="cursor: crosshair;"></canvas>
</div>
<script>
(function() {
  const container = document.getElementById('${e}');
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  let xValue = ${n.xValue};
  let yValue = ${n.yValue};
  let isDragging = false;

  function draw() {
    // Background
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    // Border
    ctx.strokeStyle = '${n.borderColor}';
    ctx.lineWidth = 1;
    ctx.strokeRect(0, 0, width, height);

    // Grid
    ${n.showGrid?`
    ctx.strokeStyle = '${n.gridColor}';
    ctx.lineWidth = 1;
    for (let i = 1; i < ${n.gridDivisions}; i++) {
      const pos = (i / ${n.gridDivisions});
      ctx.beginPath();
      ctx.moveTo(pos * width, 0);
      ctx.lineTo(pos * width, height);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(0, pos * height);
      ctx.lineTo(width, pos * height);
      ctx.stroke();
    }
    `:""}

    // Cursor position
    const cursorX = xValue * width;
    const cursorY = (1 - yValue) * height;

    // Crosshair
    ${n.showCrosshair?`
    ctx.strokeStyle = '${n.crosshairColor}';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cursorX, 0);
    ctx.lineTo(cursorX, height);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(0, cursorY);
    ctx.lineTo(width, cursorY);
    ctx.stroke();
    `:""}

    // Cursor
    ctx.fillStyle = '${n.cursorColor}';
    ctx.beginPath();
    ctx.arc(cursorX, cursorY, ${n.cursorSize/2}, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 2;
    ctx.stroke();
  }

  draw();

  function updatePosition(e) {
    const rect = canvas.getBoundingClientRect();
    xValue = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
    yValue = Math.max(0, Math.min(1, 1 - (e.clientY - rect.top) / rect.height));
    container.dataset.xValue = xValue.toFixed(3);
    container.dataset.yValue = yValue.toFixed(3);
    draw();
  }

  canvas.addEventListener('mousedown', function(e) {
    isDragging = true;
    updatePosition(e);
  });

  document.addEventListener('mousemove', function(e) {
    if (isDragging) {
      updatePosition(e);
    }
  });

  document.addEventListener('mouseup', function() {
    isDragging = false;
  });
})();
<\/script>`}function PB(e,t,r,n){return`<div id="${e}" class="${t} wavetabledisplay-element" data-type="wavetabledisplay" style="${r}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  const frameCount = ${n.frameCount};
  const currentFrame = ${n.currentFrame};
  const perspectiveAngle = ${n.perspectiveAngle};
  const frameSpacing = ${n.frameSpacing};
  const waveHeight = height * 0.4;
  const baseY = height * 0.8;

  ctx.fillStyle = '${n.backgroundColor}';
  ctx.fillRect(0, 0, width, height);

  for (let f = 0; f < frameCount; f++) {
    const yOffset = -f * frameSpacing;
    const xOffset = f * (perspectiveAngle / 90) * 20;
    const opacity = 0.3 + (f / frameCount) * 0.7;
    const isCurrent = f === currentFrame;

    ctx.strokeStyle = isCurrent ? '${n.currentFrameColor}' : '${n.waveformColor}';
    ctx.lineWidth = isCurrent ? 2 : 1;
    ctx.globalAlpha = opacity;

    ctx.beginPath();
    for (let i = 0; i <= 64; i++) {
      const t = i / 64;
      const wave = Math.sin(t * Math.PI * 2) * (1 - f * 0.02);
      const x = xOffset + (t * (width - xOffset * 2));
      const y = baseY + yOffset + wave * waveHeight * -1;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
  }
  ctx.globalAlpha = 1;
})();
<\/script>`}function $B(e,t,r,n){return`<div id="${e}" class="${t} harmoniceditor-element" data-type="harmoniceditor" style="${r}" data-harmonic-values="${n.harmonicValues.join(",")}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}" style="cursor: ns-resize;"></canvas>
</div>
<script>
(function() {
  const container = document.getElementById('${e}');
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  const harmonicCount = ${n.harmonicCount};
  const harmonicValues = ${JSON.stringify(n.harmonicValues)};
  const labelHeight = ${n.showHarmonicNumbers?16:0};
  const chartHeight = height - labelHeight;
  const barGap = ${n.barGap};
  const barWidth = (width - barGap * (harmonicCount + 1)) / harmonicCount;
  let draggingBar = null;
  let selectedHarmonic = -1;

  function draw() {
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    // Grid
    ctx.strokeStyle = '${n.gridColor}';
    ctx.setLineDash([4, 4]);
    for (let i = 1; i <= 4; i++) {
      const y = (i / 4) * chartHeight;
      ctx.beginPath();
      ctx.moveTo(0, y);
      ctx.lineTo(width, y);
      ctx.stroke();
    }
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(width, 0);
    ctx.stroke();

    // Bars
    for (let i = 0; i < harmonicCount; i++) {
      const value = harmonicValues[i] || 0;
      const barHeight = value * chartHeight;
      const x = barGap + i * (barWidth + barGap);
      const y = chartHeight - barHeight;
      const isSelected = i === selectedHarmonic;
      const isFundamental = i === 0 && ${n.showFundamental};
      ctx.fillStyle = isSelected ? '${n.selectedBarColor}' : '${n.barColor}';
      ctx.globalAlpha = isFundamental ? 1 : 0.8;
      ctx.fillRect(x, y, barWidth, barHeight);
      ctx.globalAlpha = 1;

      ${n.showHarmonicNumbers?`
      ctx.fillStyle = isFundamental ? '${n.selectedBarColor}' : '${n.labelColor}';
      ctx.font = (isFundamental ? '600' : '${n.fontWeight}') + ' ${n.fontSize}px ${n.fontFamily}';
      ctx.textAlign = 'center';
      ctx.fillText(String(i + 1), x + barWidth / 2, chartHeight + labelHeight - 4);
      `:""}
    }
  }

  draw();

  function getBarIndex(x) {
    for (let i = 0; i < harmonicCount; i++) {
      const barX = barGap + i * (barWidth + barGap);
      if (x >= barX && x <= barX + barWidth) {
        return i;
      }
    }
    return null;
  }

  function updateValue(y, barIndex) {
    const normalizedY = 1 - Math.max(0, Math.min(1, y / chartHeight));
    harmonicValues[barIndex] = normalizedY;
    selectedHarmonic = barIndex;
    container.dataset.harmonicValues = harmonicValues.join(',');
    draw();
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const barIndex = getBarIndex(x);
    if (barIndex !== null) {
      draggingBar = barIndex;
      updateValue(y, barIndex);
    }
  });

  document.addEventListener('mousemove', function(e) {
    if (draggingBar !== null) {
      const rect = canvas.getBoundingClientRect();
      const y = e.clientY - rect.top;
      updateValue(y, draggingBar);
    }
  });

  document.addEventListener('mouseup', function() {
    draggingBar = null;
  });
})();
<\/script>`}function IB(e,t,r,n){const i=e.split("").reduce((o,s)=>o+s.charCodeAt(0),0);return`<div id="${e}" class="${t} looppoints-element" data-type="looppoints" style="${r}" data-loop-start="${n.loopStart}" data-loop-end="${n.loopEnd}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}"></canvas>
</div>
<script>
(function() {
  const container = document.getElementById('${e}');
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  const rulerHeight = ${n.showTimeRuler?20:0};
  const waveformHeight = height - rulerHeight;
  const centerY = rulerHeight + waveformHeight / 2;
  let loopStart = ${n.loopStart};
  let loopEnd = ${n.loopEnd};
  const crossfadeLength = ${n.crossfadeLength};
  const markerHandleSize = ${n.markerHandleSize};
  let draggingMarker = null;

  // Generate consistent waveform
  const waveformData = [];
  let rand = ${i};
  function pseudoRandom() {
    rand = (rand * 1103515245 + 12345) & 0x7fffffff;
    return rand / 0x7fffffff;
  }
  for (let i = 0; i < 200; i++) {
    const t = i / 200;
    const env = Math.sin(t * Math.PI) * 0.8 + 0.2;
    const wave = (Math.sin(t * 50) * pseudoRandom() * 0.5 + Math.sin(t * 120) * 0.3) * env;
    waveformData.push(wave);
  }

  function draw() {
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    // Time ruler
    ${n.showTimeRuler?`
    ctx.strokeStyle = '${n.rulerColor}';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(0, rulerHeight);
    ctx.lineTo(width, rulerHeight);
    ctx.stroke();
    for (let i = 0; i <= 10; i++) {
      const x = (i / 10) * width;
      ctx.beginPath();
      ctx.moveTo(x, 0);
      ctx.lineTo(x, i % 5 === 0 ? 8 : 4);
      ctx.stroke();
    }
    ctx.fillStyle = '${n.labelColor}';
    ctx.font = '${n.fontSize}px ${n.fontFamily}';
    ctx.textAlign = 'left';
    ctx.fillText('0.0s', 4, rulerHeight - 6);
    ctx.textAlign = 'right';
    ctx.fillText('1.0s', width - 4, rulerHeight - 6);
    `:""}

    // Loop region
    ctx.fillStyle = '${n.loopRegionColor}';
    ctx.fillRect(loopStart * width, rulerHeight, (loopEnd - loopStart) * width, waveformHeight);

    // Crossfade regions
    ${n.showCrossfade?`
    ctx.fillStyle = '${n.crossfadeColor}';
    ctx.fillRect(loopStart * width, rulerHeight, crossfadeLength * width, waveformHeight);
    ctx.fillRect((loopEnd - crossfadeLength) * width, rulerHeight, crossfadeLength * width, waveformHeight);
    `:""}

    // Waveform
    ${n.showWaveform?`
    ctx.strokeStyle = '${n.waveformColor}';
    ctx.lineWidth = 1;
    ctx.beginPath();
    for (let i = 0; i < waveformData.length; i++) {
      const x = (i / waveformData.length) * width;
      const y = centerY + waveformData[i] * (waveformHeight / 2 - 4);
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    `:""}

    // Start marker
    ctx.strokeStyle = '${n.startMarkerColor}';
    ctx.lineWidth = ${n.markerWidth};
    ctx.beginPath();
    ctx.moveTo(loopStart * width, rulerHeight);
    ctx.lineTo(loopStart * width, height);
    ctx.stroke();
    ctx.fillStyle = '${n.startMarkerColor}';
    ctx.fillRect(loopStart * width - markerHandleSize / 2, rulerHeight, markerHandleSize, markerHandleSize);

    // End marker
    ctx.strokeStyle = '${n.endMarkerColor}';
    ctx.beginPath();
    ctx.moveTo(loopEnd * width, rulerHeight);
    ctx.lineTo(loopEnd * width, height);
    ctx.stroke();
    ctx.fillStyle = '${n.endMarkerColor}';
    ctx.fillRect(loopEnd * width - markerHandleSize / 2, rulerHeight, markerHandleSize, markerHandleSize);
  }

  draw();

  function getMarkerAt(x, y) {
    const startX = loopStart * width;
    const endX = loopEnd * width;
    // Check if within marker handle
    if (y >= rulerHeight && y <= rulerHeight + markerHandleSize + 20) {
      if (Math.abs(x - startX) <= markerHandleSize) return 'start';
      if (Math.abs(x - endX) <= markerHandleSize) return 'end';
    }
    return null;
  }

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const marker = getMarkerAt(x, y);
    if (marker) {
      draggingMarker = marker;
      canvas.style.cursor = 'ew-resize';
    }
  });

  document.addEventListener('mousemove', function(e) {
    if (draggingMarker) {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const normalizedX = Math.max(0, Math.min(1, x / width));

      if (draggingMarker === 'start') {
        loopStart = Math.min(normalizedX, loopEnd - 0.01);
      } else {
        loopEnd = Math.max(normalizedX, loopStart + 0.01);
      }

      container.dataset.loopStart = loopStart.toFixed(3);
      container.dataset.loopEnd = loopEnd.toFixed(3);
      draw();
    }
  });

  document.addEventListener('mouseup', function() {
    draggingMarker = null;
    canvas.style.cursor = 'default';
  });

  // Show cursor hint on hover
  canvas.addEventListener('mousemove', function(e) {
    if (!draggingMarker) {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      const marker = getMarkerAt(x, y);
      canvas.style.cursor = marker ? 'ew-resize' : 'default';
    }
  });
})();
<\/script>`}function TB(e,t,r,n){return`<div id="${e}" class="${t} envelopeeditor-element" data-type="envelopeeditor" style="${r}" data-attack="${n.attack}" data-decay="${n.decay}" data-sustain="${n.sustain}" data-release="${n.release}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}"></canvas>
</div>
<script>
(function() {
  const container = document.getElementById('${e}');
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  const padding = ${n.showLabels?24:8};
  const chartWidth = width - padding * 2;
  const chartHeight = height - padding * 2;
  const pointSize = ${n.pointSize};
  let attack = ${n.attack};
  let decay = ${n.decay};
  let sustain = ${n.sustain};
  let release = ${n.release};
  let draggingPoint = null;
  const sustainHold = 0.3;

  function applyCurve(t, curveType) {
    switch(curveType) {
      case 'exponential': return t * t;
      case 'logarithmic': return Math.sqrt(t);
      default: return t;
    }
  }

  function timeToX(time) {
    const totalTime = attack + decay + sustainHold + release;
    return padding + (time / totalTime) * chartWidth;
  }

  function levelToY(level) {
    return padding + (1 - level) * chartHeight;
  }

  function draw() {
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${n.showGrid?`
    ctx.strokeStyle = '${n.gridColor}';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 4; i++) {
      ctx.setLineDash(i === 0 || i === 4 ? [] : [4, 4]);
      ctx.beginPath();
      ctx.moveTo(padding, padding + (i / 4) * chartHeight);
      ctx.lineTo(width - padding, padding + (i / 4) * chartHeight);
      ctx.stroke();
    }
    ctx.setLineDash([]);
    `:""}

    const totalTime = attack + decay + sustainHold + release;
    const attackEnd = attack;
    const decayEnd = attack + decay;
    const sustainEnd = attack + decay + sustainHold;

    // Fill path
    ctx.fillStyle = '${n.fillColor}';
    ctx.beginPath();
    ctx.moveTo(timeToX(0), levelToY(0));
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(t * attack), levelToY(applyCurve(t, '${n.attackCurve}')));
    }
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(attackEnd + t * decay), levelToY(1 - applyCurve(t, '${n.decayCurve}') * (1 - sustain)));
    }
    ctx.lineTo(timeToX(sustainEnd), levelToY(sustain));
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(sustainEnd + t * release), levelToY(sustain * (1 - applyCurve(t, '${n.releaseCurve}'))));
    }
    ctx.lineTo(timeToX(totalTime), levelToY(0));
    ctx.lineTo(timeToX(0), levelToY(0));
    ctx.fill();

    // Line
    ctx.strokeStyle = '${n.lineColor}';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(timeToX(0), levelToY(0));
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(t * attack), levelToY(applyCurve(t, '${n.attackCurve}')));
    }
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(attackEnd + t * decay), levelToY(1 - applyCurve(t, '${n.decayCurve}') * (1 - sustain)));
    }
    ctx.lineTo(timeToX(sustainEnd), levelToY(sustain));
    for (let i = 1; i <= 20; i++) {
      const t = i / 20;
      ctx.lineTo(timeToX(sustainEnd + t * release), levelToY(sustain * (1 - applyCurve(t, '${n.releaseCurve}'))));
    }
    ctx.stroke();

    // Control points
    const points = [
      { id: 'attack', x: timeToX(attackEnd), y: levelToY(1), label: 'A' },
      { id: 'decay', x: timeToX(decayEnd), y: levelToY(sustain), label: 'D' },
      { id: 'sustain', x: timeToX(sustainEnd), y: levelToY(sustain), label: 'S' },
      { id: 'release', x: timeToX(totalTime), y: levelToY(0), label: 'R' }
    ];
    points.forEach(p => {
      ctx.fillStyle = draggingPoint === p.id ? '${n.activePointColor}' : '${n.pointColor}';
      ctx.beginPath();
      ctx.arc(p.x, p.y, pointSize / 2, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '${n.lineColor}';
      ctx.stroke();
      ${n.showLabels?`
      ctx.fillStyle = '${n.labelColor}';
      ctx.font = '${n.fontSize}px ${n.fontFamily}';
      ctx.textAlign = 'center';
      ctx.fillText(p.label, p.x, height - 4);
      `:""}
    });

    ${n.showValues?`
    ctx.fillStyle = '${n.labelColor}';
    ctx.font = '${n.fontSize}px ${n.fontFamily}';
    ctx.textAlign = 'left';
    ctx.fillText('A:' + attack.toFixed(2) + ' D:' + decay.toFixed(2) + ' S:' + sustain.toFixed(2) + ' R:' + release.toFixed(2), padding, padding - 4);
    `:""}
  }

  draw();

  canvas.addEventListener('mousedown', function(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const totalTime = attack + decay + sustainHold + release;
    const pts = [
      { id: 'attack', x: timeToX(attack), y: levelToY(1) },
      { id: 'decay', x: timeToX(attack + decay), y: levelToY(sustain) },
      { id: 'sustain', x: timeToX(attack + decay + sustainHold), y: levelToY(sustain) },
      { id: 'release', x: timeToX(totalTime), y: levelToY(0) }
    ];
    for (const p of pts) {
      if (Math.hypot(x - p.x, y - p.y) < pointSize + 4) {
        draggingPoint = p.id;
        canvas.style.cursor = 'pointer';
        break;
      }
    }
  });

  document.addEventListener('mousemove', function(e) {
    if (draggingPoint) {
      const rect = canvas.getBoundingClientRect();
      const y = e.clientY - rect.top;
      const relY = 1 - Math.max(0, Math.min(1, (y - padding) / chartHeight));
      if (draggingPoint === 'sustain') {
        sustain = relY;
        container.dataset.sustain = sustain.toFixed(3);
      }
      draw();
    }
  });

  document.addEventListener('mouseup', function() {
    draggingPoint = null;
    canvas.style.cursor = 'default';
  });
})();
<\/script>`}function NB(e,t,r,n){const i=e.split("").reduce((o,s)=>o+s.charCodeAt(0),0);return`<div id="${e}" class="${t} sampledisplay-element" data-type="sampledisplay" style="${r}">
  <canvas id="${e}-canvas" width="${n.width}" height="${n.height}"></canvas>
</div>
<script>
(function() {
  const canvas = document.getElementById('${e}-canvas');
  const ctx = canvas.getContext('2d');
  const width = ${n.width};
  const height = ${n.height};
  const rulerHeight = ${n.showTimeRuler?20:0};
  const waveformHeight = height - rulerHeight;
  const centerY = waveformHeight / 2;
  let viewStart = ${n.viewStart};
  let viewEnd = ${n.viewEnd};

  const waveformData = [];
  let rand = ${i};
  function pseudoRandom() {
    rand = (rand * 1103515245 + 12345) & 0x7fffffff;
    return rand / 0x7fffffff;
  }
  for (let i = 0; i < 1000; i++) {
    const t = i / 1000;
    const env = Math.sin(t * Math.PI);
    const freq = 4 + Math.sin(t * 6) * 2;
    const wave = Math.sin(t * freq * Math.PI * 20) * env;
    waveformData.push(wave + (pseudoRandom() - 0.5) * 0.1);
  }

  function draw() {
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, 0, width, height);

    ${n.showSelection?`
    const selX = ((${n.selectionStart} - viewStart) / (viewEnd - viewStart)) * width;
    const selW = ((${n.selectionEnd} - ${n.selectionStart}) / (viewEnd - viewStart)) * width;
    ctx.fillStyle = '${n.selectionColor}';
    ctx.fillRect(Math.max(0, selX), 0, Math.min(selW, width - selX), waveformHeight);
    `:""}

    ${n.showZeroLine?`
    ctx.strokeStyle = '${n.zeroLineColor}';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(0, centerY);
    ctx.lineTo(width, centerY);
    ctx.stroke();
    `:""}

    const visStart = Math.floor(viewStart * waveformData.length);
    const visEnd = Math.ceil(viewEnd * waveformData.length);
    const visSamples = visEnd - visStart;

    ctx.strokeStyle = '${n.waveformColor}';
    ctx.lineWidth = 1;
    ctx.beginPath();
    for (let x = 0; x < width; x++) {
      const idx = visStart + Math.floor((x / width) * visSamples);
      const y = centerY - (waveformData[idx] || 0) * (waveformHeight / 2 - 4);
      x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    }
    ctx.stroke();

    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    for (let x = 0; x < width; x++) {
      const idx = visStart + Math.floor((x / width) * visSamples);
      const y = centerY + (waveformData[idx] || 0) * (waveformHeight / 2 - 4);
      x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1;

    ${n.showTimeRuler?`
    ctx.fillStyle = '${n.backgroundColor}';
    ctx.fillRect(0, waveformHeight, width, rulerHeight);
    ctx.strokeStyle = '${n.rulerColor}';
    ctx.beginPath();
    ctx.moveTo(0, waveformHeight);
    ctx.lineTo(width, waveformHeight);
    ctx.stroke();
    ctx.fillStyle = '${n.labelColor}';
    ctx.font = '${n.fontSize}px ${n.fontFamily}';
    [0, 0.5, 1].forEach(t => {
      const x = t * width;
      ctx.beginPath();
      ctx.moveTo(x, waveformHeight);
      ctx.lineTo(x, waveformHeight + 6);
      ctx.stroke();
      ctx.textAlign = 'center';
      ctx.fillText(((viewStart + t * (viewEnd - viewStart)) * 100).toFixed(0) + '%', x, height - 4);
    });
    `:""}
  }

  draw();
  canvas.style.cursor = 'grab';

  let isDragging = false;
  let dragStartX = 0;
  let dragViewStart = viewStart;

  canvas.addEventListener('mousedown', function(e) {
    isDragging = true;
    dragStartX = e.clientX;
    dragViewStart = viewStart;
    canvas.style.cursor = 'grabbing';
  });

  document.addEventListener('mousemove', function(e) {
    if (isDragging) {
      const dx = e.clientX - dragStartX;
      const range = viewEnd - viewStart;
      const newStart = Math.max(0, Math.min(1 - range, dragViewStart - (dx / width) * range));
      viewStart = newStart;
      viewEnd = newStart + range;
      draw();
    }
  });

  document.addEventListener('mouseup', function() {
    isDragging = false;
    canvas.style.cursor = 'grab';
  });

  canvas.addEventListener('wheel', function(e) {
    e.preventDefault();
    const rect = canvas.getBoundingClientRect();
    const normX = (e.clientX - rect.left) / width;
    const zoomPoint = viewStart + normX * (viewEnd - viewStart);
    const factor = e.deltaY > 0 ? 1.1 : 0.9;
    const newRange = Math.max(0.01, Math.min(1, (viewEnd - viewStart) * factor));
    viewStart = Math.max(0, zoomPoint - normX * newRange);
    viewEnd = Math.min(1, viewStart + newRange);
    draw();
  });
})();
<\/script>`}function EB(e,t,r,n){const i=JSON.stringify(n.points),o=JSON.stringify(n.cables);return`<div id="${e}" class="${t} patchbay-element" data-type="patchbay" style="${r}">
  <svg id="${e}-svg" width="${n.width}" height="${n.height}" style="background: ${n.backgroundColor}"></svg>
</div>
<script>
(function() {
  const svg = document.getElementById('${e}-svg');
  const width = ${n.width};
  const height = ${n.height};
  const pointSize = ${n.pointSize};
  const cableWidth = ${n.cableWidth};
  let points = ${i};
  let cables = ${o};
  const cableColors = ${JSON.stringify(n.cableColors)};
  let draggingFrom = null;
  let dragX = 0, dragY = 0;

  function getPos(p) { return { x: p.x * width, y: p.y * height }; }
  function cablePath(f, t) {
    const dx = t.x - f.x;
    const o = Math.abs(dx) * 0.5;
    return 'M ' + f.x + ' ' + f.y + ' C ' + (f.x + o) + ' ' + f.y + ', ' + (t.x - o) + ' ' + t.y + ', ' + t.x + ' ' + t.y;
  }

  function draw() {
    svg.innerHTML = '';

    ${n.showGrid?`
    for (let x = 40; x < width; x += 40) {
      const l = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      l.setAttribute('x1', x); l.setAttribute('y1', 0); l.setAttribute('x2', x); l.setAttribute('y2', height);
      l.setAttribute('stroke', '${n.gridColor}'); l.setAttribute('stroke-dasharray', '4 4');
      svg.appendChild(l);
    }
    for (let y = 40; y < height; y += 40) {
      const l = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      l.setAttribute('x1', 0); l.setAttribute('y1', y); l.setAttribute('x2', width); l.setAttribute('y2', y);
      l.setAttribute('stroke', '${n.gridColor}'); l.setAttribute('stroke-dasharray', '4 4');
      svg.appendChild(l);
    }
    `:""}

    cables.forEach(c => {
      const fp = points.find(p => p.id === c.fromPointId);
      const tp = points.find(p => p.id === c.toPointId);
      if (!fp || !tp) return;
      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      path.setAttribute('d', cablePath(getPos(fp), getPos(tp)));
      path.setAttribute('fill', 'none');
      path.setAttribute('stroke', c.color);
      path.setAttribute('stroke-width', cableWidth);
      path.setAttribute('stroke-linecap', 'round');
      svg.appendChild(path);
    });

    if (draggingFrom) {
      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      path.setAttribute('d', cablePath(getPos(draggingFrom), { x: dragX, y: dragY }));
      path.setAttribute('fill', 'none');
      path.setAttribute('stroke', cableColors[cables.length % cableColors.length]);
      path.setAttribute('stroke-width', cableWidth);
      path.setAttribute('stroke-dasharray', '8 4');
      path.setAttribute('opacity', '0.6');
      svg.appendChild(path);
    }

    points.forEach(pt => {
      const pos = getPos(pt);
      const isOut = pt.type === 'output';
      const color = isOut ? '${n.outputColor}' : '${n.inputColor}';
      const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
      g.style.cursor = 'pointer';
      g.dataset.pointId = pt.id;

      const c1 = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      c1.setAttribute('cx', pos.x); c1.setAttribute('cy', pos.y); c1.setAttribute('r', pointSize / 2);
      c1.setAttribute('fill', '${n.backgroundColor}'); c1.setAttribute('stroke', color); c1.setAttribute('stroke-width', 2);
      g.appendChild(c1);

      const c2 = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      c2.setAttribute('cx', pos.x); c2.setAttribute('cy', pos.y); c2.setAttribute('r', pointSize / 4);
      c2.setAttribute('fill', color);
      g.appendChild(c2);

      ${n.showLabels?`
      const txt = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      txt.setAttribute('x', pos.x + (isOut ? -pointSize - 4 : pointSize + 4));
      txt.setAttribute('y', pos.y + 4);
      txt.setAttribute('text-anchor', isOut ? 'end' : 'start');
      txt.setAttribute('fill', '${n.labelColor}');
      txt.setAttribute('font-size', '${n.fontSize}');
      txt.textContent = pt.label;
      g.appendChild(txt);
      `:""}

      svg.appendChild(g);
    });
  }

  draw();

  svg.addEventListener('mousedown', function(e) {
    const g = e.target.closest('g[data-point-id]');
    if (g) {
      const pt = points.find(p => p.id === g.dataset.pointId);
      if (pt) {
        draggingFrom = pt;
        const rect = svg.getBoundingClientRect();
        dragX = e.clientX - rect.left;
        dragY = e.clientY - rect.top;
      }
    }
  });

  svg.addEventListener('mousemove', function(e) {
    if (draggingFrom) {
      const rect = svg.getBoundingClientRect();
      dragX = e.clientX - rect.left;
      dragY = e.clientY - rect.top;
      draw();
    }
  });

  svg.addEventListener('mouseup', function(e) {
    if (draggingFrom) {
      const g = e.target.closest('g[data-point-id]');
      if (g) {
        const toPoint = points.find(p => p.id === g.dataset.pointId);
        if (toPoint && toPoint.id !== draggingFrom.id) {
          const from = draggingFrom.type === 'output' ? draggingFrom : toPoint;
          const to = draggingFrom.type === 'output' ? toPoint : draggingFrom;
          if (from.type === 'output' && to.type === 'input') {
            if (!cables.some(c => c.fromPointId === from.id && c.toPointId === to.id)) {
              cables.push({ id: 'c' + Date.now(), fromPointId: from.id, toPointId: to.id, color: cableColors[cables.length % cableColors.length] });
            }
          }
        }
      }
      draggingFrom = null;
      draw();
    }
  });
})();
<\/script>`}function zB(e,t,r,n){const i=JSON.stringify(n.blocks),o=JSON.stringify(n.connections);return`<div id="${e}" class="${t} signalflow-element" data-type="signalflow" style="${r}">
  <svg id="${e}-svg" width="${n.width}" height="${n.height}" style="background: ${n.backgroundColor}"></svg>
</div>
<script>
(function() {
  const svg = document.getElementById('${e}-svg');
  const width = ${n.width};
  const height = ${n.height};
  const cellSize = ${n.gridCellSize};
  const blocks = ${i};
  const connections = ${o};
  const colors = { input: '${n.inputBlockColor}', output: '${n.outputBlockColor}', process: '${n.processBlockColor}', mixer: '${n.mixerBlockColor}', splitter: '${n.splitterBlockColor}' };

  function getRect(b) { return { x: b.x * cellSize, y: b.y * cellSize, w: b.width * cellSize, h: b.height * cellSize }; }
  function getPort(b, port) {
    const r = getRect(b);
    if (port === 'left') return { x: r.x, y: r.y + r.h / 2 };
    if (port === 'right') return { x: r.x + r.w, y: r.y + r.h / 2 };
    if (port === 'top') return { x: r.x + r.w / 2, y: r.y };
    return { x: r.x + r.w / 2, y: r.y + r.h };
  }

  const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
  const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
  marker.setAttribute('id', '${e}-arrow');
  marker.setAttribute('markerWidth', '10'); marker.setAttribute('markerHeight', '10');
  marker.setAttribute('refX', '9'); marker.setAttribute('refY', '3'); marker.setAttribute('orient', 'auto');
  const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');
  arrow.setAttribute('d', 'M0,0 L0,6 L9,3 z');
  arrow.setAttribute('fill', '${n.connectionColor}');
  marker.appendChild(arrow);
  defs.appendChild(marker);
  svg.appendChild(defs);

  ${n.showGrid?`
  for (let x = 0; x <= width; x += cellSize) {
    const l = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    l.setAttribute('x1', x); l.setAttribute('y1', 0); l.setAttribute('x2', x); l.setAttribute('y2', height);
    l.setAttribute('stroke', '${n.gridColor}'); l.setAttribute('opacity', '0.3');
    svg.appendChild(l);
  }
  for (let y = 0; y <= height; y += cellSize) {
    const l = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    l.setAttribute('x1', 0); l.setAttribute('y1', y); l.setAttribute('x2', width); l.setAttribute('y2', y);
    l.setAttribute('stroke', '${n.gridColor}'); l.setAttribute('opacity', '0.3');
    svg.appendChild(l);
  }
  `:""}

  connections.forEach(conn => {
    const fb = blocks.find(b => b.id === conn.fromBlockId);
    const tb = blocks.find(b => b.id === conn.toBlockId);
    if (!fb || !tb) return;
    const f = getPort(fb, conn.fromPort);
    const t = getPort(tb, conn.toPort);
    const dx = t.x - f.x, dy = t.y - f.y;
    const d = Math.abs(dx) > Math.abs(dy)
      ? 'M ' + f.x + ' ' + f.y + ' C ' + (f.x + dx/2) + ' ' + f.y + ', ' + (f.x + dx/2) + ' ' + t.y + ', ' + t.x + ' ' + t.y
      : 'M ' + f.x + ' ' + f.y + ' C ' + f.x + ' ' + (f.y + dy/2) + ', ' + t.x + ' ' + (f.y + dy/2) + ', ' + t.x + ' ' + t.y;
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', d);
    path.setAttribute('fill', 'none');
    path.setAttribute('stroke', '${n.connectionColor}');
    path.setAttribute('stroke-width', ${n.connectionWidth});
    path.setAttribute('marker-end', 'url(#${e}-arrow)');
    svg.appendChild(path);
  });

  blocks.forEach(b => {
    const r = getRect(b);
    const color = b.color || colors[b.type] || colors.process;

    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
    rect.setAttribute('x', r.x); rect.setAttribute('y', r.y);
    rect.setAttribute('width', r.w); rect.setAttribute('height', r.h);
    rect.setAttribute('fill', '${n.backgroundColor}');
    rect.setAttribute('stroke', color);
    rect.setAttribute('stroke-width', ${n.blockBorderWidth});
    svg.appendChild(rect);

    const ind = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
    ind.setAttribute('x', r.x); ind.setAttribute('y', r.y);
    ind.setAttribute('width', 4); ind.setAttribute('height', r.h);
    ind.setAttribute('fill', color);
    svg.appendChild(ind);

    ${n.showLabels?`
    const txt = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    txt.setAttribute('x', r.x + r.w / 2);
    txt.setAttribute('y', r.y + r.h / 2 + ${n.fontSize} / 3);
    txt.setAttribute('text-anchor', 'middle');
    txt.setAttribute('fill', '${n.labelColor}');
    txt.setAttribute('font-size', '${n.fontSize}');
    txt.setAttribute('font-family', '${n.fontFamily}');
    txt.textContent = b.label;
    svg.appendChild(txt);
    `:""}

    ['left', 'right'].forEach(port => {
      const pos = getPort(b, port);
      const c = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      c.setAttribute('cx', pos.x); c.setAttribute('cy', pos.y); c.setAttribute('r', 4);
      const used = connections.some(cn => (cn.fromBlockId === b.id && cn.fromPort === port) || (cn.toBlockId === b.id && cn.toPort === port));
      c.setAttribute('fill', used ? color : '${n.gridColor}');
      svg.appendChild(c);
    });
  });
})();
<\/script>`}function i4(e){const t=new Set;for(const r of e)if(r.type==="label"&&r.fontFamily&&t.add(r.fontFamily),"fontFamily"in r&&typeof r.fontFamily=="string"&&t.add(r.fontFamily),"children"in r&&Array.isArray(r.children)){const n=r.children.map(o=>e.find(s=>s.id===o)).filter(o=>o!==void 0);i4(n).forEach(o=>t.add(o))}return t}function o4(e){return!Ct.find(r=>r.family===e||e.includes(r.family)||r.family.includes(e))}function DB(e){return Ct.find(t=>t.family===e||e.includes(t.family)||t.family.includes(e))}async function OB(e){const t=[],r=[];let n=0;const i=500*1024,o=2*1024*1024,s=Array.from(e);for(const c of s)if(o4(c))try{const u=await Q$(c);if(!u){r.push(`Custom font "${c}" not found in storage`);continue}const h=FB(u.data),p=u.data.byteLength;if(n+=p,p>i){const b=(p/1024).toFixed(1);r.push(`Font "${c}" is large (${b}KB) - consider subsetting or using web fonts`)}const l=MB(u.metadata.format),f=u.metadata.weight||400,m=`@font-face {
  font-family: '${c}';
  src: url(data:${l};base64,${h}) format('${u.metadata.format}');
  font-weight: ${f};
  font-style: normal;
  font-display: swap;
}`;t.push(m)}catch(u){r.push(`Failed to load custom font "${c}": ${u instanceof Error?u.message:"Unknown error"}`)}if(n>o){const c=(n/1048576).toFixed(2);r.push(`Total embedded font size is ${c}MB - this may impact load time`)}return{css:t.join(`

`),warnings:r}}function FB(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++){const i=t[n];i!==void 0&&(r+=String.fromCharCode(i))}return btoa(r)}function MB(e){return{ttf:"font/ttf",otf:"font/otf",woff:"font/woff",woff2:"font/woff2"}[e]||"font/ttf"}function LB(e){return e.file?`@font-face {
  font-family: '${e.family}';
  src: url('./fonts/${e.file}') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}`:""}function Gc(e,t){return`
${e}::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}

${e} {
  scrollbar-width: none;
  -ms-overflow-style: none;
}`}async function s4(e,t){const{canvasWidth:r,canvasHeight:n,backgroundColor:i}=t,o=i4(e);let s=!1;e.forEach(B=>{"fontStyle"in B&&B.fontStyle==="7segment"&&(s=!0)});const d=[],c=[];Array.from(o).forEach(B=>{o4(B)?c.push(B):d.push(B)});const u=d.map(B=>DB(B)).filter(B=>B!==void 0&&B.file!=="").map(LB).join(`

`),h=new Set(c),{css:p,warnings:l}=await OB(h);l.length>0&&(console.warn("[Export] Font warnings:"),l.forEach(B=>console.warn(`  - ${B}`)));const m=[u,p,s?`@font-face {
  font-family: 'DSEG7';
  src: url('./fonts/DSEG7-Classic-MINI.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: block;
}`:""].filter(Boolean).join(`

`),b=m?`/* Embedded Fonts */
${m}

`:"",S=`/* Reset */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}`,x=`/* Responsive Scaling */
body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000;
  font-family: Inter, system-ui, sans-serif;
}

#plugin-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}`,w=`/* Container */
#plugin-container {
  position: relative;
  width: ${r}px;
  height: ${n}px;
  background-color: ${i};
  overflow: hidden;
  transform-origin: center center;
}`,y=`/* Base element */
.element {
  position: absolute;
}`,_=e.map(B=>AB(B)).join(`

`);return`${b}${S}

${x}

${w}

${y}

/* Styled Knob Layers */
.styled-knob {
  position: relative;
  width: 100%;
  height: 100%;
}

.styled-knob-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.knob-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.knob-layer svg {
  width: 100%;
  height: 100%;
}

.knob-indicator {
  transform-origin: center center;
  transition: transform 0.05s ease-out;
}

.knob-arc,
.knob-glow {
  transition: opacity 0.05s ease-out;
}

/* Styled Slider Layers */
.styled-slider {
  position: relative;
  width: 100%;
  height: 100%;
}

.styled-slider-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.slider-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.slider-layer svg {
  width: 100%;
  height: 100%;
}

/* Track - static background */
.slider-track {
  z-index: 1;
}

/* Fill - animated via clip-path (JS updates) */
.slider-fill {
  z-index: 2;
  transition: clip-path 0.05s ease-out;
}

/* Thumb - animated via transform translate (JS updates) */
.slider-thumb {
  z-index: 3;
  transition: transform 0.05s ease-out;
}

/* Range Slider - dual thumbs */
.styled-rangeslider .slider-thumb-low {
  z-index: 3;
}

.styled-rangeslider .slider-thumb-high {
  z-index: 3;
}

.styled-rangeslider .slider-thumb-low.active {
  z-index: 4;
}

.styled-rangeslider .slider-thumb-high.active {
  z-index: 4;
}

/* Styled Button Layers */
.styled-button {
  position: relative;
  width: 100%;
  height: 100%;
}

.styled-button-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.button-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* CRITICAL: No transition - instant opacity toggle per CONTEXT.md decision */
  transition: none;
}

.button-layer svg {
  width: 100%;
  height: 100%;
}

/* Button state layers - fixed z-index ordering */
.button-normal {
  z-index: 1;
}

.button-pressed {
  z-index: 2;
}

.button-icon {
  z-index: 3;
}

.button-label {
  z-index: 4;
}

/* Toggle Switch layers */
.button-on {
  z-index: 2;
}

.button-off {
  z-index: 1;
}

.button-indicator {
  z-index: 3;
}

/* Power Button LED */
.button-led {
  z-index: 3;
}

/* Rocker Switch position layers */
.button-position-0,
.button-position-1,
.button-position-2 {
  z-index: 1;
}

/* Rotary Switch layers */
.button-base {
  z-index: 1;
}

.button-selector {
  z-index: 2;
  transition: transform 0.1s ease-out;
  transform-origin: center center;
}

/* Segment Button highlight */
.button-highlight {
  z-index: 2;
  transition: clip-path 0.1s ease-out;
}

/* Styled Meter Layers */
.styled-meter {
  position: relative;
  width: 100%;
  height: 100%;
}

.styled-meter-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.meter-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.meter-layer svg {
  width: 100%;
  height: 100%;
}

/* Meter body - static background */
.meter-body {
  z-index: 1;
}

/* Zone fill layers - animated via clip-path (JS updates) */
.meter-fill-green {
  z-index: 2;
  transition: clip-path 0.05s ease-out;
}

.meter-fill-yellow {
  z-index: 3;
  transition: clip-path 0.05s ease-out;
}

.meter-fill-red {
  z-index: 4;
  transition: clip-path 0.05s ease-out;
}

/* Single fill fallback (if no zone layers) */
.meter-fill {
  z-index: 2;
  transition: clip-path 0.05s ease-out;
}

/* Scale markings - on top of fills */
.meter-scale {
  z-index: 5;
}

/* Peak hold indicator - animated via bottom positioning */
.meter-peak {
  position: absolute;
  left: 0;
  right: 0;
  z-index: 6;
  transition: bottom 0.05s ease-out;
}

/* Horizontal meter - container rotated -90deg */
.styled-meter[data-orientation="horizontal"] .styled-meter-container {
  transform: rotate(-90deg);
  transform-origin: center center;
}

/* Label and Value Display Styles */
.knob-label, .slider-label {
  position: absolute;
  white-space: nowrap;
  user-select: none;
}

.knob-label-top, .slider-label-top {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 4px;
}

.knob-label-bottom, .slider-label-bottom {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 4px;
}

.knob-label-left, .slider-label-left {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-right: 4px;
}

.knob-label-right, .slider-label-right {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 4px;
}

.knob-value, .slider-value {
  position: absolute;
  white-space: nowrap;
  user-select: none;
}

.knob-value-top, .slider-value-top {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 4px;
}

.knob-value-bottom, .slider-value-bottom {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 4px;
}

.knob-value-left, .slider-value-left {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-right: 4px;
}

.knob-value-right, .slider-value-right {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 4px;
}

/* Element-specific styles */
${_}`}function AB(e){const t=We(e.name),r=`#${t}`;switch(e.type){case"knob":return`${r} {
  /* Knob styles - SVG handles visual rendering */
  cursor: pointer;
  user-select: none;
}`;case"slider":return e.orientation==="vertical"?`${r} {
  /* Vertical slider */
  position: relative;
  cursor: pointer;
  user-select: none;
}

${r} .slider-track {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 6px;
  transform: translateX(-50%);
  border-radius: 3px;
}

${r} .slider-fill {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 6px;
  transform: translateX(-50%);
  border-radius: 3px;
}

${r} .slider-thumb {
  position: absolute;
  left: 50%;
  width: ${e.thumbWidth}px;
  height: ${e.thumbHeight}px;
  transform: translate(-50%, 50%);
  border-radius: 4px;
}`:`${r} {
  /* Horizontal slider */
  position: relative;
  cursor: pointer;
  user-select: none;
}

${r} .slider-track {
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 3px;
}

${r} .slider-fill {
  position: absolute;
  left: 0;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 3px;
}

${r} .slider-thumb {
  position: absolute;
  top: 50%;
  width: ${e.thumbWidth}px;
  height: ${e.thumbHeight}px;
  transform: translate(-50%, -50%);
  border-radius: 4px;
}`;case"rangeslider":return e.orientation==="vertical"?`${r} {
  /* Vertical range slider */
  position: relative;
  cursor: pointer;
  user-select: none;
}

${r} .rangeslider-track {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 6px;
  transform: translateX(-50%);
  border-radius: 3px;
}

${r} .rangeslider-fill {
  position: absolute;
  left: 50%;
  width: 6px;
  transform: translateX(-50%);
  border-radius: 3px;
}

${r} .rangeslider-thumb {
  position: absolute;
  left: 50%;
  width: ${e.thumbWidth}px;
  height: ${e.thumbHeight}px;
  transform: translate(-50%, 50%);
  border-radius: 4px;
  cursor: grab;
}

${r} .rangeslider-thumb:active {
  cursor: grabbing;
}`:`${r} {
  /* Horizontal range slider */
  position: relative;
  cursor: pointer;
  user-select: none;
}

${r} .rangeslider-track {
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 3px;
}

${r} .rangeslider-fill {
  position: absolute;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 3px;
}

${r} .rangeslider-thumb {
  position: absolute;
  top: 50%;
  width: ${e.thumbWidth}px;
  height: ${e.thumbHeight}px;
  transform: translate(-50%, -50%);
  border-radius: 4px;
  cursor: grab;
}

${r} .rangeslider-thumb:active {
  cursor: grabbing;
}`;case"button":return`${r} {
  /* Button */
  background-color: ${e.backgroundColor};
  color: ${e.textColor};
  border: ${e.borderWidth??1}px solid ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
}

${r}:active {
  filter: brightness(0.85);
}`;case"label":return`${r} {
  /* Label */
  font-family: ${e.fontFamily};
  font-size: ${e.fontSize}px;
  font-weight: ${e.fontWeight};
  color: ${e.color};
  text-align: ${e.textAlign};
  display: flex;
  align-items: center;
  ${e.textAlign==="left"?"justify-content: flex-start;":""}
  ${e.textAlign==="center"?"justify-content: center;":""}
  ${e.textAlign==="right"?"justify-content: flex-end;":""}
  user-select: none;
}`;case"meter":return e.orientation==="vertical"?`${r} {
  /* Vertical meter */
  position: relative;
  border-radius: 2px;
  overflow: hidden;
}

${r} .meter-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  border-radius: 2px;
}`:`${r} {
  /* Horizontal meter */
  position: relative;
  border-radius: 2px;
  overflow: hidden;
}

${r} .meter-fill {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  border-radius: 2px;
}`;case"image":return`${r} {
  /* Image */
  object-fit: ${e.fit};
  display: block;
}`;case"modulationmatrix":return`${r} {
  /* Modulation Matrix */
  overflow: hidden;
}

${r} .modulation-matrix {
  width: 100%;
  height: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

${r} .matrix-corner {
  background: ${e.headerBackground};
  border: 1px solid ${e.borderColor};
}

${r} .matrix-header,
${r} .matrix-row-header {
  background: ${e.headerBackground};
  color: ${e.headerColor};
  font-size: ${e.headerFontSize}px;
  font-weight: 600;
  padding: 2px 4px;
  text-align: center;
  border: 1px solid ${e.borderColor};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

${r} .matrix-row-header {
  text-align: right;
}

${r} .matrix-cell {
  background: ${e.cellColor};
  border: 1px solid ${e.borderColor};
  width: ${e.cellSize}px;
  height: ${e.cellSize}px;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

${r} .matrix-cell[data-active="true"] {
  background: ${e.activeColor};
}`;case"rectangle":return`${r} {
  /* Rectangle */
  /* Styling handled via inline styles in HTML */
}`;case"line":return`${r} {
  /* Line */
  display: flex;
  align-items: center;
  justify-content: center;
}

${r} > div {
  /* Line inner element */
}`;case"asciiart":return`${r} {
  /* ASCII Art - styling handled via inline styles */
  margin: 0;
}`;case"dropdown":return`${r} {
  /* Dropdown */
  background-color: ${e.backgroundColor};
  color: ${e.textColor};
  border: 1px solid ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  padding: 0 32px 0 8px;
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  cursor: pointer;
  appearance: none;
  outline: none;
}`;case"checkbox":return e.labelPosition==="left"?`${r} {
  /* Checkbox with label on left */
  display: flex;
  align-items: center;
  flex-direction: row-reverse;
  justify-content: flex-start;
  cursor: pointer;
}

${r} input[type="checkbox"] {
  width: 18px;
  height: 18px;
  background-color: ${e.backgroundColor};
  border: 2px solid ${e.borderColor};
  border-radius: 3px;
  cursor: pointer;
  accent-color: ${e.checkColor};
}

${r} label {
  color: ${e.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  margin-right: 8px;
  user-select: none;
}`:`${r} {
  /* Checkbox with label on right */
  display: flex;
  align-items: center;
  cursor: pointer;
}

${r} input[type="checkbox"] {
  width: 18px;
  height: 18px;
  background-color: ${e.backgroundColor};
  border: 2px solid ${e.borderColor};
  border-radius: 3px;
  cursor: pointer;
  accent-color: ${e.checkColor};
}

${r} label {
  color: ${e.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  margin-left: 8px;
  user-select: none;
}`;case"radiogroup":return e.orientation==="vertical"?`${r} {
  /* Radio group - vertical */
  display: flex;
  flex-direction: column;
  gap: ${e.spacing}px;
  background-color: ${e.backgroundColor};
  padding: ${e.backgroundColor!=="transparent"?"4px":"0"};
}

${r} .radio-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
}

${r} input[type="radio"] {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: ${e.radioColor};
}

${r} label {
  margin-left: 8px;
  color: ${e.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
}`:`${r} {
  /* Radio group - horizontal */
  display: flex;
  flex-direction: row;
  gap: ${e.spacing}px;
  background-color: ${e.backgroundColor};
  padding: ${e.backgroundColor!=="transparent"?"4px":"0"};
}

${r} .radio-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
}

${r} input[type="radio"] {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: ${e.radioColor};
}

${r} label {
  margin-left: 8px;
  color: ${e.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
}`;case"textfield":return`${r} {
  /* Text field */
  width: 100%;
  height: 100%;
  background-color: ${e.backgroundColor};
  color: ${e.textColor};
  border: ${e.borderWidth}px solid ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  padding: ${e.padding}px;
  font-family: ${e.fontFamily};
  font-size: ${e.fontSize}px;
  font-weight: ${e.fontWeight};
  text-align: ${e.textAlign};
  outline: none;
  box-sizing: border-box;
}

${r}::placeholder {
  color: ${e.textColor}80; /* 50% opacity */
  opacity: 1;
}

${r}:focus {
  border-color: ${e.borderColor};
  outline: 2px solid ${e.borderColor}40; /* 25% opacity */
  outline-offset: -1px;
}`;case"panel":{const s=e.allowScroll?Gc(r):"";return`${r} {
  /* Panel */
  background-color: ${e.backgroundColor};
  border-radius: ${e.borderRadius}px;
  padding: ${e.padding}px;
${e.borderWidth>0?`  border: ${e.borderWidth}px solid ${e.borderColor};`:""}
}${s}`}case"frame":{const s=e.allowScroll?Gc(r):"";return`${r} {
  /* Frame */
  border: ${e.borderWidth}px ${e.borderStyle} ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  padding: ${e.padding}px;
}${s}`}case"groupbox":{const s=e.allowScroll?Gc(r):"";return`${r} {
  /* Group Box container */
  position: relative;
  padding: ${e.padding}px;
  padding-top: ${e.padding+e.headerFontSize/2}px;
}

${r} .groupbox-border {
  position: absolute;
  top: ${e.headerFontSize/2}px;
  left: 0;
  right: 0;
  bottom: 0;
  border: ${e.borderWidth}px solid ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  pointer-events: none;
}

${r} .groupbox-header {
  position: absolute;
  top: 0;
  left: ${e.padding+4}px;
  font-size: ${e.headerFontSize}px;
  color: ${e.headerColor};
  background-color: ${e.headerBackground};
  padding: 0 4px;
  font-family: Inter, system-ui, sans-serif;
  font-weight: 500;
  user-select: none;
}${s}`}case"collapsible":{const s=e.scrollBehavior!=="hidden"?Gc(`${r} .collapsible-content`):"";return`${r} {
  /* Collapsible Container */
  position: relative;
  border: ${e.borderWidth}px solid ${e.borderColor};
  border-radius: ${e.borderRadius}px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

${r} .collapsible-header {
  height: ${e.headerHeight}px;
  min-height: ${e.headerHeight}px;
  background-color: ${e.headerBackground};
  color: ${e.headerColor};
  font-size: ${e.headerFontSize}px;
  font-family: Inter, system-ui, sans-serif;
  font-weight: 500;
  display: flex;
  align-items: center;
  padding: 0 12px;
  user-select: none;
  cursor: pointer;
  border-bottom: ${e.collapsed?"none":`${e.borderWidth}px solid ${e.borderColor}`};
}

${r} .collapsible-arrow {
  margin-right: 8px;
  font-size: 10px;
  transition: transform 0.2s ease;
  transform: ${e.collapsed?"rotate(-90deg)":"rotate(0deg)"};
}

${r} .collapsible-content {
  flex: 1;
  background-color: ${e.contentBackground};
  overflow: ${e.scrollBehavior};
  max-height: ${e.collapsed?"0px":`${e.maxContentHeight}px`};
  opacity: ${e.collapsed?0:1};
  transition: max-height 0.3s ease, opacity 0.3s ease;
}${s}`}case"dbdisplay":return`${r} {
  /* dB Display */
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: ${e.fontFamily};
  font-size: ${e.fontSize}px;
  color: ${e.textColor};
  background-color: ${e.backgroundColor};
  padding: 0 ${e.padding}px;
  border-radius: 4px;
  box-sizing: border-box;
  user-select: none;
}`;case"frequencydisplay":return`${r} {
  /* Frequency Display */
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: ${e.fontFamily};
  font-size: ${e.fontSize}px;
  color: ${e.textColor};
  background-color: ${e.backgroundColor};
  padding: 0 ${e.padding}px;
  border-radius: 4px;
  box-sizing: border-box;
  user-select: none;
}`;case"gainreductionmeter":return`${r} {
  /* Gain Reduction Meter */
  position: relative;
  background-color: ${e.backgroundColor};
  border-radius: 2px;
  overflow: hidden;
}

${r} .gr-fill {
  position: absolute;
  background-color: ${e.meterColor};
  border-radius: 2px;
}

${r} .gr-value {
  position: absolute;
  bottom: 2px;
  left: 0;
  right: 0;
  text-align: center;
  font-size: ${e.fontSize}px;
  color: ${e.textColor};
  font-family: 'Roboto Mono', monospace;
  user-select: none;
}`;case"presetbrowser":return`${r} {
  /* Preset Browser */
  overflow: hidden;
}

${r} .preset-search {
  padding: 8px;
  border-bottom: 1px solid ${e.borderColor};
}

${r} .preset-search input {
  width: 100%;
  background-color: #111827;
  border: 1px solid ${e.borderColor};
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 12px;
  color: #6b7280;
  outline: none;
}

${r} .preset-list {
  overflow-y: auto;
  height: ${e.showSearch?"calc(100% - 50px)":"100%"};
}

${r} .preset-item {
  height: ${e.itemHeight}px;
  display: flex;
  align-items: center;
  padding-left: 8px;
  padding-right: 8px;
  background-color: ${e.itemColor};
  color: ${e.textColor};
  font-size: ${e.fontSize}px;
  font-family: Inter, system-ui, sans-serif;
  cursor: pointer;
  user-select: none;
}

${r} .preset-item.selected {
  background-color: ${e.selectedColor};
  color: ${e.selectedTextColor};
}

${r} .preset-item:hover:not(.selected) {
  background-color: rgba(59, 130, 246, 0.1);
}`;case"waveform":return`${r} {
  /* Waveform Display */
  position: relative;
  background-color: ${e.backgroundColor};
  border: ${e.borderWidth}px solid ${e.borderColor};
  border-radius: 4px;
  overflow: hidden;
}

${r} .waveform-placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${e.waveformColor};
  opacity: 0.7;
  font-size: 12px;
  font-weight: 500;
  user-select: none;
}`;case"oscilloscope":const n=100/e.gridDivisions;return`${r} {
  /* Oscilloscope Display */
  position: relative;
  background-color: ${e.backgroundColor};
  border: ${e.borderWidth}px solid ${e.borderColor};
  border-radius: 4px;
  overflow: hidden;
}

${r} .oscilloscope-grid {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(${e.gridColor} 1px, transparent 1px),
    linear-gradient(90deg, ${e.gridColor} 1px, transparent 1px);
  background-size: ${n}% ${n}%;
  opacity: ${e.showGrid?1:0};
}

${r} .oscilloscope-placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${e.traceColor};
  opacity: 0.7;
  font-size: 12px;
  font-weight: 500;
  user-select: none;
}`;case"svggraphic":return RB(t);case"steppedknob":return`${r} {
  cursor: pointer;
  user-select: none;
}`;case"centerdetentknob":return`${r} {
  cursor: pointer;
  user-select: none;
}`;case"dotindicatorknob":return`${r} {
  cursor: pointer;
  user-select: none;
}`;case"multislider":return BB(t,e);case"bipolarslider":{const s=e.orientation==="vertical";return`${r} {
  cursor: ${s?"ns-resize":"ew-resize"};
  user-select: none;
  position: relative;
}
${r} .slider-track {
  position: absolute;
  ${s?"left: 50%; top: 0; bottom: 0; width: 6px; transform: translateX(-50%);":"top: 50%; left: 0; right: 0; height: 6px; transform: translateY(-50%);"}
  z-index: 0;
}
${r} .slider-center-mark {
  position: absolute;
  ${s?"left: 50%; width: 16px; height: 3px; transform: translate(-50%, -50%);":"top: 50%; width: 3px; height: 16px; transform: translate(-50%, -50%);"}
  z-index: 5;
  pointer-events: none;
}
${r} .slider-fill {
  position: absolute;
  ${s?"left: 50%; width: 6px; transform: translateX(-50%);":"top: 50%; height: 6px; transform: translateY(-50%);"}
  z-index: 1;
}
${r} .slider-thumb {
  position: absolute;
  ${s?"left: 50%; transform: translate(-50%, 50%);":"top: 50%; transform: translate(-50%, -50%);"}
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
  z-index: 4;
}`}case"crossfadeslider":return`${r} {
  cursor: ew-resize;
  user-select: none;
  position: relative;
}
${r} .crossfade-labels {
  display: flex;
  justify-content: space-between;
  margin-bottom: 4px;
  font-size: 10px;
  position: relative;
  z-index: 6;
}
${r} .slider-track {
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 0;
  z-index: 0;
}
${r} .slider-fill {
  position: absolute;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 0;
  z-index: 1;
}
${r} .center-detent {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 3px;
  height: 16px;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  z-index: 5;
}
${r} .slider-thumb {
  position: absolute;
  top: 50%;
  width: 10px;
  height: 20px;
  transform: translate(-50%, -50%);
  border-radius: 0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
  z-index: 4;
}`;case"notchedslider":{const s=e.orientation==="vertical";return`${r} {
  cursor: ${s?"ns-resize":"ew-resize"};
  user-select: none;
  position: relative;
}

${r} svg {
  display: block;
}

${r} .slider-label,
${r} .slider-value {
  position: absolute;
  white-space: nowrap;
  user-select: none;
}

${r} .slider-label-top,
${r} .slider-value-top {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 4px;
}

${r} .slider-label-bottom,
${r} .slider-value-bottom {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 4px;
}

${r} .slider-label-left,
${r} .slider-value-left {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-right: 8px;
}

${r} .slider-label-right,
${r} .slider-value-right {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 8px;
}`}case"asciislider":return`${r} {
  cursor: ew-resize;
  user-select: none;
}`;case"asciibutton":return`${r} {
  cursor: pointer;
  user-select: none;
}
${r}:active {
  opacity: 0.9;
}`;case"rockerswitch":return HB(r,e);case"rotaryswitch":return GB(r,e);case"segmentbutton":return ZB(r,e);case"iconbutton":return UB(r,e);case"toggleswitch":return VB(r,e);case"powerbutton":return WB(r,e);case"numericdisplay":return qB(r,e);case"timedisplay":return XB(r,e);case"percentagedisplay":return YB(r,e);case"ratiodisplay":return KB(r,e);case"notedisplay":return JB(r,e);case"bpmdisplay":return QB(r,e);case"editabledisplay":return eU(r,e);case"multivaluedisplay":return tU(r,e);case"rmsmetermo":case"rmsmeterstereo":case"vumetermono":case"vumeterstereo":case"ppmtype1mono":case"ppmtype1stereo":case"ppmtype2mono":case"ppmtype2stereo":case"truepeakmetermono":case"truepeakmeterstereo":case"lufsmomomo":case"lufsmomostereo":case"lufsshortmono":case"lufsshortstereo":case"lufsintmono":case"lufsintstereo":case"k12metermono":case"k12meterstereo":case"k14metermono":case"k14meterstereo":case"k20metermono":case"k20meterstereo":{const o=e,s=e.type.includes("stereo");let d=rU(o,r,s);return s&&(d+=`
${r} .stereo-wrapper {
  display: flex;
  gap: 8px;
}

${r} .channel-labels {
  display: flex;
  gap: 8px;
  font-size: 10px;
  color: #999999;
  text-align: center;
  justify-content: space-around;
}
`),d}case"correlationmeter":return L1(e,r);case"stereowidthmeter":return L1(e,r);case"stepper":return nU(r,e);case"breadcrumb":return aU(r,e);case"multiselectdropdown":return iU(r,e);case"combobox":return oU(r,e);case"menubutton":return sU(r,e);case"tabbar":return lU(r,e);case"tagselector":return cU(r,e);case"treeview":return uU(r,e);case"scrollingwaveform":case"spectrumanalyzer":case"spectrogram":case"goniometer":case"vectorscope":return dU(e);case"eqcurve":case"compressorcurve":case"envelopedisplay":case"lfodisplay":case"filterresponse":return hU(e);case"tooltip":return fU(r,e);case"horizontalspacer":return pU(r,e);case"verticalspacer":return mU(r,e);case"windowchrome":return gU(r,e);case"pianokeyboard":return`${r} {
  /* Piano Keyboard */
  position: relative;
  overflow: hidden;
}

${r} .piano-key {
  position: absolute;
  top: 0;
  cursor: pointer;
  transition: background-color 0.05s;
}

${r} .piano-key.white:hover {
  background-color: #eee !important;
}

${r} .piano-key.black:hover {
  background-color: #333 !important;
}

${r} .piano-key.active {
  background-color: #3b82f6 !important;
}`;case"drumpad":return`${r} {
  /* Drum Pad */
  cursor: pointer;
  transition: transform 0.05s, background-color 0.05s;
  user-select: none;
}

${r}:hover {
  filter: brightness(1.1);
}

${r}:active, ${r}.active {
  transform: scale(0.95);
}`;case"padgrid":return`${r} {
  /* Pad Grid */
  position: relative;
  user-select: none;
}

${r} .pad {
  cursor: pointer;
  transition: transform 0.05s, background-color 0.05s;
}

${r} .pad:hover {
  filter: brightness(1.1);
}

${r} .pad:active, ${r} .pad.active {
  transform: scale(0.95);
}`;case"stepsequencer":return`${r} {
  /* Step Sequencer */
  overflow: hidden;
  border-radius: 4px;
}

${r} canvas {
  display: block;
}`;case"xypad":return`${r} {
  /* XY Pad */
  overflow: hidden;
  border-radius: 4px;
  cursor: crosshair;
}

${r} canvas {
  display: block;
}`;case"wavetabledisplay":return`${r} {
  /* Wavetable Display */
  overflow: hidden;
  border-radius: 4px;
}

${r} canvas {
  display: block;
}`;case"harmoniceditor":return`${r} {
  /* Harmonic Editor */
  overflow: hidden;
  border-radius: 4px;
  cursor: pointer;
}

${r} canvas {
  display: block;
}`;case"looppoints":return`${r} {
  /* Loop Points */
  overflow: hidden;
  border-radius: 4px;
}

${r} canvas {
  display: block;
}`;case"envelopeeditor":return`${r} {
  /* Envelope Editor */
  overflow: hidden;
}

${r} canvas {
  display: block;
}`;case"sampledisplay":return`${r} {
  /* Sample Display */
  overflow: hidden;
}

${r} canvas {
  display: block;
  cursor: grab;
}

${r} canvas:active {
  cursor: grabbing;
}`;case"patchbay":return`${r} {
  /* Patch Bay */
  overflow: hidden;
}

${r} svg {
  display: block;
}`;case"signalflow":return`${r} {
  /* Signal Flow */
  overflow: hidden;
}

${r} svg {
  display: block;
}`;default:const i=e;throw new Error(`Unknown element type: ${i.type}`)}}function RB(e){return`/* SVG Graphic: ${e} */
#${e} {
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

#${e} svg {
  max-width: 100%;
  max-height: 100%;
  width: 100%;
  height: 100%;
  object-fit: contain;
}`}function BB(e,t){const r=`#${e}`;return`/* Multi-Slider: ${e} */
${r} {
  cursor: pointer;
  user-select: none;
}

${r} .multislider-container {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  height: 100%;
  gap: ${t.bandGap}px;
}

${r} .multislider-band {
  flex: 1;
  background: ${t.trackColor};
  position: relative;
}

${r} .multislider-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: ${t.fillColor};
}

${r} .multislider-thumb {
  position: absolute;
  left: 0;
  right: 0;
  height: 3px;
  background: ${t.thumbColor};
}

${r} .multislider-label {
  position: absolute;
  bottom: -${t.labelFontSize+4}px;
  left: 50%;
  transform: translateX(-50%);
  font-size: ${t.labelFontSize}px;
  color: ${t.labelColor};
  white-space: nowrap;
}`}function UB(e,t){return`/* Icon Button */
${e} {
  background-color: ${t.backgroundColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: none;
  padding: 0;
  box-sizing: border-box;
}

${e}[data-pressed="true"] {
  filter: brightness(0.85);
}

${e} .icon {
  width: 70%;
  height: 70%;
  color: ${t.iconColor};
  display: flex;
  align-items: center;
  justify-content: center;
}

${e} .icon svg {
  width: 100%;
  height: 100%;
}`}function VB(e,t){const r=t.height,n=r-8,i=t.width-r;return`/* Toggle Switch */
${e} {
  position: relative;
  border-radius: ${r/2}px;
  border: 2px solid ${t.borderColor};
  cursor: pointer;
  transition: none;
  box-sizing: border-box;
}

${e}[data-on="false"] {
  background-color: ${t.offColor};
}

${e}[data-on="true"] {
  background-color: ${t.onColor};
}

${e} .track {
  display: none;
}

${e} .thumb {
  position: absolute;
  width: ${n}px;
  height: ${n}px;
  background-color: ${t.thumbColor};
  border-radius: 50%;
  top: 2px;
  transition: none;
}

${e}[data-on="false"] .thumb {
  left: 2px;
}

${e}[data-on="true"] .thumb {
  left: ${i+2}px;
}

${e} .label-off,
${e} .label-on {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  font-family: Inter, system-ui, sans-serif;
  color: ${t.labelColor};
  user-select: none;
}

${e} .label-off {
  left: -30px;
}

${e} .label-on {
  right: -30px;
}`}function WB(e,t){return`/* Power Button */
${e} {
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: none;
  position: relative;
  font-family: Inter, system-ui, sans-serif;
  font-size: 12px;
  font-weight: 600;
  padding: 0;
  box-sizing: border-box;
}

${e}[data-on="true"] {
  filter: brightness(1.1);
}

${e} .label {
  user-select: none;
}

${e} .led {
  position: absolute;
  width: ${t.ledSize}px;
  height: ${t.ledSize}px;
  border-radius: 50%;
  transition: none;
}

${e}[data-led-position="top"] .led {
  top: 4px;
  left: 50%;
  transform: translateX(-50%);
}

${e}[data-led-position="bottom"] .led {
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
}

${e}[data-led-position="left"] .led {
  left: 4px;
  top: 50%;
  transform: translateY(-50%);
}

${e}[data-led-position="right"] .led {
  right: 4px;
  top: 50%;
  transform: translateY(-50%);
}

${e}[data-led-position="center"] .led {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

${e}[data-on="false"] .led {
  background-color: ${t.ledOffColor};
}

${e}[data-on="true"] .led {
  background-color: ${t.ledOnColor};
  box-shadow: 0 0 4px ${t.ledOnColor};
}`}function HB(e,t){return`/* Rocker Switch */
${e} {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 8px;
  user-select: none;
}

${e} .track {
  position: relative;
  width: 30px;
  min-width: 30px;
  height: 85%;
  background-color: ${t.backgroundColor};
  border: 2px solid ${t.borderColor};
  border-radius: 4px;
}

${e} .paddle {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 4px);
  height: 33.33%;
  background-color: ${t.switchColor};
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: bold;
  color: #ffffff;
  transition: none;
}

${e}[data-position="2"] .paddle {
  top: 2px;
}

${e}[data-position="1"] .paddle {
  top: 33.33%;
}

${e}[data-position="0"] .paddle {
  bottom: 2px;
}

${e} .labels {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 85%;
  font-size: 10px;
  font-family: Inter, system-ui, sans-serif;
  color: ${t.labelColor};
}

${e} .label-up,
${e} .label-down {
  user-select: none;
}

${e}[data-position="2"] .label-up {
  opacity: 1;
}

${e}[data-position="1"] .label-up,
${e}[data-position="1"] .label-down {
  opacity: 0.5;
}

${e}[data-position="0"] .label-down {
  opacity: 1;
}

${e}:not([data-position="2"]) .label-up {
  opacity: 0.5;
}

${e}:not([data-position="0"]) .label-down {
  opacity: 0.5;
}`}function GB(e,t){return`/* Rotary Switch */
${e} {
  display: flex;
  flex-direction: ${t.labelLayout==="legend"?"row":"column"};
  align-items: center;
  justify-content: center;
  gap: 8px;
  user-select: none;
}

${e} svg {
  width: ${t.labelLayout==="legend"?"60%":"100%"};
  height: ${t.labelLayout==="legend"?"60%":"100%"};
  overflow: visible;
}

${e} svg circle,
${e} svg line {
  transition: none;
}

${e} svg text {
  font-family: Inter, system-ui, sans-serif;
}

/* Legend layout - labels displayed as list */
${e} .labels-legend {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: ${t.labelFontSize}px;
  font-family: Inter, system-ui, sans-serif;
}

${e} .labels-legend .label {
  color: ${t.labelColor};
  user-select: none;
}

${e} .labels-legend .label[data-active="true"] {
  opacity: 1;
  font-weight: bold;
}

${e} .labels-legend .label[data-active="false"] {
  opacity: 0.5;
  font-weight: normal;
}`}function ZB(e,t){const r=t.orientation==="vertical",n=r?"column":"row",i=r?`border-right: none; border-bottom: 1px solid ${t.borderColor};`:`border-right: 1px solid ${t.borderColor}; border-bottom: none;`;return`/* Segment Button */
${e} {
  display: flex;
  flex-direction: ${n};
  background-color: ${t.backgroundColor};
  border: 2px solid ${t.borderColor};
  border-radius: 4px;
  overflow: hidden;
  box-sizing: border-box;
}

${e} .segment {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 8px;
  color: ${t.textColor};
  ${i}
  cursor: pointer;
  transition: none;
  user-select: none;
}

${e} .segment:last-child {
  border-right: none;
  border-bottom: none;
}

${e} .segment[data-selected="true"] {
  background-color: ${t.selectedColor};
  color: ${t.selectedTextColor};
}

${e} .segment-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

${e} .segment-icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}

${e} .segment-text {
  font-size: 12px;
  font-family: Inter, system-ui, sans-serif;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`}function Cs(e,t){const r=t.fontStyle==="7segment"?"DSEG7, monospace":t.fontFamily;let n="";t.bezelStyle==="inset"?n=`
${e}[data-bezel="inset"] {
  box-shadow: inset 2px 2px 4px rgba(0,0,0,0.5);
  border-radius: 4px;
}`:t.bezelStyle==="flat"?n=`
${e}[data-bezel="flat"] {
  border: 2px solid ${t.borderColor||"#374151"};
  border-radius: 4px;
}`:t.bezelStyle==="none"&&(n=`
${e}[data-bezel="none"] {
  border: none;
  border-radius: 0;
}`);const i=t.fontStyle==="7segment"?`
${e}[data-font-style="7segment"] {
  position: relative;
}

${e} .ghost {
  position: absolute;
  opacity: 0.25;
  letter-spacing: 0.05em;
}

${e} .value {
  position: relative;
  z-index: 1;
  letter-spacing: 0.05em;
}`:`
${e} .value {
  position: relative;
  z-index: 1;
}`;return`${e} {
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: ${r};
  font-size: ${t.fontSize}px;
  color: ${t.textColor};
  background-color: ${t.backgroundColor};
  padding: ${t.padding}px;
  box-sizing: border-box;
  user-select: none;
}
${n}
${i}`}function qB(e,t){return`/* Numeric Display */
${Cs(e,t)}

${e} .unit {
  position: absolute;
  bottom: 4px;
  right: 4px;
  font-size: ${t.fontSize*.6}px;
  opacity: 0.7;
}`}function XB(e,t){return`/* Time Display */
${Cs(e,t)}`}function YB(e,t){return`/* Percentage Display */
${Cs(e,t)}`}function KB(e,t){return`/* Ratio Display */
${Cs(e,t)}`}function JB(e,t){return`/* Note Display */
${Cs(e,t)}

${e} {
  flex-direction: column;
}

${e} .note {
  font-weight: 600;
}

${e} .midi {
  font-size: ${t.fontSize*.5}px;
  opacity: 0.6;
  margin-top: 2px;
}`}function QB(e,t){return`/* BPM Display */
${Cs(e,t)}

${e} .label {
  margin-left: 4px;
  font-size: ${t.fontSize*.7}px;
  opacity: 0.7;
}`}function eU(e,t){return`/* Editable Display */
${e} {
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: ${t.fontFamily};
  font-size: ${t.fontSize}px;
  color: ${t.textColor};
  background-color: ${t.backgroundColor};
  padding: ${t.padding}px;
  box-sizing: border-box;
  user-select: none;
  cursor: pointer;
  border: 2px solid ${t.borderColor};
  border-radius: 4px;
}`}function tU(e,t){return`/* Multi-Value Display */
${e} {
  display: flex;
  flex-direction: ${t.layout==="vertical"?"column":"row"};
  justify-content: space-around;
  gap: 4px;
  font-family: ${t.fontFamily};
  font-size: ${t.fontSize}px;
  color: ${t.textColor};
  background-color: ${t.backgroundColor};
  padding: ${t.padding}px;
  box-sizing: border-box;
  user-select: none;
}

${e} .value-item {
  display: flex;
  flex-direction: column;
  align-items: center;
}

${e} .label {
  font-size: ${t.fontSize*.7}px;
  opacity: 0.7;
  margin-bottom: 2px;
}`}function rU(e,t,r=!1){const n=e.orientation==="vertical",{segmentCount:i,segmentGap:o,colorZones:s}=e,d=s.map((h,p)=>`--meter-zone-${p}: ${h.color};`).join(`
  `),c=n?`grid-template-rows: repeat(${i}, 1fr);`:`grid-template-columns: repeat(${i}, 1fr);`;return`
${r?`${t} .meter-channel`:t} {
  display: grid;
  ${c}
  gap: ${o}px;
  background-color: #000000;
  position: relative;
  ${d}
}

${t} .meter-segment {
  border-radius: 1px;
  transition: none;
}

${t} .meter-segment.off {
  opacity: 0.3;
}

${t} .meter-segment.on {
  opacity: 1;
}

${t} .peak-hold {
  position: absolute;
  background-color: #ffffff;
  transition: none;
}

${t} .meter-segments {
  display: grid;
  ${c}
  gap: ${o}px;
  background-color: #000000;
  position: relative;
}
`}function L1(e,t){const{barHeight:r,colorZones:n}=e,i=n.map((o,s)=>`--meter-zone-${s}: ${o.color};`).join(`
  `);return`
${t} {
  display: flex;
  flex-direction: column;
  ${i}
}

${t} .meter-track {
  width: 100%;
  height: ${r}px;
  background-color: #333333;
  border-radius: 2px;
  position: relative;
}

${t} .center-marker {
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background-color: #666666;
  transform: translateX(-50%);
}

${t} .meter-indicator {
  position: absolute;
  top: 0;
  bottom: 0;
  border-radius: 2px;
  transition: none;
}

${t} .meter-scale {
  display: flex;
  justify-content: space-between;
  font-size: 10px;
  color: #999999;
}

${t} .meter-readout {
  text-align: center;
  font-size: 12px;
}
`}function nU(e,t){const r=t.orientation==="vertical";return`/* Stepper */
${e} {
  display: flex;
  flex-direction: ${r?"column":"row"};
  align-items: center;
  gap: 8px;
  background-color: ${t.backgroundColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  padding: 4px;
  box-sizing: border-box;
}

${e} .stepper-button {
  width: ${t.buttonSize}px;
  height: ${t.buttonSize}px;
  background-color: ${t.buttonColor};
  border: none;
  border-radius: 4px;
  color: ${t.textColor};
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: none;
  user-select: none;
}

${e} .stepper-button:hover {
  background-color: ${t.buttonHoverColor};
}

${e} .stepper-button.decrement::before {
  content: '−';
}

${e} .stepper-button.increment::before {
  content: '+';
}

${e} .stepper-value {
  color: ${t.textColor};
  font-size: 14px;
  font-family: Inter, system-ui, sans-serif;
  font-weight: 500;
  user-select: none;
  min-width: 40px;
  text-align: center;
}`}function aU(e,t){return`/* Breadcrumb */
${e} {
  font-family: ${t.fontFamily};
}

${e} ol {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
  margin: 0;
  padding: 0;
}

${e} li {
  display: flex;
  align-items: center;
  gap: 8px;
}

${e} a {
  color: ${t.linkColor};
  text-decoration: none;
  font-size: ${t.fontSize}px;
  font-weight: ${t.fontWeight};
  cursor: pointer;
  transition: none;
}

${e} a:hover {
  color: ${t.hoverColor};
}

${e} .breadcrumb-current {
  color: ${t.currentColor};
  font-size: ${t.fontSize}px;
  font-weight: 600;
}

${e} .breadcrumb-separator {
  color: ${t.separatorColor};
  font-size: ${t.fontSize}px;
  user-select: none;
}

${e} .breadcrumb-ellipsis {
  color: ${t.separatorColor};
  font-size: ${t.fontSize}px;
  user-select: none;
}`}function l4(e){return`
${e} .dropdown-container {
  position: relative;
}

${e} .dropdown-menu {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  max-height: 200px;
  overflow-y: auto;
  background-color: inherit;
  border: 1px solid;
  border-color: inherit;
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 150ms ease-in;
  z-index: 1000;
}

${e}.open .dropdown-menu {
  opacity: 1;
  pointer-events: all;
  transition: opacity 100ms ease-out;
}

${e} .dropdown-item {
  padding: 8px 12px;
  cursor: pointer;
  user-select: none;
  transition: none;
}

${e} .dropdown-item:hover {
  background-color: rgba(59, 130, 246, 0.1);
}

${e} .dropdown-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

${e} .dropdown-item.disabled:hover {
  background-color: transparent;
}`}function iU(e,t){return`/* Multi-Select Dropdown */
${e} {
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  padding: 8px 12px;
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  cursor: pointer;
  user-select: none;
  box-sizing: border-box;
}
${l4(e)}

${e} .selected-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

${e} .dropdown-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

${e} .dropdown-item input[type="checkbox"] {
  cursor: pointer;
}`}function oU(e,t){return`/* Combo Box */
${e} {
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  box-sizing: border-box;
}
${l4(e)}

${e} input {
  width: 100%;
  background: transparent;
  border: none;
  outline: none;
  color: inherit;
  font-size: inherit;
  padding: 8px 12px;
}

${e} input::placeholder {
  color: currentColor;
  opacity: 0.5;
}

${e} .empty-state {
  padding: 8px 12px;
  color: currentColor;
  opacity: 0.6;
  font-style: italic;
  user-select: none;
}`}function sU(e,t){return`/* Menu Button */
${e} {
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  border: 2px solid ${t.borderColor};
  border-radius: ${t.borderRadius}px;
  padding: 8px 16px;
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  user-select: none;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

${e} .dropdown-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

${e} .dropdown-menu {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  min-width: 100%;
  max-height: 200px;
  overflow-y: auto;
  background-color: ${t.backgroundColor};
  border: 1px solid ${t.borderColor};
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 150ms ease-in;
  z-index: 1000;
}

${e}.open .dropdown-menu {
  opacity: 1;
  pointer-events: all;
  transition: opacity 100ms ease-out;
}

${e} .dropdown-item {
  padding: 8px 12px;
  cursor: pointer;
  user-select: none;
  transition: none;
  text-align: left;
  white-space: nowrap;
}

${e} .dropdown-item:hover {
  background-color: rgba(59, 130, 246, 0.1);
}

${e} .dropdown-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

${e} .dropdown-item.disabled:hover {
  background-color: transparent;
}

${e} .menu-divider {
  height: 1px;
  background-color: ${t.borderColor};
  margin: 4px 0;
}`}function lU(e,t){const r=t.orientation==="vertical",n=t.indicatorStyle==="background"?`background-color: ${t.indicatorColor};`:t.indicatorStyle==="underline"?r?`border-right: 3px solid ${t.indicatorColor};`:`border-bottom: 3px solid ${t.indicatorColor};`:"";return`/* Tab Bar */
${e} {
  display: flex;
  flex-direction: ${r?"column":"row"};
  background-color: ${t.backgroundColor};
  border: 1px solid ${t.borderColor};
  border-radius: 4px;
  overflow: hidden;
  box-sizing: border-box;
}

${e} .tab {
  flex: ${r?"0 0 auto":"1"};
  height: ${t.tabHeight}px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 0 16px;
  color: ${t.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  user-select: none;
  transition: none;
  position: relative;
}

${e} .tab:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

${e} .tab[aria-selected="true"] {
  color: ${t.activeTextColor};
  ${n}
}

${e} .tab-icon {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

${e} .tab-icon svg {
  width: 100%;
  height: 100%;
}

${t.indicatorStyle==="accent-bar"?`
${e} .indicator-underline,
${e} .indicator-accent {
  position: absolute;
  background-color: ${t.indicatorColor};
  transition: none;
}

${e} .indicator-underline {
  ${r?"right: 0; top: 0; bottom: 0; width: 3px;":"bottom: 0; left: 0; right: 0; height: 3px;"}
}

${e} .indicator-accent {
  ${r?"left: 0; width: 4px;":"top: 0; height: 4px;"}
}`:""}`}function cU(e,t){return`/* Tag Selector */
${e} {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-family: Inter, system-ui, sans-serif;
  box-sizing: border-box;
}

${e} .tags-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

${e} .tag-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background-color: ${t.chipBackgroundColor};
  color: ${t.chipTextColor};
  border-radius: ${t.chipBorderRadius}px;
  font-size: 12px;
  user-select: none;
}

${e} .tag-remove {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: ${t.chipRemoveColor};
  color: white;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: bold;
  padding: 0;
  transition: none;
}

${e} .tag-remove:hover {
  filter: brightness(1.2);
}

${t.showInput?`
${e} .tag-input-wrapper {
  position: relative;
}

${e} input {
  width: 100%;
  padding: 8px 12px;
  background-color: ${t.inputBackgroundColor};
  color: ${t.inputTextColor};
  border: 1px solid ${t.inputBorderColor};
  border-radius: 4px;
  font-size: 14px;
  outline: none;
  box-sizing: border-box;
}

${e} input::placeholder {
  color: currentColor;
  opacity: 0.5;
}

${e} .tag-dropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  max-height: 200px;
  overflow-y: auto;
  background-color: ${t.dropdownBackgroundColor};
  color: ${t.dropdownTextColor};
  border: 1px solid ${t.inputBorderColor};
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 150ms ease-in;
  z-index: 1000;
}

${e}.open .tag-dropdown {
  opacity: 1;
  pointer-events: all;
  transition: opacity 100ms ease-out;
}

${e} .tag-dropdown-item {
  padding: 8px 12px;
  cursor: pointer;
  user-select: none;
  transition: none;
}

${e} .tag-dropdown-item:hover {
  background-color: ${t.dropdownHoverColor};
}`:""}`}function uU(e,t){return`/* Tree View */
${e} {
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  font-family: Inter, system-ui, sans-serif;
  font-size: ${t.fontSize}px;
  overflow-y: auto;
  user-select: none;
  box-sizing: border-box;
}

${e} .tree-node {
  display: flex;
  align-items: center;
  height: ${t.rowHeight}px;
  cursor: pointer;
  transition: none;
}

${e} .tree-node:hover {
  background-color: ${t.hoverBackgroundColor};
}

${e} .tree-node[data-selected="true"] {
  background-color: ${t.selectedBackgroundColor};
  color: ${t.selectedTextColor};
}

${e} .tree-arrow {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  cursor: pointer;
  transition: none;
}

${e} .tree-arrow::before {
  content: '▶';
  font-size: 10px;
  transform: rotate(0deg);
  transition: none;
}

${e} .tree-arrow.expanded::before {
  transform: rotate(90deg);
}

${e} .tree-arrow.empty {
  visibility: hidden;
}

${e} .tree-node-name {
  flex: 1;
  padding: 0 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`}function dU(e){const t=We(e.id);return`/* ${e.name||e.type} */
#${t} {
  position: absolute;
  left: ${e.x}px;
  top: ${e.y}px;
  width: ${e.width}px;
  height: ${e.height}px;
  background-color: ${e.backgroundColor};
  overflow: hidden;
}

#${t} canvas {
  display: block;
  width: 100%;
  height: 100%;
}
`}function hU(e){const t=We(e.id);return`/* ${e.name||e.type} */
#${t} {
  position: absolute;
  left: ${e.x}px;
  top: ${e.y}px;
  width: ${e.width}px;
  height: ${e.height}px;
  background-color: ${e.backgroundColor};
  overflow: hidden;
}

#${t} canvas {
  display: block;
  width: 100%;
  height: 100%;
}
`}function fU(e,t){return`/* Tooltip */
${e} {
  /* Invisible trigger area */
  cursor: help;
  position: relative;
}

${e} .tooltip-content {
  position: absolute;
  background-color: ${t.backgroundColor};
  color: ${t.textColor};
  font-size: ${t.fontSize}px;
  padding: ${t.padding}px;
  border-radius: ${t.borderRadius}px;
  max-width: ${t.maxWidth}px;
  z-index: 10000;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  ${t.position==="top"?`bottom: calc(100% + ${t.offset}px); left: 50%; transform: translateX(-50%);`:""}
  ${t.position==="bottom"?`top: calc(100% + ${t.offset}px); left: 50%; transform: translateX(-50%);`:""}
  ${t.position==="left"?`right: calc(100% + ${t.offset}px); top: 50%; transform: translateY(-50%);`:""}
  ${t.position==="right"?`left: calc(100% + ${t.offset}px); top: 50%; transform: translateY(-50%);`:""}
}

${e}:hover .tooltip-content {
  opacity: 1;
}

${t.showArrow?`
${e} .tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border: 6px solid transparent;
  ${t.position==="top"?`top: 100%; left: 50%; transform: translateX(-50%); border-top-color: ${t.backgroundColor};`:""}
  ${t.position==="bottom"?`bottom: 100%; left: 50%; transform: translateX(-50%); border-bottom-color: ${t.backgroundColor};`:""}
  ${t.position==="left"?`left: 100%; top: 50%; transform: translateY(-50%); border-left-color: ${t.backgroundColor};`:""}
  ${t.position==="right"?`right: 100%; top: 50%; transform: translateY(-50%); border-right-color: ${t.backgroundColor};`:""}
}`:""}`}function pU(e,t){const r=t.sizingMode==="fixed"?`width: ${t.fixedWidth}px;`:`flex-grow: ${t.flexGrow}; min-width: ${t.minWidth}px; max-width: ${t.maxWidth}px;`;return`/* Horizontal Spacer (Intentionally Invisible) */
${e} {
  /* Invisible spacing element - creates horizontal space without visual representation */
  ${r}
  background: transparent;
}`}function mU(e,t){const r=t.sizingMode==="fixed"?`height: ${t.fixedHeight}px;`:`flex-grow: ${t.flexGrow}; min-height: ${t.minHeight}px; max-height: ${t.maxHeight}px;`;return`/* Vertical Spacer (Intentionally Invisible) */
${e} {
  /* Invisible spacing element - creates vertical space without visual representation */
  ${r}
  background: transparent;
}`}function gU(e,t){const r=t.buttonStyle==="macos"?`
${e} .chrome-buttons.macos {
  display: flex;
  gap: 8px;
  padding: 0 12px;
  align-items: center;
}

${e} .chrome-button {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  cursor: pointer;
  transition: filter 0.2s ease;
}

${e} .chrome-button:hover {
  filter: brightness(0.9);
}`:t.buttonStyle==="windows"?`
${e} .chrome-buttons.windows {
  display: flex;
  margin-left: auto;
  height: 100%;
}

${e} .chrome-button {
  width: 46px;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: ${t.titleColor};
  cursor: pointer;
  transition: background-color 0.2s ease;
  user-select: none;
}

${e} .chrome-button:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

${e} .chrome-button.close:hover {
  background-color: #e81123;
  color: white;
}`:`
${e} .chrome-buttons.neutral {
  display: flex;
  gap: 8px;
  padding: 0 12px;
  align-items: center;
}

${e} .chrome-button {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: #666666;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

${e} .chrome-button.close:hover {
  background-color: #ff5f57;
}

${e} .chrome-button.minimize:hover {
  background-color: #ffbd2e;
}

${e} .chrome-button.maximize:hover {
  background-color: #28ca42;
}`,n=t.allowScroll?Gc(`${e} .windowchrome-content`):"";return`/* Window Chrome */
${e} {
  display: flex;
  align-items: center;
  background-color: ${t.backgroundColor};
  height: ${t.height}px;
  -webkit-app-region: drag;
  user-select: none;
}

${e} [data-drag-region="no-drag"] {
  -webkit-app-region: no-drag;
}

${e} .chrome-title {
  flex: 1;
  text-align: center;
  font-size: ${t.titleFontSize}px;
  color: ${t.titleColor};
  font-family: Inter, system-ui, sans-serif;
  font-weight: 500;
  -webkit-app-region: drag;
}
${r}${n}`}function c4(e,t){const r=["knob","steppedknob","centerdetentknob","dotindicatorknob"],n=e.filter(V=>r.includes(V.type)),i=["slider","bipolarslider","notchedslider","crossfadeslider"],o=e.filter(V=>i.includes(V.type)),s=e.filter(V=>V.type==="asciislider"),d=e.filter(V=>V.type==="asciibutton"),c=e.filter(V=>V.type==="rangeslider"),u=e.filter(V=>V.type==="multislider"),h=["button","iconbutton","toggleswitch","powerbutton"],p=e.filter(V=>h.includes(V.type)),l=e.filter(V=>V.type==="collapsible"),f=e.filter(V=>V.type==="modulationmatrix"),m=e.filter(V=>V.type==="stepper"),b=e.filter(V=>V.type==="tabbar"),S=e.filter(V=>V.type==="dropdown"||V.type==="multiselectdropdown"||V.type==="combobox"),x=e.filter(V=>V.type==="segmentbutton"),w=e.filter(V=>V.type==="rotaryswitch"),y=e.filter(V=>V.type==="rockerswitch"),_=e.filter(V=>V.type==="multiselectdropdown"),P=e.filter(V=>V.type==="combobox"),T=e.filter(V=>V.type==="menubutton"),M=e.filter(V=>V.type==="breadcrumb"),N=e.filter(V=>V.type==="treeview"),O=e.filter(V=>V.type==="tagselector"),B=e.filter(V=>V.type==="stepsequencer"),Z=e.filter(V=>V.type==="xypad"),D=e.filter(V=>V.type==="looppoints"),U=e.filter(V=>V.type==="harmoniceditor"),z=e.filter(V=>V.type==="asciiart"&&V.contentType==="noise"),G=n.map(V=>{const me=V,pe=me.value??.5,ke=me.min??0,Ie=me.max??1,Re=Ie!==ke?(pe-ke)/(Ie-ke):.5,Be=V.parameterId||We(V.name);return`    setupKnobInteraction('${We(V.name)}', '${Be}', ${Re});`}).join(`
`),ne=o.map(V=>{const me=V,pe=me.value??.5,ke=me.min??0,Ie=me.max??1,Re=Ie!==ke?(pe-ke)/(Ie-ke):.5,Be=V.parameterId||We(V.name);return`    setupSliderInteraction('${We(V.name)}', '${Be}', ${Re});`}).join(`
`),A=s.map(V=>{const me=V,pe=me.value??.5,ke=me.min??0,Ie=me.max??1,Re=Ie!==ke?(pe-ke)/(Ie-ke):.5,Be=V.parameterId||We(V.name);return`    setupAsciiSliderInteraction('${We(V.name)}', '${Be}', ${Re});`}).join(`
`),k=d.map(V=>{const pe=V.pressed??!1,ke=V.parameterId||We(V.name);return`    setupAsciiButtonInteraction('${We(V.name)}', '${ke}', ${pe});`}).join(`
`),j=c.map(V=>{const me=V.type==="rangeslider"?V.minValue:.25,pe=V.type==="rangeslider"?V.maxValue:.75,ke=V.parameterId||We(V.name);return`    setupRangeSliderInteraction('${We(V.name)}', '${ke}', ${me}, ${pe});`}).join(`
`),$=u.map(V=>{const me=V.parameterId||We(V.name);return`    setupMultiSliderInteraction('${We(V.name)}', '${me}');`}).join(`
`),F=p.map(V=>{const me=V.parameterId||We(V.name);return`    setupButtonInteraction('${We(V.name)}', '${me}');`}).join(`
`),R=l.map(V=>`    setupCollapsibleInteraction('${We(V.name)}');`).join(`
`),W=f.map(V=>`    setupModMatrixInteraction('${We(V.name)}');`).join(`
`),Y=m.map(V=>{const me=V.parameterId||We(V.name);return`    setupStepperInteraction('${We(V.name)}', '${me}');`}).join(`
`),te=b.map(V=>{const me=V.parameterId||We(V.name);return`    setupTabBarInteraction('${We(V.name)}', '${me}');`}).join(`
`),ie=S.map(V=>{const me=V.parameterId||We(V.name);return`    setupDropdownInteraction('${We(V.name)}', '${me}');`}).join(`
`),J=x.map(V=>{const me=V.parameterId||We(V.name);return`    setupSegmentButtonInteraction('${We(V.name)}', '${me}');`}).join(`
`),ee=w.map(V=>{const me=V.parameterId||We(V.name);return`    setupRotarySwitchInteraction('${We(V.name)}', '${me}');`}).join(`
`),Q=y.map(V=>{const me=V.parameterId||We(V.name);return`    setupRockerSwitchInteraction('${We(V.name)}', '${me}');`}).join(`
`),he=_.map(V=>{const me=V.parameterId||We(V.name);return`    setupMultiSelectDropdownInteraction('${We(V.name)}', '${me}');`}).join(`
`),ge=P.map(V=>{const me=V.parameterId||We(V.name);return`    setupComboBoxInteraction('${We(V.name)}', '${me}');`}).join(`
`),ye=T.map(V=>`    setupMenuButtonInteraction('${We(V.name)}');`).join(`
`),_e=M.map(V=>`    setupBreadcrumbInteraction('${We(V.name)}');`).join(`
`),H=N.map(V=>`    setupTreeViewInteraction('${We(V.name)}');`).join(`
`),Se=O.map(V=>`    setupTagSelectorInteraction('${We(V.name)}');`).join(`
`),Ce=B.map(V=>`    setupStepSequencerInteraction('${We(V.name)}');`).join(`
`),se=Z.map(V=>`    setupXYPadInteraction('${We(V.name)}');`).join(`
`),ae=D.map(V=>`    setupLoopPointsInteraction('${We(V.name)}');`).join(`
`),xe=U.map(V=>`    setupHarmonicEditorInteraction('${We(V.name)}');`).join(`
`),$e=z.map(V=>`    setupAsciiNoiseAnimation('${We(V.name)}');`).join(`
`);return`// AUTO-GENERATED by Faceplate
// JUCE WebView2 Event-Based Parameter Bindings
// Uses proven working pattern with dynamic function wrappers and polling initialization
//
// PARAMETER SYNC:
// When the plugin editor opens, C++ should call:
//   browser.emitEvent("__juce__paramSync", { params: [...] })
// to push all current parameter values to JavaScript.
// See JUCE_INTEGRATION.md for C++ implementation.

${t.windowMapping?`// Window navigation mapping (for multi-window projects)
window.__WINDOW_MAPPING__ = ${JSON.stringify(t.windowMapping,null,2)};

`:""}// ============================================================================
// JUCE Bridge - Dynamic Function Wrapper System
// ============================================================================

let bridge = null;
let nextResultId = 1;  // INTEGER, not Math.random() - critical for JUCE compatibility

/**
 * Create dynamic function wrappers for all registered JUCE native functions.
 * This pattern works reliably with JUCE WebView2.
 */
function createJUCEFunctionWrappers() {
  const functions = window.__JUCE__.initialisationData.__juce__functions || [];

  const wrappers = {};
  const pendingResults = new Map();

  // Listen for completion events from JUCE
  window.__JUCE__.backend.addEventListener('__juce__complete', (event) => {
    // Handle various event formats JUCE might send
    const resultId = event?.resultId ?? event?.detail?.resultId ?? event?.[0]?.resultId;
    const result = event?.result ?? event?.detail?.result ?? event?.[0]?.result;

    const callback = pendingResults.get(resultId);
    if (callback) {
      pendingResults.delete(resultId);
      callback(result);
    }
  });

  // Create wrapper for EACH registered function
  for (const funcName of functions) {
    wrappers[funcName] = function(...args) {
      return new Promise((resolve) => {
        const resultId = nextResultId++;
        pendingResults.set(resultId, resolve);

        window.__JUCE__.backend.emitEvent('__juce__invoke', {
          name: funcName,
          params: args,
          resultId: resultId
        });

        // Timeout after 1 second - resolve undefined on timeout
        setTimeout(() => {
          if (pendingResults.has(resultId)) {
            pendingResults.delete(resultId);
            resolve(undefined);
          }
        }, 1000);
      });
    };
  }

  return wrappers;
}

// ============================================================================
// Parameter Sync - C++ to JavaScript state synchronization
// ============================================================================

/**
 * Setup parameter sync listener for C++ -> JavaScript state updates.
 * Called after JUCE bridge initialization.
 *
 * When the plugin editor opens (after preset load, DAW session restore),
 * C++ calls emitEvent('__juce__paramSync', { params: [...] }) to push
 * all current parameter values to JavaScript.
 *
 * This function:
 * 1. Listens for '__juce__paramSync' events from C++
 * 2. Updates visual state (updateKnobVisual, updateSliderVisual, etc.)
 * 3. Updates internal tracking state (prevents first-drag jump)
 */
function setupParameterSyncListener() {
  if (!window.__JUCE__?.backend) {
    console.warn('[ParamSync] JUCE backend not available - sync disabled');
    return;
  }

  window.__JUCE__.backend.addEventListener('__juce__paramSync', (event) => {
    // Handle various event formats JUCE might send
    const params = event?.params ?? event?.detail?.params ?? event?.[0]?.params;

    if (!params || !Array.isArray(params)) {
      console.warn('[ParamSync] Invalid sync event format:', event);
      return;
    }

    let syncedCount = 0;

    for (const { id, value } of params) {
      // Find element by data-parameter-id attribute
      const element = document.querySelector('[data-parameter-id="' + id + '"]');
      if (!element) continue;

      const elementId = element.id;
      const elementType = element.dataset.type;

      // Update based on element type
      if (elementType === 'knob' || elementType === 'steppedknob' ||
          elementType === 'centerdetentknob' || elementType === 'dotindicatorknob') {
        updateKnobVisual(elementId, value);
        // CRITICAL: Update internal state to prevent drag jump
        if (element._knobValue !== undefined) element._knobValue = value;
        syncedCount++;
      }
      else if (elementType === 'slider' || elementType === 'bipolarslider' ||
               elementType === 'notchedslider' || elementType === 'crossfadeslider') {
        updateSliderVisual(elementId, value);
        if (element._sliderValue !== undefined) element._sliderValue = value;
        syncedCount++;
      }
      else if (elementType === 'asciislider') {
        updateAsciiSliderVisual(elementId, value);
        if (element._asciiValue !== undefined) element._asciiValue = value;
        syncedCount++;
      }
      else if (elementType === 'asciibutton') {
        const isPressed = value > 0.5;
        updateAsciiButtonVisual(elementId, isPressed);
        if (element._asciiPressed !== undefined) element._asciiPressed = isPressed;
        syncedCount++;
      }
      else if (elementType === 'button' || elementType === 'iconbutton') {
        const isPressed = value > 0.5;
        element.classList.toggle('pressed', isPressed);
        syncedCount++;
      }
      else if (elementType === 'toggleswitch' || elementType === 'powerbutton') {
        const isOn = value > 0.5;
        element.dataset.on = isOn.toString();
        element.classList.toggle('on', isOn);
        syncedCount++;
      }
      else if (elementType === 'rockerswitch') {
        // Rocker has 3 positions: 0=down, 0.5=center, 1=up
        const position = value < 0.33 ? 'down' : (value > 0.66 ? 'up' : 'center');
        element.dataset.position = position;
        syncedCount++;
      }
      else if (elementType === 'rotaryswitch' || elementType === 'segmentbutton') {
        // Discrete selection - value is normalized index
        const count = parseInt(element.dataset.count || '4');
        const index = Math.round(value * (count - 1));
        element.dataset.selected = index.toString();
        syncedCount++;
      }

      // Also check for ASCII noise elements with noise parameter binding
      // (handled by noise animation setup, but update internal state here too)
      const noiseElements = document.querySelectorAll('[data-noise-param="' + id + '"]');
      noiseElements.forEach(noiseEl => {
        if (noiseEl._noiseIntensity !== undefined) {
          noiseEl._noiseIntensity = Math.max(0, Math.min(1, value));
        }
      });
    }

  });
}

/**
 * Initialize JUCE bridge with polling.
 * CRITICAL: Waits for functions.length > 0 before initializing UI.
 */
async function initializeJUCEBridge() {
  for (let i = 0; i < 100; i++) {
    const juce = window.__JUCE__;

    if (juce?.backend && juce?.initialisationData) {
      const functions = juce.initialisationData.__juce__functions || [];

      // CRITICAL: Wait for functions to be registered
      if (functions.length > 0) {
        bridge = createJUCEFunctionWrappers();

        // Setup parameter sync listener for C++ -> JS updates
        setupParameterSyncListener();

        // Update status indicator
        const statusEl = document.getElementById('status');
        if (statusEl) {
          statusEl.textContent = 'Connected';
          statusEl.style.color = '#10b981';
        }

        // NOW initialize all UI elements
${G||"        // No knobs with parameter bindings"}
${ne||"        // No sliders with parameter bindings"}
${A||"        // No ASCII sliders with parameter bindings"}
${k||"        // No ASCII buttons with parameter bindings"}
${j||"        // No range sliders with parameter bindings"}
${$||"        // No multi sliders with parameter bindings"}
${F||"        // No buttons with parameter bindings"}
${R||"        // No collapsible containers"}
${W||"        // No modulation matrices"}
${Y||"        // No steppers"}
${te||"        // No tab bars"}
${ie||"        // No dropdowns"}
${J||"        // No segment buttons"}
${ee||"        // No rotary switches"}
${Q||"        // No rocker switches"}
${he||"        // No multi-select dropdowns"}
${ge||"        // No combo boxes"}
${ye||"        // No menu buttons"}
${_e||"        // No breadcrumbs"}
${H||"        // No tree views"}
${Se||"        // No tag selectors"}
${Ce||"        // No step sequencers"}
${se||"        // No XY pads"}
${ae||"        // No loop points"}
${xe||"        // No harmonic editors"}
${$e||"        // No ASCII art noise elements"}

        // Request parameter sync from C++ now that UI is fully ready
        if (bridge.requestParamSync) {
          try {
            await bridge.requestParamSync();
          } catch (e) {
            // Param sync request failed - C++ may use timer-based sync instead
          }
        }
        return;
      }
    }

    await new Promise(r => setTimeout(r, 50));
  }

  // Timeout - running in standalone mode
  console.warn('[JUCEBridge] Initialization timeout - running in standalone mode');
  const statusEl = document.getElementById('status');
  if (statusEl) {
    statusEl.textContent = 'Standalone Mode';
    statusEl.style.color = '#f59e0b';
  }

  // Create mock bridge for standalone testing
  bridge = {
    setParameter: (paramId, value) => Promise.resolve(),
    getParameter: (paramId) => Promise.resolve(0.5),
    beginGesture: (paramId) => Promise.resolve(),
    endGesture: (paramId) => Promise.resolve()
  };

  // Initialize UI elements in standalone mode too
${G||"  // No knobs with parameter bindings"}
${ne||"  // No sliders with parameter bindings"}
${A||"  // No ASCII sliders with parameter bindings"}
${k||"  // No ASCII buttons with parameter bindings"}
${j||"  // No range sliders with parameter bindings"}
${$||"  // No multi sliders with parameter bindings"}
${F||"  // No buttons with parameter bindings"}
${R||"  // No collapsible containers"}
${W||"  // No modulation matrices"}
${Y||"  // No steppers"}
${te||"  // No tab bars"}
${ie||"  // No dropdowns"}
${J||"  // No segment buttons"}
${ee||"  // No rotary switches"}
${Q||"  // No rocker switches"}
${he||"  // No multi-select dropdowns"}
${ge||"  // No combo boxes"}
${ye||"  // No menu buttons"}
${_e||"  // No breadcrumbs"}
${H||"  // No tree views"}
${Se||"  // No tag selectors"}
${Ce||"  // No step sequencers"}
${se||"  // No XY pads"}
${ae||"  // No loop points"}
${xe||"  // No harmonic editors"}
${$e||"  // No ASCII art noise elements"}
}

// ============================================================================
// UI Interaction Setup Functions
// ============================================================================

/**
 * Setup knob interaction with parameter binding
 * @param {string} knobId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 * @param {number} defaultValue - Default normalized value (0-1)
 */
function setupKnobInteraction(knobId, paramId, defaultValue = 0.5) {
  const knob = document.getElementById(knobId);
  if (!knob) {
    console.error(\`Knob element not found: \${knobId}\`);
    return;
  }

  // Check if this is a stepped knob
  const isStepped = knob.classList.contains('steppedknob-element');
  const stepCount = parseInt(knob.dataset.stepCount) || 0;

  // Get angle range from data attributes
  const startAngle = parseFloat(knob.dataset.startAngle) || -135;
  const endAngle = parseFloat(knob.dataset.endAngle) || 135;

  // Snap value to nearest step for stepped knobs
  function snapToStep(value) {
    if (!isStepped || stepCount < 2) return value;
    const stepSize = 1 / (stepCount - 1);
    return Math.round(value / stepSize) * stepSize;
  }

  // Calculate value from click position (angle-based)
  function getClickValue(e) {
    const rect = knob.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    const dx = e.clientX - centerX;
    const dy = e.clientY - centerY;

    // Calculate angle from center (in degrees, 0 = right, counter-clockwise positive)
    let clickAngle = Math.atan2(-dy, dx) * (180 / Math.PI);
    // Convert to our coordinate system (0 = top, clockwise positive)
    clickAngle = 90 - clickAngle;
    // Normalize to -180 to 180
    while (clickAngle > 180) clickAngle -= 360;
    while (clickAngle < -180) clickAngle += 360;

    // Convert angle to value (0-1) based on start/end angles
    const angleRange = endAngle - startAngle;
    let normalizedValue = (clickAngle - startAngle) / angleRange;
    normalizedValue = Math.max(0, Math.min(1, normalizedValue));

    return normalizedValue;
  }

  let isDragging = false;
  let startY = 0;
  let startValue = defaultValue;
  let currentValue = snapToStep(defaultValue);

  // Initialize visual
  updateKnobVisual(knobId, currentValue);

  // Mousedown - start drag (with click-to-position for stepped knobs)
  knob.addEventListener('mousedown', (e) => {
    // For stepped knobs, click-to-position
    if (isStepped) {
      let clickValue = getClickValue(e);
      clickValue = snapToStep(clickValue);
      currentValue = clickValue;
      bridge.setParameter(paramId, clickValue).catch(() => {});
      updateKnobVisual(knobId, clickValue);
      startValue = clickValue;
    } else {
      startValue = currentValue;
    }

    isDragging = true;
    startY = e.clientY;

    // Fire and forget with .catch() - proven pattern
    bridge.getParameter(paramId).then(v => {
      if (v !== undefined && !isStepped) startValue = v;
    }).catch(() => {});

    bridge.beginGesture(paramId).catch(() => {});

    e.preventDefault();
    e.stopPropagation();
  });

  // Mousemove - drag to update value
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;

    const deltaY = startY - e.clientY;  // Inverted (up = increase)
    const sensitivity = isStepped ? 0.003 : 0.005; // Finer control for stepped knobs
    let newValue = startValue + deltaY * sensitivity;
    newValue = Math.max(0, Math.min(1, newValue));
    newValue = snapToStep(newValue);

    // Only update if value changed (important for stepped knobs)
    if (newValue !== currentValue) {
      currentValue = newValue;
      // Fire-and-forget with .catch()
      bridge.setParameter(paramId, newValue).catch(() => {});
      updateKnobVisual(knobId, newValue);
    }
  });

  // Mouseup - end drag
  document.addEventListener('mouseup', () => {
    if (isDragging) {
      isDragging = false;
      bridge.endGesture(paramId).catch(() => {});
    }
  });

  // Double-click - reset to default
  knob.addEventListener('dblclick', () => {
    currentValue = snapToStep(defaultValue);
    bridge.setParameter(paramId, currentValue).catch(() => {});
    updateKnobVisual(knobId, currentValue);
  });
}

/**
 * Setup slider interaction with parameter binding
 * @param {string} sliderId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 * @param {number} defaultValue - Default normalized value (0-1)
 */
function setupSliderInteraction(sliderId, paramId, defaultValue = 0.5) {
  const slider = document.getElementById(sliderId);
  if (!slider) {
    console.error(\`Slider element not found: \${sliderId}\`);
    return;
  }

  let isDragging = false;
  let startPos = 0;
  let startValue = defaultValue;
  let currentValue = defaultValue;
  const isVertical = slider.classList.contains('vertical');
  const isNotched = slider.classList.contains('notchedslider-element');

  // Get notch count for snapping (notched sliders)
  const notchCount = parseInt(slider.dataset.notchCount) || 0;

  // Snap to notch for notched sliders
  function snapToNotch(value) {
    if (!isNotched || notchCount < 2) return value;
    const stepSize = 1 / (notchCount - 1);
    return Math.round(value / stepSize) * stepSize;
  }

  // Calculate click position as normalized value
  // Use SVG bounds if available (for SVG-based sliders like notched), otherwise use container
  function getClickValue(e) {
    const svg = slider.querySelector('svg');
    const rect = svg ? svg.getBoundingClientRect() : slider.getBoundingClientRect();
    let clickValue;
    if (isVertical) {
      // Vertical: bottom = 0, top = 1
      clickValue = 1 - (e.clientY - rect.top) / rect.height;
    } else {
      // Horizontal: left = 0, right = 1
      clickValue = (e.clientX - rect.left) / rect.width;
    }
    return Math.max(0, Math.min(1, clickValue));
  }

  // Initialize visual
  updateSliderVisual(sliderId, defaultValue);

  slider.addEventListener('mousedown', (e) => {
    // Click-to-position: jump to clicked location
    let clickValue = getClickValue(e);
    clickValue = snapToNotch(clickValue);

    currentValue = clickValue;
    bridge.setParameter(paramId, clickValue).catch(() => {});
    updateSliderVisual(sliderId, clickValue);

    // Setup for drag from this new position
    isDragging = true;
    startPos = isVertical ? e.clientY : e.clientX;
    startValue = clickValue;

    bridge.beginGesture(paramId).catch(() => {});
    e.preventDefault();
  });

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;

    const currentPos = isVertical ? e.clientY : e.clientX;
    const delta = isVertical ? startPos - currentPos : currentPos - startPos;
    const sensitivity = isNotched ? 0.003 : 0.005;
    let newValue = startValue + delta * sensitivity;
    newValue = Math.max(0, Math.min(1, newValue));
    newValue = snapToNotch(newValue);

    if (newValue !== currentValue) {
      currentValue = newValue;
      bridge.setParameter(paramId, newValue).catch(() => {});
      updateSliderVisual(sliderId, newValue);
    }
  });

  document.addEventListener('mouseup', () => {
    if (isDragging) {
      isDragging = false;
      bridge.endGesture(paramId).catch(() => {});
    }
  });

  slider.addEventListener('dblclick', () => {
    currentValue = snapToNotch(defaultValue);
    bridge.setParameter(paramId, currentValue).catch(() => {});
    updateSliderVisual(sliderId, currentValue);
  });
}

/**
 * Setup range slider interaction with dual-thumb parameter binding
 * @param {string} rangeSliderId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding (stores min-max as two params)
 * @param {number} defaultMin - Default minimum normalized value (0-1)
 * @param {number} defaultMax - Default maximum normalized value (0-1)
 */
function setupRangeSliderInteraction(rangeSliderId, paramId, defaultMin = 0.25, defaultMax = 0.75) {
  const rangeSlider = document.getElementById(rangeSliderId);
  if (!rangeSlider) {
    console.error(\`Range slider element not found: \${rangeSliderId}\`);
    return;
  }

  let isDragging = false;
  let activeThumb = null; // 'min' or 'max'
  let startPos = 0;
  let startMinValue = defaultMin;
  let startMaxValue = defaultMax;
  let currentMinValue = defaultMin;
  let currentMaxValue = defaultMax;
  const isVertical = rangeSlider.classList.contains('vertical');

  const minThumb = rangeSlider.querySelector('.rangeslider-thumb-min');
  const maxThumb = rangeSlider.querySelector('.rangeslider-thumb-max');

  if (!minThumb || !maxThumb) {
    console.error(\`Range slider thumbs not found for: \${rangeSliderId}\`);
    return;
  }

  // Initialize visual
  updateRangeSliderVisual(rangeSliderId, defaultMin, defaultMax);

  const startDrag = (e, thumb) => {
    isDragging = true;
    activeThumb = thumb;
    startPos = isVertical ? e.clientY : e.clientX;
    startMinValue = currentMinValue;
    startMaxValue = currentMaxValue;

    const minParamId = \`\${paramId}_min\`;
    const maxParamId = \`\${paramId}_max\`;
    bridge.beginGesture(thumb === 'min' ? minParamId : maxParamId).catch(() => {});
    e.preventDefault();
  };

  minThumb.addEventListener('mousedown', (e) => startDrag(e, 'min'));
  maxThumb.addEventListener('mousedown', (e) => startDrag(e, 'max'));

  document.addEventListener('mousemove', (e) => {
    if (!isDragging || !activeThumb) return;

    const currentPos = isVertical ? e.clientY : e.clientX;
    const delta = isVertical ? startPos - currentPos : currentPos - startPos;
    const sensitivity = 0.005;

    if (activeThumb === 'min') {
      let newMin = startMinValue + delta * sensitivity;
      newMin = Math.max(0, Math.min(newMin, currentMaxValue)); // Cannot exceed max
      currentMinValue = newMin;
      
      const minParamId = \`\${paramId}_min\`;
      bridge.setParameter(minParamId, newMin).catch(() => {});
    } else if (activeThumb === 'max') {
      let newMax = startMaxValue + delta * sensitivity;
      newMax = Math.min(1, Math.max(newMax, currentMinValue)); // Cannot go below min
      currentMaxValue = newMax;
      
      const maxParamId = \`\${paramId}_max\`;
      bridge.setParameter(maxParamId, newMax).catch(() => {});
    }

    updateRangeSliderVisual(rangeSliderId, currentMinValue, currentMaxValue);
  });

  document.addEventListener('mouseup', () => {
    if (isDragging && activeThumb) {
      const minParamId = \`\${paramId}_min\`;
      const maxParamId = \`\${paramId}_max\`;
      bridge.endGesture(activeThumb === 'min' ? minParamId : maxParamId).catch(() => {});
      isDragging = false;
      activeThumb = null;
    }
  });

  // Double-click - reset to defaults
  rangeSlider.addEventListener('dblclick', () => {
    currentMinValue = defaultMin;
    currentMaxValue = defaultMax;
    const minParamId = \`\${paramId}_min\`;
    const maxParamId = \`\${paramId}_max\`;
    bridge.setParameter(minParamId, defaultMin).catch(() => {});
    bridge.setParameter(maxParamId, defaultMax).catch(() => {});
    updateRangeSliderVisual(rangeSliderId, defaultMin, defaultMax);
  });
}

/**
 * Setup button interaction with parameter binding
 * @param {string} buttonId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupButtonInteraction(buttonId, paramId) {
  const button = document.getElementById(buttonId);
  if (!button) {
    console.error(\`Button element not found: \${buttonId}\`);
    return;
  }

  // Check for navigation action
  const buttonAction = button.dataset.action;
  const targetWindowId = button.dataset.targetWindow;

  if (buttonAction === 'navigate-window' && targetWindowId && window.__WINDOW_MAPPING__) {
    const targetPath = window.__WINDOW_MAPPING__[targetWindowId];
    if (targetPath) {
      button.addEventListener('click', () => {
        window.location.href = targetPath;
      });
      return; // Navigation buttons don't need parameter binding
    } else {
      console.warn(\`Target window not found for navigation: \${targetWindowId}\`);
    }
  }

  const buttonType = button.dataset.type;

  // Handle different button types
  if (buttonType === 'toggleswitch') {
    // Toggle switch uses data-on attribute
    let isOn = button.dataset.on === 'true';
    updateToggleSwitchVisual(button, isOn);

    button.addEventListener('click', () => {
      isOn = !isOn;
      button.dataset.on = isOn.toString();
      bridge.setParameter(paramId, isOn ? 1.0 : 0.0).catch(() => {});
      updateToggleSwitchVisual(button, isOn);
    });
    return;
  }

  if (buttonType === 'powerbutton') {
    // Power button uses data-on attribute
    let isOn = button.dataset.on === 'true';
    updatePowerButtonVisual(button, isOn);

    button.addEventListener('click', () => {
      isOn = !isOn;
      button.dataset.on = isOn.toString();
      bridge.setParameter(paramId, isOn ? 1.0 : 0.0).catch(() => {});
      updatePowerButtonVisual(button, isOn);
    });
    return;
  }

  // Regular button and iconbutton - check mode
  const isMomentary = button.dataset.mode === 'momentary';
  let isPressed = false;

  if (isMomentary) {
    // Momentary button - on while held
    button.addEventListener('mousedown', () => {
      isPressed = true;
      bridge.setParameter(paramId, 1.0).catch(() => {});
      button.classList.add('pressed');
      if (button.dataset.pressed !== undefined) button.dataset.pressed = 'true';
    });

    document.addEventListener('mouseup', () => {
      if (isPressed) {
        isPressed = false;
        bridge.setParameter(paramId, 0.0).catch(() => {});
        button.classList.remove('pressed');
        if (button.dataset.pressed !== undefined) button.dataset.pressed = 'false';
      }
    });
  } else {
    // Toggle button - click to toggle
    let toggleState = button.dataset.pressed === 'true';
    if (toggleState) button.classList.add('pressed');

    button.addEventListener('click', () => {
      toggleState = !toggleState;
      const newValue = toggleState ? 1.0 : 0.0;
      bridge.setParameter(paramId, newValue).catch(() => {});
      button.classList.toggle('pressed', toggleState);
      if (button.dataset.pressed !== undefined) button.dataset.pressed = toggleState.toString();
    });
  }
}

/**
 * Update toggle switch visual state
 * Note: CSS handles thumb positioning via [data-on="true/false"] selectors
 * We just need to update the data attribute and class
 */
function updateToggleSwitchVisual(button, isOn) {
  // CSS handles the thumb position based on data-on attribute
  // No need to manually set transform - CSS already defines left position
  button.classList.toggle('on', isOn);
}

/**
 * Update power button visual state
 */
function updatePowerButtonVisual(button, isOn) {
  const led = button.querySelector('.led');
  if (led) {
    led.classList.toggle('lit', isOn);
  }
  button.classList.toggle('on', isOn);
}

/**
 * Setup ASCII slider interaction (text-based progress bar)
 * @param {string} sliderId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 * @param {number} defaultValue - Default normalized value (0-1)
 */
function setupAsciiSliderInteraction(sliderId, paramId, defaultValue = 0.5) {
  const slider = document.getElementById(sliderId);
  if (!slider) {
    console.error(\`ASCII slider element not found: \${sliderId}\`);
    return;
  }

  let isDragging = false;
  let startX = 0;
  let startValue = defaultValue;
  let currentValue = defaultValue;

  // Initialize visual
  updateAsciiSliderVisual(sliderId, defaultValue);

  slider.addEventListener('mousedown', (e) => {
    // Calculate click position within element for click-to-jump behavior
    const rect = slider.getBoundingClientRect();
    const clickX = e.clientX - rect.left;
    const clickRatio = Math.max(0, Math.min(1, clickX / rect.width));

    // Jump to clicked position immediately
    currentValue = clickRatio;
    bridge.setParameter(paramId, clickRatio).catch(() => {});
    updateAsciiSliderVisual(sliderId, clickRatio);

    // Setup for drag from this new position
    isDragging = true;
    startX = e.clientX;
    startValue = clickRatio;

    bridge.beginGesture(paramId).catch(() => {});
    e.preventDefault();
  });

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;

    const deltaX = e.clientX - startX;  // Right = increase
    const sensitivity = 0.005;
    let newValue = startValue + deltaX * sensitivity;
    newValue = Math.max(0, Math.min(1, newValue));
    currentValue = newValue;

    bridge.setParameter(paramId, newValue).catch(() => {});
    updateAsciiSliderVisual(sliderId, newValue);
  });

  document.addEventListener('mouseup', () => {
    if (isDragging) {
      isDragging = false;
      bridge.endGesture(paramId).catch(() => {});
    }
  });

  slider.addEventListener('dblclick', () => {
    currentValue = defaultValue;
    bridge.setParameter(paramId, defaultValue).catch(() => {});
    updateAsciiSliderVisual(sliderId, defaultValue);
  });
}

/**
 * Setup ASCII button interaction (text-based toggle/momentary button)
 * @param {string} buttonId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 * @param {boolean} defaultPressed - Default pressed state
 */
function setupAsciiButtonInteraction(buttonId, paramId, defaultPressed = false) {
  const button = document.getElementById(buttonId);
  if (!button) {
    console.error(\`ASCII button element not found: \${buttonId}\`);
    return;
  }

  let isPressed = defaultPressed;
  const mode = button.dataset.mode || 'toggle';

  // Initialize visual
  updateAsciiButtonVisual(buttonId, isPressed);

  if (mode === 'toggle') {
    button.addEventListener('click', () => {
      isPressed = !isPressed;
      bridge.setParameter(paramId, isPressed ? 1 : 0).catch(() => {});
      updateAsciiButtonVisual(buttonId, isPressed);
    });
  } else {
    // Momentary mode
    button.addEventListener('mousedown', (e) => {
      isPressed = true;
      bridge.beginGesture(paramId).catch(() => {});
      bridge.setParameter(paramId, 1).catch(() => {});
      updateAsciiButtonVisual(buttonId, true);
      e.preventDefault();
    });

    const release = () => {
      if (isPressed) {
        isPressed = false;
        bridge.setParameter(paramId, 0).catch(() => {});
        bridge.endGesture(paramId).catch(() => {});
        updateAsciiButtonVisual(buttonId, false);
      }
    };

    button.addEventListener('mouseup', release);
    button.addEventListener('mouseleave', release);
  }
}

/**
 * Setup multi-slider interaction (multiple band sliders)
 * @param {string} sliderId - HTML element ID
 * @param {string} paramId - Parameter ID base for JUCE binding
 */
function setupMultiSliderInteraction(sliderId, paramId) {
  const slider = document.getElementById(sliderId);
  if (!slider) {
    console.error(\`Multi-slider element not found: \${sliderId}\`);
    return;
  }

  const bands = slider.querySelectorAll('.multislider-band');
  if (!bands.length) {
    console.error(\`Multi-slider bands not found for: \${sliderId}\`);
    return;
  }

  bands.forEach((band, index) => {
    let isDragging = false;
    let startY = 0;
    let startValue = 0.5;
    let currentValue = 0.5;
    const bandParamId = \`\${paramId}_band\${index}\`;

    band.addEventListener('mousedown', (e) => {
      isDragging = true;
      startY = e.clientY;
      startValue = currentValue;

      bridge.beginGesture(bandParamId).catch(() => {});
      e.preventDefault();
      e.stopPropagation();
    });

    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;

      const deltaY = startY - e.clientY;  // Inverted (up = increase)
      const sensitivity = 0.005;
      let newValue = startValue + deltaY * sensitivity;
      newValue = Math.max(0, Math.min(1, newValue));
      currentValue = newValue;

      bridge.setParameter(bandParamId, newValue).catch(() => {});

      // Update this band's visual
      const fill = band.querySelector('.multislider-fill');
      const thumb = band.querySelector('.multislider-thumb');
      if (fill) fill.style.height = \`\${newValue * 100}%\`;
      if (thumb) thumb.style.bottom = \`\${newValue * 100}%\`;
    });

    document.addEventListener('mouseup', () => {
      if (isDragging) {
        isDragging = false;
        bridge.endGesture(bandParamId).catch(() => {});
      }
    });
  });
}

/**
 * Setup collapsible container interaction
 * @param {string} collapsibleId - HTML element ID
 */
function setupCollapsibleInteraction(collapsibleId) {
  const collapsible = document.getElementById(collapsibleId);
  if (!collapsible) {
    console.error(\`Collapsible element not found: \${collapsibleId}\`);
    return;
  }

  const header = collapsible.querySelector('.collapsible-header');
  const content = collapsible.querySelector('.collapsible-content');
  const arrow = collapsible.querySelector('.collapsible-arrow');

  if (!header || !content) return;

  // Initialize state from data attribute
  let isCollapsed = collapsible.dataset.collapsed === 'true';

  // Store original container height for expanding
  const originalHeight = collapsible.offsetHeight;
  const headerHeight = header.offsetHeight || 32;

  header.style.cursor = 'pointer';
  header.addEventListener('click', () => {
    isCollapsed = !isCollapsed;
    collapsible.dataset.collapsed = isCollapsed.toString();
    updateCollapsibleVisual();
  });

  function updateCollapsibleVisual() {
    if (isCollapsed) {
      // Collapse: hide content and shrink container to header height only
      content.style.display = 'none';
      content.style.maxHeight = '0px';
      content.style.opacity = '0';
      content.style.overflow = 'hidden';

      // Shrink the container to just the header height
      collapsible.style.height = headerHeight + 'px';
      collapsible.style.minHeight = headerHeight + 'px';

      if (arrow) {
        arrow.textContent = '▶'; // Right-pointing triangle
      }
      collapsible.classList.add('collapsed');
    } else {
      // Expand: show content and restore container height
      content.style.display = 'block';
      content.style.maxHeight = '';
      content.style.opacity = '1';
      content.style.overflow = '';

      // Restore the container height
      collapsible.style.height = originalHeight + 'px';
      collapsible.style.minHeight = '';

      if (arrow) {
        arrow.textContent = '▼'; // Down-pointing triangle
      }
      collapsible.classList.remove('collapsed');
    }
  }

  // Initialize visual state
  updateCollapsibleVisual();
}

/**
 * Setup modulation matrix interaction
 * @param {string} matrixId - HTML element ID
 */
function setupModMatrixInteraction(matrixId) {
  const matrix = document.getElementById(matrixId);
  if (!matrix) {
    console.error(\`Modulation matrix element not found: \${matrixId}\`);
    return;
  }

  // Use .matrix-cell to match HTML generator output
  const cells = matrix.querySelectorAll('.matrix-cell');

  // Get column count from destinations data attribute
  let colCount = 1;
  try {
    const destinations = JSON.parse(matrix.dataset.destinations || '[]');
    colCount = destinations.length || 1;
  } catch (e) {
    // Fallback: count cells in first row
    const firstRow = matrix.querySelector('tbody tr');
    if (firstRow) {
      colCount = firstRow.querySelectorAll('.matrix-cell').length;
    }
  }

  cells.forEach((cell, index) => {
    const row = Math.floor(index / colCount);
    const col = index % colCount;

    // Initialize with current value
    let value = parseFloat(cell.dataset.value) || 0;

    let isDragging = false;
    let startY = 0;
    let startValue = 0;

    cell.style.cursor = 'ns-resize';

    cell.addEventListener('mousedown', (e) => {
      isDragging = true;
      startY = e.clientY;
      startValue = value;
      e.preventDefault();
    });

    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;

      const deltaY = startY - e.clientY;
      const sensitivity = 0.01;
      value = Math.max(-1, Math.min(1, startValue + deltaY * sensitivity));

      updateModCellVisual(cell, value);
      cell.dataset.value = value.toString();
    });

    document.addEventListener('mouseup', () => {
      if (isDragging) {
        isDragging = false;
      }
    });

    // Double-click to reset
    cell.addEventListener('dblclick', () => {
      value = 0;
      cell.dataset.value = '0';
      updateModCellVisual(cell, 0);
    });
  });
}

function updateModCellVisual(cell, value) {
  // Update cell background based on value (-1 to 1)
  const intensity = Math.abs(value);
  const hue = value >= 0 ? 200 : 0; // Blue for positive, red for negative
  cell.style.backgroundColor = \`hsla(\${hue}, 70%, 50%, \${intensity * 0.8})\`;

  // Update text content
  const displayValue = (value * 100).toFixed(0);
  cell.textContent = value !== 0 ? displayValue : '';
}

/**
 * Setup stepper interaction (increment/decrement)
 * @param {string} stepperId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupStepperInteraction(stepperId, paramId) {
  const stepper = document.getElementById(stepperId);
  if (!stepper) return;

  const decrementBtn = stepper.querySelector('.stepper-button.decrement');
  const incrementBtn = stepper.querySelector('.stepper-button.increment');
  const valueDisplay = stepper.querySelector('.stepper-value');

  const min = parseInt(stepper.dataset.min) || 0;
  const max = parseInt(stepper.dataset.max) || 10;
  const step = parseInt(stepper.dataset.step) || 1;
  let value = parseInt(stepper.dataset.value) || min;

  function updateDisplay() {
    if (valueDisplay) valueDisplay.textContent = value.toString();
    const normalized = (value - min) / (max - min);
    bridge.setParameter(paramId, normalized).catch(() => {});
  }

  if (decrementBtn) {
    decrementBtn.addEventListener('click', () => {
      if (value > min) {
        value -= step;
        updateDisplay();
      }
    });
  }

  if (incrementBtn) {
    incrementBtn.addEventListener('click', () => {
      if (value < max) {
        value += step;
        updateDisplay();
      }
    });
  }
}

/**
 * Setup tab bar interaction
 * @param {string} tabbarId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupTabBarInteraction(tabbarId, paramId) {
  const tabbar = document.getElementById(tabbarId);
  if (!tabbar) return;

  const tabs = tabbar.querySelectorAll('.tab');
  // HTML uses data-active-tab which becomes dataset.activeTab in JS
  let activeIndex = parseInt(tabbar.dataset.activeTab) || 0;

  // Initialize: set aria-selected on active tab
  tabs.forEach((tab, index) => {
    tab.style.cursor = 'pointer';
    if (index === activeIndex) {
      tab.classList.add('active');
      tab.setAttribute('aria-selected', 'true');
    }
  });

  tabs.forEach((tab, index) => {
    tab.addEventListener('click', () => {
      // Update all tabs
      tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
      });
      // Set active tab
      tab.classList.add('active');
      tab.setAttribute('aria-selected', 'true');
      activeIndex = index;
      tabbar.dataset.activeTab = index.toString();

      const normalized = tabs.length > 1 ? index / (tabs.length - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
  });
}

/**
 * Setup dropdown interaction
 * @param {string} dropdownId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupDropdownInteraction(dropdownId, paramId) {
  const dropdown = document.getElementById(dropdownId);
  if (!dropdown) return;

  // Handle native <select> elements
  if (dropdown.tagName === 'SELECT') {
    dropdown.addEventListener('change', (e) => {
      const selectedIndex = dropdown.selectedIndex;
      const optionCount = dropdown.options.length;
      const normalized = optionCount > 1 ? selectedIndex / (optionCount - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
    return;
  }

  // Handle custom dropdown structure
  const display = dropdown.querySelector('.dropdown-display');
  const optionsList = dropdown.querySelector('.dropdown-options');
  const options = dropdown.querySelectorAll('.dropdown-option');

  if (!display || !optionsList) return;

  let isOpen = false;
  let selectedIndex = parseInt(dropdown.dataset.selectedIndex) || 0;

  display.style.cursor = 'pointer';
  optionsList.style.display = 'none';

  display.addEventListener('click', () => {
    isOpen = !isOpen;
    optionsList.style.display = isOpen ? 'block' : 'none';
  });

  options.forEach((option, index) => {
    option.style.cursor = 'pointer';
    option.addEventListener('click', () => {
      selectedIndex = index;
      dropdown.dataset.selectedIndex = index.toString();
      display.textContent = option.textContent;
      isOpen = false;
      optionsList.style.display = 'none';

      const normalized = options.length > 1 ? index / (options.length - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
  });

  // Close on click outside
  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target) && isOpen) {
      isOpen = false;
      optionsList.style.display = 'none';
    }
  });
}

/**
 * Setup segment button interaction
 * @param {string} segmentId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupSegmentButtonInteraction(segmentId, paramId) {
  const segment = document.getElementById(segmentId);
  if (!segment) return;

  const buttons = segment.querySelectorAll('.segment');

  // Find initially selected segment from data-selected attribute
  let activeIndex = 0;
  buttons.forEach((btn, index) => {
    if (btn.dataset.selected === 'true') {
      activeIndex = index;
      btn.classList.add('active');
    }
  });

  buttons.forEach((btn, index) => {
    btn.style.cursor = 'pointer';

    btn.addEventListener('click', () => {
      // Update visual state
      buttons.forEach(b => {
        b.classList.remove('active');
        b.dataset.selected = 'false';
      });
      btn.classList.add('active');
      btn.dataset.selected = 'true';
      activeIndex = index;

      const normalized = buttons.length > 1 ? index / (buttons.length - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
  });
}

/**
 * Setup rotary switch interaction
 * @param {string} switchId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupRotarySwitchInteraction(switchId, paramId) {
  const rotary = document.getElementById(switchId);
  if (!rotary) return;

  // HTML uses data-count and data-position (dataset.count and dataset.position)
  const positions = parseInt(rotary.dataset.count) || 8;
  let currentPosition = parseInt(rotary.dataset.position) || 0;

  let isDragging = false;
  let startY = 0;
  let startPosition = 0;

  rotary.style.cursor = 'pointer';

  rotary.addEventListener('mousedown', (e) => {
    isDragging = true;
    startY = e.clientY;
    startPosition = currentPosition;
    e.preventDefault();
  });

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;

    const deltaY = startY - e.clientY;
    const positionDelta = Math.round(deltaY / 20); // 20px per position
    let newPosition = startPosition + positionDelta;
    newPosition = Math.max(0, Math.min(positions - 1, newPosition));

    if (newPosition !== currentPosition) {
      currentPosition = newPosition;
      rotary.dataset.position = currentPosition.toString();
      updateRotarySwitchVisual(switchId, currentPosition, positions);

      const normalized = positions > 1 ? currentPosition / (positions - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    }
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
  });

  // Click to cycle
  rotary.addEventListener('click', () => {
    if (!isDragging) {
      currentPosition = (currentPosition + 1) % positions;
      rotary.dataset.position = currentPosition.toString();
      updateRotarySwitchVisual(switchId, currentPosition, positions);

      const normalized = positions > 1 ? currentPosition / (positions - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    }
  });

  // Initialize visual
  updateRotarySwitchVisual(switchId, currentPosition, positions);
}

function updateRotarySwitchVisual(switchId, position, totalPositions) {
  const rotary = document.getElementById(switchId);
  if (!rotary) return;

  const svg = rotary.querySelector('svg');
  if (!svg) return;

  // Get SVG dimensions
  const viewBox = svg.getAttribute('viewBox');
  const [, , vbSize] = viewBox ? viewBox.split(' ').map(Number) : [0, 0, 100];
  const size = vbSize || 100;
  const centerX = size / 2;
  const centerY = size / 2;
  const radius = size * 0.35;
  const pointerLength = radius * 0.7;

  // Read rotation angle from data or use default
  const rotationAngle = 270; // Default rotation angle
  const anglePerPosition = totalPositions > 1 ? rotationAngle / (totalPositions - 1) : 0;
  const startAngle = -rotationAngle / 2;
  const currentAngle = startAngle + position * anglePerPosition;

  // Convert to radians
  const rad = (currentAngle * Math.PI) / 180;

  // Calculate new pointer end position
  const pointerEndX = centerX + pointerLength * Math.sin(rad);
  const pointerEndY = centerY - pointerLength * Math.cos(rad);

  // Update the pointer line (the line element after the position marks)
  const lines = svg.querySelectorAll('line');
  // Find the pointer line (stroke-width="3" and rounded caps)
  lines.forEach(line => {
    if (line.getAttribute('stroke-linecap') === 'round' && parseFloat(line.getAttribute('stroke-width')) === 3) {
      line.setAttribute('x2', pointerEndX);
      line.setAttribute('y2', pointerEndY);
    }
  });

  // Update position indicator marks (highlight active one)
  const posMarks = [];
  lines.forEach(line => {
    if (line.getAttribute('stroke-linecap') === 'round' && parseFloat(line.getAttribute('stroke-width')) === 2) {
      posMarks.push(line);
    }
  });

  // Get colors from existing elements
  const pointerColor = svg.querySelector('circle:nth-of-type(2)')?.getAttribute('fill') || '#ffffff';
  const borderColor = svg.querySelector('circle')?.getAttribute('stroke') || '#6b7280';

  posMarks.forEach((mark, i) => {
    mark.setAttribute('stroke', i === position ? pointerColor : borderColor);
  });

  // Update legend labels active state
  const labels = rotary.querySelectorAll('.labels-legend .label');
  labels.forEach((label, i) => {
    label.dataset.active = (i === position).toString();
  });
}

/**
 * Setup rocker switch interaction
 * @param {string} switchId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupRockerSwitchInteraction(switchId, paramId) {
  const rocker = document.getElementById(switchId);
  if (!rocker) return;

  const mode = rocker.dataset.mode || 'momentary'; // 'momentary' or 'latching'
  let currentPosition = parseInt(rocker.dataset.position) || 1; // 0=down, 1=center, 2=up

  const paddle = rocker.querySelector('.paddle');
  if (!paddle) return;

  // Position symbols matching the HTML generator
  const positionSymbols = {
    2: '↑', // up arrow
    1: '─', // horizontal line (center)
    0: '↓'  // down arrow
  };

  function updateVisual() {
    rocker.dataset.position = currentPosition.toString();
    paddle.textContent = positionSymbols[currentPosition];
  }

  if (mode === 'momentary') {
    // Click top half = up (2), click bottom half = down (0), release = center (1)
    let isPressed = false;

    rocker.addEventListener('mousedown', (e) => {
      isPressed = true;
      const rect = rocker.getBoundingClientRect();
      const clickY = e.clientY - rect.top;
      const midPoint = rect.height / 2;

      currentPosition = clickY < midPoint ? 2 : 0;
      updateVisual();

      const normalized = currentPosition / 2; // 0, 0.5, or 1
      bridge.setParameter(paramId, normalized).catch(() => {});
    });

    document.addEventListener('mouseup', () => {
      if (isPressed) {
        isPressed = false;
        currentPosition = 1; // Return to center
        updateVisual();
        bridge.setParameter(paramId, 0.5).catch(() => {});
      }
    });
  } else {
    // Latching mode - click to cycle through positions
    rocker.style.cursor = 'pointer';

    rocker.addEventListener('click', (e) => {
      const rect = rocker.getBoundingClientRect();
      const clickY = e.clientY - rect.top;
      const midPoint = rect.height / 2;

      // Click top half = up, bottom half = down
      currentPosition = clickY < midPoint ? 2 : 0;
      updateVisual();

      const normalized = currentPosition / 2; // 0, 0.5, or 1
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
  }

  // Initialize visual
  updateVisual();
}

/**
 * Setup multi-select dropdown interaction
 * @param {string} dropdownId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupMultiSelectDropdownInteraction(dropdownId, paramId) {
  const dropdown = document.getElementById(dropdownId);
  if (!dropdown) return;

  const container = dropdown.querySelector('.dropdown-container');
  const selectedText = dropdown.querySelector('.selected-text');
  const menu = dropdown.querySelector('.dropdown-menu');
  const items = dropdown.querySelectorAll('.dropdown-item');

  if (!container || !selectedText || !menu) return;

  let isOpen = false;
  const maxSelections = parseInt(dropdown.dataset.maxSelections) || 0;

  // Toggle dropdown on click
  selectedText.style.cursor = 'pointer';
  selectedText.addEventListener('click', (e) => {
    e.stopPropagation();
    isOpen = !isOpen;
    menu.style.display = isOpen ? 'block' : 'none';
    dropdown.classList.toggle('open', isOpen);
    dropdown.setAttribute('aria-expanded', isOpen.toString());
  });

  // Handle item selection
  items.forEach((item) => {
    item.style.cursor = 'pointer';
    const checkbox = item.querySelector('input[type="checkbox"]');

    item.addEventListener('click', (e) => {
      e.stopPropagation();

      if (checkbox) {
        // Toggle checkbox if not clicking directly on it
        if (e.target !== checkbox) {
          checkbox.checked = !checkbox.checked;
        }

        // Enforce max selections
        if (maxSelections > 0) {
          const checkedItems = menu.querySelectorAll('input[type="checkbox"]:checked');
          if (checkedItems.length > maxSelections) {
            checkbox.checked = false;
            return;
          }
        }

        // Update display text
        updateSelectedText();
      }
    });
  });

  function updateSelectedText() {
    const selectedLabels = [];
    items.forEach((item, index) => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      if (checkbox && checkbox.checked) {
        const label = item.querySelector('span');
        if (label) selectedLabels.push(label.textContent);
      }
    });

    selectedText.textContent = selectedLabels.length > 0
      ? selectedLabels.join(', ')
      : 'Select options...';

    // Send selected indices to JUCE
    const selectedIndices = [];
    items.forEach((item, index) => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      if (checkbox && checkbox.checked) {
        selectedIndices.push(index);
      }
    });
    // Encode as comma-separated string in parameter
    bridge.setParameter(paramId, selectedIndices.join(',')).catch(() => {});
  }

  // Close on click outside
  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target) && isOpen) {
      isOpen = false;
      menu.style.display = 'none';
      dropdown.classList.remove('open');
      dropdown.setAttribute('aria-expanded', 'false');
    }
  });

  // Initialize menu as closed
  menu.style.display = 'none';
  dropdown.classList.remove('open');
}

/**
 * Setup combo box interaction (editable dropdown with autocomplete)
 * @param {string} comboboxId - HTML element ID
 * @param {string} paramId - Parameter ID for JUCE binding
 */
function setupComboBoxInteraction(comboboxId, paramId) {
  const combobox = document.getElementById(comboboxId);
  if (!combobox) return;

  const input = combobox.querySelector('input');
  const menu = combobox.querySelector('.dropdown-menu');
  const items = combobox.querySelectorAll('.dropdown-item');
  const emptyState = combobox.querySelector('.empty-state');

  if (!input || !menu) return;

  let isOpen = false;

  // Show dropdown on input focus
  input.addEventListener('focus', () => {
    isOpen = true;
    menu.style.display = 'block';
    combobox.classList.add('open');
    combobox.setAttribute('aria-expanded', 'true');
    filterItems(input.value);
  });

  // Filter items as user types
  input.addEventListener('input', () => {
    filterItems(input.value);
  });

  function filterItems(filter) {
    const lowerFilter = filter.toLowerCase();
    let visibleCount = 0;

    // Check if input exactly matches an option (user just selected it)
    // In that case, show all options instead of filtering
    const inputMatchesOption = Array.from(items).some(
      item => item.textContent.toLowerCase() === lowerFilter
    );

    items.forEach((item) => {
      const text = item.textContent.toLowerCase();
      // Show all if input matches a selection, otherwise filter
      const matches = inputMatchesOption || !filter || text.includes(lowerFilter);
      item.style.display = matches ? 'block' : 'none';
      if (matches) visibleCount++;
    });

    if (emptyState) {
      emptyState.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  }

  // Handle item selection
  items.forEach((item, index) => {
    item.style.cursor = 'pointer';

    item.addEventListener('click', () => {
      input.value = item.textContent;
      isOpen = false;
      menu.style.display = 'none';
      combobox.classList.remove('open');
      combobox.setAttribute('aria-expanded', 'false');

      // Send selected index to JUCE
      const normalized = items.length > 1 ? index / (items.length - 1) : 0;
      bridge.setParameter(paramId, normalized).catch(() => {});
    });
  });

  // Close on click outside
  document.addEventListener('click', (e) => {
    if (!combobox.contains(e.target) && isOpen) {
      isOpen = false;
      menu.style.display = 'none';
      combobox.classList.remove('open');
      combobox.setAttribute('aria-expanded', 'false');
    }
  });

  // Initialize menu as closed
  menu.style.display = 'none';
  combobox.classList.remove('open');
}

/**
 * Setup menu button interaction
 * @param {string} buttonId - HTML element ID
 */
function setupMenuButtonInteraction(buttonId) {
  const button = document.getElementById(buttonId);
  if (!button) return;

  const menu = button.querySelector('.dropdown-menu');
  const items = button.querySelectorAll('.dropdown-item:not(.disabled)');

  if (!menu) return;

  let isOpen = false;

  // Handle menu item selection first (before button click handler)
  items.forEach((item) => {
    item.style.cursor = 'pointer';

    item.addEventListener('click', (e) => {
      e.stopPropagation();
      e.preventDefault();

      const itemId = item.dataset.itemId;

      // Close menu
      isOpen = false;
      menu.style.display = 'none';
      button.classList.remove('open');
      button.setAttribute('aria-expanded', 'false');

      // Dispatch custom event for JUCE to handle
      button.dispatchEvent(new CustomEvent('menuitemselect', {
        detail: { itemId: itemId },
        bubbles: true
      }));
    });
  });

  // Toggle menu on button click (exclude clicks on dropdown-item which handle themselves)
  button.addEventListener('click', (e) => {
    // If clicking directly on a menu item, let the item handler deal with it
    if (e.target.closest('.dropdown-item')) return;

    isOpen = !isOpen;
    menu.style.display = isOpen ? 'block' : 'none';
    button.classList.toggle('open', isOpen);
    button.setAttribute('aria-expanded', isOpen.toString());
    e.stopPropagation();
  });

  // Close on click outside
  document.addEventListener('click', (e) => {
    if (!button.contains(e.target) && isOpen) {
      isOpen = false;
      menu.style.display = 'none';
      button.classList.remove('open');
      button.setAttribute('aria-expanded', 'false');
    }
  });

  // Initialize menu as closed
  menu.style.display = 'none';
  button.classList.remove('open');
}

/**
 * Setup breadcrumb interaction
 * @param {string} breadcrumbId - HTML element ID
 */
function setupBreadcrumbInteraction(breadcrumbId) {
  const breadcrumb = document.getElementById(breadcrumbId);
  if (!breadcrumb) {
    console.error(\`Breadcrumb element not found: \${breadcrumbId}\`);
    return;
  }

  // Get the ol element that contains all list items
  const ol = breadcrumb.querySelector('ol');
  if (!ol) return;

  // Get stored data for expansion
  const allItemsData = breadcrumb.dataset.allItems;
  const separator = breadcrumb.dataset.separator || '/';
  let isExpanded = false;

  // Parse all items if available
  let allItems = [];
  try {
    if (allItemsData) {
      allItems = JSON.parse(allItemsData);
    }
  } catch (e) {
    console.warn('[Breadcrumb] Failed to parse items data');
  }

  // Rebuild breadcrumb with all items (expanded view)
  function expandBreadcrumb() {
    if (allItems.length === 0) return;
    isExpanded = true;

    ol.innerHTML = '';
    allItems.forEach((item, index) => {
      const isLast = index === allItems.length - 1;
      const li = document.createElement('li');

      if (isLast) {
        li.innerHTML = \`<span class="breadcrumb-current">\${item.label}</span>\`;
      } else {
        li.innerHTML = \`<a href="#" data-item-id="\${item.id}">\${item.label}</a><span class="breadcrumb-separator">\${separator}</span>\`;
      }

      ol.appendChild(li);
    });

    // Re-setup click handlers for expanded items
    setupClickHandlers();
  }

  // Setup click handlers on all list items
  function setupClickHandlers() {
    const items = ol.querySelectorAll('li');

    items.forEach((li, index) => {
      // Handle ellipsis click
      const ellipsis = li.querySelector('.breadcrumb-ellipsis');
      if (ellipsis) {
        ellipsis.style.cursor = 'pointer';
        ellipsis.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          expandBreadcrumb();
        });
      }

      const link = li.querySelector('a[data-item-id]');
      if (!link) return; // Skip if this is the current (span) item

      link.style.cursor = 'pointer';
      link.style.pointerEvents = 'auto';

      // Remove existing listeners by cloning
      const newLink = link.cloneNode(true);
      link.parentNode.replaceChild(newLink, link);

      newLink.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();

        const itemId = newLink.dataset.itemId;
        const itemLabel = newLink.textContent;

        // Get all items to rebuild the breadcrumb up to and including clicked item
        const allListItems = ol.querySelectorAll('li');

        // Remove items after the clicked one
        for (let i = allListItems.length - 1; i > index; i--) {
          allListItems[i].remove();
        }

        // Convert clicked link to current (span)
        const clickedLi = allListItems[index];
        const sep = clickedLi.querySelector('.breadcrumb-separator');
        if (sep) sep.remove();

        // Remove ellipsis if present
        const ell = clickedLi.querySelector('.breadcrumb-ellipsis');
        if (ell) ell.remove();

        // Replace link with span for current item
        const currentSpan = document.createElement('span');
        currentSpan.className = 'breadcrumb-current';
        currentSpan.textContent = itemLabel;
        newLink.parentNode.replaceChild(currentSpan, newLink);

        // Dispatch custom event for JUCE to handle navigation
        breadcrumb.dispatchEvent(new CustomEvent('breadcrumbnavigate', {
          detail: { itemId: itemId },
          bubbles: true
        }));
      });
    });
  }

  setupClickHandlers();
}

/**
 * Setup tree view interaction
 * @param {string} treeviewId - HTML element ID
 */
function setupTreeViewInteraction(treeviewId) {
  const treeview = document.getElementById(treeviewId);
  if (!treeview) return;

  const nodes = treeview.querySelectorAll('.tree-node');

  nodes.forEach((node) => {
    const arrow = node.querySelector('.tree-arrow');
    const nodeName = node.querySelector('.tree-node-name');
    const nodeId = node.dataset.nodeId;
    const level = parseInt(node.dataset.level) || 0;

    // Check if node has children (next sibling with higher level)
    const nextSibling = node.nextElementSibling;
    const hasChildren = nextSibling &&
      parseInt(nextSibling.dataset.level) > level;

    if (hasChildren && arrow) {
      arrow.classList.add('has-children');
      arrow.textContent = '▼'; // Down arrow (expanded)
      arrow.style.cursor = 'pointer';

      let isExpanded = true;

      arrow.addEventListener('click', (e) => {
        e.stopPropagation();
        isExpanded = !isExpanded;
        arrow.textContent = isExpanded ? '▼' : '▶';

        // Toggle visibility of child nodes
        toggleChildNodes(node, level, isExpanded);
      });
    }

    // Handle node selection
    if (nodeName) {
      nodeName.style.cursor = 'pointer';

      nodeName.addEventListener('click', () => {
        // Deselect all nodes
        nodes.forEach(n => n.dataset.selected = 'false');
        // Select this node
        node.dataset.selected = 'true';
        treeview.dataset.selectedId = nodeId;

        // Dispatch custom event
        treeview.dispatchEvent(new CustomEvent('nodeselect', {
          detail: { nodeId: nodeId },
          bubbles: true
        }));
      });
    }
  });

  function toggleChildNodes(parentNode, parentLevel, show) {
    let sibling = parentNode.nextElementSibling;

    while (sibling && parseInt(sibling.dataset.level) > parentLevel) {
      sibling.style.display = show ? 'flex' : 'none';
      sibling = sibling.nextElementSibling;
    }
  }
}

/**
 * Setup tag selector interaction
 * @param {string} tagselectorId - HTML element ID
 */
function setupTagSelectorInteraction(tagselectorId) {
  const tagselector = document.getElementById(tagselectorId);
  if (!tagselector) return;

  const inputWrapper = tagselector.querySelector('.tag-input-wrapper');
  const input = tagselector.querySelector('input');
  const dropdown = tagselector.querySelector('.tag-dropdown');
  const tagsContainer = tagselector.querySelector('.tags-container');

  if (!input || !dropdown) return;

  // Track available tags from dropdown items
  const allItems = Array.from(dropdown.querySelectorAll('.tag-dropdown-item'));
  const selectedTagIds = new Set();

  // Initialize selected tags from existing chips
  tagsContainer.querySelectorAll('.tag-chip').forEach(chip => {
    selectedTagIds.add(chip.dataset.tagId);
  });

  // Show/hide dropdown
  function showDropdown() {
    tagselector.classList.add('open');
    filterDropdown();
  }

  function hideDropdown() {
    tagselector.classList.remove('open');
  }

  // Filter dropdown based on input and selected tags
  function filterDropdown() {
    const filterText = input.value.toLowerCase();
    let visibleCount = 0;

    allItems.forEach(item => {
      const tagId = item.dataset.tagId;
      const label = item.textContent.toLowerCase();
      const isSelected = selectedTagIds.has(tagId);
      const matchesFilter = !filterText || label.includes(filterText);

      if (!isSelected && matchesFilter) {
        item.style.display = 'block';
        visibleCount++;
      } else {
        item.style.display = 'none';
      }
    });

    // Show "No matching tags" if nothing visible and filter is active
    let noMatchEl = dropdown.querySelector('.no-match-message');
    if (visibleCount === 0 && filterText) {
      if (!noMatchEl) {
        noMatchEl = document.createElement('div');
        noMatchEl.className = 'no-match-message';
        noMatchEl.style.cssText = 'padding: 8px 12px; color: #6b7280; font-style: italic; font-size: 13px;';
        noMatchEl.textContent = 'No matching tags';
        dropdown.appendChild(noMatchEl);
      }
      noMatchEl.style.display = 'block';
    } else if (noMatchEl) {
      noMatchEl.style.display = 'none';
    }
  }

  // Add a tag
  function addTag(tagId, label) {
    if (selectedTagIds.has(tagId)) return;
    selectedTagIds.add(tagId);

    const chip = document.createElement('div');
    chip.className = 'tag-chip';
    chip.dataset.tagId = tagId;
    chip.innerHTML = \`<span>\${label}</span><button class="tag-remove" aria-label="Remove \${label}">×</button>\`;

    chip.querySelector('.tag-remove').addEventListener('click', () => {
      removeTag(tagId);
    });

    tagsContainer.appendChild(chip);
    input.value = '';
    filterDropdown();
  }

  // Remove a tag
  function removeTag(tagId) {
    selectedTagIds.delete(tagId);
    const chip = tagsContainer.querySelector(\`.tag-chip[data-tag-id="\${tagId}"]\`);
    if (chip) chip.remove();
    filterDropdown();
  }

  // Event listeners
  input.addEventListener('focus', showDropdown);
  input.addEventListener('input', filterDropdown);

  // Click outside to close
  document.addEventListener('click', (e) => {
    if (!tagselector.contains(e.target)) {
      hideDropdown();
    }
  });

  // Dropdown item click
  allItems.forEach(item => {
    item.addEventListener('click', () => {
      addTag(item.dataset.tagId, item.textContent);
    });
  });

  // Remove button on existing chips
  tagsContainer.querySelectorAll('.tag-remove').forEach(btn => {
    btn.addEventListener('click', () => {
      const chip = btn.closest('.tag-chip');
      if (chip) removeTag(chip.dataset.tagId);
    });
  });
}

// ============================================================================
// Specialized Audio Element Setup Functions
// ============================================================================

/**
 * Setup step sequencer interaction (click to toggle steps)
 * @param {string} sequencerId - HTML element ID
 */
function setupStepSequencerInteraction(sequencerId) {
  const sequencer = document.getElementById(sequencerId);
  if (!sequencer) return;

  const svg = sequencer.querySelector('svg');
  if (!svg) return;

  const steps = svg.querySelectorAll('.step');

  steps.forEach((step) => {
    step.style.cursor = 'pointer';

    step.addEventListener('click', (e) => {
      e.stopPropagation();
      const isActive = step.dataset.active === 'true';
      step.dataset.active = (!isActive).toString();

      // Update visual - toggle opacity
      step.style.opacity = isActive ? '0.5' : '1';

      // Update fill color based on state
      const onColor = sequencer.dataset.stepOnColor || '#3b82f6';
      const offColor = sequencer.dataset.stepOffColor || '#374151';
      step.setAttribute('fill', isActive ? offColor : onColor);
    });
  });
}

/**
 * Setup XY pad interaction (drag to move cursor)
 * @param {string} padId - HTML element ID
 */
function setupXYPadInteraction(padId) {
  const pad = document.getElementById(padId);
  if (!pad) return;

  let isDragging = false;

  const updatePosition = (clientX, clientY) => {
    const rect = pad.getBoundingClientRect();
    const x = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
    const y = Math.max(0, Math.min(1, 1 - (clientY - rect.top) / rect.height));

    pad.dataset.xValue = x.toFixed(3);
    pad.dataset.yValue = y.toFixed(3);

    // Update cursor position
    const svg = pad.querySelector('svg');
    if (!svg) return;

    const cursor = svg.querySelector('.xypad-cursor');
    const crosshairV = svg.querySelector('.xypad-crosshair-v');
    const crosshairH = svg.querySelector('.xypad-crosshair-h');

    const width = parseFloat(svg.getAttribute('viewBox').split(' ')[2]) || pad.offsetWidth;
    const height = parseFloat(svg.getAttribute('viewBox').split(' ')[3]) || pad.offsetHeight;

    const cursorX = x * width;
    const cursorY = (1 - y) * height;

    if (cursor) {
      cursor.setAttribute('cx', cursorX);
      cursor.setAttribute('cy', cursorY);
    }
    if (crosshairV) {
      crosshairV.setAttribute('x1', cursorX);
      crosshairV.setAttribute('x2', cursorX);
    }
    if (crosshairH) {
      crosshairH.setAttribute('y1', cursorY);
      crosshairH.setAttribute('y2', cursorY);
    }
  };

  pad.style.cursor = 'crosshair';

  pad.addEventListener('mousedown', (e) => {
    isDragging = true;
    updatePosition(e.clientX, e.clientY);
    e.preventDefault();
  });

  document.addEventListener('mousemove', (e) => {
    if (isDragging) {
      updatePosition(e.clientX, e.clientY);
    }
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
  });
}

/**
 * Setup loop points interaction (drag markers)
 * @param {string} loopId - HTML element ID
 */
function setupLoopPointsInteraction(loopId) {
  const loop = document.getElementById(loopId);
  if (!loop) return;

  const svg = loop.querySelector('svg');
  if (!svg) return;

  let draggingMarker = null;

  const startMarker = svg.querySelector('.looppoints-start-marker');
  const endMarker = svg.querySelector('.looppoints-end-marker');

  const updateMarkerPosition = (clientX, marker) => {
    const rect = svg.getBoundingClientRect();
    const width = parseFloat(svg.getAttribute('viewBox').split(' ')[2]) || loop.offsetWidth;
    let normalizedX = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));

    const loopStart = parseFloat(loop.dataset.loopStart) || 0.25;
    const loopEnd = parseFloat(loop.dataset.loopEnd) || 0.75;

    if (marker === 'start') {
      normalizedX = Math.min(normalizedX, loopEnd - 0.01);
      loop.dataset.loopStart = normalizedX.toFixed(3);

      // Update visual
      const line = startMarker.querySelector('line');
      const handle = startMarker.querySelector('rect');
      const x = normalizedX * width;
      if (line) {
        line.setAttribute('x1', x);
        line.setAttribute('x2', x);
      }
      if (handle) {
        handle.setAttribute('x', x - 5);
      }
    } else {
      normalizedX = Math.max(normalizedX, loopStart + 0.01);
      loop.dataset.loopEnd = normalizedX.toFixed(3);

      // Update visual
      const line = endMarker.querySelector('line');
      const handle = endMarker.querySelector('rect');
      const x = normalizedX * width;
      if (line) {
        line.setAttribute('x1', x);
        line.setAttribute('x2', x);
      }
      if (handle) {
        handle.setAttribute('x', x - 5);
      }
    }

    // Update loop region
    const loopRegion = svg.querySelector('.looppoints-region');
    if (loopRegion) {
      const newStart = parseFloat(loop.dataset.loopStart) || 0.25;
      const newEnd = parseFloat(loop.dataset.loopEnd) || 0.75;
      loopRegion.setAttribute('x', newStart * width);
      loopRegion.setAttribute('width', (newEnd - newStart) * width);
    }
  };

  if (startMarker) {
    startMarker.style.cursor = 'ew-resize';
    startMarker.addEventListener('mousedown', (e) => {
      draggingMarker = 'start';
      e.preventDefault();
      e.stopPropagation();
    });
  }

  if (endMarker) {
    endMarker.style.cursor = 'ew-resize';
    endMarker.addEventListener('mousedown', (e) => {
      draggingMarker = 'end';
      e.preventDefault();
      e.stopPropagation();
    });
  }

  document.addEventListener('mousemove', (e) => {
    if (draggingMarker) {
      updateMarkerPosition(e.clientX, draggingMarker);
    }
  });

  document.addEventListener('mouseup', () => {
    draggingMarker = null;
  });
}

/**
 * Setup harmonic editor interaction (drag to adjust harmonics)
 * @param {string} editorId - HTML element ID
 */
function setupHarmonicEditorInteraction(editorId) {
  const editor = document.getElementById(editorId);
  if (!editor) return;

  const svg = editor.querySelector('svg');
  if (!svg) return;

  let draggingBar = null;

  const bars = svg.querySelectorAll('.harmonic-bar');
  const hitAreas = svg.querySelectorAll('.harmonic-hit-area');

  const updateBarValue = (clientY, barIndex) => {
    const rect = svg.getBoundingClientRect();
    const height = parseFloat(svg.getAttribute('viewBox').split(' ')[3]) || editor.offsetHeight;
    const labelHeight = 16; // Account for labels
    const chartHeight = height - labelHeight;

    const relativeY = clientY - rect.top;
    const normalizedY = 1 - Math.max(0, Math.min(1, relativeY / chartHeight));

    // Update bar visual
    const bar = bars[barIndex];
    if (bar) {
      const barHeight = normalizedY * chartHeight;
      bar.setAttribute('height', barHeight);
      bar.setAttribute('y', chartHeight - barHeight);
    }

    // Store value
    let values = (editor.dataset.harmonicValues || '').split(',').map(Number);
    while (values.length <= barIndex) values.push(0);
    values[barIndex] = normalizedY;
    editor.dataset.harmonicValues = values.join(',');
  };

  hitAreas.forEach((hitArea, index) => {
    hitArea.style.cursor = 'ns-resize';

    hitArea.addEventListener('mousedown', (e) => {
      draggingBar = index;
      updateBarValue(e.clientY, index);
      e.preventDefault();
      e.stopPropagation();
    });
  });

  // Fallback: make bars interactive if no hit areas
  if (hitAreas.length === 0) {
    bars.forEach((bar, index) => {
      bar.style.cursor = 'ns-resize';

      bar.addEventListener('mousedown', (e) => {
        draggingBar = index;
        updateBarValue(e.clientY, index);
        e.preventDefault();
        e.stopPropagation();
      });
    });
  }

  document.addEventListener('mousemove', (e) => {
    if (draggingBar !== null) {
      updateBarValue(e.clientY, draggingBar);
    }
  });

  document.addEventListener('mouseup', () => {
    draggingBar = null;
  });
}

/**
 * Setup ASCII art procedural noise animation
 * Reads configuration from data attributes and starts setInterval animation
 * @param {string} elementId - HTML element ID
 */
function setupAsciiNoiseAnimation(elementId) {
  const element = document.getElementById(elementId);
  if (!element) {
    console.error(\`ASCII noise element not found: \${elementId}\`);
    return;
  }

  // Read configuration from data attributes
  const chars = element.dataset.noiseChars || '.:!*#$@%&';
  let intensity = parseFloat(element.dataset.noiseIntensity) || 0.5;
  const width = parseInt(element.dataset.noiseWidth, 10) || 40;
  const height = parseInt(element.dataset.noiseHeight, 10) || 20;
  const refreshRate = parseInt(element.dataset.noiseRefresh, 10) || 100;
  const paramId = element.dataset.noiseParam || '';

  // Store intensity for parameter binding updates
  element._noiseIntensity = intensity;

  /**
   * Generate random noise text
   */
  function generateNoise() {
    const currentIntensity = element._noiseIntensity;
    let output = '';
    for (let y = 0; y < height; y++) {
      for (let x = 0; x < width; x++) {
        output += Math.random() < currentIntensity
          ? chars[Math.floor(Math.random() * chars.length)]
          : ' ';
      }
      if (y < height - 1) output += '\\n';
    }
    element.textContent = output;
  }

  // Generate initial noise and start animation
  generateNoise();
  const intervalId = setInterval(generateNoise, refreshRate);

  // Store interval for potential cleanup
  element._noiseIntervalId = intervalId;

  // Setup parameter binding for intensity if configured
  if (paramId && window.__JUCE__?.backend) {
    window.__JUCE__.backend.addEventListener('__juce__paramSync', (event) => {
      const params = event?.params ?? event?.detail?.params ?? event?.[0]?.params;
      if (!params || !Array.isArray(params)) return;

      for (const { id, value } of params) {
        if (id === paramId) {
          element._noiseIntensity = Math.max(0, Math.min(1, value));
        }
      }
    });
  }

}

// ============================================================================
// Visual Update Functions
// ============================================================================

/**
 * Update knob visual representation
 * @param {string} knobId - HTML element ID
 * @param {number} value - Normalized value (0-1)
 */
function updateKnobVisual(knobId, value) {
  const element = document.getElementById(knobId);
  if (!element) return;

  // Read angles from data attributes (set by HTML generator)
  const startAngle = parseFloat(element.dataset.startAngle) || -135;
  const endAngle = parseFloat(element.dataset.endAngle) || 135;

  // Get SVG dimensions from viewBox
  const svg = element.querySelector('svg');
  if (!svg) return;
  const viewBox = svg.getAttribute('viewBox');
  const [, , vbWidth] = viewBox ? viewBox.split(' ').map(Number) : [0, 0, 100];
  const diameter = vbWidth || 100;

  // Get track width from the track path stroke-width
  const trackPath = element.querySelector('.knob-arc-track');
  const trackWidth = trackPath ? parseFloat(trackPath.getAttribute('stroke-width')) || 4 : 4;

  // Calculate dimensions (same as HTML generator)
  const cx = diameter / 2;
  const cy = diameter / 2;
  const r = (diameter - trackWidth) / 2;

  // Calculate value angle
  const valueAngle = startAngle + (value * (endAngle - startAngle));

  // Update arc fill for arc-style knobs
  const arcFill = element.querySelector('.knob-arc-fill');
  if (arcFill) {
    if (value > 0.001) {
      // Use same describeArc logic as HTML generator (counterclockwise, swap start/end)
      const path = describeArcPath(cx, cy, r, startAngle, valueAngle);
      arcFill.setAttribute('d', path);
    } else {
      arcFill.setAttribute('d', '');
    }
  }

  // Update indicator position (for line/dot style knobs)
  const indicator = element.querySelector('.knob-indicator');
  if (indicator) {
    if (indicator.tagName === 'line') {
      // Line indicator - update endpoints
      const innerR = r * 0.4;
      const outerR = r * 0.9;
      const rad = (valueAngle - 90) * Math.PI / 180;
      indicator.setAttribute('x1', cx + innerR * Math.cos(rad));
      indicator.setAttribute('y1', cy + innerR * Math.sin(rad));
      indicator.setAttribute('x2', cx + outerR * Math.cos(rad));
      indicator.setAttribute('y2', cy + outerR * Math.sin(rad));
    } else if (indicator.tagName === 'circle') {
      // Dot indicator - update position
      const outerR = r * 0.9;
      const rad = (valueAngle - 90) * Math.PI / 180;
      indicator.setAttribute('cx', cx + outerR * Math.cos(rad));
      indicator.setAttribute('cy', cy + outerR * Math.sin(rad));
    }
  }

  // Update step indicators for stepped knobs
  const stepIndicators = element.querySelectorAll('.step-indicator');
  if (stepIndicators.length > 0) {
    const fillColor = element.dataset.fillColor || '#00ff00';
    const trackColor = element.dataset.trackColor || '#333333';
    const stepCount = stepIndicators.length;
    const currentStepIndex = Math.round(value * (stepCount - 1));
    stepIndicators.forEach((indicator, index) => {
      indicator.setAttribute('fill', index <= currentStepIndex ? fillColor : trackColor);
    });
  }

  // Update data attribute
  element.setAttribute('data-value', value);
}

/**
 * Calculate arc path (same algorithm as HTML generator)
 * Uses counterclockwise sweep, swaps start/end for proper direction
 */
function describeArcPath(cx, cy, r, startAngle, endAngle) {
  // Convert to radians, offset by -90 to make 0° = top
  const startRad = (endAngle - 90) * Math.PI / 180;
  const endRad = (startAngle - 90) * Math.PI / 180;

  // Calculate start and end points (note: swapped for counterclockwise)
  const x1 = cx + r * Math.cos(startRad);
  const y1 = cy + r * Math.sin(startRad);
  const x2 = cx + r * Math.cos(endRad);
  const y2 = cy + r * Math.sin(endRad);

  // Large arc flag: 1 if angle span > 180°
  const largeArc = Math.abs(endAngle - startAngle) > 180 ? 1 : 0;

  // Sweep flag 0 = counterclockwise (matches HTML generator)
  return \`M \${x1} \${y1} A \${r} \${r} 0 \${largeArc} 0 \${x2} \${y2}\`;
}

/**
 * Update slider visual representation
 * Handles standard, bipolar, crossfade, and notched sliders
 * @param {string} sliderId - HTML element ID
 * @param {number} value - Normalized value (0-1)
 */
function updateSliderVisual(sliderId, value) {
  const element = document.getElementById(sliderId);
  if (!element) return;

  const isVertical = element.classList.contains('vertical');
  const isBipolar = element.classList.contains('bipolarslider-element');
  const isCrossfade = element.classList.contains('crossfadeslider-element');
  const isNotched = element.classList.contains('notchedslider-element');
  const thumb = element.querySelector('.slider-thumb');
  const fill = element.querySelector('.slider-fill');

  // Check if using SVG-based rendering (notched slider uses SVG)
  // Exclude bipolar slider - it needs its own specific handling for center-based fill
  const svg = element.querySelector('svg');
  const usesSVG = svg && (isNotched || thumb?.tagName === 'rect') && !isBipolar;

  if (usesSVG) {
    // SVG-based slider - update SVG attributes
    const viewBox = svg.getAttribute('viewBox');
    const [, , vbWidth, vbHeight] = viewBox ? viewBox.split(' ').map(Number) : [0, 0, 100, 100];
    const trackWidth = 6;

    if (isVertical) {
      const fillHeight = value * vbHeight;
      const thumbHeight = parseFloat(thumb?.getAttribute('height')) || 10;
      // Center thumb on notch positions: notchY = vbHeight - pos * vbHeight
      // thumbY positions top of thumb, so offset by half thumbHeight
      const thumbY = vbHeight * (1 - value) - thumbHeight / 2;

      if (fill) {
        fill.setAttribute('y', (vbHeight - fillHeight).toString());
        fill.setAttribute('height', fillHeight.toString());
      }
      if (thumb) {
        thumb.setAttribute('y', thumbY.toString());
      }
    } else {
      const fillWidth = value * vbWidth;
      const thumbWidth = parseFloat(thumb?.getAttribute('width')) || 10;
      // Center thumb on notch positions: notchX = pos * vbWidth
      // thumbX positions left of thumb, so offset by half thumbWidth
      const thumbX = value * vbWidth - thumbWidth / 2;

      if (fill) {
        fill.setAttribute('width', fillWidth.toString());
      }
      if (thumb) {
        thumb.setAttribute('x', thumbX.toString());
      }
    }
  } else if (isBipolar) {
    // Bipolar slider: fill extends from center to value (CSS-based like crossfade)
    const centerValue = parseFloat(element.dataset.centerValue) || 0.5;
    const fillStart = Math.min(centerValue, value) * 100;
    const fillEnd = Math.max(centerValue, value) * 100;
    const fillSize = fillEnd - fillStart;

    if (isVertical) {
      if (thumb) thumb.style.bottom = \`\${value * 100}%\`;
      if (fill) {
        fill.style.bottom = \`\${fillStart}%\`;
        fill.style.height = \`\${fillSize}%\`;
      }
    } else {
      if (thumb) thumb.style.left = \`\${value * 100}%\`;
      if (fill) {
        fill.style.left = \`\${fillStart}%\`;
        fill.style.width = \`\${fillSize}%\`;
      }
    }
  } else if (isCrossfade) {
    // Crossfade slider: fill extends from center (0.5) to value
    const centerValue = 0.5;
    const fillStart = Math.min(centerValue, value) * 100;
    const fillEnd = Math.max(centerValue, value) * 100;
    const fillSize = fillEnd - fillStart;

    if (isVertical) {
      if (thumb) thumb.style.bottom = \`\${value * 100}%\`;
      if (fill) {
        fill.style.bottom = \`\${fillStart}%\`;
        fill.style.height = \`\${fillSize}%\`;
      }
    } else {
      if (thumb) thumb.style.left = \`\${value * 100}%\`;
      if (fill) {
        fill.style.left = \`\${fillStart}%\`;
        fill.style.width = \`\${fillSize}%\`;
      }
    }
  } else {
    // Standard slider: fill from start to value
    if (isVertical) {
      if (thumb) thumb.style.bottom = \`\${value * 100}%\`;
      if (fill) fill.style.height = \`\${value * 100}%\`;
    } else {
      if (thumb) thumb.style.left = \`\${value * 100}%\`;
      if (fill) fill.style.width = \`\${value * 100}%\`;
    }
  }

  // Update data attribute
  element.setAttribute('data-value', value);
}

/**
 * Update ASCII slider visual representation
 * @param {string} sliderId - HTML element ID
 * @param {number} value - Normalized value (0-1)
 */
function updateAsciiSliderVisual(sliderId, value) {
  const element = document.getElementById(sliderId);
  if (!element) return;

  // Read config from data attributes
  const barWidth = parseInt(element.dataset.barWidth) || 20;
  const filledChar = element.dataset.filledChar || '#';
  const emptyChar = element.dataset.emptyChar || '-';
  const leftBracket = element.dataset.leftBracket || '[';
  const rightBracket = element.dataset.rightBracket || ']';
  const showValue = element.dataset.showValue === 'true';
  const valuePosition = element.dataset.valuePosition || 'right';
  const valueFormat = element.dataset.valueFormat || 'percentage';
  const minVal = parseFloat(element.dataset.min) || 0;
  const maxVal = parseFloat(element.dataset.max) || 1;
  const showLabel = element.dataset.showLabel === 'true';
  const labelText = element.dataset.labelText || '';
  const labelPosition = element.dataset.labelPosition || 'left';

  // Calculate filled/empty counts
  const filledCount = Math.round(value * barWidth);
  const emptyCount = barWidth - filledCount;

  // Build the bar string
  const bar = leftBracket + filledChar.repeat(filledCount) + emptyChar.repeat(emptyCount) + rightBracket;

  // Format value display
  let valueText = '';
  if (showValue) {
    const actualValue = minVal + value * (maxVal - minVal);
    if (valueFormat === 'percentage') {
      valueText = Math.round(value * 100) + '%';
    } else {
      valueText = actualValue.toFixed(2);
    }
  }

  // Find the bar display element
  const barDisplay = element.querySelector('.asciislider-bar');
  if (barDisplay) {
    const parts = [];
    if (showLabel && labelPosition === 'left') parts.push(labelText);
    if (showValue && valuePosition === 'left') parts.push(valueText);
    parts.push(bar);
    if (showValue && valuePosition === 'right') parts.push(valueText);
    if (showLabel && labelPosition === 'right') parts.push(labelText);
    barDisplay.textContent = parts.join(' ');
  }

  // Update data attribute
  element.setAttribute('data-value', value);
  element._asciiValue = value;
}

/**
 * Update ASCII button visual representation
 * @param {string} buttonId - HTML element ID
 * @param {boolean} isPressed - Whether button is pressed
 */
function updateAsciiButtonVisual(buttonId, isPressed) {
  const element = document.getElementById(buttonId);
  if (!element) return;

  // Read config from data attributes
  const normalArt = element.dataset.normalArt || '';
  const pressedArt = element.dataset.pressedArt || '';
  const normalColor = element.dataset.normalColor || '#00ff00';
  const pressedColor = element.dataset.pressedColor || '#00ffff';
  const normalBg = element.dataset.normalBg || 'transparent';
  const pressedBg = element.dataset.pressedBg || 'transparent';

  // Update visual state
  const artDisplay = element.querySelector('.asciibutton-art');
  if (artDisplay) {
    artDisplay.textContent = isPressed ? pressedArt : normalArt;
  }

  // Update colors
  element.style.color = isPressed ? pressedColor : normalColor;
  element.style.backgroundColor = isPressed ? pressedBg : normalBg;

  // Update data attribute
  element.setAttribute('data-pressed', isPressed);
  element._asciiPressed = isPressed;
}

/**
 * Update range slider visual representation
 * @param {string} rangeSliderId - HTML element ID
 * @param {number} minValue - Normalized minimum value (0-1)
 * @param {number} maxValue - Normalized maximum value (0-1)
 */
function updateRangeSliderVisual(rangeSliderId, minValue, maxValue) {
  const element = document.getElementById(rangeSliderId);
  if (!element) return;

  const isVertical = element.classList.contains('vertical');
  const minThumb = element.querySelector('.rangeslider-thumb-min');
  const maxThumb = element.querySelector('.rangeslider-thumb-max');
  const fill = element.querySelector('.rangeslider-fill');

  if (isVertical) {
    if (minThumb) minThumb.style.bottom = \`\${minValue * 100}%\`;
    if (maxThumb) maxThumb.style.bottom = \`\${maxValue * 100}%\`;
    if (fill) {
      fill.style.bottom = \`\${minValue * 100}%\`;
      fill.style.height = \`\${(maxValue - minValue) * 100}%\`;
    }
  } else {
    if (minThumb) minThumb.style.left = \`\${minValue * 100}%\`;
    if (maxThumb) maxThumb.style.left = \`\${maxValue * 100}%\`;
    if (fill) {
      fill.style.left = \`\${minValue * 100}%\`;
      fill.style.width = \`\${(maxValue - minValue) * 100}%\`;
    }
  }

  // Update data attributes
  element.setAttribute('data-min-value', minValue);
  element.setAttribute('data-max-value', maxValue);
}

// ============================================================================
// Styled Element Animation Helpers
// ============================================================================

/**
 * State tracking for peak hold per meter
 */
var peakValues = {};
var peakTimers = {};

/**
 * Update styled slider position (thumb translate, fill clip-path)
 * For SVG-styled sliders from Phase 53-54
 * @param {string} elementId - Slider element ID
 * @param {number} normalizedValue - Value 0-1
 */
function updateStyledSlider(elementId, normalizedValue) {
  var element = document.getElementById(elementId);
  if (!element || !element.classList.contains('styled-slider')) return;

  var orientation = element.dataset.orientation || 'horizontal';
  var thumbLayer = element.querySelector('.slider-thumb');
  var fillLayer = element.querySelector('.slider-fill');

  if (thumbLayer) {
    // GPU-accelerated transform translate
    if (orientation === 'vertical') {
      // Inverted: 0 at bottom, 1 at top
      var thumbY = (1 - normalizedValue) * 100;
      thumbLayer.style.transform = 'translate(0, ' + thumbY + '%)';
    } else {
      var thumbX = normalizedValue * 100;
      thumbLayer.style.transform = 'translate(' + thumbX + '%, 0)';
    }
  }

  if (fillLayer) {
    // Clip-path inset for fill reveal
    if (orientation === 'vertical') {
      // Bottom-up fill: inset from top
      var clipFromTop = (1 - normalizedValue) * 100;
      fillLayer.style.clipPath = 'inset(' + clipFromTop + '% 0 0 0)';
    } else {
      // Left-to-right fill: inset from right
      var clipFromRight = (1 - normalizedValue) * 100;
      fillLayer.style.clipPath = 'inset(0 ' + clipFromRight + '% 0 0)';
    }
  }

  // Update data attribute for state tracking
  element.dataset.value = normalizedValue;
}

/**
 * Update styled meter level (zone fills with clip-path, peak indicator)
 * For SVG-styled meters from Phase 57
 * @param {string} elementId - Meter element ID
 * @param {number} normalizedValue - Value 0-1
 */
function updateStyledMeter(elementId, normalizedValue) {
  var element = document.getElementById(elementId);
  if (!element || !element.classList.contains('styled-meter')) return;

  // Zone thresholds (matches Phase 57-02 decisions)
  var yellowThreshold = 0.6;  // -18dB normalized
  var redThreshold = 0.85;    // -6dB normalized

  // Calculate clip-path for bottom-up reveal
  var clipFromTop = (1 - normalizedValue) * 100;
  var clipPath = 'inset(' + clipFromTop + '% 0 0 0)';

  // Get zone fill elements
  var fillGreen = element.querySelector('.meter-fill-green');
  var fillYellow = element.querySelector('.meter-fill-yellow');
  var fillRed = element.querySelector('.meter-fill-red');
  var fillSingle = element.querySelector('.meter-fill'); // Fallback for single fill

  // Green zone: always visible up to value
  if (fillGreen) {
    fillGreen.style.clipPath = clipPath;
  }

  // Yellow zone: reveals above yellowThreshold
  if (fillYellow) {
    fillYellow.style.clipPath = normalizedValue > yellowThreshold
      ? clipPath
      : 'inset(100% 0 0 0)';
  }

  // Red zone: reveals above redThreshold
  if (fillRed) {
    fillRed.style.clipPath = normalizedValue > redThreshold
      ? clipPath
      : 'inset(100% 0 0 0)';
  }

  // Single fill fallback (if no zone layers)
  if (fillSingle && !fillGreen && !fillYellow && !fillRed) {
    fillSingle.style.clipPath = clipPath;
  }

  // Peak hold indicator (if enabled)
  if (element.dataset.peakHold === 'true') {
    updateStyledMeterPeak(elementId, normalizedValue);
  }

  // Update data attribute
  element.dataset.value = normalizedValue;
}

/**
 * Update meter peak hold indicator with decay
 * @param {string} elementId - Meter element ID
 * @param {number} normalizedValue - Current value 0-1
 */
function updateStyledMeterPeak(elementId, normalizedValue) {
  var element = document.getElementById(elementId);
  if (!element) return;

  var peakLayer = element.querySelector('.meter-peak');
  if (!peakLayer) return;

  var currentPeak = peakValues[elementId] || 0;

  // Update peak if value exceeds current peak
  if (normalizedValue > currentPeak) {
    peakValues[elementId] = normalizedValue;
    peakLayer.style.bottom = (normalizedValue * 100) + '%';

    // Clear existing decay timer
    if (peakTimers[elementId]) {
      clearTimeout(peakTimers[elementId]);
    }

    // Start decay timer (holdDuration from data attribute)
    var holdDuration = parseInt(element.dataset.peakDuration) || 2000;
    peakTimers[elementId] = setTimeout(function() {
      // After hold duration, let peak track current value again
      peakValues[elementId] = 0;
    }, holdDuration);
  }
}

/**
 * Update styled button state (opacity toggle - instant, no transition)
 * For SVG-styled buttons from Phase 56
 * @param {string} elementId - Button element ID
 * @param {boolean} pressed - Button pressed state
 */
function updateStyledButton(elementId, pressed) {
  var element = document.getElementById(elementId);
  if (!element || !element.classList.contains('styled-button')) return;

  var normalLayer = element.querySelector('.button-normal');
  var pressedLayer = element.querySelector('.button-pressed');

  // INSTANT opacity toggle (no transition - per CONTEXT.md decision)
  if (normalLayer) {
    normalLayer.style.opacity = pressed ? '0' : '1';
  }
  if (pressedLayer) {
    pressedLayer.style.opacity = pressed ? '1' : '0';
  }

  // Toggle switch specific: on/off layers
  var onLayer = element.querySelector('.button-on');
  var offLayer = element.querySelector('.button-off');
  if (onLayer) onLayer.style.opacity = pressed ? '1' : '0';
  if (offLayer) offLayer.style.opacity = pressed ? '0' : '1';

  // LED/indicator (Power Button, Toggle Switch)
  var ledLayer = element.querySelector('.button-led');
  var indicatorLayer = element.querySelector('.button-indicator');
  if (ledLayer) ledLayer.style.opacity = pressed ? '1' : '0.3';
  if (indicatorLayer) indicatorLayer.style.opacity = pressed ? '1' : '0';

  // Update state data attribute
  element.dataset.state = pressed ? '1' : '0';
}

/**
 * Update rotary switch selector position
 * For SVG-styled rotary switches from Phase 56
 * @param {string} elementId - Switch element ID
 * @param {number} position - Selected position (0-indexed)
 * @param {number} positionCount - Total number of positions
 */
function updateStyledRotarySwitch(elementId, position, positionCount) {
  var element = document.getElementById(elementId);
  if (!element || !element.classList.contains('styled-button')) return;

  var selectorLayer = element.querySelector('.button-selector');
  if (!selectorLayer) return;

  // Calculate rotation angle
  // Assuming 270 degree range (like knob) with positions evenly distributed
  var minAngle = -135;
  var maxAngle = 135;
  var angleRange = maxAngle - minAngle;
  var anglePerPosition = positionCount > 1 ? angleRange / (positionCount - 1) : 0;
  var angle = minAngle + (position * anglePerPosition);

  selectorLayer.style.transform = 'rotate(' + angle + 'deg)';
  element.dataset.position = position;
}

/**
 * Update segment button selection (clip-path on highlight)
 * For SVG-styled segment buttons from Phase 56
 * @param {string} elementId - Button element ID
 * @param {number} selectedIndex - Selected segment index
 * @param {number} segmentCount - Total segment count
 */
function updateStyledSegmentButton(elementId, selectedIndex, segmentCount) {
  var element = document.getElementById(elementId);
  if (!element || !element.classList.contains('styled-button')) return;

  var highlightLayer = element.querySelector('.button-highlight');
  if (!highlightLayer) return;

  // Calculate clip-path for selected segment
  var segmentWidth = 100 / segmentCount;
  var clipLeft = selectedIndex * segmentWidth;
  var clipRight = 100 - ((selectedIndex + 1) * segmentWidth);
  var clipPath = 'inset(0 ' + clipRight + '% 0 ' + clipLeft + '%)';

  highlightLayer.style.clipPath = clipPath;
  element.dataset.selectedIndex = selectedIndex;
}

// ============================================================================
// Start Initialization
// ============================================================================

// Wait for fonts to load before initializing, to ensure correct rendering
async function initializeWhenReady() {
  // Wait for DOM to be ready
  if (document.readyState === 'loading') {
    await new Promise(resolve => {
      document.addEventListener('DOMContentLoaded', resolve);
    });
  }

  // Wait for all fonts to be loaded (important for custom fonts)
  try {
    await document.fonts.ready;
  } catch (error) {
    console.warn('Font loading check failed:', error);
  }

  // Initialize after fonts are ready
  initializeJUCEBridge();
}

// Start initialization
initializeWhenReady();
`}function vU(e){return`// ============================================================================
// UI Component Update Functions
// Generated by VST3 WebView UI Designer
// For JUCE->UI callbacks (parameter changes from C++ side)
// ============================================================================

/**
 * Store knob configuration for visual updates
 * Call this during initialization to set up knob config
 * @param {string} id - Element ID
 * @param {object} config - Knob configuration {startAngle, endAngle, ...}
 */
function initializeKnob(id, config) {
  const element = document.getElementById(id);
  if (!element) return;

  // CRITICAL: Store config for updateKnobVisual
  element._knobConfig = config;
}

/**
 * Store slider configuration for visual updates
 * @param {string} id - Element ID
 * @param {object} config - Slider configuration
 */
function initializeSlider(id, config) {
  const element = document.getElementById(id);
  if (!element) return;

  element._sliderConfig = config;
}

/**
 * Update element value display (knob, slider, meter)
 * Called by JUCE when parameter values change
 * @param {string} id - Element ID (kebab-case)
 * @param {number} value - Normalized value (0-1)
 */
function updateElementValue(id, value) {
  const element = document.getElementById(id);
  if (!element) {
    console.warn(\`Element not found: \${id}\`);
    return;
  }

  // Update data attribute for CSS/JS access
  element.setAttribute('data-value', value);

  // Type-specific updates - use ID-based functions for consistency
  if (element.classList.contains('knob')) {
    updateKnobVisualById(id, value);
  } else if (element.classList.contains('slider')) {
    updateSliderVisualById(id, value);
  } else if (element.classList.contains('meter')) {
    updateMeterVisualById(id, value);
  }
}

/**
 * Update button pressed state
 * Called by JUCE when button state changes
 * @param {string} id - Element ID (kebab-case)
 * @param {boolean} pressed - Whether button is pressed
 */
function updateElementPressed(id, pressed) {
  const element = document.getElementById(id);
  if (!element) {
    console.warn(\`Element not found: \${id}\`);
    return;
  }

  if (pressed) {
    element.classList.add('pressed');
  } else {
    element.classList.remove('pressed');
  }
}

// ============================================================================
// ID-Based Visual Update Helpers (use stored config)
// ============================================================================

function updateKnobVisualById(id, value) {
  const element = document.getElementById(id);
  if (!element) return;

  // Read angles from data attributes (set by HTML generator)
  const startAngle = parseFloat(element.dataset.startAngle) || -135;
  const endAngle = parseFloat(element.dataset.endAngle) || 135;

  // Get SVG dimensions from viewBox
  const svg = element.querySelector('svg');
  if (!svg) return;
  const viewBox = svg.getAttribute('viewBox');
  const [, , vbWidth] = viewBox ? viewBox.split(' ').map(Number) : [0, 0, 100];
  const diameter = vbWidth || 100;

  // Get track width from the track path stroke-width
  const trackPath = element.querySelector('.knob-arc-track');
  const trackWidth = trackPath ? parseFloat(trackPath.getAttribute('stroke-width')) || 4 : 4;

  // Calculate dimensions (same as HTML generator)
  const cx = diameter / 2;
  const cy = diameter / 2;
  const r = (diameter - trackWidth) / 2;

  // Calculate value angle
  const valueAngle = startAngle + (value * (endAngle - startAngle));

  // Update arc fill for arc-style knobs
  const arcFill = element.querySelector('.knob-arc-fill');
  if (arcFill) {
    if (value > 0.001) {
      // Use same describeArc logic as HTML generator (counterclockwise, swap start/end)
      const path = describeArcPathById(cx, cy, r, startAngle, valueAngle);
      arcFill.setAttribute('d', path);
    } else {
      arcFill.setAttribute('d', '');
    }
  }

  // Update indicator position (for line/dot style knobs)
  const indicator = element.querySelector('.knob-indicator');
  if (indicator) {
    if (indicator.tagName === 'line') {
      const innerR = r * 0.4;
      const outerR = r * 0.9;
      const rad = (valueAngle - 90) * Math.PI / 180;
      indicator.setAttribute('x1', cx + innerR * Math.cos(rad));
      indicator.setAttribute('y1', cy + innerR * Math.sin(rad));
      indicator.setAttribute('x2', cx + outerR * Math.cos(rad));
      indicator.setAttribute('y2', cy + outerR * Math.sin(rad));
    } else if (indicator.tagName === 'circle') {
      const outerR = r * 0.9;
      const rad = (valueAngle - 90) * Math.PI / 180;
      indicator.setAttribute('cx', cx + outerR * Math.cos(rad));
      indicator.setAttribute('cy', cy + outerR * Math.sin(rad));
    }
  }

  // Update step indicators for stepped knobs
  const stepIndicators = element.querySelectorAll('.step-indicator');
  if (stepIndicators.length > 0) {
    const fillColor = element.dataset.fillColor || '#00ff00';
    const trackColor = element.dataset.trackColor || '#333333';
    const stepCount = stepIndicators.length;
    const currentStepIndex = Math.round(value * (stepCount - 1));
    stepIndicators.forEach((indicator, index) => {
      indicator.setAttribute('fill', index <= currentStepIndex ? fillColor : trackColor);
    });
  }

  element.setAttribute('data-value', value);
}

function describeArcPathById(cx, cy, r, startAngle, endAngle) {
  const startRad = (endAngle - 90) * Math.PI / 180;
  const endRad = (startAngle - 90) * Math.PI / 180;
  const x1 = cx + r * Math.cos(startRad);
  const y1 = cy + r * Math.sin(startRad);
  const x2 = cx + r * Math.cos(endRad);
  const y2 = cy + r * Math.sin(endRad);
  const largeArc = Math.abs(endAngle - startAngle) > 180 ? 1 : 0;
  return \`M \${x1} \${y1} A \${r} \${r} 0 \${largeArc} 0 \${x2} \${y2}\`;
}

function updateSliderVisualById(id, value) {
  const element = document.getElementById(id);
  if (!element) return;

  const isVertical = element.classList.contains('vertical');
  const thumb = element.querySelector('.slider-thumb');
  const fill = element.querySelector('.slider-fill');

  if (isVertical) {
    if (thumb) thumb.style.bottom = \`\${value * 100}%\`;
    if (fill) fill.style.height = \`\${value * 100}%\`;
  } else {
    if (thumb) thumb.style.left = \`\${value * 100}%\`;
    if (fill) fill.style.width = \`\${value * 100}%\`;
  }

  element.setAttribute('data-value', value);
}

function updateMeterVisualById(id, value) {
  const element = document.getElementById(id);
  if (!element) return;

  const fill = element.querySelector('.meter-fill');
  const isVertical = element.classList.contains('vertical');

  if (isVertical) {
    if (fill) fill.style.height = \`\${value * 100}%\`;
  } else {
    if (fill) fill.style.width = \`\${value * 100}%\`;
  }

  element.setAttribute('data-value', value);
}
`}function u4(){return`// ============================================================================
// Mock JUCE Backend for Standalone Preview
// DO NOT include this in JUCE WebView2 plugin - only for HTML preview
// Implements the event-based native function pattern
// ============================================================================

if (typeof window.__JUCE__ === 'undefined') {
  // Mock parameter storage
  const mockParameters = new Map();
  const eventListeners = new Map();

  window.__JUCE__ = {
    // Initialization data - includes registered functions
    initialisationData: {
      __juce__functions: ['setParameter', 'getParameter', 'beginGesture', 'endGesture']
    },

    backend: {
      /**
       * Emit event to JUCE backend (mock implementation)
       * Handles __juce__invoke events for native function calls
       */
      emitEvent: (eventName, data) => {
        if (eventName === '__juce__invoke') {
          const { name, params, resultId } = data;

          // Mock function implementations
          let result = undefined;

          switch (name) {
            case 'setParameter':
              const [paramId, value] = params;
              mockParameters.set(paramId, value);

              // Emit paramSync event to notify listeners (e.g., ASCII noise)
              setTimeout(() => {
                const syncListeners = eventListeners.get('__juce__paramSync') || [];
                syncListeners.forEach(listener => {
                  listener({ params: [{ id: paramId, value }] });
                });
              }, 0);

              result = true;
              break;

            case 'getParameter':
              result = mockParameters.get(params[0]) ?? 0.5;
              break;

            case 'beginGesture':
              result = true;
              break;

            case 'endGesture':
              result = true;
              break;

            default:
              console.warn(\`[MockJUCE] Unknown function: \${name}\`);
          }

          // Dispatch completion event
          setTimeout(() => {
            const listeners = eventListeners.get('__juce__complete') || [];
            listeners.forEach(listener => {
              listener({ resultId, result });
            });
          }, 10);
        }
      },

      /**
       * Add event listener for JUCE events
       */
      addEventListener: (eventName, callback) => {
        if (!eventListeners.has(eventName)) {
          eventListeners.set(eventName, []);
        }
        eventListeners.get(eventName).push(callback);
      },

      /**
       * Remove event listener
       */
      removeEventListener: (eventName, callback) => {
        const listeners = eventListeners.get(eventName) || [];
        const index = listeners.indexOf(callback);
        if (index > -1) {
          listeners.splice(index, 1);
        }
      }
    }
  };

}
`}function d4(e,t,r=.25,n=1){return`// Responsive scaling for plugin window resize
(function() {
  const CANVAS_WIDTH = ${e};
  const CANVAS_HEIGHT = ${t};
  const MIN_SCALE = ${r};
  const MAX_SCALE = ${n};

  function updateScale() {
    const container = document.getElementById('plugin-container');
    const wrapper = document.getElementById('plugin-wrapper');
    if (!container || !wrapper) return;

    const scaleX = wrapper.clientWidth / CANVAS_WIDTH;
    const scaleY = wrapper.clientHeight / CANVAS_HEIGHT;

    // Maintain aspect ratio - use smaller scale
    let scale = Math.min(scaleX, scaleY);

    // Apply min/max limits - cap at 1.0 for preview to show actual size
    scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale));

    container.style.transform = \`scale(\${scale})\`;
  }

  window.addEventListener('resize', updateScale);
  window.addEventListener('load', updateScale);
  updateScale();
})();
`}function h4(){return`// ============================================================================
// Custom Scrollbar Implementation
// Replicates the designer's custom scrollbar with arrows
// Auto-detects vertical and horizontal overflow
// ============================================================================

(function() {
  /**
   * Create a single scrollbar (vertical or horizontal)
   */
  function createScrollbar(scrollContainer, config, isVertical, cornerSize) {
    const {
      width = 12,
      thumbColor = '#4a4a4a',
      thumbHoverColor = '#5a5a5a',
      trackColor = '#1a1a1a',
      borderRadius = 0,
      thumbBorder = 2
    } = config;

    const arrowSize = width;
    let thumbPosition = 0;
    let thumbSize = 50;
    let isDragging = false;
    let dragStart = { mousePos: 0, scrollPos: 0 };

    // Create scrollbar container
    const scrollbarEl = document.createElement('div');
    scrollbarEl.className = 'custom-scrollbar-' + (isVertical ? 'vertical' : 'horizontal');
    scrollbarEl.style.cssText = isVertical
      ? \`position: absolute; right: 0; top: 0; width: \${width}px; height: calc(100% - \${cornerSize}px); display: flex; flex-direction: column; background-color: \${trackColor}; z-index: 10;\`
      : \`position: absolute; left: 0; bottom: 0; height: \${width}px; width: calc(100% - \${cornerSize}px); display: flex; flex-direction: row; background-color: \${trackColor}; z-index: 10;\`;

    // Create arrow SVG
    function createArrowSVG(direction) {
      const size = width;
      const pad = Math.floor(size * 0.3);
      const mid = size / 2;
      const arrowLength = size - pad * 2;

      let path;
      switch (direction) {
        case 'up': path = \`M\${pad},\${mid + arrowLength / 4} L\${mid},\${pad} L\${size - pad},\${mid + arrowLength / 4}\`; break;
        case 'down': path = \`M\${pad},\${mid - arrowLength / 4} L\${mid},\${size - pad} L\${size - pad},\${mid - arrowLength / 4}\`; break;
        case 'left': path = \`M\${mid + arrowLength / 4},\${pad} L\${pad},\${mid} L\${mid + arrowLength / 4},\${size - pad}\`; break;
        case 'right': path = \`M\${mid - arrowLength / 4},\${pad} L\${size - pad},\${mid} L\${mid - arrowLength / 4},\${size - pad}\`; break;
      }
      return \`<svg width="\${size}" height="\${size}" viewBox="0 0 \${size} \${size}"><path d="\${path}" fill="none" stroke="\${thumbColor}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\`;
    }

    // Create arrow button
    function createArrowButton(direction) {
      const btn = document.createElement('div');
      btn.innerHTML = createArrowSVG(direction);
      btn.style.cssText = \`width: \${arrowSize}px; height: \${arrowSize}px; background-color: \${trackColor}; display: flex; align-items: center; justify-content: center; cursor: pointer; flex-shrink: 0; border-radius: \${borderRadius}px;\`;

      btn.addEventListener('mouseenter', () => btn.querySelector('path').setAttribute('stroke', thumbHoverColor));
      btn.addEventListener('mouseleave', () => btn.querySelector('path').setAttribute('stroke', thumbColor));
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const amount = (direction === 'up' || direction === 'left') ? -30 : 30;
        if (isVertical) {
          scrollContainer.scrollTop += amount;
        } else {
          scrollContainer.scrollLeft += amount;
        }
      });
      return btn;
    }

    // Create track and thumb
    const trackEl = document.createElement('div');
    trackEl.style.cssText = 'flex: 1; position: relative; cursor: pointer;';

    const thumbEl = document.createElement('div');
    const thumbWidth = width - thumbBorder * 2;
    thumbEl.style.cssText = \`position: absolute; \${isVertical ? 'left' : 'top'}: \${thumbBorder}px; \${isVertical ? 'width' : 'height'}: \${thumbWidth}px; background-color: \${thumbColor}; border-radius: \${borderRadius}px; cursor: grab; transition: background-color 0.15s ease;\`;

    // Update scrollbar
    function update() {
      const clientSize = isVertical ? scrollContainer.clientHeight : scrollContainer.clientWidth;
      const scrollSize = isVertical ? scrollContainer.scrollHeight : scrollContainer.scrollWidth;
      const scrollPos = isVertical ? scrollContainer.scrollTop : scrollContainer.scrollLeft;

      const needsScrollbar = scrollSize > clientSize + 1;
      scrollbarEl.style.display = 'flex'; // Always show track

      if (!needsScrollbar) {
        thumbEl.style.display = 'none';
        return;
      }
      thumbEl.style.display = 'block';

      // Use actual track element size for accurate thumb positioning
      const availableTrackSize = isVertical ? trackEl.clientHeight : trackEl.clientWidth;
      const ratio = clientSize / scrollSize;
      thumbSize = Math.max(30, availableTrackSize * ratio);
      thumbEl.style[isVertical ? 'height' : 'width'] = thumbSize + 'px';

      const maxScroll = scrollSize - clientSize;
      const maxThumbPos = availableTrackSize - thumbSize;
      thumbPosition = maxScroll > 0 ? (scrollPos / maxScroll) * maxThumbPos : 0;
      thumbEl.style[isVertical ? 'top' : 'left'] = thumbPosition + 'px';
    }

    // Thumb drag
    thumbEl.addEventListener('mousedown', (e) => {
      e.preventDefault();
      e.stopPropagation();
      isDragging = true;
      thumbEl.style.cursor = 'grabbing';
      thumbEl.style.transition = 'none';
      dragStart = { mousePos: isVertical ? e.clientY : e.clientX, scrollPos: isVertical ? scrollContainer.scrollTop : scrollContainer.scrollLeft };

      function onMove(e) {
        const delta = (isVertical ? e.clientY : e.clientX) - dragStart.mousePos;
        const clientSize = isVertical ? scrollContainer.clientHeight : scrollContainer.clientWidth;
        const scrollSize = isVertical ? scrollContainer.scrollHeight : scrollContainer.scrollWidth;
        const availableTrackSize = isVertical ? trackEl.clientHeight : trackEl.clientWidth;
        const scrollRatio = (scrollSize - clientSize) / (availableTrackSize - thumbSize);
        if (isVertical) scrollContainer.scrollTop = dragStart.scrollPos + delta * scrollRatio;
        else scrollContainer.scrollLeft = dragStart.scrollPos + delta * scrollRatio;
      }

      function onUp() {
        isDragging = false;
        thumbEl.style.cursor = 'grab';
        thumbEl.style.transition = 'background-color 0.15s ease';
        document.removeEventListener('mousemove', onMove);
        document.removeEventListener('mouseup', onUp);
      }

      document.addEventListener('mousemove', onMove);
      document.addEventListener('mouseup', onUp);
    });

    thumbEl.addEventListener('mouseenter', () => { if (!isDragging) thumbEl.style.backgroundColor = thumbHoverColor; });
    thumbEl.addEventListener('mouseleave', () => { if (!isDragging) thumbEl.style.backgroundColor = thumbColor; });

    // Track click
    trackEl.addEventListener('click', (e) => {
      if (e.target === thumbEl) return;
      const rect = trackEl.getBoundingClientRect();
      const clickPos = (isVertical ? e.clientY - rect.top : e.clientX - rect.left) - thumbSize / 2;
      const clientSize = isVertical ? scrollContainer.clientHeight : scrollContainer.clientWidth;
      const scrollSize = isVertical ? scrollContainer.scrollHeight : scrollContainer.scrollWidth;
      const availableTrackSize = isVertical ? trackEl.clientHeight : trackEl.clientWidth;
      const scrollRatio = (scrollSize - clientSize) / (availableTrackSize - thumbSize);
      if (isVertical) scrollContainer.scrollTop = Math.max(0, clickPos * scrollRatio);
      else scrollContainer.scrollLeft = Math.max(0, clickPos * scrollRatio);
    });

    // Assemble
    trackEl.appendChild(thumbEl);
    scrollbarEl.appendChild(createArrowButton(isVertical ? 'up' : 'left'));
    scrollbarEl.appendChild(trackEl);
    scrollbarEl.appendChild(createArrowButton(isVertical ? 'down' : 'right'));

    return { element: scrollbarEl, update };
  }

  /**
   * Initialize custom scrollbars for an element (both vertical and horizontal)
   */
  function initCustomScrollbar(scrollContainer, config) {
    const width = config.width || 12;
    const trackColor = config.trackColor || '#1a1a1a';
    const parent = scrollContainer.parentElement;

    parent.style.position = 'relative';

    // Check which scrollbars are needed
    let needsV = scrollContainer.scrollHeight > scrollContainer.clientHeight + 1;
    let needsH = scrollContainer.scrollWidth > scrollContainer.clientWidth + 1;
    const cornerSize = (needsV && needsH) ? width : 0;

    // Create scrollbars
    const vScrollbar = createScrollbar(scrollContainer, config, true, cornerSize);
    const hScrollbar = createScrollbar(scrollContainer, config, false, cornerSize);

    parent.appendChild(vScrollbar.element);
    parent.appendChild(hScrollbar.element);

    // Corner piece
    const corner = document.createElement('div');
    corner.style.cssText = \`position: absolute; right: 0; bottom: 0; width: \${width}px; height: \${width}px; background-color: \${trackColor}; z-index: 10; display: none;\`;
    parent.appendChild(corner);

    // Update function
    function updateAll() {
      needsV = scrollContainer.scrollHeight > scrollContainer.clientHeight + 1;
      needsH = scrollContainer.scrollWidth > scrollContainer.clientWidth + 1;
      corner.style.display = (needsV && needsH) ? 'block' : 'none';
      vScrollbar.update();
      hScrollbar.update();
    }

    scrollContainer.addEventListener('scroll', updateAll);
    new ResizeObserver(updateAll).observe(scrollContainer);
    new MutationObserver(updateAll).observe(scrollContainer, { childList: true, subtree: true });
    updateAll();
  }

  // Initialize all
  function initAllScrollbars() {
    document.querySelectorAll('[data-custom-scrollbar]').forEach(el => {
      try {
        const config = JSON.parse(el.dataset.customScrollbar);
        initCustomScrollbar(el, config);
      } catch (e) {
        console.warn('[CustomScrollbar] Failed:', el, e);
      }
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAllScrollbars);
  } else {
    initAllScrollbars();
  }
})();
`}async function bU(e){try{const{elements:t,canvasWidth:r,canvasHeight:n,backgroundColor:i,enableResponsiveScaling:o=!0}=e,s=n4(t,{canvasWidth:r,canvasHeight:n,backgroundColor:i,isPreviewMode:!0}),d=await s4(t,{canvasWidth:r,canvasHeight:n,backgroundColor:i}),c=c4(t,{isPreviewMode:!0}),u=vU(t),h=u4(),p=o?d4(r,n):"",l=h4(),f=yU({html:s,css:d,bindingsJS:c,componentsJS:u,mockJUCE:h,responsiveJS:p,scrollbarJS:l}),m=new Blob([f],{type:"text/html"}),b=URL.createObjectURL(m);return window.open(b,"_blank")?(setTimeout(()=>{URL.revokeObjectURL(b)},5e3),{success:!0}):{success:!1,error:"Popup blocked. Please allow popups for preview."}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Preview failed"}}}function yU(e){const{html:t,css:r,bindingsJS:n,componentsJS:i,mockJUCE:o,responsiveJS:s,scrollbarJS:d}=e;let c=t;const u='<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&family=Roboto+Mono:wght@100;300;400;500;700&display=swap" rel="stylesheet">',h=r.replace(/@font-face\s*\{[^}]*url\(['"]?\.\/fonts\/[^}]*\}/g,"/* Font loaded via Google Fonts */");c=c.replace('<link rel="stylesheet" href="style.css">',`${u}
<style>
${h}
</style>`),c=c.replace('<script src="components.js"><\/script>',`<script>
${o}
<\/script>
<script>
${i}
<\/script>`);const p=[s,d].filter(Boolean).map(l=>`<script>
${l}
<\/script>`).join(`
`);return c=c.replace('<script src="bindings.js"><\/script>',`<script>
${n}
<\/script>${p?`
${p}`:""}`),c}async function xU(e){try{const{windows:t,activeWindowId:r,enableResponsiveScaling:n=!0}=e;if(t.length===0)return{success:!1,error:"No windows to preview"};const i=Math.max(...t.map(p=>p.width)),o=Math.max(...t.map(p=>p.height)),s=[];for(const p of t){const l=n4(p.elements,{canvasWidth:p.width,canvasHeight:p.height,backgroundColor:p.backgroundColor,isPreviewMode:!0}),f=await s4(p.elements,{canvasWidth:p.width,canvasHeight:p.height,backgroundColor:p.backgroundColor}),m={};for(const S of t)S.id!==p.id&&(m[S.id]=S.id);const b=c4(p.elements,{isPreviewMode:!0,windowMapping:Object.keys(m).length>0?m:void 0});s.push({id:p.id,name:p.name,html:l,css:f,bindingsJS:b,width:p.width,height:p.height,backgroundColor:p.backgroundColor})}const d=wU({windows:s,activeWindowId:r,maxWidth:i,maxHeight:o,enableResponsiveScaling:n}),c=new Blob([d],{type:"text/html"}),u=URL.createObjectURL(c);return window.open(u,"_blank")?(setTimeout(()=>{URL.revokeObjectURL(u)},5e3),{success:!0}):{success:!1,error:"Popup blocked. Please allow popups for preview."}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Preview failed"}}}function wU(e){const{windows:t,activeWindowId:r,maxWidth:n,maxHeight:i,enableResponsiveScaling:o}=e,s=u4(),d=o?d4(n,i):"",c=h4(),u=t.map(S=>{const x=S.html.match(/<body[^>]*>([\s\S]*)<\/body>/i),w=x?x[1]:"";return{...S,bodyContent:w}}),h=t.map(S=>S.css.replace(/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g,(x,w,y)=>w.trim().startsWith("@")||w.trim().startsWith("/*")?x:`#window-${S.id} ${w.trim()}${y}`)).join(`

`),p=`
    <div id="window-tabs" style="
      display: flex;
      gap: 2px;
      padding: 8px;
      background: #1a1a1a;
      border-bottom: 1px solid #333;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10000;
    ">
      ${t.map(S=>`
        <button
          class="window-tab ${S.id===r?"active":""}"
          data-window-id="${S.id}"
          style="
            padding: 6px 16px;
            border: none;
            border-radius: 4px;
            background: ${S.id===r?"#3b82f6":"#333"};
            color: white;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.2s;
          "
        >${S.name}</button>
      `).join("")}
    </div>
  `,l=u.map(S=>`
    <div
      id="window-${S.id}"
      class="window-container"
      data-window-id="${S.id}"
      style="
        display: ${S.id===r?"block":"none"};
        width: ${S.width}px;
        height: ${S.height}px;
        background: ${S.backgroundColor};
        position: relative;
        margin: 0 auto;
      "
    >
      ${S.bodyContent}
    </div>
  `).join(`
`),f=`
    // Window navigation for preview
    window.__WINDOW_MAPPING__ = ${JSON.stringify(Object.fromEntries(t.map(S=>[S.id,S.id])))};

    function switchToWindow(windowId) {
      // Hide all windows
      document.querySelectorAll('.window-container').forEach(el => {
        el.style.display = 'none';
      });
      // Show target window
      const targetWindow = document.getElementById('window-' + windowId);
      if (targetWindow) {
        targetWindow.style.display = 'block';
      }
      // Update tab styles
      document.querySelectorAll('.window-tab').forEach(tab => {
        if (tab.dataset.windowId === windowId) {
          tab.style.background = '#3b82f6';
          tab.classList.add('active');
        } else {
          tab.style.background = '#333';
          tab.classList.remove('active');
        }
      });
    }

    // Tab click handlers
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.window-tab').forEach(tab => {
        tab.addEventListener('click', () => {
          switchToWindow(tab.dataset.windowId);
        });
      });
    });

    // Override window.location.href for navigation buttons
    const originalLocationDescriptor = Object.getOwnPropertyDescriptor(window, 'location');
    // We can't override location.href directly, so we intercept button clicks
    document.addEventListener('click', (e) => {
      const button = e.target.closest('button[data-action="navigate-window"]');
      if (button) {
        const targetId = button.dataset.targetWindow;
        if (targetId && window.__WINDOW_MAPPING__[targetId]) {
          e.preventDefault();
          e.stopPropagation();
          switchToWindow(targetId);
        }
      }
    }, true);
  `,m=t.map(S=>`
    // Bindings for window: ${S.name}
    (function() {
      const originalGetElementById = document.getElementById.bind(document);
      // Scope element lookups to current window container during init
      ${S.bindingsJS}
    })();
  `).join(`

`);return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Window Preview</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&family=Roboto+Mono:wght@100;300;400;500;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #0a0a0a;
      padding-top: 50px; /* Space for tab bar */
      min-height: 100vh;
    }
    .window-tab:hover {
      background: #4b5563 !important;
    }
    .window-tab.active:hover {
      background: #2563eb !important;
    }
    ${h.replace(/@font-face\s*\{[^}]*url\(['"]?\.\/fonts\/[^}]*\}/g,"/* Font loaded via Google Fonts */")}
  </style>
</head>
<body>
  ${p}
  <div id="windows-container" style="padding: 20px;">
    ${l}
  </div>

  <script>${s}<\/script>
  <script>${f}<\/script>
  <script>${m}<\/script>
  ${d?`<script>${d}<\/script>`:""}
  ${`<script>${c}<\/script>`}
</body>
</html>`}function SU(){const[e,t]=X.useState(!1),n=fe(y=>y.selectedIds).length>0,i=fe(y=>y.getActiveWindow()),o=fe(y=>y.updateWindow),s=(i==null?void 0:i.width)??800,d=(i==null?void 0:i.height)??600,c=(i==null?void 0:i.backgroundColor)??"#1a1a1a",u=fe(y=>y.snapToGrid),h=fe(y=>y.gridSize),p=fe(y=>y.showGrid),l=fe(y=>y.setSnapToGrid),f=fe(y=>y.setShowGrid),m=fe(y=>y.setGridSize),b=fe(y=>y.lockAllMode),S=fe(y=>y.toggleLockAllMode),x=(y,_)=>{i&&o(i.id,{width:y,height:_})},w=y=>{i&&o(i.id,{backgroundColor:y})};return a.jsxs("div",{className:"bg-gray-800 border-l border-gray-700 overflow-y-auto flex flex-col",children:[!1,!1,a.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[a.jsxs("button",{onClick:S,className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors w-full justify-center ${b?"bg-amber-600 text-white hover:bg-amber-500":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx("span",{children:b?"🔒":"🔓"}),a.jsx("span",{children:b?"Unlock All":"Lock All"})]}),b&&a.jsx("p",{className:"text-xs text-amber-400 mt-1 text-center",children:"UI Test Mode: Elements cannot be selected"})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Properties"}),n?a.jsx(sj,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Window Properties"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"window-name",className:"block text-xs text-gray-400 mb-1",children:"Name"}),a.jsx("input",{id:"window-name",type:"text",value:(i==null?void 0:i.name)??"",onChange:y=>{i&&o(i.id,{name:y.target.value})},className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Type"}),a.jsxs("div",{className:"flex rounded overflow-hidden border border-gray-600",children:[a.jsx("button",{onClick:()=>{i&&o(i.id,{type:"release"})},className:`flex-1 px-3 py-1.5 text-sm font-medium transition-colors ${(i==null?void 0:i.type)==="release"?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Release"}),a.jsx("button",{onClick:()=>{i&&o(i.id,{type:"developer"})},className:`flex-1 px-3 py-1.5 text-sm font-medium transition-colors ${(i==null?void 0:i.type)==="developer"?"bg-amber-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Developer"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(i==null?void 0:i.type)==="developer"?"Developer windows are excluded from default export":"Release windows are always included in export"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"canvas-width",className:"block text-xs text-gray-400 mb-1",children:"Width"}),a.jsx("input",{id:"canvas-width",type:"number",value:s,onChange:y=>x(Number(y.target.value),d),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm",min:100,max:4e3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"canvas-height",className:"block text-xs text-gray-400 mb-1",children:"Height"}),a.jsx("input",{id:"canvas-height",type:"number",value:d,onChange:y=>x(s,Number(y.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm",min:100,max:4e3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bg-color",className:"block text-xs text-gray-400 mb-1",children:"Background Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{id:"bg-color",type:"color",value:c,onChange:y=>w(y.target.value),className:"h-8 w-12 bg-gray-700 border border-gray-600 rounded cursor-pointer"}),a.jsx("input",{type:"text",value:c,onChange:y=>w(y.target.value),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm font-mono"})]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Grid Settings"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"show-grid-toggle",checked:p,onChange:y=>f(y.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500 focus:ring-offset-0"}),a.jsx("label",{htmlFor:"show-grid-toggle",className:"text-sm text-gray-300",children:"Show grid"}),a.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Ctrl+G"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"snap-toggle",checked:u,onChange:y=>l(y.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500 focus:ring-offset-0"}),a.jsx("label",{htmlFor:"snap-toggle",className:"text-sm text-gray-300",children:"Snap to grid"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"grid-size",className:"text-sm text-gray-300",children:"Grid size"}),a.jsxs("select",{id:"grid-size",value:h,onChange:y=>m(Number(y.target.value)),className:"ml-auto bg-gray-700 border border-gray-600 text-white rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:5,children:"5px"}),a.jsx("option",{value:10,children:"10px"}),a.jsx("option",{value:20,children:"20px"}),a.jsx("option",{value:50,children:"50px"})]})]})]})]})]})]}),a.jsx("div",{className:"mt-auto",children:a.jsx(BO,{})}),!1]})}function kU(){const e=fe(D=>D.windows),t=fe(D=>D.activeWindowId),r=fe(D=>D.addWindow),n=fe(D=>D.removeWindow),i=fe(D=>D.updateWindow),o=fe(D=>D.setActiveWindow),s=fe(D=>D.duplicateWindow),d=fe(D=>D.saveWindowViewport),c=fe(D=>D.restoreWindowViewport),u=fe(D=>D.clearSelection),[h,p]=X.useState(null),[l,f]=X.useState(""),m=X.useRef(null),[b,S]=X.useState({visible:!1,x:0,y:0,windowId:null});X.useEffect(()=>{const D=()=>S(U=>({...U,visible:!1}));if(b.visible)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[b.visible]),X.useEffect(()=>{h&&m.current&&(m.current.focus(),m.current.select())},[h]);const x=X.useCallback(D=>{D!==t&&(t&&d(t),u(),o(D),c(D))},[t,d,u,o,c]),w=X.useCallback(D=>{p(D.id),f(D.name)},[]),y=X.useCallback(()=>{h&&l.trim()&&i(h,{name:l.trim()}),p(null),f("")},[h,l,i]),_=X.useCallback(D=>{D.key==="Enter"?y():D.key==="Escape"&&(p(null),f(""))},[y]),P=X.useCallback((D,U)=>{D.preventDefault(),S({visible:!0,x:D.clientX,y:D.clientY,windowId:U})},[]),T=X.useCallback(()=>{r({name:`Window ${e.length+1}`,type:"release"})},[r,e.length]),M=X.useCallback(()=>{b.windowId&&n(b.windowId),S(D=>({...D,visible:!1}))},[b.windowId,n]),N=X.useCallback(()=>{b.windowId&&s(b.windowId),S(D=>({...D,visible:!1}))},[b.windowId,s]),O=X.useCallback(()=>{if(b.windowId){const D=e.find(U=>U.id===b.windowId);D&&(p(D.id),f(D.name))}S(D=>({...D,visible:!1}))},[b.windowId,e]),B=X.useCallback(D=>{b.windowId&&i(b.windowId,{type:D}),S(U=>({...U,visible:!1}))},[b.windowId,i]),Z=b.windowId?e.find(D=>D.id===b.windowId):null;return a.jsxs("div",{className:"flex items-center bg-gray-800 border-t border-gray-700 px-2 h-9 gap-1",children:[e.map(D=>{const U=D.id===t,z=h===D.id;return a.jsx("div",{className:`
              flex items-center gap-1.5 px-3 py-1 rounded-t cursor-pointer select-none
              transition-colors text-sm
              ${U?"bg-gray-700 text-white":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/50"}
            `,onClick:()=>x(D.id),onDoubleClick:()=>w(D),onContextMenu:G=>P(G,D.id),children:z?a.jsx("input",{ref:m,type:"text",value:l,onChange:G=>f(G.target.value),onBlur:y,onKeyDown:_,onClick:G=>G.stopPropagation(),className:"bg-gray-600 text-white px-1 py-0.5 rounded text-sm w-24 outline-none border border-blue-500"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"truncate max-w-[120px]",children:D.name}),D.type==="developer"&&a.jsx("span",{className:"text-[10px] px-1 py-0.5 bg-amber-600/80 text-amber-100 rounded font-medium",children:"DEV"})]})},D.id)}),a.jsx("button",{onClick:T,className:"flex items-center justify-center w-7 h-7 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Add new window",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),b.visible&&Z&&a.jsxs("div",{className:"fixed bg-gray-800 border border-gray-600 rounded shadow-lg py-1 z-50 min-w-[160px]",style:{left:b.x,top:b.y},onClick:D=>D.stopPropagation(),children:[a.jsx("button",{onClick:O,className:"w-full px-3 py-1.5 text-left text-sm text-gray-200 hover:bg-gray-700",children:"Rename"}),a.jsx("button",{onClick:N,className:"w-full px-3 py-1.5 text-left text-sm text-gray-200 hover:bg-gray-700",children:"Duplicate"}),a.jsx("div",{className:"border-t border-gray-700 my-1"}),a.jsx("div",{className:"px-3 py-1 text-xs text-gray-500 uppercase",children:"Window Type"}),a.jsxs("button",{onClick:()=>B("release"),className:`w-full px-3 py-1.5 text-left text-sm flex items-center gap-2 ${Z.type==="release"?"text-blue-400 bg-blue-900/30":"text-gray-200 hover:bg-gray-700"}`,children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Release"]}),a.jsxs("button",{onClick:()=>B("developer"),className:`w-full px-3 py-1.5 text-left text-sm flex items-center gap-2 ${Z.type==="developer"?"text-blue-400 bg-blue-900/30":"text-gray-200 hover:bg-gray-700"}`,children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Developer"]}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-t border-gray-700 my-1"}),a.jsx("button",{onClick:M,className:"w-full px-3 py-1.5 text-left text-sm text-red-400 hover:bg-red-900/30",children:"Delete"})]})]})]})}function CU({children:e,bottomPanel:t,showBottomPanel:r=!1}){return a.jsxs("div",{className:"h-screen w-screen bg-gray-900 text-gray-100",style:{display:"grid",gridTemplateColumns:"250px 1fr 300px"},children:[a.jsx($z,{}),a.jsxs("div",{className:"flex flex-col h-screen",children:[a.jsx("div",{className:"relative overflow-hidden flex-1",style:{minHeight:0},children:e}),a.jsx(kU,{}),r&&t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-1 bg-gray-700 flex-shrink-0"}),a.jsx("div",{className:"h-1/2 overflow-hidden",children:t})]})]}),a.jsx(SU,{})]})}function _U(e){const t=fe(l=>l.isPanning),r=fe(l=>l.setPanning),n=fe(l=>l.dragStart),i=fe(l=>l.setDragStart),o=fe(l=>l.scale),s=fe(l=>l.offsetX),d=fe(l=>l.offsetY),c=fe(l=>l.setViewport);X.useEffect(()=>{const l=()=>{const b=document.activeElement;if(!b)return!1;const S=b.tagName.toLowerCase();return S==="input"||S==="textarea"||S==="select"||b.getAttribute("contenteditable")==="true"},f=b=>{l()||b.code==="Space"&&!t&&(b.preventDefault(),r(!0))},m=b=>{b.code==="Space"&&(r(!1),i(null))};return window.addEventListener("keydown",f),window.addEventListener("keyup",m),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",m)}},[t,r,i]);const u=X.useCallback(l=>{if(!t)return;const f={x:l.clientX,y:l.clientY};i({x:f.x-s,y:f.y-d})},[t,s,d,i]),h=X.useCallback(l=>{if(!t||!n)return;const f={x:l.clientX,y:l.clientY},m=f.x-n.x,b=f.y-n.y;c(o,m,b)},[t,n,o,c]),p=X.useCallback(()=>{i(null)},[i]);return{isPanning:t,handlers:{onMouseDown:u,onMouseMove:h,onMouseUp:p}}}const jU=.1,PU=10;function $U(e){const t=fe(o=>o.scale),r=fe(o=>o.offsetX),n=fe(o=>o.offsetY),i=fe(o=>o.setViewport);X.useEffect(()=>{const o=e.current;if(!o)return;const s=d=>{d.preventDefault();const c=o.getBoundingClientRect(),u={x:d.clientX-c.left,y:d.clientY-c.top},p=(d.ctrlKey?-d.deltaY:d.deltaY)<0?1.05:.95,l=fe.getState().scale,f=fe.getState().offsetX,m=fe.getState().offsetY,b=Math.max(jU,Math.min(PU,l*p)),S=(u.x-f)/l,x=(u.y-m)/l,w=u.x-S*b,y=u.y-x*b;fe.getState().setViewport(b,w,y)};return o.addEventListener("wheel",s,{passive:!1}),()=>{o.removeEventListener("wheel",s)}},[e,t,r,n,i])}const A1=20;function gm(e,t,r={x:A1,y:A1},n){const i=[],o=structuredClone(e),s=crypto.randomUUID();o.id=s,o.x=e.x+r.x,o.y=e.y+r.y,n!==void 0&&(o.parentId=n);const d=e;if(d.children&&d.children.length>0){const c=[];for(const u of d.children){const h=t(u);if(h){const p=gm(h,t,{x:0,y:0},s);i.push(...p),p.length>0&&c.push(p[0].id)}}o.children=c}return i.unshift(o),i}function IU(){const e=X.useRef({elements:[],sourceWindowId:null}),t=fe(l=>l.selectedIds),r=fe(l=>l.getElement),n=fe(l=>l.addElement),i=fe(l=>l.clearSelection),o=fe(l=>l.selectMultiple),s=fe(l=>l.activeWindowId),d=fe(l=>l.addElementToWindow),c=fe(l=>l.getWindowForElement),u=X.useCallback(()=>{const l=t.map(f=>r(f)).filter(f=>{if(f===void 0)return!1;const m=c(f.id);return(m==null?void 0:m.id)===s});if(l.length!==0){e.current={elements:l,sourceWindowId:s};try{navigator.clipboard.writeText(JSON.stringify(l,null,2))}catch{}}},[t,r,s,c]),h=X.useCallback(()=>{if(e.current.elements.length===0)return;const l=[];for(const f of e.current.elements){const m=f;if(m.parentId&&e.current.elements.some(x=>x.id===m.parentId))continue;const b=gm(f,r);for(const S of b)n(S),d(S.id);b.length>0&&l.push(b[0].id)}i(),o(l)},[n,d,i,o,r]),p=X.useCallback(()=>{const l=t.map(m=>r(m)).filter(m=>{if(m===void 0)return!1;const b=c(m.id);return(b==null?void 0:b.id)===s});if(l.length===0)return;const f=[];for(const m of l){const b=m;if(b.parentId&&l.some(w=>w.id===b.parentId))continue;const S=gm(m,r);for(const x of S)n(x),d(x.id);S.length>0&&f.push(S[0].id)}i(),o(f)},[t,r,n,d,i,o,c,s]);return{copyToClipboard:u,pasteFromClipboard:h,duplicateSelected:p}}function TU(){const e=fe(p=>p.selectedIds),t=fe(p=>p.removeElement),r=fe(p=>p.clearSelection),n=fe(p=>p.moveToFront),i=fe(p=>p.moveToBack),o=fe(p=>p.moveForward),s=fe(p=>p.moveBackward),d=fe(p=>p.toggleShowGrid),{copyToClipboard:c,pasteFromClipboard:u,duplicateSelected:h}=IU();Wt("ctrl+z, meta+z",p=>{p.preventDefault(),p.stopPropagation(),fe.temporal.getState().undo()},{preventDefault:!0,enableOnFormTags:!0,enableOnContentEditable:!0}),Wt("ctrl+y, ctrl+shift+z, meta+shift+z",p=>{p.preventDefault(),p.stopPropagation(),fe.temporal.getState().redo()},{preventDefault:!0,enableOnFormTags:!0,enableOnContentEditable:!0}),Wt("delete, backspace",()=>{e.length>0&&(e.forEach(p=>t(p)),r())},{preventDefault:!0,enableOnFormTags:!1},[e,t,r]),Wt("escape",()=>{r()},[r]),Wt("mod+shift+]",p=>{p.preventDefault(),e.length===1&&e[0]&&n(e[0])},{enableOnFormTags:!1},[e,n]),Wt("mod+shift+[",p=>{p.preventDefault(),e.length===1&&e[0]&&i(e[0])},{enableOnFormTags:!1},[e,i]),Wt("mod+]",p=>{p.preventDefault(),e.length===1&&e[0]&&o(e[0])},{enableOnFormTags:!1},[e,o]),Wt("mod+[",p=>{p.preventDefault(),e.length===1&&e[0]&&s(e[0])},{enableOnFormTags:!1},[e,s]),Wt("mod+c",p=>{p.preventDefault(),c()},{enableOnFormTags:!1},[c]),Wt("mod+v",p=>{p.preventDefault(),u()},{enableOnFormTags:!1},[u]),Wt("mod+d",p=>{p.preventDefault(),h()},{enableOnFormTags:!1},[h]),Wt("mod+g",p=>{p.preventDefault(),d()},{enableOnFormTags:!1},[d])}function NU(e,t){return!(e.right<t.left||t.right<e.left||e.bottom<t.top||t.bottom<e.top)}function EU(e){var x;const[t,r]=X.useState(null),[n,i]=X.useState(!1),{active:o}=$m(),s=((x=o==null?void 0:o.data.current)==null?void 0:x.sourceType)==="element",d=fe(w=>w.elements),c=fe(w=>w.selectMultiple),u=fe(w=>w.isPanning),h=fe(w=>w.scale),p=fe(w=>w.getLayerById),l=X.useCallback((w,y)=>{var O;const _=(O=e.current)==null?void 0:O.getBoundingClientRect();if(!_)return{x:0,y:0};const P=w-_.left,T=y-_.top,M=P/h,N=T/h;return{x:M,y:N}},[h,e]),f=X.useCallback(w=>{if(w.button!==0||u||s||w.target.closest("[data-element-id]")!==null)return;i(!1);const{x:P,y:T}=l(w.clientX,w.clientY);r({isActive:!0,startX:P,startY:T,currentX:P,currentY:T,didDrag:!1})},[l,u,s]),m=X.useCallback(w=>{if(!(t!=null&&t.isActive))return;const{x:y,y:_}=l(w.clientX,w.clientY),P=Math.abs(y-t.startX),T=Math.abs(_-t.startY),M=P>5||T>5;r(B=>B?{...B,currentX:y,currentY:_,didDrag:B.didDrag||M}:null);const N={left:Math.min(t.startX,y),top:Math.min(t.startY,_),right:Math.max(t.startX,y),bottom:Math.max(t.startY,_)},O=d.filter(B=>{const Z=B.layerId||"default",D=p(Z);if((D==null?void 0:D.visible)===!1)return!1;const U={left:B.x,top:B.y,right:B.x+B.width,bottom:B.y+B.height};return NU(N,U)});O.length>0&&c(O.map(B=>B.id))},[t,l,d,c,p]),b=X.useCallback(()=>{t!=null&&t.didDrag&&(i(!0),setTimeout(()=>i(!1),0)),r(null)},[t==null?void 0:t.didDrag]);return{marqueeRect:t?{x:Math.min(t.startX,t.currentX),y:Math.min(t.startY,t.currentY),width:Math.abs(t.currentX-t.startX),height:Math.abs(t.currentY-t.startY)}:null,isActive:(t==null?void 0:t.isActive)??!1,justFinishedDrag:n,handlers:{onMouseDown:f,onMouseMove:m,onMouseUp:b,onMouseLeave:b}}}const R1=fe.temporal;function zU(){const[e,t]=X.useState(!1),[r,n]=X.useState(null),[i,o]=X.useState(null),s=X.useRef({x:0,y:0}),d=X.useRef({x:0,y:0,width:0,height:0}),c=fe(b=>b.scale),u=fe(b=>b.getElement),h=fe(b=>b.updateElement),p=fe(b=>b.snapToGrid),l=fe(b=>b.gridSize),f=fe(b=>b.setLiveDragValues),m=X.useCallback((b,S,x)=>{b.stopPropagation(),b.preventDefault();const w=u(x);w&&(R1.getState().pause(),t(!0),n(S),o(x),s.current={x:b.clientX,y:b.clientY},d.current={x:w.x,y:w.y,width:w.width,height:w.height})},[u]);return X.useEffect(()=>{if(!e||!r||!i)return;const b=x=>{const w=(x.clientX-s.current.x)/c,y=(x.clientY-s.current.y)/c,_=u(i);if(!_)return;const P=_.type==="svggraphic"?8:20;let T={};switch(r){case"se":T={width:Math.max(P,d.current.width+w),height:Math.max(P,d.current.height+y)};break;case"sw":const M=Math.max(P,d.current.width-w);T={x:d.current.x+d.current.width-M,width:M,height:Math.max(P,d.current.height+y)};break;case"ne":const N=Math.max(P,d.current.height-y);T={y:d.current.y+d.current.height-N,width:Math.max(P,d.current.width+w),height:N};break;case"nw":const O=Math.max(P,d.current.width-w),B=Math.max(P,d.current.height-y);T={x:d.current.x+d.current.width-O,y:d.current.y+d.current.height-B,width:O,height:B};break;case"n":const Z=Math.max(P,d.current.height-y);T={y:d.current.y+d.current.height-Z,height:Z};break;case"s":T={height:Math.max(P,d.current.height+y)};break;case"e":T={width:Math.max(P,d.current.width+w)};break;case"w":const D=Math.max(P,d.current.width-w);T={x:d.current.x+d.current.width-D,width:D};break}if(_.type==="svggraphic"&&!x.shiftKey){const M=d.current.width/d.current.height;if(r==="e"||r==="w"){const N=T.width??_.width;T.height=N/M}else if(r==="n"||r==="s"){const N=T.height??_.height;T.width=N*M}else{const N=T.width??_.width,O=T.height??_.height,B=Math.abs(N-d.current.width)/d.current.width,Z=Math.abs(O-d.current.height)/d.current.height;B>Z?T.height=N/M:T.width=O*M,(r==="nw"||r==="sw")&&(T.x=d.current.x+d.current.width-(T.width??_.width)),(r==="nw"||r==="ne")&&(T.y=d.current.y+d.current.height-(T.height??_.height))}((T.width??_.width)<P||(T.height??_.height)<P)&&(M>=1?(T.width=Math.max(P,T.width??_.width),T.height=(T.width??_.width)/M):(T.height=Math.max(P,T.height??_.height),T.width=(T.height??_.height)*M))}f({[i]:{x:T.x??_.x,y:T.y??_.y,width:T.width??_.width,height:T.height??_.height}}),h(i,T)},S=()=>{if(p){const x=u(i);if(x){const w={};x.x!==void 0&&(w.x=ss(x.x,l)),x.y!==void 0&&(w.y=ss(x.y,l)),x.width!==void 0&&(w.width=ss(x.width,l)),x.height!==void 0&&(w.height=ss(x.height,l)),h(i,w)}}R1.getState().resume(),f(null),t(!1),n(null),o(null)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)}},[e,r,i,c,h,p,l,u,f]),{isResizing:e,startResize:m}}function DU(e){switch(e){case"nw":case"se":return"nwse-resize";case"ne":case"sw":return"nesw-resize";case"n":case"s":return"ns-resize";case"e":case"w":return"ew-resize";default:return"default"}}function OU(){const e=document.activeElement;if(!e)return!1;const t=e.tagName.toLowerCase();return t==="input"||t==="textarea"||e.getAttribute("contenteditable")==="true"}function FU(){const e=fe(i=>i.selectedIds),t=fe(i=>i.getElement),r=fe(i=>i.updateElement),n=(i,o)=>{OU()||e.length!==0&&e.forEach(s=>{const d=t(s);!d||d.locked||r(s,{x:d.x+i,y:d.y+o})})};Wt("ArrowUp",i=>{i.preventDefault(),n(0,-1)},{enableOnFormTags:!1}),Wt("ArrowDown",i=>{i.preventDefault(),n(0,1)},{enableOnFormTags:!1}),Wt("ArrowLeft",i=>{i.preventDefault(),n(-1,0)},{enableOnFormTags:!1}),Wt("ArrowRight",i=>{i.preventDefault(),n(1,0)},{enableOnFormTags:!1}),Wt("shift+ArrowUp",i=>{i.preventDefault(),n(0,-10)},{enableOnFormTags:!1}),Wt("shift+ArrowDown",i=>{i.preventDefault(),n(0,10)},{enableOnFormTags:!1}),Wt("shift+ArrowLeft",i=>{i.preventDefault(),n(-10,0)},{enableOnFormTags:!1}),Wt("shift+ArrowRight",i=>{i.preventDefault(),n(10,0)},{enableOnFormTags:!1})}function MU({element:e,children:t,onClick:r,isHoldingAltCtrl:n=!1}){var U,z,G;const i=fe(ne=>ne.selectedIds),o=i.includes(e.id),s=fe(ne=>ne.lockAllMode),d=fe(ne=>ne.liveDragValues),c=fe(ne=>ne.getLayerById),u=e.layerId||"default",h=c(u),p=(h==null?void 0:h.locked)||!1,l=e.locked||p,{active:f}=$m(),{attributes:m,listeners:b,setNodeRef:S,transform:x,isDragging:w}=ch({id:`element-${e.id}`,data:{sourceType:"element",element:e},disabled:!o||l||s}),y=X.useRef(!1),_=X.useRef(!1);X.useEffect(()=>{if(w)y.current=!0;else if(y.current){_.current=!0,y.current=!1;const ne=setTimeout(()=>{_.current=!1},50);return()=>clearTimeout(ne)}},[w]);const P=ne=>{_.current||r==null||r(ne)},T=(z=(U=f==null?void 0:f.data.current)==null?void 0:U.element)==null?void 0:z.id,M=((G=f==null?void 0:f.data.current)==null?void 0:G.sourceType)==="element"&&T&&i.includes(T),N=d==null?void 0:d[e.id];let O=0,B=0;w&&x?(O=x.x,B=x.y):M&&N&&o&&!l&&(O=N.x!==void 0?N.x-e.x:0,B=N.y!==void 0?N.y-e.y:0);const Z=O!==0||B!==0?`translate(${O}px, ${B}px)`:void 0,D={position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,transform:Z,zIndex:e.zIndex,visibility:e.visible?"visible":"hidden",pointerEvents:s?"none":"auto",cursor:s?"default":l?"pointer":w||M?"grabbing":o&&n?"pointer":o?"grab":"pointer"};return a.jsx("div",{ref:S,"data-element-id":e.id,style:D,onClick:P,...b,...m,children:t})}const LU=["panel","frame","groupbox","collapsible","windowchrome","tooltip"];function B1({direction:e,size:t,thumbColor:r,thumbHoverColor:n,trackColor:i,borderRadius:o,onClick:s}){const[d,c]=X.useState(!1),u=()=>{const h=Math.floor(t*.3),p=t/2,l=t-h*2;switch(e){case"up":return`M${h},${p+l/4} L${p},${h} L${t-h},${p+l/4}`;case"down":return`M${h},${p-l/4} L${p},${t-h} L${t-h},${p-l/4}`;case"left":return`M${p+l/4},${h} L${h},${p} L${p+l/4},${t-h}`;case"right":return`M${p-l/4},${h} L${t-h},${p} L${p-l/4},${t-h}`}};return a.jsx("div",{style:{width:t,height:t,backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0,borderRadius:o,pointerEvents:"auto"},onClick:h=>{h.stopPropagation(),s()},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:a.jsx("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,children:a.jsx("path",{d:u(),fill:"none",stroke:d?n:r,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})}function U1({contentRef:e,config:t,orientation:r,cornerSize:n=0}){const[i,o]=X.useState(0),[s,d]=X.useState(50),[c,u]=X.useState(!1),[h,p]=X.useState(!1),[l,f]=X.useState(!1),m=X.useRef(null),b=X.useRef({mousePos:0,scrollPos:0}),S=t.scrollbarWidth??At.scrollbarWidth,x=t.scrollbarThumbColor??At.scrollbarThumbColor,w=t.scrollbarThumbHoverColor??At.scrollbarThumbHoverColor,y=t.scrollbarTrackColor??At.scrollbarTrackColor,_=t.scrollbarBorderRadius??At.scrollbarBorderRadius,P=t.scrollbarThumbBorder??At.scrollbarThumbBorder,T=r==="vertical",M=S,N=X.useCallback(()=>{const ne=e.current;if(!ne)return;const A=T?ne.clientHeight:ne.clientWidth,k=T?ne.scrollHeight:ne.scrollWidth,j=T?ne.scrollTop:ne.scrollLeft,$=k>A+1;if(f($),!$)return;const R=A-n-M*2,W=A/k,te=Math.max(30,R*W);d(te);const ie=k-A,J=R-te,ee=ie>0?j/ie*J:0;o(ee)},[e,T,n,M]);X.useEffect(()=>{const ne=e.current;if(!ne)return;N(),ne.addEventListener("scroll",N);const A=new ResizeObserver(N);A.observe(ne);const k=new MutationObserver(N);return k.observe(ne,{childList:!0,subtree:!0}),()=>{ne.removeEventListener("scroll",N),A.disconnect(),k.disconnect()}},[e,N]);const O=ne=>{const A=e.current;A&&(T?A.scrollTop+=ne:A.scrollLeft+=ne)},B=ne=>{ne.preventDefault(),ne.stopPropagation();const A=e.current;if(!A)return;p(!0),b.current={mousePos:T?ne.clientY:ne.clientX,scrollPos:T?A.scrollTop:A.scrollLeft};const k=$=>{const F=e.current;if(!F)return;const W=(T?$.clientY:$.clientX)-b.current.mousePos,Y=T?F.clientHeight:F.clientWidth,te=T?F.scrollHeight:F.scrollWidth,J=Y-n-M*2,ee=(te-Y)/(J-s),Q=b.current.scrollPos+W*ee;T?F.scrollTop=Q:F.scrollLeft=Q},j=()=>{p(!1),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",j)},Z=ne=>{if(ne.target.dataset.thumb)return;const A=e.current,k=m.current;if(!A||!k)return;const j=k.getBoundingClientRect(),$=T?ne.clientY-j.top-s/2:ne.clientX-j.left-s/2,F=T?A.clientHeight:A.clientWidth,R=T?A.scrollHeight:A.scrollWidth,Y=F-n-M*2,te=(R-F)/(Y-s),ie=Math.max(0,$*te);T?A.scrollTop=ie:A.scrollLeft=ie};if(!l)return null;const D=P>0?S-P*2:S,U=T?{position:"absolute",right:0,top:0,width:S,height:n>0?`calc(100% - ${n}px)`:"100%",display:"flex",flexDirection:"column",backgroundColor:y,zIndex:100,pointerEvents:"auto"}:{position:"absolute",left:0,bottom:0,height:S,width:n>0?`calc(100% - ${n}px)`:"100%",display:"flex",flexDirection:"row",backgroundColor:y,zIndex:100,pointerEvents:"auto"},z={flex:1,position:"relative",cursor:"pointer"},G=T?{position:"absolute",top:i,left:P,width:D,height:s,backgroundColor:c||h?w:x,borderRadius:_,cursor:h?"grabbing":"grab",transition:h?"none":"background-color 0.15s ease",boxSizing:"border-box"}:{position:"absolute",left:i,top:P,height:D,width:s,backgroundColor:c||h?w:x,borderRadius:_,cursor:h?"grabbing":"grab",transition:h?"none":"background-color 0.15s ease",boxSizing:"border-box"};return a.jsxs("div",{style:U,children:[a.jsx(B1,{direction:T?"up":"left",size:M,thumbColor:x,thumbHoverColor:w,trackColor:y,borderRadius:_,onClick:()=>O(-30)}),a.jsx("div",{ref:m,onClick:Z,style:z,children:a.jsx("div",{"data-thumb":"true",onMouseDown:B,onMouseEnter:()=>u(!0),onMouseLeave:()=>!h&&u(!1),style:G})}),a.jsx(B1,{direction:T?"down":"right",size:M,thumbColor:x,thumbHoverColor:w,trackColor:y,borderRadius:_,onClick:()=>O(30)})]})}function AU({config:e}){const t=e.scrollbarWidth??At.scrollbarWidth,r=e.scrollbarTrackColor??At.scrollbarTrackColor,n=e.scrollbarBorderRadius??At.scrollbarBorderRadius;return a.jsx("div",{style:{position:"absolute",right:0,bottom:0,width:t,height:t,backgroundColor:r,borderRadius:n,zIndex:100,pointerEvents:"auto"}})}function RU(){return a.jsx("div",{style:{padding:"8px",color:"#666"},children:"Loading..."})}function BU({element:e}){const t=fe(N=>N.selectElement),r=fe(N=>N.toggleSelection),n=fe(N=>N.addToSelection),i=fe(N=>N.selectedIds),o=fe(N=>N.lockAllMode),s=fe(N=>N.elements),d=X.useRef(null),[c,u]=X.useState(!1),{isPro:h}=hh(),p=e.isPro&&!h;X.useEffect(()=>{const N=Z=>{(Z.altKey||Z.ctrlKey||Z.metaKey)&&u(!0)},O=Z=>{!Z.altKey&&!Z.ctrlKey&&!Z.metaKey&&u(!1)},B=()=>u(!1);return window.addEventListener("keydown",N),window.addEventListener("keyup",O),window.addEventListener("blur",B),()=>{window.removeEventListener("keydown",N),window.removeEventListener("keyup",O),window.removeEventListener("blur",B)}},[]);const l=X.useMemo(()=>{if(!LU.includes(e.type))return[];const N=e;return!N.children||N.children.length===0?[]:s.filter(O=>N.children.includes(O.id))},[e,s]),f=N=>{if(N.stopPropagation(),o)return;const O=fe.getState().selectedIds,B=O.includes(e.id),Z=N.altKey||N.ctrlKey||N.metaKey;N.shiftKey?n(e.id):Z&&B?r(e.id):Z&&!B?n(e.id):B&&O.length>1||t(e.id)},m=gC(e.type);if(!m)return console.warn(`No renderer found for element type: ${e.type}`),null;const b=e,S=e.type==="collapsible"?b.scrollBehavior!=="hidden":b.allowScroll??!1,x=b.scrollbarWidth??At.scrollbarWidth,[w,y]=X.useState(!1),[_,P]=X.useState(!1);X.useEffect(()=>{const N=d.current;if(!N||!S){y(!1),P(!1);return}const O=()=>{y(N.scrollHeight>N.clientHeight+1),P(N.scrollWidth>N.clientWidth+1)};O();const B=new ResizeObserver(O);B.observe(N);const Z=new MutationObserver(O);return Z.observe(N,{childList:!0,subtree:!0}),()=>{B.disconnect(),Z.disconnect()}},[S,l]);const T=w&&_,M=i.includes(e.id);return a.jsxs(MU,{element:e,onClick:f,isHoldingAltCtrl:c&&M,children:[a.jsx(X.Suspense,{fallback:a.jsx(RU,{}),children:a.jsx(m,{config:e})}),p&&a.jsx("div",{className:"absolute bg-violet-500 text-white font-bold px-2 py-1 rounded pointer-events-none select-none z-50",style:{fontSize:"10px",lineHeight:"12px",top:"-4px",right:"-4px"},children:"PRO"}),l.length>0&&a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},children:[a.jsxs("div",{ref:d,style:{position:"absolute",top:0,left:0,width:S&&w?`calc(100% - ${x}px)`:"100%",height:S&&_?`calc(100% - ${x}px)`:"100%",overflow:S?"auto":"hidden",scrollbarWidth:"none",msOverflowStyle:"none"},className:"hide-native-scrollbar",children:[a.jsx("style",{children:".hide-native-scrollbar::-webkit-scrollbar { display: none; }"}),l.map(N=>a.jsx(f4,{element:N},N.id))]}),S&&w&&a.jsx(U1,{contentRef:d,config:b,orientation:"vertical",cornerSize:T?x:0}),S&&_&&a.jsx(U1,{contentRef:d,config:b,orientation:"horizontal",cornerSize:T?x:0}),S&&T&&a.jsx(AU,{config:b})]})]})}const f4=wt.memo(BU);function UU({elementId:e}){const t=fe(S=>S.getElement(e)),r=fe(S=>S.getLayerById),{startResize:n}=zU();if(!t)return null;const i=t.layerId||"default",o=r(i),s=(o==null?void 0:o.locked)||!1,d=t.locked||s,c=o?lu[o.color]:"#3b82f6",{x:u,y:h,width:p,height:l,rotation:f=0}=t,m=f!==0?`rotate(${f}deg)`:void 0,b=({position:S})=>{if(d)return null;const x={position:"absolute",width:"8px",height:"8px",background:"white",border:`1px solid ${c}`,pointerEvents:"auto",cursor:DU(S)},w={};switch(S){case"nw":w.left="-4px",w.top="-4px";break;case"n":w.left="50%",w.top="-4px",w.transform="translateX(-50%)";break;case"ne":w.right="-4px",w.top="-4px";break;case"e":w.right="-4px",w.top="50%",w.transform="translateY(-50%)";break;case"se":w.right="-4px",w.bottom="-4px";break;case"s":w.left="50%",w.bottom="-4px",w.transform="translateX(-50%)";break;case"sw":w.left="-4px",w.bottom="-4px";break;case"w":w.left="-4px",w.top="50%",w.transform="translateY(-50%)";break}return a.jsx("div",{className:"resize-handle",style:{...x,...w},onMouseDown:y=>n(y,S,e)})};return a.jsxs("div",{className:"selection-overlay",style:{position:"absolute",left:`${u}px`,top:`${h}px`,width:`${p}px`,height:`${l}px`,border:`2px solid ${c}`,pointerEvents:"none",transformOrigin:"0 0",transform:m},children:[a.jsx(b,{position:"nw"}),a.jsx(b,{position:"ne"}),a.jsx(b,{position:"sw"}),a.jsx(b,{position:"se"}),a.jsx(b,{position:"n"}),a.jsx(b,{position:"s"}),a.jsx(b,{position:"e"}),a.jsx(b,{position:"w"})]})}function VU({rect:e}){return a.jsx("div",{style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,border:"1px dashed #3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",pointerEvents:"none"}})}function WU(){const e=X.useRef(null),t=X.useRef(null),[r,n]=X.useState({width:0,height:0}),{setNodeRef:i,isOver:o}=L2({id:"canvas-droppable"}),s=fe(V=>V.scale),d=fe(V=>V.offsetX),c=fe(V=>V.offsetY),u=fe(V=>V.isPanning),h=fe(V=>V.dragStart),p=fe(V=>V.setScale),l=fe(V=>V.setViewport),[f,m]=X.useState(!1),[b,S]=X.useState(""),x=X.useRef(null),w=fe(V=>V.getActiveWindow()),y=(w==null?void 0:w.width)??800,_=(w==null?void 0:w.height)??600,P=(w==null?void 0:w.backgroundColor)??"#1a1a1a",T=(w==null?void 0:w.backgroundType)??"color",M=w==null?void 0:w.gradientConfig,N=fe(V=>V.showGrid),O=fe(V=>V.gridSize),B=fe(V=>V.gridColor),Z=fe(V=>V.elements),D=(w==null?void 0:w.elementIds)??[],U=Z.filter(V=>D.includes(V.id)),z=fe(V=>V.selectedIds),G=fe(V=>V.clearSelection),ne=fe(V=>V.updateElement),A=fe(V=>V.getLayersInOrder),k=fe(V=>V.getLayerById),j=fe(V=>V.layers),[$,F]=X.useState(null),[R,W]=X.useState(!1),Y=X.useMemo(()=>{const V=A(),me=new Map(V.map((Ie,Re)=>[Ie.id,Re])),pe=U.filter(Ie=>{const Re=Ie.layerId||"default",Be=k(Re);return(Be==null?void 0:Be.visible)!==!1});return(Ie=>[...Ie].sort((Re,Be)=>{const ot=Re.layerId||"default",st=Be.layerId||"default",pt=me.get(ot)??0,Rt=me.get(st)??0;return pt!==Rt?pt-Rt:0}))(pe)},[U,A,k,j]),{handlers:te}=_U();$U(e);const{marqueeRect:ie,justFinishedDrag:J,handlers:ee}=EU(t);TU(),FU();const Q=X.useCallback(()=>{if(!J){if($){F(null),W(!1);return}G()}},[G,J,$]),he=X.useCallback((V,me)=>{V.preventDefault(),V.stopPropagation(),F({x:V.clientX,y:V.clientY,elementId:me}),W(!1)},[]),ge=X.useCallback(()=>{F(null),W(!1)},[]),ye=X.useCallback((V,me)=>{ne(V,{layerId:me}),F(null),W(!1)},[ne]),_e=X.useCallback(()=>{const V=e.current;if(V){const me=V.getBoundingClientRect(),pe=(me.width-y)/2,ke=(me.height-_)/2;l(1,pe,ke)}else p(1)},[y,_,l,p]),H=X.useCallback(()=>{S(Math.round(s*100).toString()),m(!0),setTimeout(()=>{var V;return(V=x.current)==null?void 0:V.select()},0)},[s]),Se=X.useCallback(V=>{const me=V.target.value.replace(/[^0-9]/g,"");S(me)},[]),Ce=X.useCallback(()=>{const V=parseInt(b,10);!isNaN(V)&&V>=10&&V<=1e3&&p(V/100),m(!1)},[b,p]),se=X.useCallback(V=>{V.key==="Enter"?Ce():V.key==="Escape"&&m(!1)},[Ce]);X.useEffect(()=>{t.current&&i(t.current)},[i]),X.useEffect(()=>{if(!e.current)return;const V=new ResizeObserver(me=>{for(const pe of me){const{width:ke,height:Ie}=pe.contentRect;n({width:ke,height:Ie})}});return V.observe(e.current),()=>{V.disconnect()}},[]),X.useEffect(()=>{if(!$)return;const V=pe=>{pe.target.closest(".canvas-context-menu")||ge()},me=pe=>{pe.key==="Escape"&&ge()};return document.addEventListener("mousedown",V),document.addEventListener("keydown",me),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",me)}},[$,ge]);const ae=`translate(${d}px, ${c}px) scale(${s})`,xe=()=>{if(!N)return;const V=`${B}1a`,me=1;return`
      linear-gradient(to right, ${V} ${me}px, transparent ${me}px),
      linear-gradient(to bottom, ${V} ${me}px, transparent ${me}px)
    `.trim()},$e=()=>{const V=xe();if(T==="gradient"&&M){const me=M.angle??180,pe=M.colors.join(", ");return V?{background:`${V}, linear-gradient(${me}deg, ${pe})`,backgroundSize:`${O}px ${O}px, 100% 100%`}:{background:`linear-gradient(${me}deg, ${pe})`}}return V?{backgroundColor:P,backgroundImage:V,backgroundSize:`${O}px ${O}px`}:{backgroundColor:P}},ue=u&&h?"grabbing":u?"grab":"default";return a.jsxs("div",{className:"w-full h-full relative",children:[a.jsx("div",{ref:e,className:"canvas-viewport w-full h-full overflow-hidden",style:{cursor:ue},...te,children:a.jsx("div",{className:"canvas-container",style:{transform:ae,transformOrigin:"0 0",willChange:"transform"},children:a.jsxs("div",{ref:t,className:`canvas-background ${o?"ring-2 ring-blue-500 ring-opacity-50":""}`,style:{width:`${y}px`,height:`${_}px`,border:"1px solid #4b5563",position:"relative",...$e()},onClick:Q,onMouseDown:ee.onMouseDown,onMouseMove:ee.onMouseMove,onMouseUp:ee.onMouseUp,onMouseLeave:ee.onMouseLeave,onContextMenu:V=>{const pe=V.target.closest("[data-element-id]");if(pe){const ke=pe.getAttribute("data-element-id");ke&&he(V,ke)}},children:[Y.filter(V=>!V.parentId).map(V=>a.jsx(f4,{element:V},V.id)),z.filter(V=>{const me=Y.find(pe=>pe.id===V);return me&&!me.parentId}).map(V=>a.jsx(UU,{elementId:V},`selection-${V}`)),ie&&ie.width>5&&ie.height>5&&a.jsx(VU,{rect:ie})]})})}),r.width>0&&a.jsxs("div",{className:"absolute bottom-4 right-4 bg-gray-800 border border-gray-700 px-3 py-1 rounded text-sm text-gray-300 cursor-pointer hover:bg-gray-700 hover:border-gray-600 transition-colors select-none",onClick:H,onDoubleClick:_e,title:"Click to edit, double-click to reset to 100%",children:[f?a.jsx("input",{ref:x,type:"text",value:b,onChange:Se,onBlur:Ce,onKeyDown:se,className:"w-12 bg-transparent border-none outline-none text-gray-300 text-center",autoFocus:!0,onClick:V=>V.stopPropagation()}):Math.round(s*100),"%"]}),$&&(()=>{const V=Z.find(ke=>ke.id===$.elementId),me=(V==null?void 0:V.layerId)||"default",pe=A();return a.jsx("div",{className:"canvas-context-menu fixed bg-gray-800 border border-gray-600 rounded-lg shadow-xl py-1 z-50 min-w-[180px]",style:{left:$.x,top:$.y},children:a.jsxs("div",{className:"relative",onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-700 cursor-pointer text-gray-200 text-sm",children:[a.jsx("span",{children:"Move to Layer"}),a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),R&&a.jsx("div",{className:"absolute left-full top-0 bg-gray-800 border border-gray-600 rounded-lg shadow-xl py-1 min-w-[160px] -ml-1",children:pe.map(ke=>{const Ie=ke.id===me,Re=lu[ke.color];return a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 hover:bg-gray-700 cursor-pointer text-sm ${Ie?"text-blue-400":"text-gray-200"}`,onClick:()=>ye($.elementId,ke.id),children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Re}}),a.jsx("span",{className:"flex-1 truncate",children:ke.name}),Ie&&a.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})]},ke.id)})})]})})})()]})}function HU(){return a.jsx(WU,{})}var Gd={exports:{}},ll={},Pp={},$p={},V1;function gt(){return V1||(V1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof ls<"u"?ls:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.22",isBrowser:r(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return e.Konva.angleDeg?i*t:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var i;return(i=e.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(i){e.glob.Konva=i}};const n=i=>{e.Konva[i.prototype.getClassName()]=i};e._registerNode=n,e.Konva._injectGlobal(e.Konva)})($p)),$p}var Ip={},W1;function tr(){return W1||(W1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=gt();class r{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){const P=this.m;return{x:P[0]*_.x+P[2]*_.y+P[4],y:P[1]*_.x+P[3]*_.y+P[5]}}translate(_,P){return this.m[4]+=this.m[0]*_+this.m[2]*P,this.m[5]+=this.m[1]*_+this.m[3]*P,this}scale(_,P){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=P,this.m[3]*=P,this}rotate(_){const P=Math.cos(_),T=Math.sin(_),M=this.m[0]*P+this.m[2]*T,N=this.m[1]*P+this.m[3]*T,O=this.m[0]*-T+this.m[2]*P,B=this.m[1]*-T+this.m[3]*P;return this.m[0]=M,this.m[1]=N,this.m[2]=O,this.m[3]=B,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,P){const T=this.m[0]+this.m[2]*P,M=this.m[1]+this.m[3]*P,N=this.m[2]+this.m[0]*_,O=this.m[3]+this.m[1]*_;return this.m[0]=T,this.m[1]=M,this.m[2]=N,this.m[3]=O,this}multiply(_){const P=this.m[0]*_.m[0]+this.m[2]*_.m[1],T=this.m[1]*_.m[0]+this.m[3]*_.m[1],M=this.m[0]*_.m[2]+this.m[2]*_.m[3],N=this.m[1]*_.m[2]+this.m[3]*_.m[3],O=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],B=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=P,this.m[1]=T,this.m[2]=M,this.m[3]=N,this.m[4]=O,this.m[5]=B,this}invert(){const _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),P=this.m[3]*_,T=-this.m[1]*_,M=-this.m[2]*_,N=this.m[0]*_,O=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),B=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=P,this.m[1]=T,this.m[2]=M,this.m[3]=N,this.m[4]=O,this.m[5]=B,this}getMatrix(){return this.m}decompose(){const _=this.m[0],P=this.m[1],T=this.m[2],M=this.m[3],N=this.m[4],O=this.m[5],B=_*M-P*T,Z={x:N,y:O,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||P!=0){const D=Math.sqrt(_*_+P*P);Z.rotation=P>0?Math.acos(_/D):-Math.acos(_/D),Z.scaleX=D,Z.scaleY=B/D,Z.skewX=(_*T+P*M)/B,Z.skewY=0}else if(T!=0||M!=0){const D=Math.sqrt(T*T+M*M);Z.rotation=Math.PI/2-(M>0?Math.acos(-T/D):-Math.acos(T/D)),Z.scaleX=B/D,Z.scaleY=D,Z.skewX=0,Z.skewY=(_*T+P*M)/B}return Z.rotation=e.Util._getRotation(Z.rotation),Z}}e.Transform=r;const n="[object Array]",i="[object Number]",o="[object String]",s="[object Boolean]",d=Math.PI/180,c=180/Math.PI,u="#",h="",p="0",l="Konva warning: ",f="Konva error: ",m="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let x=[];const w=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(y){setTimeout(y,60)};e.Util={_isElement(y){return!!(y&&y.nodeType==1)},_isFunction(y){return!!(y&&y.constructor&&y.call&&y.apply)},_isPlainObject(y){return!!y&&y.constructor===Object},_isArray(y){return Object.prototype.toString.call(y)===n},_isNumber(y){return Object.prototype.toString.call(y)===i&&!isNaN(y)&&isFinite(y)},_isString(y){return Object.prototype.toString.call(y)===o},_isBoolean(y){return Object.prototype.toString.call(y)===s},isObject(y){return y instanceof Object},isValidSelector(y){if(typeof y!="string")return!1;const _=y[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(y){return y===0||y>0?1:-1},requestAnimFrame(y){x.push(y),x.length===1&&w(function(){const _=x;x=[],_.forEach(function(P){P()})})},createCanvasElement(){const y=document.createElement("canvas");try{y.style=y.style||{}}catch{}return y},createImageElement(){return document.createElement("img")},_isInDocument(y){for(;y=y.parentNode;)if(y==document)return!0;return!1},_urlToImage(y,_){const P=e.Util.createImageElement();P.onload=function(){_(P)},P.src=y},_rgbToHex(y,_,P){return((1<<24)+(y<<16)+(_<<8)+P).toString(16).slice(1)},_hexToRgb(y){y=y.replace(u,h);const _=parseInt(y,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){let y=(Math.random()*16777215<<0).toString(16);for(;y.length<6;)y=p+y;return u+y},getRGB(y){let _;return y in b?(_=b[y],{r:_[0],g:_[1],b:_[2]}):y[0]===u?this._hexToRgb(y.substring(1)):y.substr(0,4)===m?(_=S.exec(y.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(y){return y=y||"black",e.Util._namedColorToRBA(y)||e.Util._hex3ColorToRGBA(y)||e.Util._hex4ColorToRGBA(y)||e.Util._hex6ColorToRGBA(y)||e.Util._hex8ColorToRGBA(y)||e.Util._rgbColorToRGBA(y)||e.Util._rgbaColorToRGBA(y)||e.Util._hslColorToRGBA(y)},_namedColorToRBA(y){const _=b[y.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(y){if(y.indexOf("rgb(")===0){y=y.match(/rgb\(([^)]+)\)/)[1];const _=y.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(y){if(y.indexOf("rgba(")===0){y=y.match(/rgba\(([^)]+)\)/)[1];const _=y.split(/ *, */).map((P,T)=>P.slice(-1)==="%"?T===3?parseInt(P)/100:parseInt(P)/100*255:Number(P));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(y){if(y[0]==="#"&&y.length===9)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:parseInt(y.slice(7,9),16)/255}},_hex6ColorToRGBA(y){if(y[0]==="#"&&y.length===7)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:1}},_hex4ColorToRGBA(y){if(y[0]==="#"&&y.length===5)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:parseInt(y[4]+y[4],16)/255}},_hex3ColorToRGBA(y){if(y[0]==="#"&&y.length===4)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:1}},_hslColorToRGBA(y){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(y)){const[_,...P]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(y),T=Number(P[0])/360,M=Number(P[1])/100,N=Number(P[2])/100;let O,B,Z;if(M===0)return Z=N*255,{r:Math.round(Z),g:Math.round(Z),b:Math.round(Z),a:1};N<.5?O=N*(1+M):O=N+M-N*M;const D=2*N-O,U=[0,0,0];for(let z=0;z<3;z++)B=T+1/3*-(z-1),B<0&&B++,B>1&&B--,6*B<1?Z=D+(O-D)*6*B:2*B<1?Z=O:3*B<2?Z=D+(O-D)*(2/3-B)*6:Z=D,U[z]=Z*255;return{r:Math.round(U[0]),g:Math.round(U[1]),b:Math.round(U[2]),a:1}}},haveIntersection(y,_){return!(_.x>y.x+y.width||_.x+_.width<y.x||_.y>y.y+y.height||_.y+_.height<y.y)},cloneObject(y){const _={};for(const P in y)this._isPlainObject(y[P])?_[P]=this.cloneObject(y[P]):this._isArray(y[P])?_[P]=this.cloneArray(y[P]):_[P]=y[P];return _},cloneArray(y){return y.slice(0)},degToRad(y){return y*d},radToDeg(y){return y*c},_degToRad(y){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(y)},_radToDeg(y){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(y)},_getRotation(y){return t.Konva.angleDeg?e.Util.radToDeg(y):y},_capitalize(y){return y.charAt(0).toUpperCase()+y.slice(1)},throw(y){throw new Error(f+y)},error(y){console.error(f+y)},warn(y){t.Konva.showWarnings&&console.warn(l+y)},each(y,_){for(const P in y)_(P,y[P])},_inRange(y,_,P){return _<=y&&y<P},_getProjectionToSegment(y,_,P,T,M,N){let O,B,Z;const D=(y-P)*(y-P)+(_-T)*(_-T);if(D==0)O=y,B=_,Z=(M-P)*(M-P)+(N-T)*(N-T);else{const U=((M-y)*(P-y)+(N-_)*(T-_))/D;U<0?(O=y,B=_,Z=(y-M)*(y-M)+(_-N)*(_-N)):U>1?(O=P,B=T,Z=(P-M)*(P-M)+(T-N)*(T-N)):(O=y+U*(P-y),B=_+U*(T-_),Z=(O-M)*(O-M)+(B-N)*(B-N))}return[O,B,Z]},_getProjectionToLine(y,_,P){const T=e.Util.cloneObject(y);let M=Number.MAX_VALUE;return _.forEach(function(N,O){if(!P&&O===_.length-1)return;const B=_[(O+1)%_.length],Z=e.Util._getProjectionToSegment(N.x,N.y,B.x,B.y,y.x,y.y),D=Z[0],U=Z[1],z=Z[2];z<M&&(T.x=D,T.y=U,M=z)}),T},_prepareArrayForTween(y,_,P){const T=[],M=[];if(y.length>_.length){const O=_;_=y,y=O}for(let O=0;O<y.length;O+=2)T.push({x:y[O],y:y[O+1]});for(let O=0;O<_.length;O+=2)M.push({x:_[O],y:_[O+1]});const N=[];return M.forEach(function(O){const B=e.Util._getProjectionToLine(O,T,P);N.push(B.x),N.push(B.y)}),N},_prepareToStringify(y){let _;y.visitedByCircularReferenceRemoval=!0;for(const P in y)if(y.hasOwnProperty(P)&&y[P]&&typeof y[P]=="object"){if(_=Object.getOwnPropertyDescriptor(y,P),y[P].visitedByCircularReferenceRemoval||e.Util._isElement(y[P]))if(_.configurable)delete y[P];else return null;else if(e.Util._prepareToStringify(y[P])===null)if(_.configurable)delete y[P];else return null}return delete y.visitedByCircularReferenceRemoval,y},_assign(y,_){for(const P in _)y[P]=_[P];return y},_getFirstPointerId(y){return y.touches?y.changedTouches[0].identifier:y.pointerId||999},releaseCanvas(...y){t.Konva.releaseCanvasOnDestroy&&y.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(y,_,P,T){let M=0,N=0,O=0,B=0;typeof T=="number"?M=N=O=B=Math.min(T,_/2,P/2):(M=Math.min(T[0]||0,_/2,P/2),N=Math.min(T[1]||0,_/2,P/2),B=Math.min(T[2]||0,_/2,P/2),O=Math.min(T[3]||0,_/2,P/2)),y.moveTo(M,0),y.lineTo(_-N,0),y.arc(_-N,N,N,Math.PI*3/2,0,!1),y.lineTo(_,P-B),y.arc(_-B,P-B,B,0,Math.PI/2,!1),y.lineTo(O,P),y.arc(O,P-O,O,Math.PI/2,Math.PI,!1),y.lineTo(0,M),y.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}})(Ip)),Ip}var cl={},ya={},xa={},H1;function p4(){if(H1)return xa;H1=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.HitContext=xa.SceneContext=xa.Context=void 0;const e=tr(),t=gt();function r(x){const w=[],y=x.length,_=e.Util;for(let P=0;P<y;P++){let T=x[P];_._isNumber(T)?T=Math.round(T*1e3)/1e3:_._isString(T)||(T=T+""),w.push(T)}return w}const n=",",i="(",o=")",s="([",d="])",c=";",u="()",h="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let m=class{constructor(w){this.canvas=w,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(w){w.fillEnabled()&&this._fill(w)}_fill(w){}strokeShape(w){w.hasStroke()&&this._stroke(w)}_stroke(w){}fillStrokeShape(w){w.attrs.fillAfterStrokeEnabled?(this.strokeShape(w),this.fillShape(w)):(this.fillShape(w),this.strokeShape(w))}getTrace(w,y){let _=this.traceArr,P=_.length,T="",M,N,O,B;for(M=0;M<P;M++)N=_[M],O=N.method,O?(B=N.args,T+=O,w?T+=u:e.Util._isArray(B[0])?T+=s+B.join(n)+d:(y&&(B=B.map(Z=>typeof Z=="number"?Math.floor(Z):Z)),T+=i+B.join(n)+o)):(T+=N.property,w||(T+=h+N.val)),T+=c;return T}clearTrace(){this.traceArr=[]}_trace(w){let y=this.traceArr,_;y.push(w),_=y.length,_>=f&&y.shift()}reset(){const w=this.getCanvas().getPixelRatio();this.setTransform(1*w,0,0,1*w,0,0)}getCanvas(){return this.canvas}clear(w){const y=this.getCanvas();w?this.clearRect(w.x||0,w.y||0,w.width||0,w.height||0):this.clearRect(0,0,y.getWidth()/y.pixelRatio,y.getHeight()/y.pixelRatio)}_applyLineCap(w){const y=w.attrs.lineCap;y&&this.setAttr("lineCap",y)}_applyOpacity(w){const y=w.getAbsoluteOpacity();y!==1&&this.setAttr("globalAlpha",y)}_applyLineJoin(w){const y=w.attrs.lineJoin;y&&this.setAttr("lineJoin",y)}setAttr(w,y){this._context[w]=y}arc(w,y,_,P,T,M){this._context.arc(w,y,_,P,T,M)}arcTo(w,y,_,P,T){this._context.arcTo(w,y,_,P,T)}beginPath(){this._context.beginPath()}bezierCurveTo(w,y,_,P,T,M){this._context.bezierCurveTo(w,y,_,P,T,M)}clearRect(w,y,_,P){this._context.clearRect(w,y,_,P)}clip(...w){this._context.clip.apply(this._context,w)}closePath(){this._context.closePath()}createImageData(w,y){const _=arguments;if(_.length===2)return this._context.createImageData(w,y);if(_.length===1)return this._context.createImageData(w)}createLinearGradient(w,y,_,P){return this._context.createLinearGradient(w,y,_,P)}createPattern(w,y){return this._context.createPattern(w,y)}createRadialGradient(w,y,_,P,T,M){return this._context.createRadialGradient(w,y,_,P,T,M)}drawImage(w,y,_,P,T,M,N,O,B){const Z=arguments,D=this._context;Z.length===3?D.drawImage(w,y,_):Z.length===5?D.drawImage(w,y,_,P,T):Z.length===9&&D.drawImage(w,y,_,P,T,M,N,O,B)}ellipse(w,y,_,P,T,M,N,O){this._context.ellipse(w,y,_,P,T,M,N,O)}isPointInPath(w,y,_,P){return _?this._context.isPointInPath(_,w,y,P):this._context.isPointInPath(w,y,P)}fill(...w){this._context.fill.apply(this._context,w)}fillRect(w,y,_,P){this._context.fillRect(w,y,_,P)}strokeRect(w,y,_,P){this._context.strokeRect(w,y,_,P)}fillText(w,y,_,P){P?this._context.fillText(w,y,_,P):this._context.fillText(w,y,_)}measureText(w){return this._context.measureText(w)}getImageData(w,y,_,P){return this._context.getImageData(w,y,_,P)}lineTo(w,y){this._context.lineTo(w,y)}moveTo(w,y){this._context.moveTo(w,y)}rect(w,y,_,P){this._context.rect(w,y,_,P)}roundRect(w,y,_,P,T){this._context.roundRect(w,y,_,P,T)}putImageData(w,y,_){this._context.putImageData(w,y,_)}quadraticCurveTo(w,y,_,P){this._context.quadraticCurveTo(w,y,_,P)}restore(){this._context.restore()}rotate(w){this._context.rotate(w)}save(){this._context.save()}scale(w,y){this._context.scale(w,y)}setLineDash(w){this._context.setLineDash?this._context.setLineDash(w):"mozDash"in this._context?this._context.mozDash=w:"webkitLineDash"in this._context&&(this._context.webkitLineDash=w)}getLineDash(){return this._context.getLineDash()}setTransform(w,y,_,P,T,M){this._context.setTransform(w,y,_,P,T,M)}stroke(w){w?this._context.stroke(w):this._context.stroke()}strokeText(w,y,_,P){this._context.strokeText(w,y,_,P)}transform(w,y,_,P,T,M){this._context.transform(w,y,_,P,T,M)}translate(w,y){this._context.translate(w,y)}_enableTrace(){let w=this,y=p.length,_=this.setAttr,P,T;const M=function(N){let O=w[N],B;w[N]=function(){return T=r(Array.prototype.slice.call(arguments,0)),B=O.apply(w,arguments),w._trace({method:N,args:T}),B}};for(P=0;P<y;P++)M(p[P]);w.setAttr=function(){_.apply(w,arguments);const N=arguments[0];let O=arguments[1];(N==="shadowOffsetX"||N==="shadowOffsetY"||N==="shadowBlur")&&(O=O/this.canvas.getPixelRatio()),w._trace({property:N,val:O})}}_applyGlobalCompositeOperation(w){const y=w.attrs.globalCompositeOperation;!y||y==="source-over"||this.setAttr("globalCompositeOperation",y)}};xa.Context=m,l.forEach(function(x){Object.defineProperty(m.prototype,x,{get(){return this._context[x]},set(w){this._context[x]=w}})});class b extends m{constructor(w,{willReadFrequently:y=!1}={}){super(w),this._context=w._canvas.getContext("2d",{willReadFrequently:y})}_fillColor(w){const y=w.fill();this.setAttr("fillStyle",y),w._fillFunc(this)}_fillPattern(w){this.setAttr("fillStyle",w._getFillPattern()),w._fillFunc(this)}_fillLinearGradient(w){const y=w._getLinearGradient();y&&(this.setAttr("fillStyle",y),w._fillFunc(this))}_fillRadialGradient(w){const y=w._getRadialGradient();y&&(this.setAttr("fillStyle",y),w._fillFunc(this))}_fill(w){const y=w.fill(),_=w.getFillPriority();if(y&&_==="color"){this._fillColor(w);return}const P=w.getFillPatternImage();if(P&&_==="pattern"){this._fillPattern(w);return}const T=w.getFillLinearGradientColorStops();if(T&&_==="linear-gradient"){this._fillLinearGradient(w);return}const M=w.getFillRadialGradientColorStops();if(M&&_==="radial-gradient"){this._fillRadialGradient(w);return}y?this._fillColor(w):P?this._fillPattern(w):T?this._fillLinearGradient(w):M&&this._fillRadialGradient(w)}_strokeLinearGradient(w){const y=w.getStrokeLinearGradientStartPoint(),_=w.getStrokeLinearGradientEndPoint(),P=w.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(y.x,y.y,_.x,_.y);if(P){for(let M=0;M<P.length;M+=2)T.addColorStop(P[M],P[M+1]);this.setAttr("strokeStyle",T)}}_stroke(w){const y=w.dash(),_=w.getStrokeScaleEnabled();if(w.hasStroke()){if(!_){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(w),y&&w.dashEnabled()&&(this.setLineDash(y),this.setAttr("lineDashOffset",w.dashOffset())),this.setAttr("lineWidth",w.strokeWidth()),w.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),w.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(w):this.setAttr("strokeStyle",w.stroke()),w._strokeFunc(this),_||this.restore()}}_applyShadow(w){var y,_,P;const T=(y=w.getShadowRGBA())!==null&&y!==void 0?y:"black",M=(_=w.getShadowBlur())!==null&&_!==void 0?_:5,N=(P=w.getShadowOffset())!==null&&P!==void 0?P:{x:0,y:0},O=w.getAbsoluteScale(),B=this.canvas.getPixelRatio(),Z=O.x*B,D=O.y*B;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",M*Math.min(Math.abs(Z),Math.abs(D))),this.setAttr("shadowOffsetX",N.x*Z),this.setAttr("shadowOffsetY",N.y*D)}}xa.SceneContext=b;class S extends m{constructor(w){super(w),this._context=w._canvas.getContext("2d",{willReadFrequently:!0})}_fill(w){this.save(),this.setAttr("fillStyle",w.colorKey),w._fillFuncHit(this),this.restore()}strokeShape(w){w.hasHitStroke()&&this._stroke(w)}_stroke(w){if(w.hasHitStroke()){const y=w.getStrokeScaleEnabled();if(!y){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(w);const _=w.hitStrokeWidth(),P=_==="auto"?w.strokeWidth():_;this.setAttr("lineWidth",P),this.setAttr("strokeStyle",w.colorKey),w._strokeFuncHit(this),y||this.restore()}}}return xa.HitContext=S,xa}var G1;function _h(){if(G1)return ya;G1=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.HitCanvas=ya.SceneCanvas=ya.Canvas=void 0;const e=tr(),t=p4(),r=gt();let n;function i(){if(n)return n;const c=e.Util.createCanvasElement(),u=c.getContext("2d");return n=(function(){const h=r.Konva._global.devicePixelRatio||1,p=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return h/p})(),e.Util.releaseCanvas(c),n}let o=class{constructor(u){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const p=(u||{}).pixelRatio||r.Konva.pixelRatio||i();this.pixelRatio=p,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(u){const h=this.pixelRatio;this.pixelRatio=u,this.setSize(this.getWidth()/h,this.getHeight()/h)}setWidth(u){this.width=this._canvas.width=u*this.pixelRatio,this._canvas.style.width=u+"px";const h=this.pixelRatio;this.getContext()._context.scale(h,h)}setHeight(u){this.height=this._canvas.height=u*this.pixelRatio,this._canvas.style.height=u+"px";const h=this.pixelRatio;this.getContext()._context.scale(h,h)}getWidth(){return this.width}getHeight(){return this.height}setSize(u,h){this.setWidth(u||0),this.setHeight(h||0)}toDataURL(u,h){try{return this._canvas.toDataURL(u,h)}catch{try{return this._canvas.toDataURL()}catch(l){return e.Util.error("Unable to get data URL. "+l.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ya.Canvas=o;class s extends o{constructor(u={width:0,height:0,willReadFrequently:!1}){super(u),this.context=new t.SceneContext(this,{willReadFrequently:u.willReadFrequently}),this.setSize(u.width,u.height)}}ya.SceneCanvas=s;class d extends o{constructor(u={width:0,height:0}){super(u),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(u.width,u.height)}}return ya.HitCanvas=d,ya}var Tp={},Z1;function av(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=gt(),r=tr();e.DD={get isDragging(){let n=!1;return e.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return e.DD._dragElements.forEach(i=>{n=i.node}),n},_dragElements:new Map,_drag(n){const i=[];e.DD._dragElements.forEach((o,s)=>{const{node:d}=o,c=d.getStage();c.setPointersPositions(n),o.pointerId===void 0&&(o.pointerId=r.Util._getFirstPointerId(n));const u=c._changedPointerPositions.find(h=>h.id===o.pointerId);if(u){if(o.dragStatus!=="dragging"){const h=d.dragDistance();if(Math.max(Math.abs(u.x-o.startPointerPos.x),Math.abs(u.y-o.startPointerPos.y))<h||(d.startDrag({evt:n}),!d.isDragging()))return}d._setDragPosition(n,o),i.push(d)}}),i.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:n},!0)})},_endDragBefore(n){const i=[];e.DD._dragElements.forEach(o=>{const{node:s}=o,d=s.getStage();if(n&&d.setPointersPositions(n),!d._changedPointerPositions.find(h=>h.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,o.dragStatus="stopped");const u=o.node.getLayer()||o.node instanceof t.Konva.Stage&&o.node;u&&i.indexOf(u)===-1&&i.push(u)}),i.forEach(o=>{o.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((i,o)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:n},!0),i.dragStatus!=="dragging"&&e.DD._dragElements.delete(o)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))})(Tp)),Tp}var Np={},Ur={},q1;function yt(){if(q1)return Ur;q1=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.RGBComponent=n,Ur.alphaComponent=i,Ur.getNumberValidator=o,Ur.getNumberOrArrayOfNumbersValidator=s,Ur.getNumberOrAutoValidator=d,Ur.getStringValidator=c,Ur.getStringOrGradientValidator=u,Ur.getFunctionValidator=h,Ur.getNumberArrayValidator=p,Ur.getBooleanValidator=l,Ur.getComponentValidator=f;const e=gt(),t=tr();function r(m){return t.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||t.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function n(m){return m>255?255:m<0?0:Math.round(m)}function i(m){return m>1?1:m<1e-4?1e-4:m}function o(){if(e.Konva.isUnminified)return function(m,b){return t.Util._isNumber(m)||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a number.'),m}}function s(m){if(e.Konva.isUnminified)return function(b,S){let x=t.Util._isNumber(b),w=t.Util._isArray(b)&&b.length==m;return!x&&!w&&t.Util.warn(r(b)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+m+")"),b}}function d(){if(e.Konva.isUnminified)return function(m,b){return t.Util._isNumber(m)||m==="auto"||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a number or "auto".'),m}}function c(){if(e.Konva.isUnminified)return function(m,b){return t.Util._isString(m)||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a string.'),m}}function u(){if(e.Konva.isUnminified)return function(m,b){const S=t.Util._isString(m),x=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return S||x||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a string or a native gradient.'),m}}function h(){if(e.Konva.isUnminified)return function(m,b){return t.Util._isFunction(m)||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a function.'),m}}function p(){if(e.Konva.isUnminified)return function(m,b){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&m instanceof S||(t.Util._isArray(m)?m.forEach(function(x){t.Util._isNumber(x)||t.Util.warn('"'+b+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a array of numbers.')),m}}function l(){if(e.Konva.isUnminified)return function(m,b){return m===!0||m===!1||t.Util.warn(r(m)+' is a not valid value for "'+b+'" attribute. The value should be a boolean.'),m}}function f(m){if(e.Konva.isUnminified)return function(b,S){return b==null||t.Util.isObject(b)||t.Util.warn(r(b)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+m),b}}return Ur}var X1;function bt(){return X1||(X1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=tr(),r=yt(),n="get",i="set";e.Factory={addGetterSetter(o,s,d,c,u){e.Factory.addGetter(o,s,d),e.Factory.addSetter(o,s,c,u),e.Factory.addOverloadedGetterSetter(o,s)},addGetter(o,s,d){const c=n+t.Util._capitalize(s);o.prototype[c]=o.prototype[c]||function(){const u=this.attrs[s];return u===void 0?d:u}},addSetter(o,s,d,c){const u=i+t.Util._capitalize(s);o.prototype[u]||e.Factory.overWriteSetter(o,s,d,c)},overWriteSetter(o,s,d,c){const u=i+t.Util._capitalize(s);o.prototype[u]=function(h){return d&&h!==void 0&&h!==null&&(h=d.call(this,h,s)),this._setAttr(s,h),c&&c.call(this),this}},addComponentsGetterSetter(o,s,d,c,u){const h=d.length,p=t.Util._capitalize,l=n+p(s),f=i+p(s);o.prototype[l]=function(){const b={};for(let S=0;S<h;S++){const x=d[S];b[x]=this.getAttr(s+p(x))}return b};const m=(0,r.getComponentValidator)(d);o.prototype[f]=function(b){const S=this.attrs[s];c&&(b=c.call(this,b,s)),m&&m.call(this,b,s);for(const x in b)b.hasOwnProperty(x)&&this._setAttr(s+p(x),b[x]);return b||d.forEach(x=>{this._setAttr(s+p(x),void 0)}),this._fireChangeEvent(s,S,b),u&&u.call(this),this},e.Factory.addOverloadedGetterSetter(o,s)},addOverloadedGetterSetter(o,s){const d=t.Util._capitalize(s),c=i+d,u=n+d;o.prototype[s]=function(){return arguments.length?(this[c](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(o,s,d,c){t.Util.error("Adding deprecated "+s);const u=n+t.Util._capitalize(s),h=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[u]=function(){t.Util.error(h);const p=this.attrs[s];return p===void 0?d:p},e.Factory.addSetter(o,s,c,function(){t.Util.error(h)}),e.Factory.addOverloadedGetterSetter(o,s)},backCompat(o,s){t.Util.each(s,function(d,c){const u=o.prototype[c],h=n+t.Util._capitalize(d),p=i+t.Util._capitalize(d);function l(){u.apply(this,arguments),t.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}o.prototype[d]=l,o.prototype[h]=l,o.prototype[p]=l})},afterSetFilter(){this._filterUpToDate=!1}}})(Np)),Np}var Y1;function ir(){if(Y1)return cl;Y1=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.Node=void 0;const e=_h(),t=av(),r=bt(),n=gt(),i=tr(),o=yt(),s="absoluteOpacity",d="allEventListeners",c="absoluteTransform",u="absoluteScale",h="canvas",p="Change",l="children",f="konva",m="listening",b="mouseenter",S="mouseleave",x="pointerenter",w="pointerleave",y="touchenter",_="touchleave",P="set",T="Shape",M=" ",N="stage",O="transform",B="Stage",Z="visible",D=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(M);let U=1,z=class vm{constructor(A){this._id=U++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(A),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(A){(A===O||A===c)&&this._cache.get(A)?this._cache.get(A).dirty=!0:A?this._cache.delete(A):this._cache.clear()}_getCache(A,k){let j=this._cache.get(A);return(j===void 0||(A===O||A===c)&&j.dirty===!0)&&(j=k.call(this),this._cache.set(A,j)),j}_calculate(A,k,j){if(!this._attachedDepsListeners.get(A)){const $=k.map(F=>F+"Change.konva").join(M);this.on($,()=>{this._clearCache(A)}),this._attachedDepsListeners.set(A,!0)}return this._getCache(A,j)}_getCanvasCache(){return this._cache.get(h)}_clearSelfAndDescendantCache(A){this._clearCache(A),A===c&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(h)){const{scene:A,filter:k,hit:j,buffer:$}=this._cache.get(h);i.Util.releaseCanvas(A,k,j,$),this._cache.delete(h)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(A){const k=A||{};let j={};(k.x===void 0||k.y===void 0||k.width===void 0||k.height===void 0)&&(j=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let $=Math.ceil(k.width||j.width),F=Math.ceil(k.height||j.height),R=k.pixelRatio,W=k.x===void 0?Math.floor(j.x):k.x,Y=k.y===void 0?Math.floor(j.y):k.y,te=k.offset||0,ie=k.drawBorder||!1,J=k.hitCanvasPixelRatio||1;if(!$||!F){i.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ee=Math.abs(Math.round(j.x)-W)>.5?1:0,Q=Math.abs(Math.round(j.y)-Y)>.5?1:0;$+=te*2+ee,F+=te*2+Q,W-=te,Y-=te;const he=new e.SceneCanvas({pixelRatio:R,width:$,height:F}),ge=new e.SceneCanvas({pixelRatio:R,width:0,height:0,willReadFrequently:!0}),ye=new e.HitCanvas({pixelRatio:J,width:$,height:F}),_e=he.getContext(),H=ye.getContext(),Se=new e.SceneCanvas({width:he.width/he.pixelRatio+Math.abs(W),height:he.height/he.pixelRatio+Math.abs(Y),pixelRatio:he.pixelRatio}),Ce=Se.getContext();return ye.isCache=!0,he.isCache=!0,this._cache.delete(h),this._filterUpToDate=!1,k.imageSmoothingEnabled===!1&&(he.getContext()._context.imageSmoothingEnabled=!1,ge.getContext()._context.imageSmoothingEnabled=!1),_e.save(),H.save(),Ce.save(),_e.translate(-W,-Y),H.translate(-W,-Y),Ce.translate(-W,-Y),Se.x=W,Se.y=Y,this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(u),this.drawScene(he,this,Se),this.drawHit(ye,this),this._isUnderCache=!1,_e.restore(),H.restore(),ie&&(_e.save(),_e.beginPath(),_e.rect(0,0,$,F),_e.closePath(),_e.setAttr("strokeStyle","red"),_e.setAttr("lineWidth",5),_e.stroke(),_e.restore()),this._cache.set(h,{scene:he,filter:ge,hit:ye,buffer:Se,x:W,y:Y}),this._requestDraw(),this}isCached(){return this._cache.has(h)}getClientRect(A){throw new Error('abstract "getClientRect" method call')}_transformedRect(A,k){const j=[{x:A.x,y:A.y},{x:A.x+A.width,y:A.y},{x:A.x+A.width,y:A.y+A.height},{x:A.x,y:A.y+A.height}];let $=1/0,F=1/0,R=-1/0,W=-1/0;const Y=this.getAbsoluteTransform(k);return j.forEach(function(te){const ie=Y.point(te);$===void 0&&($=R=ie.x,F=W=ie.y),$=Math.min($,ie.x),F=Math.min(F,ie.y),R=Math.max(R,ie.x),W=Math.max(W,ie.y)}),{x:$,y:F,width:R-$,height:W-F}}_drawCachedSceneCanvas(A){A.save(),A._applyOpacity(this),A._applyGlobalCompositeOperation(this);const k=this._getCanvasCache();A.translate(k.x,k.y);const j=this._getCachedSceneCanvas(),$=j.pixelRatio;A.drawImage(j._canvas,0,0,j.width/$,j.height/$),A.restore()}_drawCachedHitCanvas(A){const k=this._getCanvasCache(),j=k.hit;A.save(),A.translate(k.x,k.y),A.drawImage(j._canvas,0,0,j.width/j.pixelRatio,j.height/j.pixelRatio),A.restore()}_getCachedSceneCanvas(){let A=this.filters(),k=this._getCanvasCache(),j=k.scene,$=k.filter,F=$.getContext(),R,W,Y,te;if(A){if(!this._filterUpToDate){const ie=j.pixelRatio;$.setSize(j.width/j.pixelRatio,j.height/j.pixelRatio);try{for(R=A.length,F.clear(),F.drawImage(j._canvas,0,0,j.getWidth()/ie,j.getHeight()/ie),W=F.getImageData(0,0,$.getWidth(),$.getHeight()),Y=0;Y<R;Y++){if(te=A[Y],typeof te!="function"){i.Util.error("Filter should be type of function, but got "+typeof te+" instead. Please check correct filters");continue}te.call(this,W),F.putImageData(W,0,0)}}catch(J){i.Util.error("Unable to apply filter. "+J.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return $}return j}on(A,k){if(this._cache&&this._cache.delete(d),arguments.length===3)return this._delegate.apply(this,arguments);const j=A.split(M);for(let $=0;$<j.length;$++){const R=j[$].split("."),W=R[0],Y=R[1]||"";this.eventListeners[W]||(this.eventListeners[W]=[]),this.eventListeners[W].push({name:Y,handler:k})}return this}off(A,k){let j=(A||"").split(M),$=j.length,F,R,W,Y,te,ie;if(this._cache&&this._cache.delete(d),!A)for(R in this.eventListeners)this._off(R);for(F=0;F<$;F++)if(W=j[F],Y=W.split("."),te=Y[0],ie=Y[1],te)this.eventListeners[te]&&this._off(te,ie,k);else for(R in this.eventListeners)this._off(R,ie,k);return this}dispatchEvent(A){const k={target:this,type:A.type,evt:A};return this.fire(A.type,k),this}addEventListener(A,k){return this.on(A,function(j){k.call(this,j.evt)}),this}removeEventListener(A){return this.off(A),this}_delegate(A,k,j){const $=this;this.on(A,function(F){const R=F.target.findAncestors(k,!0,$);for(let W=0;W<R.length;W++)F=i.Util.cloneObject(F),F.currentTarget=R[W],j.call(R[W],F)})}remove(){return this.isDragging()&&this.stopDrag(),t.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(Z),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();const A=this.getParent();A&&A.children&&(A.children.splice(this.index,1),A._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(A){const k="get"+i.Util._capitalize(A);return i.Util._isFunction(this[k])?this[k]():this.attrs[A]}getAncestors(){let A=this.getParent(),k=[];for(;A;)k.push(A),A=A.getParent();return k}getAttrs(){return this.attrs||{}}setAttrs(A){return this._batchTransformChanges(()=>{let k,j;if(!A)return this;for(k in A)k!==l&&(j=P+i.Util._capitalize(k),i.Util._isFunction(this[j])?this[j](A[k]):this._setAttr(k,A[k]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(A){if(!this.listening())return!1;const j=this.getParent();return j&&j!==A&&this!==A?j._isListening(A):!0}isVisible(){return this._getCache(Z,this._isVisible)}_isVisible(A){if(!this.visible())return!1;const j=this.getParent();return j&&j!==A&&this!==A?j._isVisible(A):!0}shouldDrawHit(A,k=!1){if(A)return this._isVisible(A)&&this._isListening(A);const j=this.getLayer();let $=!1;t.DD._dragElements.forEach(R=>{R.dragStatus==="dragging"&&(R.node.nodeType==="Stage"||R.node.getLayer()===j)&&($=!0)});const F=!k&&!n.Konva.hitOnDragEnabled&&($||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!F}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let A=this.getDepth(),k=this,j=0,$,F,R,W;function Y(ie){for($=[],F=ie.length,R=0;R<F;R++)W=ie[R],j++,W.nodeType!==T&&($=$.concat(W.getChildren().slice())),W._id===k._id&&(R=F);$.length>0&&$[0].getDepth()<=A&&Y($)}const te=this.getStage();return k.nodeType!==B&&te&&Y(te.getChildren()),j}getDepth(){let A=0,k=this.parent;for(;k;)A++,k=k.parent;return A}_batchTransformChanges(A){this._batchingTransformChange=!0,A(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(O),this._clearSelfAndDescendantCache(c)),this._needClearTransformCache=!1}setPosition(A){return this._batchTransformChanges(()=>{this.x(A.x),this.y(A.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const A=this.getStage();if(!A)return null;const k=A.getPointerPosition();if(!k)return null;const j=this.getAbsoluteTransform().copy();return j.invert(),j.point(k)}getAbsolutePosition(A){let k=!1,j=this.parent;for(;j;){if(j.isCached()){k=!0;break}j=j.parent}k&&!A&&(A=!0);const $=this.getAbsoluteTransform(A).getMatrix(),F=new i.Transform,R=this.offset();return F.m=$.slice(),F.translate(R.x,R.y),F.getTranslation()}setAbsolutePosition(A){const{x:k,y:j,...$}=this._clearTransform();this.attrs.x=k,this.attrs.y=j,this._clearCache(O);const F=this._getAbsoluteTransform().copy();return F.invert(),F.translate(A.x,A.y),A={x:this.attrs.x+F.getTranslation().x,y:this.attrs.y+F.getTranslation().y},this._setTransform($),this.setPosition({x:A.x,y:A.y}),this._clearCache(O),this._clearSelfAndDescendantCache(c),this}_setTransform(A){let k;for(k in A)this.attrs[k]=A[k]}_clearTransform(){const A={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,A}move(A){let k=A.x,j=A.y,$=this.x(),F=this.y();return k!==void 0&&($+=k),j!==void 0&&(F+=j),this.setPosition({x:$,y:F}),this}_eachAncestorReverse(A,k){let j=[],$=this.getParent(),F,R;if(!(k&&k._id===this._id)){for(j.unshift(this);$&&(!k||$._id!==k._id);)j.unshift($),$=$.parent;for(F=j.length,R=0;R<F;R++)A(j[R])}}rotate(A){return this.rotation(this.rotation()+A),this}moveToTop(){if(!this.parent)return i.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const A=this.index,k=this.parent.getChildren().length;return A<k-1?(this.parent.children.splice(A,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return i.Util.warn("Node has no parent. moveUp function is ignored."),!1;const A=this.index,k=this.parent.getChildren().length;return A<k-1?(this.parent.children.splice(A,1),this.parent.children.splice(A+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return i.Util.warn("Node has no parent. moveDown function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.splice(A-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return i.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(A){if(!this.parent)return i.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(A<0||A>=this.parent.children.length)&&i.Util.warn("Unexpected value "+A+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const k=this.index;return this.parent.children.splice(k,1),this.parent.children.splice(A,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let A=this.opacity();const k=this.getParent();return k&&!k._isUnderCache&&(A*=k.getAbsoluteOpacity()),A}moveTo(A){return this.getParent()!==A&&(this._remove(),A.add(this)),this}toObject(){let A=this.getAttrs(),k,j,$,F,R;const W={attrs:{},className:this.getClassName()};for(k in A)j=A[k],R=i.Util.isObject(j)&&!i.Util._isPlainObject(j)&&!i.Util._isArray(j),!R&&($=typeof this[k]=="function"&&this[k],delete A[k],F=$?$.call(this):null,A[k]=j,F!==j&&(W.attrs[k]=j));return i.Util._prepareToStringify(W)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(A,k,j){const $=[];k&&this._isMatch(A)&&$.push(this);let F=this.parent;for(;F;){if(F===j)return $;F._isMatch(A)&&$.push(F),F=F.parent}return $}isAncestorOf(A){return!1}findAncestor(A,k,j){return this.findAncestors(A,k,j)[0]}_isMatch(A){if(!A)return!1;if(typeof A=="function")return A(this);let k=A.replace(/ /g,"").split(","),j=k.length,$,F;for($=0;$<j;$++)if(F=k[$],i.Util.isValidSelector(F)||(i.Util.warn('Selector "'+F+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),i.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),i.Util.warn("Konva is awesome, right?")),F.charAt(0)==="#"){if(this.id()===F.slice(1))return!0}else if(F.charAt(0)==="."){if(this.hasName(F.slice(1)))return!0}else if(this.className===F||this.nodeType===F)return!0;return!1}getLayer(){const A=this.getParent();return A?A.getLayer():null}getStage(){return this._getCache(N,this._getStage)}_getStage(){const A=this.getParent();return A?A.getStage():null}fire(A,k={},j){return k.target=k.target||this,j?this._fireAndBubble(A,k):this._fire(A,k),this}getAbsoluteTransform(A){return A?this._getAbsoluteTransform(A):this._getCache(c,this._getAbsoluteTransform)}_getAbsoluteTransform(A){let k;if(A)return k=new i.Transform,this._eachAncestorReverse(function(j){const $=j.transformsEnabled();$==="all"?k.multiply(j.getTransform()):$==="position"&&k.translate(j.x()-j.offsetX(),j.y()-j.offsetY())},A),k;{k=this._cache.get(c)||new i.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(k):k.reset();const j=this.transformsEnabled();if(j==="all")k.multiply(this.getTransform());else if(j==="position"){const $=this.attrs.x||0,F=this.attrs.y||0,R=this.attrs.offsetX||0,W=this.attrs.offsetY||0;k.translate($-R,F-W)}return k.dirty=!1,k}}getAbsoluteScale(A){let k=this;for(;k;)k._isUnderCache&&(A=k),k=k.getParent();const $=this.getAbsoluteTransform(A).decompose();return{x:$.scaleX,y:$.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(O,this._getTransform)}_getTransform(){var A,k;const j=this._cache.get(O)||new i.Transform;j.reset();const $=this.x(),F=this.y(),R=n.Konva.getAngle(this.rotation()),W=(A=this.attrs.scaleX)!==null&&A!==void 0?A:1,Y=(k=this.attrs.scaleY)!==null&&k!==void 0?k:1,te=this.attrs.skewX||0,ie=this.attrs.skewY||0,J=this.attrs.offsetX||0,ee=this.attrs.offsetY||0;return($!==0||F!==0)&&j.translate($,F),R!==0&&j.rotate(R),(te!==0||ie!==0)&&j.skew(te,ie),(W!==1||Y!==1)&&j.scale(W,Y),(J!==0||ee!==0)&&j.translate(-1*J,-1*ee),j.dirty=!1,j}clone(A){let k=i.Util.cloneObject(this.attrs),j,$,F,R,W;for(j in A)k[j]=A[j];const Y=new this.constructor(k);for(j in this.eventListeners)for($=this.eventListeners[j],F=$.length,R=0;R<F;R++)W=$[R],W.name.indexOf(f)<0&&(Y.eventListeners[j]||(Y.eventListeners[j]=[]),Y.eventListeners[j].push(W));return Y}_toKonvaCanvas(A){A=A||{};const k=this.getClientRect(),j=this.getStage(),$=A.x!==void 0?A.x:Math.floor(k.x),F=A.y!==void 0?A.y:Math.floor(k.y),R=A.pixelRatio||1,W=new e.SceneCanvas({width:A.width||Math.ceil(k.width)||(j?j.width():0),height:A.height||Math.ceil(k.height)||(j?j.height():0),pixelRatio:R}),Y=W.getContext(),te=new e.SceneCanvas({width:W.width/W.pixelRatio+Math.abs($),height:W.height/W.pixelRatio+Math.abs(F),pixelRatio:W.pixelRatio});return A.imageSmoothingEnabled===!1&&(Y._context.imageSmoothingEnabled=!1),Y.save(),($||F)&&Y.translate(-1*$,-1*F),this.drawScene(W,void 0,te),Y.restore(),W}toCanvas(A){return this._toKonvaCanvas(A)._canvas}toDataURL(A){A=A||{};const k=A.mimeType||null,j=A.quality||null,$=this._toKonvaCanvas(A).toDataURL(k,j);return A.callback&&A.callback($),$}toImage(A){return new Promise((k,j)=>{try{const $=A==null?void 0:A.callback;$&&delete A.callback,i.Util._urlToImage(this.toDataURL(A),function(F){k(F),$==null||$(F)})}catch($){j($)}})}toBlob(A){return new Promise((k,j)=>{try{const $=A==null?void 0:A.callback;$&&delete A.callback,this.toCanvas(A).toBlob(F=>{k(F),$==null||$(F)},A==null?void 0:A.mimeType,A==null?void 0:A.quality)}catch($){j($)}})}setSize(A){return this.width(A.width),this.height(A.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(A,k,j){let $=this.eventListeners[A],F,R,W;for(F=0;F<$.length;F++)if(R=$[F].name,W=$[F].handler,(R!=="konva"||k==="konva")&&(!k||R===k)&&(!j||j===W)){if($.splice(F,1),$.length===0){delete this.eventListeners[A];break}F--}}_fireChangeEvent(A,k,j){this._fire(A+p,{oldVal:k,newVal:j})}addName(A){if(!this.hasName(A)){const k=this.name(),j=k?k+" "+A:A;this.name(j)}return this}hasName(A){if(!A)return!1;const k=this.name();return k?(k||"").split(/\s/g).indexOf(A)!==-1:!1}removeName(A){const k=(this.name()||"").split(/\s/g),j=k.indexOf(A);return j!==-1&&(k.splice(j,1),this.name(k.join(" "))),this}setAttr(A,k){const j=this[P+i.Util._capitalize(A)];return i.Util._isFunction(j)?j.call(this,k):this._setAttr(A,k),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const A=this.getLayer()||this.getStage();A==null||A.batchDraw()}}_setAttr(A,k){const j=this.attrs[A];j===k&&!i.Util.isObject(k)||(k==null?delete this.attrs[A]:this.attrs[A]=k,this._shouldFireChangeEvents&&this._fireChangeEvent(A,j,k),this._requestDraw())}_setComponentAttr(A,k,j){let $;j!==void 0&&($=this.attrs[A],$||(this.attrs[A]=this.getAttr(A)),this.attrs[A][k]=j,this._fireChangeEvent(A,$,j))}_fireAndBubble(A,k,j){k&&this.nodeType===T&&(k.target=this);const $=[b,S,x,w,y,_];if(!($.indexOf(A)!==-1&&(j&&(this===j||this.isAncestorOf&&this.isAncestorOf(j))||this.nodeType==="Stage"&&!j))){this._fire(A,k);const R=$.indexOf(A)!==-1&&j&&j.isAncestorOf&&j.isAncestorOf(this)&&!j.isAncestorOf(this.parent);(k&&!k.cancelBubble||!k)&&this.parent&&this.parent.isListening()&&!R&&(j&&j.parent?this._fireAndBubble.call(this.parent,A,k,j):this._fireAndBubble.call(this.parent,A,k))}}_getProtoListeners(A){var k,j,$;const F=(k=this._cache.get(d))!==null&&k!==void 0?k:{};let R=F==null?void 0:F[A];if(R===void 0){R=[];let W=Object.getPrototypeOf(this);for(;W;){const Y=($=(j=W.eventListeners)===null||j===void 0?void 0:j[A])!==null&&$!==void 0?$:[];R.push(...Y),W=Object.getPrototypeOf(W)}F[A]=R,this._cache.set(d,F)}return R}_fire(A,k){k=k||{},k.currentTarget=this,k.type=A;const j=this._getProtoListeners(A);if(j)for(let F=0;F<j.length;F++)j[F].handler.call(this,k);const $=this.eventListeners[A];if($)for(let F=0;F<$.length;F++)$[F].handler.call(this,k)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(A){const k=A?A.pointerId:void 0,j=this.getStage(),$=this.getAbsolutePosition();if(!j)return;const F=j._getPointerById(k)||j._changedPointerPositions[0]||$;t.DD._dragElements.set(this._id,{node:this,startPointerPos:F,offset:{x:F.x-$.x,y:F.y-$.y},dragStatus:"ready",pointerId:k})}startDrag(A,k=!0){t.DD._dragElements.has(this._id)||this._createDragElement(A);const j=t.DD._dragElements.get(this._id);j.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:A&&A.evt},k)}_setDragPosition(A,k){const j=this.getStage()._getPointerById(k.pointerId);if(!j)return;let $={x:j.x-k.offset.x,y:j.y-k.offset.y};const F=this.dragBoundFunc();if(F!==void 0){const R=F.call(this,$,A);R?$=R:i.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==$.x||this._lastPos.y!==$.y)&&(this.setAbsolutePosition($),this._requestDraw()),this._lastPos=$}stopDrag(A){const k=t.DD._dragElements.get(this._id);k&&(k.dragStatus="stopped"),t.DD._endDragBefore(A),t.DD._endDragAfter(A)}setDraggable(A){this._setAttr("draggable",A),this._dragChange()}isDragging(){const A=t.DD._dragElements.get(this._id);return A?A.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(A){if(!(!(A.evt.button!==void 0)||n.Konva.dragButtons.indexOf(A.evt.button)>=0)||this.isDragging())return;let $=!1;t.DD._dragElements.forEach(F=>{this.isAncestorOf(F.node)&&($=!0)}),$||this._createDragElement(A)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const k=t.DD._dragElements.get(this._id),j=k&&k.dragStatus==="dragging",$=k&&k.dragStatus==="ready";j?this.stopDrag():$&&t.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(A={x:0,y:0}){const k=this.getStage();if(!k)return!1;const j={x:-A.x,y:-A.y,width:k.width()+2*A.x,height:k.height()+2*A.y};return i.Util.haveIntersection(j,this.getClientRect())}static create(A,k){return i.Util._isString(A)&&(A=JSON.parse(A)),this._createNode(A,k)}static _createNode(A,k){let j=vm.prototype.getClassName.call(A),$=A.children,F,R,W;k&&(A.attrs.container=k),n.Konva[j]||(i.Util.warn('Can not find a node with class name "'+j+'". Fallback to "Shape".'),j="Shape");const Y=n.Konva[j];if(F=new Y(A.attrs),$)for(R=$.length,W=0;W<R;W++)F.add(vm._createNode($[W]));return F}};cl.Node=z,z.prototype.nodeType="Node",z.prototype._attrsAffectingSize=[],z.prototype.eventListeners={},z.prototype.on.call(z.prototype,D,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(O),this._clearSelfAndDescendantCache(c)}),z.prototype.on.call(z.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Z)}),z.prototype.on.call(z.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),z.prototype.on.call(z.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const G=r.Factory.addGetterSetter;return G(z,"zIndex"),G(z,"absolutePosition"),G(z,"position"),G(z,"x",0,(0,o.getNumberValidator)()),G(z,"y",0,(0,o.getNumberValidator)()),G(z,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),G(z,"opacity",1,(0,o.getNumberValidator)()),G(z,"name","",(0,o.getStringValidator)()),G(z,"id","",(0,o.getStringValidator)()),G(z,"rotation",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(z,"scale",["x","y"]),G(z,"scaleX",1,(0,o.getNumberValidator)()),G(z,"scaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(z,"skew",["x","y"]),G(z,"skewX",0,(0,o.getNumberValidator)()),G(z,"skewY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(z,"offset",["x","y"]),G(z,"offsetX",0,(0,o.getNumberValidator)()),G(z,"offsetY",0,(0,o.getNumberValidator)()),G(z,"dragDistance",void 0,(0,o.getNumberValidator)()),G(z,"width",0,(0,o.getNumberValidator)()),G(z,"height",0,(0,o.getNumberValidator)()),G(z,"listening",!0,(0,o.getBooleanValidator)()),G(z,"preventDefault",!0,(0,o.getBooleanValidator)()),G(z,"filters",void 0,function(ne){return this._filterUpToDate=!1,ne}),G(z,"visible",!0,(0,o.getBooleanValidator)()),G(z,"transformsEnabled","all",(0,o.getStringValidator)()),G(z,"size"),G(z,"dragBoundFunc"),G(z,"draggable",!1,(0,o.getBooleanValidator)()),r.Factory.backCompat(z,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),cl}var ul={},K1;function jh(){if(K1)return ul;K1=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Container=void 0;const e=bt(),t=ir(),r=yt();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){const s=this.children||[];return o?s.filter(o):s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let d=0;d<o.length;d++)this.add(o[d]);return this}const s=o[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const s=this._generalFind(o,!0);return s.length>0?s[0]:void 0}_generalFind(o,s){const d=[];return this._descendants(c=>{const u=c._isMatch(o);return u&&d.push(c),!!(u&&s)}),d}_descendants(o){let s=!1;const d=this.getChildren();for(const c of d){if(s=o(c),s)return!0;if(c.hasChildren()&&(s=c._descendants(o),s))return!0}return!1}toObject(){const o=t.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(s=>{o.children.push(s.toObject())}),o}isAncestorOf(o){let s=o.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(o){const s=t.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(d){s.add(d.clone())}),s}getAllIntersections(o){const s=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(o)&&s.push(d)}),s}_clearSelfAndDescendantCache(o){var s;super._clearSelfAndDescendantCache(o),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(d){d._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(s,d){s.index=d}),this._requestDraw()}drawScene(o,s,d){const c=this.getLayer(),u=o||c&&c.getCanvas(),h=u&&u.getContext(),p=this._getCanvasCache(),l=p&&p.scene,f=u&&u.isCache;if(!this.isVisible()&&!f)return this;if(l){h.save();const m=this.getAbsoluteTransform(s).getMatrix();h.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(h),h.restore()}else this._drawChildren("drawScene",u,s,d);return this}drawHit(o,s){if(!this.shouldDrawHit(s))return this;const d=this.getLayer(),c=o||d&&d.hitCanvas,u=c&&c.getContext(),h=this._getCanvasCache();if(h&&h.hit){u.save();const l=this.getAbsoluteTransform(s).getMatrix();u.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",c,s);return this}_drawChildren(o,s,d,c){var u;const h=s&&s.getContext(),p=this.clipWidth(),l=this.clipHeight(),f=this.clipFunc(),m=typeof p=="number"&&typeof l=="number"||f,b=d===this;if(m){h.save();const x=this.getAbsoluteTransform(d);let w=x.getMatrix();h.transform(w[0],w[1],w[2],w[3],w[4],w[5]),h.beginPath();let y;if(f)y=f.call(this,h,this);else{const _=this.clipX(),P=this.clipY();h.rect(_||0,P||0,p,l)}h.clip.apply(h,y),w=x.copy().invert().getMatrix(),h.transform(w[0],w[1],w[2],w[3],w[4],w[5])}const S=!b&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";S&&(h.save(),h._applyGlobalCompositeOperation(this)),(u=this.children)===null||u===void 0||u.forEach(function(x){x[o](s,d,c)}),S&&h.restore(),m&&h.restore()}getClientRect(o={}){var s;const d=o.skipTransform,c=o.relativeTo;let u,h,p,l,f={x:1/0,y:1/0,width:0,height:0};const m=this;(s=this.children)===null||s===void 0||s.forEach(function(x){if(!x.visible())return;const w=x.getClientRect({relativeTo:m,skipShadow:o.skipShadow,skipStroke:o.skipStroke});w.width===0&&w.height===0||(u===void 0?(u=w.x,h=w.y,p=w.x+w.width,l=w.y+w.height):(u=Math.min(u,w.x),h=Math.min(h,w.y),p=Math.max(p,w.x+w.width),l=Math.max(l,w.y+w.height)))});const b=this.find("Shape");let S=!1;for(let x=0;x<b.length;x++)if(b[x]._isVisible(this)){S=!0;break}return S&&u!==void 0?f={x:u,y:h,width:p-u,height:l-h}:f={x:0,y:0,width:0,height:0},d?f:this._transformedRect(f,c)}};return ul.Container=n,e.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipFunc"),ul}var Ep={},Ha={},J1;function m4(){if(J1)return Ha;J1=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.getCapturedShape=n,Ha.createEvent=i,Ha.hasPointerCapture=o,Ha.setPointerCapture=s,Ha.releaseCapture=d;const e=gt(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function n(c){return t.get(c)}function i(c){return{evt:c,pointerId:c.pointerId}}function o(c,u){return t.get(c)===u}function s(c,u){d(c),u.getStage()&&(t.set(c,u),r&&u._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}function d(c,u){const h=t.get(c);if(!h)return;const p=h.getStage();p&&p.content,t.delete(c),r&&h._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return Ha}var Q1;function GU(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=tr(),r=bt(),n=jh(),i=gt(),o=_h(),s=av(),d=gt(),c=m4(),u="Stage",h="string",p="px",l="mouseout",f="mouseleave",m="mouseover",b="mouseenter",S="mousemove",x="mousedown",w="mouseup",y="pointermove",_="pointerdown",P="pointerup",T="pointercancel",M="lostpointercapture",N="pointerout",O="pointerleave",B="pointerover",Z="pointerenter",D="contextmenu",U="touchstart",z="touchend",G="touchmove",ne="touchcancel",A="wheel",k=5,j=[[b,"_pointerenter"],[x,"_pointerdown"],[S,"_pointermove"],[w,"_pointerup"],[f,"_pointerleave"],[U,"_pointerdown"],[G,"_pointermove"],[z,"_pointerup"],[ne,"_pointercancel"],[m,"_pointerover"],[A,"_wheel"],[D,"_contextmenu"],[_,"_pointerdown"],[y,"_pointermove"],[P,"_pointerup"],[T,"_pointercancel"],[O,"_pointerleave"],[M,"_lostpointercapture"]],$={mouse:{[N]:l,[O]:f,[B]:m,[Z]:b,[y]:S,[_]:x,[P]:w,[T]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[N]:"touchout",[O]:"touchleave",[B]:"touchover",[Z]:"touchenter",[y]:G,[_]:U,[P]:z,[T]:ne,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[N]:N,[O]:O,[B]:B,[Z]:Z,[y]:y,[_]:_,[P]:P,[T]:T,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},F=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",R=ie=>{const J=F(ie);if(J==="pointer")return i.Konva.pointerEventsEnabled&&$.pointer;if(J==="touch")return $.touch;if(J==="mouse")return $.mouse};function W(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const Y="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class te extends n.Container{constructor(J){super(W(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{W(this.attrs)}),this._checkVisibility()}_validateAdd(J){const ee=J.getType()==="Layer",Q=J.getType()==="FastLayer";ee||Q||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if(typeof J===h){let ee;if(J.charAt(0)==="."){const Q=J.slice(1);J=document.getElementsByClassName(Q)[0]}else J.charAt(0)!=="#"?ee=J:ee=J.slice(1),J=document.getElementById(ee);if(!J)throw"Can not find container in document with id "+ee}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const J=this.children,ee=J.length;for(let Q=0;Q<ee;Q++)J[Q].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,J)}destroy(){super.destroy();const J=this.content;J&&t.Util._isInDocument(J)&&this.container().removeChild(J);const ee=e.stages.indexOf(this);return ee>-1&&e.stages.splice(ee,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(t.Util.warn(Y),null)}_getPointerById(J){return this._pointerPositions.find(ee=>ee.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){J=J||{},J.x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();const ee=new o.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),Q=ee.getContext()._context,he=this.children;return(J.x||J.y)&&Q.translate(-1*J.x,-1*J.y),he.forEach(function(ge){if(!ge.isVisible())return;const ye=ge._toKonvaCanvas(J);Q.drawImage(ye._canvas,J.x,J.y,ye.getWidth()/ye.getPixelRatio(),ye.getHeight()/ye.getPixelRatio())}),ee}getIntersection(J){if(!J)return null;const ee=this.children,Q=ee.length,he=Q-1;for(let ge=he;ge>=0;ge--){const ye=ee[ge].getIntersection(J);if(ye)return ye}return null}_resizeDOM(){const J=this.width(),ee=this.height();this.content&&(this.content.style.width=J+p,this.content.style.height=ee+p),this.bufferCanvas.setSize(J,ee),this.bufferHitCanvas.setSize(J,ee),this.children.forEach(Q=>{Q.setSize({width:J,height:ee}),Q.draw()})}add(J,...ee){if(arguments.length>1){for(let he=0;he<arguments.length;he++)this.add(arguments[he]);return this}super.add(J);const Q=this.children.length;return Q>k&&t.Util.warn("The stage has "+Q+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),i.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return c.hasPointerCapture(J,this)}setPointerCapture(J){c.setPointerCapture(J,this)}releaseCapture(J){c.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&j.forEach(([J,ee])=>{this.content.addEventListener(J,Q=>{this[ee](Q)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const ee=R(J.type);ee&&this._fire(ee.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const ee=R(J.type);ee&&this._fire(ee.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let ee=this[J+"targetShape"];return ee&&!ee.getStage()&&(ee=null),ee}_pointerleave(J){const ee=R(J.type),Q=F(J.type);if(!ee)return;this.setPointersPositions(J);const he=this._getTargetShape(Q),ge=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;he&&ge?(he._fireAndBubble(ee.pointerout,{evt:J}),he._fireAndBubble(ee.pointerleave,{evt:J}),this._fire(ee.pointerleave,{evt:J,target:this,currentTarget:this}),this[Q+"targetShape"]=null):ge&&(this._fire(ee.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(ee.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(J){const ee=R(J.type),Q=F(J.type);if(!ee)return;this.setPointersPositions(J);let he=!1;this._changedPointerPositions.forEach(ge=>{const ye=this.getIntersection(ge);if(s.DD.justDragged=!1,i.Konva["_"+Q+"ListenClick"]=!0,!ye||!ye.isListening()){this[Q+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&ye.setPointerCapture(ge.id),this[Q+"ClickStartShape"]=ye,ye._fireAndBubble(ee.pointerdown,{evt:J,pointerId:ge.id}),he=!0;const _e=J.type.indexOf("touch")>=0;ye.preventDefault()&&J.cancelable&&_e&&J.preventDefault()}),he||this._fire(ee.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(J){const ee=R(J.type),Q=F(J.type);if(!ee||(i.Konva.isDragging()&&s.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const ge={};let ye=!1;const _e=this._getTargetShape(Q);this._changedPointerPositions.forEach(H=>{const Se=c.getCapturedShape(H.id)||this.getIntersection(H),Ce=H.id,se={evt:J,pointerId:Ce},ae=_e!==Se;if(ae&&_e&&(_e._fireAndBubble(ee.pointerout,{...se},Se),_e._fireAndBubble(ee.pointerleave,{...se},Se)),Se){if(ge[Se._id])return;ge[Se._id]=!0}Se&&Se.isListening()?(ye=!0,ae&&(Se._fireAndBubble(ee.pointerover,{...se},_e),Se._fireAndBubble(ee.pointerenter,{...se},_e),this[Q+"targetShape"]=Se),Se._fireAndBubble(ee.pointermove,{...se})):_e&&(this._fire(ee.pointerover,{evt:J,target:this,currentTarget:this,pointerId:Ce}),this[Q+"targetShape"]=null)}),ye||this._fire(ee.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const ee=R(J.type),Q=F(J.type);if(!ee)return;this.setPointersPositions(J);const he=this[Q+"ClickStartShape"],ge=this[Q+"ClickEndShape"],ye={};let _e=!1;this._changedPointerPositions.forEach(H=>{const Se=c.getCapturedShape(H.id)||this.getIntersection(H);if(Se){if(Se.releaseCapture(H.id),ye[Se._id])return;ye[Se._id]=!0}const Ce=H.id,se={evt:J,pointerId:Ce};let ae=!1;i.Konva["_"+Q+"InDblClickWindow"]?(ae=!0,clearTimeout(this[Q+"DblTimeout"])):s.DD.justDragged||(i.Konva["_"+Q+"InDblClickWindow"]=!0,clearTimeout(this[Q+"DblTimeout"])),this[Q+"DblTimeout"]=setTimeout(function(){i.Konva["_"+Q+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),Se&&Se.isListening()?(_e=!0,this[Q+"ClickEndShape"]=Se,Se._fireAndBubble(ee.pointerup,{...se}),i.Konva["_"+Q+"ListenClick"]&&he&&he===Se&&(Se._fireAndBubble(ee.pointerclick,{...se}),ae&&ge&&ge===Se&&Se._fireAndBubble(ee.pointerdblclick,{...se}))):(this[Q+"ClickEndShape"]=null,i.Konva["_"+Q+"ListenClick"]&&this._fire(ee.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:Ce}),ae&&this._fire(ee.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:Ce}))}),_e||this._fire(ee.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+Q+"ListenClick"]=!1,J.cancelable&&Q!=="touch"&&Q!=="pointer"&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);const ee=this.getIntersection(this.getPointerPosition());ee&&ee.isListening()?ee._fireAndBubble(D,{evt:J}):this._fire(D,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);const ee=this.getIntersection(this.getPointerPosition());ee&&ee.isListening()?ee._fireAndBubble(A,{evt:J}):this._fire(A,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const ee=c.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());ee&&ee._fireAndBubble(P,c.createEvent(J)),c.releaseCapture(J.pointerId)}_lostpointercapture(J){c.releaseCapture(J.pointerId)}setPointersPositions(J){const ee=this._getContentPosition();let Q=null,he=null;J=J||window.event,J.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,ge=>{this._pointerPositions.push({id:ge.identifier,x:(ge.clientX-ee.left)/ee.scaleX,y:(ge.clientY-ee.top)/ee.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,ge=>{this._changedPointerPositions.push({id:ge.identifier,x:(ge.clientX-ee.left)/ee.scaleX,y:(ge.clientY-ee.top)/ee.scaleY})})):(Q=(J.clientX-ee.left)/ee.scaleX,he=(J.clientY-ee.top)/ee.scaleY,this.pointerPos={x:Q,y:he},this._pointerPositions=[{x:Q,y:he,id:t.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:Q,y:he,id:t.Util._getFirstPointerId(J)}])}_setPointerPosition(J){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}e.Stage=te,te.prototype.nodeType=u,(0,d._registerNode)(te),r.Factory.addGetterSetter(te,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(ie=>{ie.batchDraw()})})})(Ep)),Ep}var dl={},zp={},eS;function yr(){return eS||(eS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=gt(),r=tr(),n=bt(),i=ir(),o=yt(),s=gt(),d=m4(),c="hasShadow",u="shadowRGBA",h="patternImage",p="linearGradient",l="radialGradient";let f;function m(){return f||(f=r.Util.createCanvasElement().getContext("2d"),f)}e.shapes={};function b(O){const B=this.attrs.fillRule;B?O.fill(B):O.fill()}function S(O){O.stroke()}function x(O){const B=this.attrs.fillRule;B?O.fill(B):O.fill()}function w(O){O.stroke()}function y(){this._clearCache(c)}function _(){this._clearCache(u)}function P(){this._clearCache(h)}function T(){this._clearCache(p)}function M(){this._clearCache(l)}class N extends i.Node{constructor(B){super(B);let Z;for(;Z=r.Util.getRandomColor(),!(Z&&!(Z in e.shapes)););this.colorKey=Z,e.shapes[Z]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const Z=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Z&&Z.setTransform){const D=new r.Transform;D.translate(this.fillPatternX(),this.fillPatternY()),D.rotate(t.Konva.getAngle(this.fillPatternRotation())),D.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),D.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const U=D.getMatrix(),z=typeof DOMMatrix>"u"?{a:U[0],b:U[1],c:U[2],d:U[3],e:U[4],f:U[5]}:new DOMMatrix(U);Z.setTransform(z)}return Z}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){const B=this.fillLinearGradientColorStops();if(B){const Z=m(),D=this.fillLinearGradientStartPoint(),U=this.fillLinearGradientEndPoint(),z=Z.createLinearGradient(D.x,D.y,U.x,U.y);for(let G=0;G<B.length;G+=2)z.addColorStop(B[G],B[G+1]);return z}}_getRadialGradient(){return this._getCache(l,this.__getRadialGradient)}__getRadialGradient(){const B=this.fillRadialGradientColorStops();if(B){const Z=m(),D=this.fillRadialGradientStartPoint(),U=this.fillRadialGradientEndPoint(),z=Z.createRadialGradient(D.x,D.y,this.fillRadialGradientStartRadius(),U.x,U.y,this.fillRadialGradientEndRadius());for(let G=0;G<B.length;G+=2)z.addColorStop(B[G],B[G+1]);return z}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const B=r.Util.colorToRGBA(this.shadowColor());if(B)return"rgba("+B.r+","+B.g+","+B.b+","+B.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const B=this.hitStrokeWidth();return B==="auto"?this.hasStroke():this.strokeEnabled()&&!!B}intersects(B){const Z=this.getStage();if(!Z)return!1;const D=Z.bufferHitCanvas;return D.getContext().clear(),this.drawHit(D,void 0,!0),D.context.getImageData(Math.round(B.x),Math.round(B.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(B){var Z;if(!((Z=this.attrs.perfectDrawEnabled)!==null&&Z!==void 0?Z:!0))return!1;const U=B||this.hasFill(),z=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(U&&z&&G)return!0;const ne=this.hasShadow(),A=this.shadowForStrokeEnabled();return!!(U&&z&&ne&&A)}setStrokeHitEnabled(B){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),B?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const B=this.size();return{x:this._centroid?-B.width/2:0,y:this._centroid?-B.height/2:0,width:B.width,height:B.height}}getClientRect(B={}){let Z=!1,D=this.getParent();for(;D;){if(D.isCached()){Z=!0;break}D=D.getParent()}const U=B.skipTransform,z=B.relativeTo||Z&&this.getStage()||void 0,G=this.getSelfRect(),A=!B.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,k=G.width+A,j=G.height+A,$=!B.skipShadow&&this.hasShadow(),F=$?this.shadowOffsetX():0,R=$?this.shadowOffsetY():0,W=k+Math.abs(F),Y=j+Math.abs(R),te=$&&this.shadowBlur()||0,ie=W+te*2,J=Y+te*2,ee={width:ie,height:J,x:-(A/2+te)+Math.min(F,0)+G.x,y:-(A/2+te)+Math.min(R,0)+G.y};return U?ee:this._transformedRect(ee,z)}drawScene(B,Z,D){const U=this.getLayer(),z=B||U.getCanvas(),G=z.getContext(),ne=this._getCanvasCache(),A=this.getSceneFunc(),k=this.hasShadow();let j;const $=Z===this;if(!this.isVisible()&&!$)return this;if(ne){G.save();const F=this.getAbsoluteTransform(Z).getMatrix();return G.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!A)return this;if(G.save(),this._useBufferCanvas()){j=this.getStage();const F=D||j.bufferCanvas,R=F.getContext();R.clear(),R.save(),R._applyLineJoin(this);const W=this.getAbsoluteTransform(Z).getMatrix();R.transform(W[0],W[1],W[2],W[3],W[4],W[5]),A.call(this,R,this),R.restore();const Y=F.pixelRatio;k&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(F._canvas,F.x||0,F.y||0,F.width/Y,F.height/Y)}else{if(G._applyLineJoin(this),!$){const F=this.getAbsoluteTransform(Z).getMatrix();G.transform(F[0],F[1],F[2],F[3],F[4],F[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}k&&G._applyShadow(this),A.call(this,G,this)}return G.restore(),this}drawHit(B,Z,D=!1){if(!this.shouldDrawHit(Z,D))return this;const U=this.getLayer(),z=B||U.hitCanvas,G=z&&z.getContext(),ne=this.hitFunc()||this.sceneFunc(),A=this._getCanvasCache(),k=A&&A.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),k){G.save();const $=this.getAbsoluteTransform(Z).getMatrix();return G.transform($[0],$[1],$[2],$[3],$[4],$[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!ne)return this;if(G.save(),G._applyLineJoin(this),!(this===Z)){const $=this.getAbsoluteTransform(Z).getMatrix();G.transform($[0],$[1],$[2],$[3],$[4],$[5])}return ne.call(this,G,this),G.restore(),this}drawHitFromCache(B=0){const Z=this._getCanvasCache(),D=this._getCachedSceneCanvas(),U=Z.hit,z=U.getContext(),G=U.getWidth(),ne=U.getHeight();z.clear(),z.drawImage(D._canvas,0,0,G,ne);try{const A=z.getImageData(0,0,G,ne),k=A.data,j=k.length,$=r.Util._hexToRgb(this.colorKey);for(let F=0;F<j;F+=4)k[F+3]>B?(k[F]=$.r,k[F+1]=$.g,k[F+2]=$.b,k[F+3]=255):k[F+3]=0;z.putImageData(A,0,0)}catch(A){r.Util.error("Unable to draw hit graph from cached scene canvas. "+A.message)}return this}hasPointerCapture(B){return d.hasPointerCapture(B,this)}setPointerCapture(B){d.setPointerCapture(B,this)}releaseCapture(B){d.releaseCapture(B,this)}}e.Shape=N,N.prototype._fillFunc=b,N.prototype._strokeFunc=S,N.prototype._fillFuncHit=x,N.prototype._strokeFuncHit=w,N.prototype._centroid=!1,N.prototype.nodeType="Shape",(0,s._registerNode)(N),N.prototype.eventListeners={},N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",P),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),n.Factory.addGetterSetter(N,"stroke",void 0,(0,o.getStringOrGradientValidator)()),n.Factory.addGetterSetter(N,"strokeWidth",2,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(N,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(N,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(N,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(N,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(N,"lineJoin"),n.Factory.addGetterSetter(N,"lineCap"),n.Factory.addGetterSetter(N,"sceneFunc"),n.Factory.addGetterSetter(N,"hitFunc"),n.Factory.addGetterSetter(N,"dash"),n.Factory.addGetterSetter(N,"dashOffset",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"shadowColor",void 0,(0,o.getStringValidator)()),n.Factory.addGetterSetter(N,"shadowBlur",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"shadowOpacity",1,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(N,"shadowOffsetX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"shadowOffsetY",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillPatternImage"),n.Factory.addGetterSetter(N,"fill",void 0,(0,o.getStringOrGradientValidator)()),n.Factory.addGetterSetter(N,"fillPatternX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillPatternY",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(N,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(N,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(N,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(N,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(N,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(N,"fillEnabled",!0),n.Factory.addGetterSetter(N,"strokeEnabled",!0),n.Factory.addGetterSetter(N,"shadowEnabled",!0),n.Factory.addGetterSetter(N,"dashEnabled",!0),n.Factory.addGetterSetter(N,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(N,"fillPriority","color"),n.Factory.addComponentsGetterSetter(N,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(N,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(N,"fillPatternScaleX",1,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(N,"fillPatternScaleY",1,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(N,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(N,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(N,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(N,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(N,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(N,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(N,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(N,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(N,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(N,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(N,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(N,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(N,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(N,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(N,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(N,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(N,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(N,"fillPatternRotation",0),n.Factory.addGetterSetter(N,"fillRule",void 0,(0,o.getStringValidator)()),n.Factory.backCompat(N,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(zp)),zp}var tS;function g4(){if(tS)return dl;tS=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.Layer=void 0;const e=tr(),t=jh(),r=ir(),n=bt(),i=_h(),o=yt(),s=yr(),d=gt(),c="#",u="beforeDraw",h="draw",p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],l=p.length;let f=class extends t.Container{constructor(b){super(b),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(b){return this.getContext().clear(b),this.getHitCanvas().getContext().clear(b),this}setZIndex(b){super.setZIndex(b);const S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),b<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[b+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const b=this.getStage();if(b){const S=b.children;b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const b=this.getStage();if(b){const S=b.children;b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const b=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),b&&b.parentNode&&e.Util._isInDocument(b)&&b.parentNode.removeChild(b),this}getStage(){return this.parent}setSize({width:b,height:S}){return this.canvas.setSize(b,S),this.hitCanvas.setSize(b,S),this._setSmoothEnabled(),this}_validateAdd(b){const S=b.getType();S!=="Group"&&S!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(b){return b=b||{},b.width=b.width||this.getWidth(),b.height=b.height||this.getHeight(),b.x=b.x!==void 0?b.x:this.x(),b.y=b.y!==void 0?b.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,b)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(b){if(!this.isListening()||!this.isVisible())return null;let S=1,x=!1;for(;;){for(let w=0;w<l;w++){const y=p[w],_=this._getIntersection({x:b.x+y.x*S,y:b.y+y.y*S}),P=_.shape;if(P)return P;if(x=!!_.antialiased,!_.antialiased)break}if(x)S+=1;else return null}}_getIntersection(b){const S=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(b.x*S),Math.round(b.y*S),1,1).data,w=x[3];if(w===255){const y=e.Util._rgbToHex(x[0],x[1],x[2]),_=s.shapes[c+y];return _?{shape:_}:{antialiased:!0}}else if(w>0)return{antialiased:!0};return{}}drawScene(b,S,x){const w=this.getLayer(),y=b||w&&w.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&y.getContext().clear(),t.Container.prototype.drawScene.call(this,y,S,x),this._fire(h,{node:this}),this}drawHit(b,S){const x=this.getLayer(),w=b||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,w,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(b){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(b)}getHitGraphEnabled(b){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const b=this.parent;!!this.hitCanvas._canvas.parentNode?b.content.removeChild(this.hitCanvas._canvas):b.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return dl.Layer=f,f.prototype.nodeType="Layer",(0,d._registerNode)(f),n.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(f,"clearBeforeDraw",!0),n.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),dl}var hl={},rS;function ZU(){if(rS)return hl;rS=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.FastLayer=void 0;const e=tr(),t=g4(),r=gt();let n=class extends t.Layer{constructor(o){super(o),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return hl.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),hl}var fl={},nS;function iv(){if(nS)return fl;nS=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Group=void 0;const e=tr(),t=jh(),r=gt();let n=class extends t.Container{_validateAdd(o){const s=o.getType();s!=="Group"&&s!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return fl.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),fl}var pl={},aS;function ov(){if(aS)return pl;aS=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Animation=void 0;const e=gt(),t=tr(),r=(function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}})();let n=class os{constructor(o,s){this.id=os.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=o,this.setLayers(s)}setLayers(o){let s=[];return o&&(s=Array.isArray(o)?o:[o]),this.layers=s,this}getLayers(){return this.layers}addLayer(o){const s=this.layers,d=s.length;for(let c=0;c<d;c++)if(s[c]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const s=os.animations,d=s.length;for(let c=0;c<d;c++)if(s[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),os._addAnimation(this),this}stop(){return os._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const s=o.id,d=this.animations,c=d.length;for(let u=0;u<c;u++)if(d[u].id===s){this.animations.splice(u,1);break}}static _runFrames(){const o={},s=this.animations;for(let d=0;d<s.length;d++){const c=s[d],u=c.layers,h=c.func;c._updateFrameObject(r());const p=u.length;let l;if(h?l=h.call(c,c.frame)!==!1:l=!0,!!l)for(let f=0;f<p;f++){const m=u[f];m._id!==void 0&&(o[m._id]=m)}}for(const d in o)o.hasOwnProperty(d)&&o[d].batchDraw()}static _animationLoop(){const o=os;o.animations.length?(o._runFrames(),t.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return pl.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,pl}var Dp={},iS;function qU(){return iS||(iS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=tr(),r=ov(),n=ir(),i=gt(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,d=2,c=3,u=["fill","stroke","shadowColor"];let h=0;class p{constructor(m,b,S,x,w,y,_){this.prop=m,this.propFunc=b,this.begin=x,this._pos=x,this.duration=y,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=w-this.begin,this.pause()}fire(m){const b=this[m];b&&b()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const m=this.getTimer()-this._startTime;this.state===d?this.setTime(m):this.state===c&&this.setTime(this.duration-m)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class l{constructor(m){const b=this,S=m.node,x=S._id,w=m.easing||e.Easings.Linear,y=!!m.yoyo;let _,P;typeof m.duration>"u"?_=.3:m.duration===0?_=.001:_=m.duration,this.node=S,this._id=h++;const T=S.getLayer()||(S instanceof i.Konva.Stage?S.getLayers():null);T||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){b.tween.onEnterFrame()},T),this.tween=new p(P,function(M){b._tweenFunc(M)},w,0,1,_*1e3,y),this._addListeners(),l.attrs[x]||(l.attrs[x]={}),l.attrs[x][this._id]||(l.attrs[x][this._id]={}),l.tweens[x]||(l.tweens[x]={});for(P in m)o[P]===void 0&&this._addAttr(P,m[P]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,b){const S=this.node,x=S._id;let w,y,_,P,T;const M=l.tweens[x][m];M&&delete l.attrs[x][M][m];let N=S.getAttr(m);if(t.Util._isArray(b))if(w=[],y=Math.max(b.length,N.length),m==="points"&&b.length!==N.length&&(b.length>N.length?(P=N,N=t.Util._prepareArrayForTween(N,b,S.closed())):(_=b,b=t.Util._prepareArrayForTween(b,N,S.closed()))),m.indexOf("fill")===0)for(let O=0;O<y;O++)if(O%2===0)w.push(b[O]-N[O]);else{const B=t.Util.colorToRGBA(N[O]);T=t.Util.colorToRGBA(b[O]),N[O]=B,w.push({r:T.r-B.r,g:T.g-B.g,b:T.b-B.b,a:T.a-B.a})}else for(let O=0;O<y;O++)w.push(b[O]-N[O]);else u.indexOf(m)!==-1?(N=t.Util.colorToRGBA(N),T=t.Util.colorToRGBA(b),w={r:T.r-N.r,g:T.g-N.g,b:T.b-N.b,a:T.a-N.a}):w=b-N;l.attrs[x][this._id][m]={start:N,diff:w,end:b,trueEnd:_,trueStart:P},l.tweens[x][m]=this._id}_tweenFunc(m){const b=this.node,S=l.attrs[b._id][this._id];let x,w,y,_,P,T,M,N;for(x in S){if(w=S[x],y=w.start,_=w.diff,N=w.end,t.Util._isArray(y))if(P=[],M=Math.max(y.length,N.length),x.indexOf("fill")===0)for(T=0;T<M;T++)T%2===0?P.push((y[T]||0)+_[T]*m):P.push("rgba("+Math.round(y[T].r+_[T].r*m)+","+Math.round(y[T].g+_[T].g*m)+","+Math.round(y[T].b+_[T].b*m)+","+(y[T].a+_[T].a*m)+")");else for(T=0;T<M;T++)P.push((y[T]||0)+_[T]*m);else u.indexOf(x)!==-1?P="rgba("+Math.round(y.r+_.r*m)+","+Math.round(y.g+_.g*m)+","+Math.round(y.b+_.b*m)+","+(y.a+_.a*m)+")":P=y+_*m;b.setAttr(x,P)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const m=this.node,b=l.attrs[m._id][this._id];b.points&&b.points.trueEnd&&m.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const m=this.node,b=l.attrs[m._id][this._id];b.points&&b.points.trueStart&&m.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const m=this.node._id,b=this._id,S=l.tweens[m];this.pause(),this.anim&&this.anim.stop();for(const x in S)delete l.tweens[m][x];delete l.attrs[m][b],l.tweens[m]&&(Object.keys(l.tweens[m]).length===0&&delete l.tweens[m],Object.keys(l.attrs[m]).length===0&&delete l.attrs[m])}}e.Tween=l,l.attrs={},l.tweens={},n.Node.prototype.to=function(f){const m=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),m&&m()},new l(f).play()},e.Easings={BackEaseIn(f,m,b,S){return b*(f/=S)*f*((1.70158+1)*f-1.70158)+m},BackEaseOut(f,m,b,S){return b*((f=f/S-1)*f*((1.70158+1)*f+1.70158)+1)+m},BackEaseInOut(f,m,b,S){let x=1.70158;return(f/=S/2)<1?b/2*(f*f*(((x*=1.525)+1)*f-x))+m:b/2*((f-=2)*f*(((x*=1.525)+1)*f+x)+2)+m},ElasticEaseIn(f,m,b,S,x,w){let y=0;return f===0?m:(f/=S)===1?m+b:(w||(w=S*.3),!x||x<Math.abs(b)?(x=b,y=w/4):y=w/(2*Math.PI)*Math.asin(b/x),-(x*Math.pow(2,10*(f-=1))*Math.sin((f*S-y)*(2*Math.PI)/w))+m)},ElasticEaseOut(f,m,b,S,x,w){let y=0;return f===0?m:(f/=S)===1?m+b:(w||(w=S*.3),!x||x<Math.abs(b)?(x=b,y=w/4):y=w/(2*Math.PI)*Math.asin(b/x),x*Math.pow(2,-10*f)*Math.sin((f*S-y)*(2*Math.PI)/w)+b+m)},ElasticEaseInOut(f,m,b,S,x,w){let y=0;return f===0?m:(f/=S/2)===2?m+b:(w||(w=S*(.3*1.5)),!x||x<Math.abs(b)?(x=b,y=w/4):y=w/(2*Math.PI)*Math.asin(b/x),f<1?-.5*(x*Math.pow(2,10*(f-=1))*Math.sin((f*S-y)*(2*Math.PI)/w))+m:x*Math.pow(2,-10*(f-=1))*Math.sin((f*S-y)*(2*Math.PI)/w)*.5+b+m)},BounceEaseOut(f,m,b,S){return(f/=S)<1/2.75?b*(7.5625*f*f)+m:f<2/2.75?b*(7.5625*(f-=1.5/2.75)*f+.75)+m:f<2.5/2.75?b*(7.5625*(f-=2.25/2.75)*f+.9375)+m:b*(7.5625*(f-=2.625/2.75)*f+.984375)+m},BounceEaseIn(f,m,b,S){return b-e.Easings.BounceEaseOut(S-f,0,b,S)+m},BounceEaseInOut(f,m,b,S){return f<S/2?e.Easings.BounceEaseIn(f*2,0,b,S)*.5+m:e.Easings.BounceEaseOut(f*2-S,0,b,S)*.5+b*.5+m},EaseIn(f,m,b,S){return b*(f/=S)*f+m},EaseOut(f,m,b,S){return-b*(f/=S)*(f-2)+m},EaseInOut(f,m,b,S){return(f/=S/2)<1?b/2*f*f+m:-b/2*(--f*(f-2)-1)+m},StrongEaseIn(f,m,b,S){return b*(f/=S)*f*f*f*f+m},StrongEaseOut(f,m,b,S){return b*((f=f/S-1)*f*f*f*f+1)+m},StrongEaseInOut(f,m,b,S){return(f/=S/2)<1?b/2*f*f*f*f*f+m:b/2*((f-=2)*f*f*f*f+2)+m},Linear(f,m,b,S){return b*f/S+m}}})(Dp)),Dp}var oS;function bm(){return oS||(oS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=gt(),r=tr(),n=ir(),i=jh(),o=GU(),s=g4(),d=ZU(),c=iv(),u=av(),h=yr(),p=ov(),l=qU(),f=p4(),m=_h();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:i.Container,Stage:o.Stage,stages:o.stages,Layer:s.Layer,FastLayer:d.FastLayer,Group:c.Group,DD:u.DD,Shape:h.Shape,shapes:h.shapes,Animation:p.Animation,Tween:l.Tween,Easings:l.Easings,Context:f.Context,Canvas:m.Canvas}),e.default=e.Konva})(Pp)),Pp}var ml={},sS;function XU(){if(sS)return ml;sS=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.Arc=void 0;const e=bt(),t=yr(),r=gt(),n=yt(),i=gt();let o=class extends t.Shape{_sceneFunc(d){const c=r.Konva.getAngle(this.angle()),u=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,c,u),d.arc(0,0,this.innerRadius(),c,0,!u),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),c=this.outerRadius(),u=this.clockwise(),h=r.Konva.getAngle(u?360-this.angle():this.angle()),p=Math.cos(Math.min(h,Math.PI)),l=1,f=Math.sin(Math.min(Math.max(Math.PI,h),3*Math.PI/2)),m=Math.sin(Math.min(h,Math.PI/2)),b=p*(p>0?d:c),S=l*c,x=f*(f>0?d:c),w=m*(m>0?c:d);return{x:b,y:u?-1*w:x,width:S-b,height:w-x}}};return ml.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"outerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"clockwise",!1,(0,n.getBooleanValidator)()),ml}var gl={},vl={},lS;function v4(){if(lS)return vl;lS=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.Line=void 0;const e=bt(),t=gt(),r=yr(),n=yt();function i(d,c,u,h,p,l,f){const m=Math.sqrt(Math.pow(u-d,2)+Math.pow(h-c,2)),b=Math.sqrt(Math.pow(p-u,2)+Math.pow(l-h,2)),S=f*m/(m+b),x=f*b/(m+b),w=u-S*(p-d),y=h-S*(l-c),_=u+x*(p-d),P=h+x*(l-c);return[w,y,_,P]}function o(d,c){const u=d.length,h=[];for(let p=2;p<u-2;p+=2){const l=i(d[p-2],d[p-1],d[p],d[p+1],d[p+2],d[p+3],c);isNaN(l[0])||(h.push(l[0]),h.push(l[1]),h.push(d[p]),h.push(d[p+1]),h.push(l[2]),h.push(l[3]))}return h}let s=class extends r.Shape{constructor(c){super(c),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(c){const u=this.points(),h=u.length,p=this.tension(),l=this.closed(),f=this.bezier();if(!h)return;let m=0;if(c.beginPath(),c.moveTo(u[0],u[1]),p!==0&&h>4){const b=this.getTensionPoints(),S=b.length;for(m=l?0:4,l||c.quadraticCurveTo(b[0],b[1],b[2],b[3]);m<S-2;)c.bezierCurveTo(b[m++],b[m++],b[m++],b[m++],b[m++],b[m++]);l||c.quadraticCurveTo(b[S-2],b[S-1],u[h-2],u[h-1])}else if(f)for(m=2;m<h;)c.bezierCurveTo(u[m++],u[m++],u[m++],u[m++],u[m++],u[m++]);else for(m=2;m<h;m+=2)c.lineTo(u[m],u[m+1]);l?(c.closePath(),c.fillStrokeShape(this)):c.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const c=this.points(),u=c.length,h=this.tension(),p=i(c[u-2],c[u-1],c[0],c[1],c[2],c[3],h),l=i(c[u-4],c[u-3],c[u-2],c[u-1],c[0],c[1],h),f=o(c,h);return[p[2],p[3]].concat(f).concat([l[0],l[1],c[u-2],c[u-1],l[2],l[3],p[0],p[1],c[0],c[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let c=this.points();if(c.length<4)return{x:c[0]||0,y:c[1]||0,width:0,height:0};this.tension()!==0?c=[c[0],c[1],...this._getTensionPoints(),c[c.length-2],c[c.length-1]]:c=this.points();let u=c[0],h=c[0],p=c[1],l=c[1],f,m;for(let b=0;b<c.length/2;b++)f=c[b*2],m=c[b*2+1],u=Math.min(u,f),h=Math.max(h,f),p=Math.min(p,m),l=Math.max(l,m);return{x:u,y:p,width:h-u,height:l-p}}};return vl.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(s),e.Factory.addGetterSetter(s,"closed",!1),e.Factory.addGetterSetter(s,"bezier",!1),e.Factory.addGetterSetter(s,"tension",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"points",[],(0,n.getNumberArrayValidator)()),vl}var bl={},Op={},cS;function YU(){return cS||(cS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,d,c)=>{let u,h;const l=c/2;u=0;for(let f=0;f<20;f++)h=l*e.tValues[20][f]+l,u+=e.cValues[20][f]*n(s,d,h);return l*u};e.getCubicArcLength=t;const r=(s,d,c)=>{c===void 0&&(c=1);const u=s[0]-2*s[1]+s[2],h=d[0]-2*d[1]+d[2],p=2*s[1]-2*s[0],l=2*d[1]-2*d[0],f=4*(u*u+h*h),m=4*(u*p+h*l),b=p*p+l*l;if(f===0)return c*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(d[2]-d[0],2));const S=m/(2*f),x=b/f,w=c+S,y=x-S*S,_=w*w+y>0?Math.sqrt(w*w+y):0,P=S*S+y>0?Math.sqrt(S*S+y):0,T=S+Math.sqrt(S*S+y)!==0?y*Math.log(Math.abs((w+_)/(S+P))):0;return Math.sqrt(f)/2*(w*_-S*P+T)};e.getQuadraticArcLength=r;function n(s,d,c){const u=i(1,c,s),h=i(1,c,d),p=u*u+h*h;return Math.sqrt(p)}const i=(s,d,c)=>{const u=c.length-1;let h,p;if(u===0)return 0;if(s===0){p=0;for(let l=0;l<=u;l++)p+=e.binomialCoefficients[u][l]*Math.pow(1-d,u-l)*Math.pow(d,l)*c[l];return p}else{h=new Array(u);for(let l=0;l<u;l++)h[l]=u*(c[l+1]-c[l]);return i(s-1,d,h)}},o=(s,d,c)=>{let u=1,h=s/d,p=(s-c(h))/d,l=0;for(;u>.001;){const f=c(h+p),m=Math.abs(s-f)/d;if(m<u)u=m,h+=p;else{const b=c(h-p),S=Math.abs(s-b)/d;S<u?(u=S,h-=p):p/=2}if(l++,l>500)break}return h};e.t2length=o})(Op)),Op}var uS;function sv(){if(uS)return bl;uS=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.Path=void 0;const e=bt(),t=gt(),r=yr(),n=YU();let i=class Vr extends r.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Vr.parsePathData(this.data()),this.pathLength=Vr.getPathLength(this.dataArray)}_sceneFunc(s){const d=this.dataArray;s.beginPath();let c=!1;for(let u=0;u<d.length;u++){const h=d[u].command,p=d[u].points;switch(h){case"L":s.lineTo(p[0],p[1]);break;case"M":s.moveTo(p[0],p[1]);break;case"C":s.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5]);break;case"Q":s.quadraticCurveTo(p[0],p[1],p[2],p[3]);break;case"A":const l=p[0],f=p[1],m=p[2],b=p[3],S=p[4],x=p[5],w=p[6],y=p[7],_=m>b?m:b,P=m>b?1:m/b,T=m>b?b/m:1;s.translate(l,f),s.rotate(w),s.scale(P,T),s.arc(0,0,_,S,S+x,1-y),s.scale(1/P,1/T),s.rotate(-w),s.translate(-l,-f);break;case"z":c=!0,s.closePath();break}}!c&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){let s=[];this.dataArray.forEach(function(f){if(f.command==="A"){const m=f.points[4],b=f.points[5],S=f.points[4]+b;let x=Math.PI/180;if(Math.abs(m-S)<x&&(x=Math.abs(m-S)),b<0)for(let w=m-x;w>S;w-=x){const y=Vr.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],w,0);s.push(y.x,y.y)}else for(let w=m+x;w<S;w+=x){const y=Vr.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],w,0);s.push(y.x,y.y)}}else if(f.command==="C")for(let m=0;m<=1;m+=.01){const b=Vr.getPointOnCubicBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);s.push(b.x,b.y)}else s=s.concat(f.points)});let d=s[0],c=s[0],u=s[1],h=s[1],p,l;for(let f=0;f<s.length/2;f++)p=s[f*2],l=s[f*2+1],isNaN(p)||(d=Math.min(d,p),c=Math.max(c,p)),isNaN(l)||(u=Math.min(u,l),h=Math.max(h,l));return{x:d,y:u,width:c-d,height:h-u}}getLength(){return this.pathLength}getPointAtLength(s){return Vr.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,d,c,u){return Math.sqrt((c-s)*(c-s)+(u-d)*(u-d))}static getPathLength(s){let d=0;for(let c=0;c<s.length;++c)d+=s[c].pathLength;return d}static getPointAtLengthOfDataArray(s,d){let c,u=0,h=d.length;if(!h)return null;for(;u<h&&s>d[u].pathLength;)s-=d[u].pathLength,++u;if(u===h)return c=d[u-1].points.slice(-2),{x:c[0],y:c[1]};if(s<.01)return d[u].command==="M"?(c=d[u].points.slice(0,2),{x:c[0],y:c[1]}):{x:d[u].start.x,y:d[u].start.y};const p=d[u],l=p.points;switch(p.command){case"L":return Vr.getPointOnLine(s,p.start.x,p.start.y,l[0],l[1]);case"C":return Vr.getPointOnCubicBezier((0,n.t2length)(s,Vr.getPathLength(d),_=>(0,n.getCubicArcLength)([p.start.x,l[0],l[2],l[4]],[p.start.y,l[1],l[3],l[5]],_)),p.start.x,p.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return Vr.getPointOnQuadraticBezier((0,n.t2length)(s,Vr.getPathLength(d),_=>(0,n.getQuadraticArcLength)([p.start.x,l[0],l[2]],[p.start.y,l[1],l[3]],_)),p.start.x,p.start.y,l[0],l[1],l[2],l[3]);case"A":const f=l[0],m=l[1],b=l[2],S=l[3],x=l[5],w=l[6];let y=l[4];return y+=x*s/p.pathLength,Vr.getPointOnEllipticalArc(f,m,b,S,y,w)}return null}static getPointOnLine(s,d,c,u,h,p,l){p=p??d,l=l??c;const f=this.getLineLength(d,c,u,h);if(f<1e-10)return{x:d,y:c};if(u===d)return{x:p,y:l+(h>c?s:-s)};const m=(h-c)/(u-d),b=Math.sqrt(s*s/(1+m*m))*(u<d?-1:1),S=m*b;if(Math.abs(l-c-m*(p-d))<1e-10)return{x:p+b,y:l+S};const x=((p-d)*(u-d)+(l-c)*(h-c))/(f*f),w=d+x*(u-d),y=c+x*(h-c),_=this.getLineLength(p,l,w,y),P=Math.sqrt(s*s-_*_),T=Math.sqrt(P*P/(1+m*m))*(u<d?-1:1),M=m*T;return{x:w+T,y:y+M}}static getPointOnCubicBezier(s,d,c,u,h,p,l,f,m){function b(P){return P*P*P}function S(P){return 3*P*P*(1-P)}function x(P){return 3*P*(1-P)*(1-P)}function w(P){return(1-P)*(1-P)*(1-P)}const y=f*b(s)+p*S(s)+u*x(s)+d*w(s),_=m*b(s)+l*S(s)+h*x(s)+c*w(s);return{x:y,y:_}}static getPointOnQuadraticBezier(s,d,c,u,h,p,l){function f(w){return w*w}function m(w){return 2*w*(1-w)}function b(w){return(1-w)*(1-w)}const S=p*f(s)+u*m(s)+d*b(s),x=l*f(s)+h*m(s)+c*b(s);return{x:S,y:x}}static getPointOnEllipticalArc(s,d,c,u,h,p){const l=Math.cos(p),f=Math.sin(p),m={x:c*Math.cos(h),y:u*Math.sin(h)};return{x:s+(m.x*l-m.y*f),y:d+(m.x*f+m.y*l)}}static parsePathData(s){if(!s)return[];let d=s;const c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(let S=0;S<c.length;S++)d=d.replace(new RegExp(c[S],"g"),"|"+c[S]);const u=d.split("|"),h=[],p=[];let l=0,f=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(let S=1;S<u.length;S++){let x=u[S],w=x.charAt(0);for(x=x.slice(1),p.length=0;b=m.exec(x);)p.push(b[0]);const y=[];for(let _=0,P=p.length;_<P;_++){if(p[_]==="00"){y.push(0,0);continue}const T=parseFloat(p[_]);isNaN(T)?y.push(0):y.push(T)}for(;y.length>0&&!isNaN(y[0]);){let _="",P=[];const T=l,M=f;let N,O,B,Z,D,U,z,G,ne,A;switch(w){case"l":l+=y.shift(),f+=y.shift(),_="L",P.push(l,f);break;case"L":l=y.shift(),f=y.shift(),P.push(l,f);break;case"m":const k=y.shift(),j=y.shift();if(l+=k,f+=j,_="M",h.length>2&&h[h.length-1].command==="z"){for(let $=h.length-2;$>=0;$--)if(h[$].command==="M"){l=h[$].points[0]+k,f=h[$].points[1]+j;break}}P.push(l,f),w="l";break;case"M":l=y.shift(),f=y.shift(),_="M",P.push(l,f),w="L";break;case"h":l+=y.shift(),_="L",P.push(l,f);break;case"H":l=y.shift(),_="L",P.push(l,f);break;case"v":f+=y.shift(),_="L",P.push(l,f);break;case"V":f=y.shift(),_="L",P.push(l,f);break;case"C":P.push(y.shift(),y.shift(),y.shift(),y.shift()),l=y.shift(),f=y.shift(),P.push(l,f);break;case"c":P.push(l+y.shift(),f+y.shift(),l+y.shift(),f+y.shift()),l+=y.shift(),f+=y.shift(),_="C",P.push(l,f);break;case"S":O=l,B=f,N=h[h.length-1],N.command==="C"&&(O=l+(l-N.points[2]),B=f+(f-N.points[3])),P.push(O,B,y.shift(),y.shift()),l=y.shift(),f=y.shift(),_="C",P.push(l,f);break;case"s":O=l,B=f,N=h[h.length-1],N.command==="C"&&(O=l+(l-N.points[2]),B=f+(f-N.points[3])),P.push(O,B,l+y.shift(),f+y.shift()),l+=y.shift(),f+=y.shift(),_="C",P.push(l,f);break;case"Q":P.push(y.shift(),y.shift()),l=y.shift(),f=y.shift(),P.push(l,f);break;case"q":P.push(l+y.shift(),f+y.shift()),l+=y.shift(),f+=y.shift(),_="Q",P.push(l,f);break;case"T":O=l,B=f,N=h[h.length-1],N.command==="Q"&&(O=l+(l-N.points[0]),B=f+(f-N.points[1])),l=y.shift(),f=y.shift(),_="Q",P.push(O,B,l,f);break;case"t":O=l,B=f,N=h[h.length-1],N.command==="Q"&&(O=l+(l-N.points[0]),B=f+(f-N.points[1])),l+=y.shift(),f+=y.shift(),_="Q",P.push(O,B,l,f);break;case"A":Z=y.shift(),D=y.shift(),U=y.shift(),z=y.shift(),G=y.shift(),ne=l,A=f,l=y.shift(),f=y.shift(),_="A",P=this.convertEndpointToCenterParameterization(ne,A,l,f,z,G,Z,D,U);break;case"a":Z=y.shift(),D=y.shift(),U=y.shift(),z=y.shift(),G=y.shift(),ne=l,A=f,l+=y.shift(),f+=y.shift(),_="A",P=this.convertEndpointToCenterParameterization(ne,A,l,f,z,G,Z,D,U);break}h.push({command:_||w,points:P,start:{x:T,y:M},pathLength:this.calcLength(T,M,_||w,P)})}(w==="z"||w==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(s,d,c,u){let h,p,l,f;const m=Vr;switch(c){case"L":return m.getLineLength(s,d,u[0],u[1]);case"C":return(0,n.getCubicArcLength)([s,u[0],u[2],u[4]],[d,u[1],u[3],u[5]],1);case"Q":return(0,n.getQuadraticArcLength)([s,u[0],u[2]],[d,u[1],u[3]],1);case"A":h=0;const b=u[4],S=u[5],x=u[4]+S;let w=Math.PI/180;if(Math.abs(b-x)<w&&(w=Math.abs(b-x)),p=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],b,0),S<0)for(f=b-w;f>x;f-=w)l=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),h+=m.getLineLength(p.x,p.y,l.x,l.y),p=l;else for(f=b+w;f<x;f+=w)l=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),h+=m.getLineLength(p.x,p.y,l.x,l.y),p=l;return l=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],x,0),h+=m.getLineLength(p.x,p.y,l.x,l.y),h}return 0}static convertEndpointToCenterParameterization(s,d,c,u,h,p,l,f,m){const b=m*(Math.PI/180),S=Math.cos(b)*(s-c)/2+Math.sin(b)*(d-u)/2,x=-1*Math.sin(b)*(s-c)/2+Math.cos(b)*(d-u)/2,w=S*S/(l*l)+x*x/(f*f);w>1&&(l*=Math.sqrt(w),f*=Math.sqrt(w));let y=Math.sqrt((l*l*(f*f)-l*l*(x*x)-f*f*(S*S))/(l*l*(x*x)+f*f*(S*S)));h===p&&(y*=-1),isNaN(y)&&(y=0);const _=y*l*x/f,P=y*-f*S/l,T=(s+c)/2+Math.cos(b)*_-Math.sin(b)*P,M=(d+u)/2+Math.sin(b)*_+Math.cos(b)*P,N=function(G){return Math.sqrt(G[0]*G[0]+G[1]*G[1])},O=function(G,ne){return(G[0]*ne[0]+G[1]*ne[1])/(N(G)*N(ne))},B=function(G,ne){return(G[0]*ne[1]<G[1]*ne[0]?-1:1)*Math.acos(O(G,ne))},Z=B([1,0],[(S-_)/l,(x-P)/f]),D=[(S-_)/l,(x-P)/f],U=[(-1*S-_)/l,(-1*x-P)/f];let z=B(D,U);return O(D,U)<=-1&&(z=Math.PI),O(D,U)>=1&&(z=0),p===0&&z>0&&(z=z-2*Math.PI),p===1&&z<0&&(z=z+2*Math.PI),[T,M,l,f,Z,z,b,p]}};return bl.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(i),e.Factory.addGetterSetter(i,"data"),bl}var dS;function KU(){if(dS)return gl;dS=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.Arrow=void 0;const e=bt(),t=v4(),r=yt(),n=gt(),i=sv();let o=class extends t.Line{_sceneFunc(d){super._sceneFunc(d);const c=Math.PI*2,u=this.points();let h=u;const p=this.tension()!==0&&u.length>4;p&&(h=this.getTensionPoints());const l=this.pointerLength(),f=u.length;let m,b;if(p){const w=[h[h.length-4],h[h.length-3],h[h.length-2],h[h.length-1],u[f-2],u[f-1]],y=i.Path.calcLength(h[h.length-4],h[h.length-3],"C",w),_=i.Path.getPointOnQuadraticBezier(Math.min(1,1-l/y),w[0],w[1],w[2],w[3],w[4],w[5]);m=u[f-2]-_.x,b=u[f-1]-_.y}else m=u[f-2]-u[f-4],b=u[f-1]-u[f-3];const S=(Math.atan2(b,m)+c)%c,x=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(u[f-2],u[f-1]),d.rotate(S),d.moveTo(0,0),d.lineTo(-l,x/2),d.lineTo(-l,-x/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(u[0],u[1]),p?(m=(h[0]+h[2])/2-u[0],b=(h[1]+h[3])/2-u[1]):(m=u[2]-u[0],b=u[3]-u[1]),d.rotate((Math.atan2(-b,-m)+c)%c),d.moveTo(0,0),d.lineTo(-l,x/2),d.lineTo(-l,-x/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){const c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),c=this.pointerWidth()/2;return{x:d.x,y:d.y-c,width:d.width,height:d.height+c*2}}};return gl.Arrow=o,o.prototype.className="Arrow",(0,n._registerNode)(o),e.Factory.addGetterSetter(o,"pointerLength",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"pointerWidth",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"pointerAtBeginning",!1),e.Factory.addGetterSetter(o,"pointerAtEnding",!0),gl}var yl={},hS;function JU(){if(hS)return yl;hS=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Circle=void 0;const e=bt(),t=yr(),r=yt(),n=gt();let i=class extends t.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}};return yl.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"radius",0,(0,r.getNumberValidator)()),yl}var xl={},fS;function QU(){if(fS)return xl;fS=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.Ellipse=void 0;const e=bt(),t=yr(),r=yt(),n=gt();let i=class extends t.Shape{_sceneFunc(s){const d=this.radiusX(),c=this.radiusY();s.beginPath(),s.save(),d!==c&&s.scale(1,c/d),s.arc(0,0,d,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return xl.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(i),e.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),e.Factory.addGetterSetter(i,"radiusX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"radiusY",0,(0,r.getNumberValidator)()),xl}var wl={},pS;function eV(){if(pS)return wl;pS=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Image=void 0;const e=tr(),t=bt(),r=yr(),n=gt(),i=yt();let o=class b4 extends r.Shape{constructor(d){super(d),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",c=>{this._removeImageLoad(c.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&d.readyState===4||d&&d.addEventListener&&d.addEventListener("load",this._loadListener)}_removeImageLoad(d){d&&d.removeEventListener&&d.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const d=!!this.cornerRadius(),c=this.hasShadow();return d&&c?!0:super._useBufferCanvas(!0)}_sceneFunc(d){const c=this.getWidth(),u=this.getHeight(),h=this.cornerRadius(),p=this.attrs.image;let l;if(p){const f=this.attrs.cropWidth,m=this.attrs.cropHeight;f&&m?l=[p,this.cropX(),this.cropY(),f,m,0,0,c,u]:l=[p,0,0,c,u]}(this.hasFill()||this.hasStroke()||h)&&(d.beginPath(),h?e.Util.drawRoundedRectPath(d,c,u,h):d.rect(0,0,c,u),d.closePath(),d.fillStrokeShape(this)),p&&(h&&d.clip(),d.drawImage.apply(d,l))}_hitFunc(d){const c=this.width(),u=this.height(),h=this.cornerRadius();d.beginPath(),h?e.Util.drawRoundedRectPath(d,c,u,h):d.rect(0,0,c,u),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,c;return(d=this.attrs.width)!==null&&d!==void 0?d:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var d,c;return(d=this.attrs.height)!==null&&d!==void 0?d:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(d,c,u=null){const h=e.Util.createImageElement();h.onload=function(){const p=new b4({image:h});c(p)},h.onerror=u,h.crossOrigin="Anonymous",h.src=d}};return wl.Image=o,o.prototype.className="Image",(0,n._registerNode)(o),t.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(o,"image"),t.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(o,"cropX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"cropY",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"cropWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"cropHeight",0,(0,i.getNumberValidator)()),wl}var ji={},mS;function tV(){if(mS)return ji;mS=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.Tag=ji.Label=void 0;const e=bt(),t=yr(),r=iv(),n=yt(),i=gt(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",d="none",c="up",u="right",h="down",p="left",l=o.length;let f=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){let x=this,w;const y=function(){x._sync()};for(w=0;w<l;w++)S.on(o[w]+s,y)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let S=this.getText(),x=this.getTag(),w,y,_,P,T,M,N;if(S&&x){switch(w=S.width(),y=S.height(),_=x.pointerDirection(),P=x.pointerWidth(),N=x.pointerHeight(),T=0,M=0,_){case c:T=w/2,M=-1*N;break;case u:T=w+P,M=y/2;break;case h:T=w/2,M=y+N;break;case p:T=-1*P,M=y/2;break}x.setAttrs({x:-1*T,y:-1*M,width:w,height:y}),S.setAttrs({x:-1*T,y:-1*M})}}};ji.Label=f,f.prototype.className="Label",(0,i._registerNode)(f);class m extends t.Shape{_sceneFunc(S){const x=this.width(),w=this.height(),y=this.pointerDirection(),_=this.pointerWidth(),P=this.pointerHeight(),T=this.cornerRadius();let M=0,N=0,O=0,B=0;typeof T=="number"?M=N=O=B=Math.min(T,x/2,w/2):(M=Math.min(T[0]||0,x/2,w/2),N=Math.min(T[1]||0,x/2,w/2),B=Math.min(T[2]||0,x/2,w/2),O=Math.min(T[3]||0,x/2,w/2)),S.beginPath(),S.moveTo(M,0),y===c&&(S.lineTo((x-_)/2,0),S.lineTo(x/2,-1*P),S.lineTo((x+_)/2,0)),S.lineTo(x-N,0),S.arc(x-N,N,N,Math.PI*3/2,0,!1),y===u&&(S.lineTo(x,(w-P)/2),S.lineTo(x+_,w/2),S.lineTo(x,(w+P)/2)),S.lineTo(x,w-B),S.arc(x-B,w-B,B,0,Math.PI/2,!1),y===h&&(S.lineTo((x+_)/2,w),S.lineTo(x/2,w+P),S.lineTo((x-_)/2,w)),S.lineTo(O,w),S.arc(O,w-O,O,Math.PI/2,Math.PI,!1),y===p&&(S.lineTo(0,(w+P)/2),S.lineTo(-1*_,w/2),S.lineTo(0,(w-P)/2)),S.lineTo(0,M),S.arc(M,M,M,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){let S=0,x=0,w=this.pointerWidth(),y=this.pointerHeight(),_=this.pointerDirection(),P=this.width(),T=this.height();return _===c?(x-=y,T+=y):_===h?T+=y:_===p?(S-=w*1.5,P+=w):_===u&&(P+=w*1.5),{x:S,y:x,width:P,height:T}}}return ji.Tag=m,m.prototype.className="Tag",(0,i._registerNode)(m),e.Factory.addGetterSetter(m,"pointerDirection",d),e.Factory.addGetterSetter(m,"pointerWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(m,"pointerHeight",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(m,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),ji}var Sl={},gS;function y4(){if(gS)return Sl;gS=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Rect=void 0;const e=bt(),t=yr(),r=gt(),n=tr(),i=yt();let o=class extends t.Shape{_sceneFunc(d){const c=this.cornerRadius(),u=this.width(),h=this.height();d.beginPath(),c?n.Util.drawRoundedRectPath(d,u,h,c):d.rect(0,0,u,h),d.closePath(),d.fillStrokeShape(this)}};return Sl.Rect=o,o.prototype.className="Rect",(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Sl}var kl={},vS;function rV(){if(vS)return kl;vS=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.RegularPolygon=void 0;const e=bt(),t=yr(),r=yt(),n=gt();let i=class extends t.Shape{_sceneFunc(s){const d=this._getPoints();s.beginPath(),s.moveTo(d[0].x,d[0].y);for(let c=1;c<d.length;c++)s.lineTo(d[c].x,d[c].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,d=this.attrs.radius||0,c=[];for(let u=0;u<s;u++)c.push({x:d*Math.sin(u*2*Math.PI/s),y:-1*d*Math.cos(u*2*Math.PI/s)});return c}getSelfRect(){const s=this._getPoints();let d=s[0].x,c=s[0].y,u=s[0].x,h=s[0].y;return s.forEach(p=>{d=Math.min(d,p.x),c=Math.max(c,p.x),u=Math.min(u,p.y),h=Math.max(h,p.y)}),{x:d,y:u,width:c-d,height:h-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return kl.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"sides",0,(0,r.getNumberValidator)()),kl}var Cl={},bS;function nV(){if(bS)return Cl;bS=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Ring=void 0;const e=bt(),t=yr(),r=yt(),n=gt(),i=Math.PI*2;let o=class extends t.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,i,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),i,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return Cl.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(o),e.Factory.addGetterSetter(o,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"outerRadius",0,(0,r.getNumberValidator)()),Cl}var _l={},yS;function aV(){if(yS)return _l;yS=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.Sprite=void 0;const e=bt(),t=yr(),r=ov(),n=yt(),i=gt();let o=class extends t.Shape{constructor(d){super(d),this._updated=!0,this.anim=new r.Animation(()=>{const c=this._updated;return this._updated=!1,c}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){const c=this.animation(),u=this.frameIndex(),h=u*4,p=this.animations()[c],l=this.frameOffsets(),f=p[h+0],m=p[h+1],b=p[h+2],S=p[h+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,b,S),d.closePath(),d.fillStrokeShape(this)),x)if(l){const w=l[c],y=u*2;d.drawImage(x,f,m,b,S,w[y+0],w[y+1],b,S)}else d.drawImage(x,f,m,b,S,0,0,b,S)}_hitFunc(d){const c=this.animation(),u=this.frameIndex(),h=u*4,p=this.animations()[c],l=this.frameOffsets(),f=p[h+2],m=p[h+3];if(d.beginPath(),l){const b=l[c],S=u*2;d.rect(b[S+0],b[S+1],f,m)}else d.rect(0,0,f,m);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const d=this.frameIndex(),c=this.animation(),u=this.animations(),h=u[c],p=h.length/4;d<p-1?this.frameIndex(d+1):this.frameIndex(0)}};return _l.Sprite=o,o.prototype.className="Sprite",(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"animation"),e.Factory.addGetterSetter(o,"animations"),e.Factory.addGetterSetter(o,"frameOffsets"),e.Factory.addGetterSetter(o,"image"),e.Factory.addGetterSetter(o,"frameIndex",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"frameRate",17,(0,n.getNumberValidator)()),e.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),_l}var jl={},xS;function iV(){if(xS)return jl;xS=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.Star=void 0;const e=bt(),t=yr(),r=yt(),n=gt();let i=class extends t.Shape{_sceneFunc(s){const d=this.innerRadius(),c=this.outerRadius(),u=this.numPoints();s.beginPath(),s.moveTo(0,0-c);for(let h=1;h<u*2;h++){const p=h%2===0?c:d,l=p*Math.sin(h*Math.PI/u),f=-1*p*Math.cos(h*Math.PI/u);s.lineTo(l,f)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return jl.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"numPoints",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"outerRadius",0,(0,r.getNumberValidator)()),jl}var is={},wS;function x4(){if(wS)return is;wS=1,Object.defineProperty(is,"__esModule",{value:!0}),is.Text=void 0,is.stringToArray=s;const e=tr(),t=bt(),r=yr(),n=gt(),i=yt(),o=gt();function s(R){return[...R].reduce((W,Y,te,ie)=>{if(new RegExp("\\p{Emoji}","u").test(Y)){const J=ie[te+1];J&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(J)?(W.push(Y+J),ie[te+1]=""):W.push(Y)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(Y+(ie[te+1]||""))?W.push(Y+ie[te+1]):te>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(Y)?W[W.length-1]+=Y:Y&&W.push(Y);return W},[])}const d="auto",c="center",u="inherit",h="justify",p="Change.konva",l="2d",f="-",m="left",b="text",S="Text",x="top",w="bottom",y="middle",_="normal",P="px ",T=" ",M="right",N="rtl",O="word",B="char",Z="none",D="…",U=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],z=U.length;function G(R){return R.split(",").map(W=>{W=W.trim();const Y=W.indexOf(" ")>=0,te=W.indexOf('"')>=0||W.indexOf("'")>=0;return Y&&!te&&(W=`"${W}"`),W}).join(", ")}let ne;function A(){return ne||(ne=e.Util.createCanvasElement().getContext(l),ne)}function k(R){R.fillText(this._partialText,this._partialTextX,this._partialTextY)}function j(R){R.setAttr("miterLimit",2),R.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function $(R){return R=R||{},!R.fillLinearGradientColorStops&&!R.fillRadialGradientColorStops&&!R.fillPatternImage&&(R.fill=R.fill||"black"),R}let F=class extends r.Shape{constructor(W){super($(W)),this._partialTextX=0,this._partialTextY=0;for(let Y=0;Y<z;Y++)this.on(U[Y]+p,this._setTextData);this._setTextData()}_sceneFunc(W){const Y=this.textArr,te=Y.length;if(!this.text())return;let ie=this.padding(),J=this.fontSize(),ee=this.lineHeight()*J,Q=this.verticalAlign(),he=this.direction(),ge=0,ye=this.align(),_e=this.getWidth(),H=this.letterSpacing(),Se=this.fill(),Ce=this.textDecoration(),se=Ce.indexOf("underline")!==-1,ae=Ce.indexOf("line-through")!==-1,xe;he=he===u?W.direction:he;let $e=ee/2,ue=y;if(n.Konva._fixTextRendering){const V=this.measureSize("M");ue="alphabetic",$e=(V.fontBoundingBoxAscent-V.fontBoundingBoxDescent)/2+ee/2}for(he===N&&W.setAttr("direction",he),W.setAttr("font",this._getContextFont()),W.setAttr("textBaseline",ue),W.setAttr("textAlign",m),Q===y?ge=(this.getHeight()-te*ee-ie*2)/2:Q===w&&(ge=this.getHeight()-te*ee-ie*2),W.translate(ie,ge+ie),xe=0;xe<te;xe++){let V=0,me=0;const pe=Y[xe],ke=pe.text,Ie=pe.width,Re=pe.lastInParagraph;if(W.save(),ye===M?V+=_e-Ie-ie*2:ye===c&&(V+=(_e-Ie-ie*2)/2),se){W.save(),W.beginPath();const Be=n.Konva._fixTextRendering?Math.round(J/4):Math.round(J/2),ot=V,st=$e+me+Be;W.moveTo(ot,st);const pt=ye===h&&!Re?_e-ie*2:Ie;W.lineTo(ot+Math.round(pt),st),W.lineWidth=J/15;const Rt=this._getLinearGradient();W.strokeStyle=Rt||Se,W.stroke(),W.restore()}if(ae){W.save(),W.beginPath();const Be=n.Konva._fixTextRendering?-Math.round(J/4):0;W.moveTo(V,$e+me+Be);const ot=ye===h&&!Re?_e-ie*2:Ie;W.lineTo(V+Math.round(ot),$e+me+Be),W.lineWidth=J/15;const st=this._getLinearGradient();W.strokeStyle=st||Se,W.stroke(),W.restore()}if(he!==N&&(H!==0||ye===h)){const Be=ke.split(" ").length-1,ot=s(ke);for(let st=0;st<ot.length;st++){const pt=ot[st];pt===" "&&!Re&&ye===h&&(V+=(_e-ie*2-Ie)/Be),this._partialTextX=V,this._partialTextY=$e+me,this._partialText=pt,W.fillStrokeShape(this),V+=this.measureSize(pt).width+H}}else H!==0&&W.setAttr("letterSpacing",`${H}px`),this._partialTextX=V,this._partialTextY=$e+me,this._partialText=ke,W.fillStrokeShape(this);W.restore(),te>1&&($e+=ee)}}_hitFunc(W){const Y=this.getWidth(),te=this.getHeight();W.beginPath(),W.rect(0,0,Y,te),W.closePath(),W.fillStrokeShape(this)}setText(W){const Y=e.Util._isString(W)?W:W==null?"":W+"";return this._setAttr(b,Y),this}getWidth(){return this.attrs.width===d||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===d||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(W){var Y,te,ie,J,ee,Q,he,ge,ye,_e,H;let Se=A(),Ce=this.fontSize(),se;Se.save(),Se.font=this._getContextFont(),se=Se.measureText(W),Se.restore();const ae=Ce/100;return{actualBoundingBoxAscent:(Y=se.actualBoundingBoxAscent)!==null&&Y!==void 0?Y:71.58203125*ae,actualBoundingBoxDescent:(te=se.actualBoundingBoxDescent)!==null&&te!==void 0?te:0,actualBoundingBoxLeft:(ie=se.actualBoundingBoxLeft)!==null&&ie!==void 0?ie:-7.421875*ae,actualBoundingBoxRight:(J=se.actualBoundingBoxRight)!==null&&J!==void 0?J:75.732421875*ae,alphabeticBaseline:(ee=se.alphabeticBaseline)!==null&&ee!==void 0?ee:0,emHeightAscent:(Q=se.emHeightAscent)!==null&&Q!==void 0?Q:100*ae,emHeightDescent:(he=se.emHeightDescent)!==null&&he!==void 0?he:-20*ae,fontBoundingBoxAscent:(ge=se.fontBoundingBoxAscent)!==null&&ge!==void 0?ge:91*ae,fontBoundingBoxDescent:(ye=se.fontBoundingBoxDescent)!==null&&ye!==void 0?ye:21*ae,hangingBaseline:(_e=se.hangingBaseline)!==null&&_e!==void 0?_e:72.80000305175781*ae,ideographicBaseline:(H=se.ideographicBaseline)!==null&&H!==void 0?H:-21*ae,width:se.width,height:Ce}}_getContextFont(){return this.fontStyle()+T+this.fontVariant()+T+(this.fontSize()+P)+G(this.fontFamily())}_addTextLine(W){this.align()===h&&(W=W.trim());const te=this._getTextWidth(W);return this.textArr.push({text:W,width:te,lastInParagraph:!1})}_getTextWidth(W){const Y=this.letterSpacing(),te=W.length;return A().measureText(W).width+Y*te}_setTextData(){let W=this.text().split(`
`),Y=+this.fontSize(),te=0,ie=this.lineHeight()*Y,J=this.attrs.width,ee=this.attrs.height,Q=J!==d&&J!==void 0,he=ee!==d&&ee!==void 0,ge=this.padding(),ye=J-ge*2,_e=ee-ge*2,H=0,Se=this.wrap(),Ce=Se!==Z,se=Se!==B&&Ce,ae=this.ellipsis();this.textArr=[],A().font=this._getContextFont();const xe=ae?this._getTextWidth(D):0;for(let $e=0,ue=W.length;$e<ue;++$e){let V=W[$e],me=this._getTextWidth(V);if(Q&&me>ye)for(;V.length>0;){let pe=0,ke=s(V).length,Ie="",Re=0;for(;pe<ke;){const Be=pe+ke>>>1,ot=s(V),st=ot.slice(0,Be+1).join(""),pt=this._getTextWidth(st);(ae&&he&&H+ie>_e?pt+xe:pt)<=ye?(pe=Be+1,Ie=st,Re=pt):ke=Be}if(Ie){if(se){const st=s(V),pt=s(Ie),Rt=st[pt.length],St=Rt===T||Rt===f;let or;if(St&&Re<=ye)or=pt.length;else{const Tr=pt.lastIndexOf(T),rr=pt.lastIndexOf(f);or=Math.max(Tr,rr)+1}or>0&&(pe=or,Ie=st.slice(0,pe).join(""),Re=this._getTextWidth(Ie))}if(Ie=Ie.trimRight(),this._addTextLine(Ie),te=Math.max(te,Re),H+=ie,this._shouldHandleEllipsis(H)){this._tryToAddEllipsisToLastLine();break}if(V=s(V).slice(pe).join("").trimLeft(),V.length>0&&(me=this._getTextWidth(V),me<=ye)){this._addTextLine(V),H+=ie,te=Math.max(te,me);break}}else break}else this._addTextLine(V),H+=ie,te=Math.max(te,me),this._shouldHandleEllipsis(H)&&$e<ue-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),he&&H+ie>_e)break}this.textHeight=Y,this.textWidth=te}_shouldHandleEllipsis(W){const Y=+this.fontSize(),te=this.lineHeight()*Y,ie=this.attrs.height,J=ie!==d&&ie!==void 0,ee=this.padding(),Q=ie-ee*2;return!(this.wrap()!==Z)||J&&W+te>Q}_tryToAddEllipsisToLastLine(){const W=this.attrs.width,Y=W!==d&&W!==void 0,te=this.padding(),ie=W-te*2,J=this.ellipsis(),ee=this.textArr[this.textArr.length-1];!ee||!J||(Y&&(this._getTextWidth(ee.text+D)<ie||(ee.text=ee.text.slice(0,ee.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ee.text+D))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const W=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,Y=this.hasShadow();return W&&Y?!0:super._useBufferCanvas()}};return is.Text=F,F.prototype._fillFunc=k,F.prototype._strokeFunc=j,F.prototype.className=S,F.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(F),t.Factory.overWriteSetter(F,"width",(0,i.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(F,"height",(0,i.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(F,"direction",u),t.Factory.addGetterSetter(F,"fontFamily","Arial"),t.Factory.addGetterSetter(F,"fontSize",12,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(F,"fontStyle",_),t.Factory.addGetterSetter(F,"fontVariant",_),t.Factory.addGetterSetter(F,"padding",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(F,"align",m),t.Factory.addGetterSetter(F,"verticalAlign",x),t.Factory.addGetterSetter(F,"lineHeight",1,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(F,"wrap",O),t.Factory.addGetterSetter(F,"ellipsis",!1,(0,i.getBooleanValidator)()),t.Factory.addGetterSetter(F,"letterSpacing",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(F,"text","",(0,i.getStringValidator)()),t.Factory.addGetterSetter(F,"textDecoration",""),is}var Pl={},SS;function oV(){if(SS)return Pl;SS=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.TextPath=void 0;const e=tr(),t=bt(),r=yr(),n=sv(),i=x4(),o=yt(),s=gt(),d="",c="normal";function u(l){l.fillText(this.partialText,0,0)}function h(l){l.strokeText(this.partialText,0,0)}let p=class extends r.Shape{constructor(f){super(f),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const m=this.pathLength;return f-1>m?null:n.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const m=this.textDecoration(),b=this.fill(),S=this.fontSize(),x=this.glyphInfo;m==="underline"&&f.beginPath();for(let w=0;w<x.length;w++){f.save();const y=x[w].p0;f.translate(y.x,y.y),f.rotate(x[w].rotation),this.partialText=x[w].text,f.fillStrokeShape(this),m==="underline"&&(w===0&&f.moveTo(0,S/2+1),f.lineTo(S,S/2+1)),f.restore()}m==="underline"&&(f.strokeStyle=b,f.lineWidth=S/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const m=this.glyphInfo;if(m.length>=1){const b=m[0].p0;f.moveTo(b.x,b.y)}for(let b=0;b<m.length;b++){const S=m[b].p1;f.lineTo(S.x,S.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return i.Text.prototype.setText.call(this,f)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(f){const b=this.dummyCanvas.getContext("2d");b.save(),b.font=this._getContextFont();const S=b.measureText(f);return b.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const b=this.letterSpacing(),S=this.align(),x=this.kerningFunc(),w=Math.max(this.textWidth+((this.attrs.text||"").length-1)*b,0);let y=0;S==="center"&&(y=Math.max(0,this.pathLength/2-w/2)),S==="right"&&(y=Math.max(0,this.pathLength-w));const _=(0,i.stringToArray)(this.text());let P=y;for(let T=0;T<_.length;T++){const M=this._getPointAtLength(P);if(!M)return;let N=this._getTextSize(_[T]).width+b;if(_[T]===" "&&S==="justify"){const z=this.text().split(" ").length-1;N+=(this.pathLength-w)/z}const O=this._getPointAtLength(P+N);if(!O)return;const B=n.Path.getLineLength(M.x,M.y,O.x,O.y);let Z=0;if(x)try{Z=x(_[T-1],_[T])*this.fontSize()}catch{Z=0}M.x+=Z,O.x+=Z,this.textWidth+=Z;const D=n.Path.getPointOnLine(Z+B/2,M.x,M.y,O.x,O.y),U=Math.atan2(O.y-M.y,O.x-M.x);this.glyphInfo.push({transposeX:D.x,transposeY:D.y,text:_[T],rotation:U,p0:M,p1:O}),P+=N}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(P){f.push(P.p0.x),f.push(P.p0.y),f.push(P.p1.x),f.push(P.p1.y)});let m=f[0]||0,b=f[0]||0,S=f[1]||0,x=f[1]||0,w,y;for(let P=0;P<f.length/2;P++)w=f[P*2],y=f[P*2+1],m=Math.min(m,w),b=Math.max(b,w),S=Math.min(S,y),x=Math.max(x,y);const _=this.fontSize();return{x:m-_/2,y:S-_/2,width:b-m+_,height:x-S+_}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Pl.TextPath=p,p.prototype._fillFunc=u,p.prototype._strokeFunc=h,p.prototype._fillFuncHit=u,p.prototype._strokeFuncHit=h,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(p),t.Factory.addGetterSetter(p,"data"),t.Factory.addGetterSetter(p,"fontFamily","Arial"),t.Factory.addGetterSetter(p,"fontSize",12,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(p,"fontStyle",c),t.Factory.addGetterSetter(p,"align","left"),t.Factory.addGetterSetter(p,"letterSpacing",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(p,"textBaseline","middle"),t.Factory.addGetterSetter(p,"fontVariant",c),t.Factory.addGetterSetter(p,"text",d),t.Factory.addGetterSetter(p,"textDecoration",""),t.Factory.addGetterSetter(p,"kerningFunc",void 0),Pl}var $l={},kS;function sV(){if(kS)return $l;kS=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.Transformer=void 0;const e=tr(),t=bt(),r=ir(),n=yr(),i=y4(),o=iv(),s=gt(),d=yt(),c=gt(),u="tr-konva",h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(N=>N+`.${u}`).join(" "),p="nodesRect",l=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in s.Konva._global;function b(N,O,B){if(N==="rotater")return B;O+=e.Util.degToRad(f[N]||0);const Z=(e.Util.radToDeg(O)%360+360)%360;return e.Util._inRange(Z,315+22.5,360)||e.Util._inRange(Z,0,22.5)?"ns-resize":e.Util._inRange(Z,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(Z,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(Z,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(Z,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(Z,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(Z,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(Z,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+Z),"pointer")}const S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function x(N){return{x:N.x+N.width/2*Math.cos(N.rotation)+N.height/2*Math.sin(-N.rotation),y:N.y+N.height/2*Math.cos(N.rotation)+N.width/2*Math.sin(N.rotation)}}function w(N,O,B){const Z=B.x+(N.x-B.x)*Math.cos(O)-(N.y-B.y)*Math.sin(O),D=B.y+(N.x-B.x)*Math.sin(O)+(N.y-B.y)*Math.cos(O);return{...N,rotation:N.rotation+O,x:Z,y:D}}function y(N,O){const B=x(N);return w(N,O,B)}function _(N,O,B){let Z=O;for(let D=0;D<N.length;D++){const U=s.Konva.getAngle(N[D]),z=Math.abs(U-O)%(Math.PI*2);Math.min(z,Math.PI*2-z)<B&&(Z=U)}return Z}let P=0,T=class extends o.Group{constructor(O){super(O),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h,this.update),this.getNode()&&this.update()}attachTo(O){return this.setNode(O),this}setNode(O){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([O])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(O=[]){this._nodes&&this._nodes.length&&this.detach();const B=O.filter(D=>D.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=O=B,O.length===1&&this.useSingleNodeRotation()?this.rotation(O[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(D=>{const U=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(D._attrsAffectingSize.length){const z=D._attrsAffectingSize.map(G=>G+"Change."+this._getEventNamespace()).join(" ");D.on(z,U)}D.on(l.map(z=>z+`.${this._getEventNamespace()}`).join(" "),U),D.on(`absoluteTransformChange.${this._getEventNamespace()}`,U),this._proxyDrag(D)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(O){let B;O.on(`dragstart.${this._getEventNamespace()}`,Z=>{B=O.getAbsolutePosition(),!this.isDragging()&&O!==this.findOne(".back")&&this.startDrag(Z,!1)}),O.on(`dragmove.${this._getEventNamespace()}`,Z=>{if(!B)return;const D=O.getAbsolutePosition(),U=D.x-B.x,z=D.y-B.y;this.nodes().forEach(G=>{if(G===O||G.isDragging())return;const ne=G.getAbsolutePosition();G.setAbsolutePosition({x:ne.x+U,y:ne.y+z}),G.startDrag(Z)}),B=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(O=>{O.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(O,B=this.rotation(),Z){const D=O.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),U=O.getAbsoluteScale(Z),z=O.getAbsolutePosition(Z),G=D.x*U.x-O.offsetX()*U.x,ne=D.y*U.y-O.offsetY()*U.y,A=(s.Konva.getAngle(O.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),k={x:z.x+G*Math.cos(A)+ne*Math.sin(-A),y:z.y+ne*Math.cos(A)+G*Math.sin(A),width:D.width*U.x,height:D.height*U.y,rotation:A};return w(k,-s.Konva.getAngle(B),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const B=[];this.nodes().map(A=>{const k=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),j=[{x:k.x,y:k.y},{x:k.x+k.width,y:k.y},{x:k.x+k.width,y:k.y+k.height},{x:k.x,y:k.y+k.height}],$=A.getAbsoluteTransform();j.forEach(function(F){const R=$.point(F);B.push(R)})});const Z=new e.Transform;Z.rotate(-s.Konva.getAngle(this.rotation()));let D=1/0,U=1/0,z=-1/0,G=-1/0;B.forEach(function(A){const k=Z.point(A);D===void 0&&(D=z=k.x,U=G=k.y),D=Math.min(D,k.x),U=Math.min(U,k.y),z=Math.max(z,k.x),G=Math.max(G,k.y)}),Z.invert();const ne=Z.point({x:D,y:U});return{x:ne.x,y:ne.y,width:z-D,height:G-U,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(O=>{this._createAnchor(O)}),this._createAnchor("rotater")}_createAnchor(O){const B=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:O+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),Z=this;B.on("mousedown touchstart",function(D){Z._handleMouseDown(D)}),B.on("dragstart",D=>{B.stopDrag(),D.cancelBubble=!0}),B.on("dragend",D=>{D.cancelBubble=!0}),B.on("mouseenter",()=>{const D=s.Konva.getAngle(this.rotation()),U=this.rotateAnchorCursor(),z=b(O,D,U);B.getStage().content&&(B.getStage().content.style.cursor=z),this._cursorChange=!0}),B.on("mouseout",()=>{B.getStage().content&&(B.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(B)}_createBack(){const O=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(B,Z){const D=Z.getParent(),U=D.padding();B.beginPath(),B.rect(-U,-U,Z.width()+U*2,Z.height()+U*2),B.moveTo(Z.width()/2,-U),D.rotateEnabled()&&D.rotateLineVisible()&&B.lineTo(Z.width()/2,-D.rotateAnchorOffset()*e.Util._sign(Z.height())-U),B.fillStrokeShape(Z)},hitFunc:(B,Z)=>{if(!this.shouldOverdrawWholeArea())return;const D=this.padding();B.beginPath(),B.rect(-D,-D,Z.width()+D*2,Z.height()+D*2),B.fillStrokeShape(Z)}});this.add(O),this._proxyDrag(O),O.on("dragstart",B=>{B.cancelBubble=!0}),O.on("dragmove",B=>{B.cancelBubble=!0}),O.on("dragend",B=>{B.cancelBubble=!0}),this.on("dragmove",B=>{this.update()})}_handleMouseDown(O){if(this._transforming)return;this._movingAnchorName=O.target.name().split(" ")[0];const B=this._getNodeRect(),Z=B.width,D=B.height,U=Math.sqrt(Math.pow(Z,2)+Math.pow(D,2));this.sin=Math.abs(D/U),this.cos=Math.abs(Z/U),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const z=O.target.getAbsolutePosition(),G=O.target.getStage().getPointerPosition();this._anchorDragOffset={x:G.x-z.x,y:G.y-z.y},P++,this._fire("transformstart",{evt:O.evt,target:this.getNode()}),this._nodes.forEach(ne=>{ne._fire("transformstart",{evt:O.evt,target:ne})})}_handleMouseMove(O){let B,Z,D;const U=this.findOne("."+this._movingAnchorName),z=U.getStage();z.setPointersPositions(O);const G=z.getPointerPosition();let ne={x:G.x-this._anchorDragOffset.x,y:G.y-this._anchorDragOffset.y};const A=U.getAbsolutePosition();this.anchorDragBoundFunc()&&(ne=this.anchorDragBoundFunc()(A,ne,O)),U.setAbsolutePosition(ne);const k=U.getAbsolutePosition();if(A.x===k.x&&A.y===k.y)return;if(this._movingAnchorName==="rotater"){const ie=this._getNodeRect();B=U.x()-ie.width/2,Z=-U.y()+ie.height/2;let J=Math.atan2(-Z,B)+Math.PI/2;ie.height<0&&(J-=Math.PI);const Q=s.Konva.getAngle(this.rotation())+J,he=s.Konva.getAngle(this.rotationSnapTolerance()),ye=_(this.rotationSnaps(),Q,he)-ie.rotation,_e=y(ie,ye);this._fitNodesInto(_e,O);return}const j=this.shiftBehavior();let $;j==="inverted"?$=this.keepRatio()&&!O.shiftKey:j==="none"?$=this.keepRatio():$=this.keepRatio()||O.shiftKey;let F=this.centeredScaling()||O.altKey;if(this._movingAnchorName==="top-left"){if($){const ie=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};D=Math.sqrt(Math.pow(ie.x-U.x(),2)+Math.pow(ie.y-U.y(),2));const J=this.findOne(".top-left").x()>ie.x?-1:1,ee=this.findOne(".top-left").y()>ie.y?-1:1;B=D*this.cos*J,Z=D*this.sin*ee,this.findOne(".top-left").x(ie.x-B),this.findOne(".top-left").y(ie.y-Z)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(U.y());else if(this._movingAnchorName==="top-right"){if($){const ie=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};D=Math.sqrt(Math.pow(U.x()-ie.x,2)+Math.pow(ie.y-U.y(),2));const J=this.findOne(".top-right").x()<ie.x?-1:1,ee=this.findOne(".top-right").y()>ie.y?-1:1;B=D*this.cos*J,Z=D*this.sin*ee,this.findOne(".top-right").x(ie.x+B),this.findOne(".top-right").y(ie.y-Z)}var R=U.position();this.findOne(".top-left").y(R.y),this.findOne(".bottom-right").x(R.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(U.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(U.x());else if(this._movingAnchorName==="bottom-left"){if($){const ie=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};D=Math.sqrt(Math.pow(ie.x-U.x(),2)+Math.pow(U.y()-ie.y,2));const J=ie.x<U.x()?-1:1,ee=U.y()<ie.y?-1:1;B=D*this.cos*J,Z=D*this.sin*ee,U.x(ie.x-B),U.y(ie.y+Z)}R=U.position(),this.findOne(".top-left").x(R.x),this.findOne(".bottom-right").y(R.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(U.y());else if(this._movingAnchorName==="bottom-right"){if($){const ie=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};D=Math.sqrt(Math.pow(U.x()-ie.x,2)+Math.pow(U.y()-ie.y,2));const J=this.findOne(".bottom-right").x()<ie.x?-1:1,ee=this.findOne(".bottom-right").y()<ie.y?-1:1;B=D*this.cos*J,Z=D*this.sin*ee,this.findOne(".bottom-right").x(ie.x+B),this.findOne(".bottom-right").y(ie.y+Z)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(F=this.centeredScaling()||O.altKey,F){const ie=this.findOne(".top-left"),J=this.findOne(".bottom-right"),ee=ie.x(),Q=ie.y(),he=this.getWidth()-J.x(),ge=this.getHeight()-J.y();J.move({x:-ee,y:-Q}),ie.move({x:he,y:ge})}const W=this.findOne(".top-left").getAbsolutePosition();B=W.x,Z=W.y;const Y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),te=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:B,y:Z,width:Y,height:te,rotation:s.Konva.getAngle(this.rotation())},O)}_handleMouseUp(O){this._removeEvents(O)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(O){var B;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const Z=this.getNode();P--,this._fire("transformend",{evt:O,target:Z}),(B=this.getLayer())===null||B===void 0||B.batchDraw(),Z&&this._nodes.forEach(D=>{var U;D._fire("transformend",{evt:O,target:D}),(U=D.getLayer())===null||U===void 0||U.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(O,B){const Z=this._getNodeRect(),D=1;if(e.Util._inRange(O.width,-this.padding()*2-D,D)){this.update();return}if(e.Util._inRange(O.height,-this.padding()*2-D,D)){this.update();return}const U=new e.Transform;if(U.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("left")>=0){const $=U.point({x:-this.padding()*2,y:0});O.x+=$.x,O.y+=$.y,O.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=$.x,this._anchorDragOffset.y-=$.y}else if(this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("right")>=0){const $=U.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=$.x,this._anchorDragOffset.y-=$.y,O.width+=this.padding()*2}if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("top")>=0){const $=U.point({x:0,y:-this.padding()*2});O.x+=$.x,O.y+=$.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=$.x,this._anchorDragOffset.y-=$.y,O.height+=this.padding()*2}else if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const $=U.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=$.x,this._anchorDragOffset.y-=$.y,O.height+=this.padding()*2}if(this.boundBoxFunc()){const $=this.boundBoxFunc()(Z,O);$?O=$:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const z=1e7,G=new e.Transform;G.translate(Z.x,Z.y),G.rotate(Z.rotation),G.scale(Z.width/z,Z.height/z);const ne=new e.Transform,A=O.width/z,k=O.height/z;this.flipEnabled()===!1?(ne.translate(O.x,O.y),ne.rotate(O.rotation),ne.translate(O.width<0?O.width:0,O.height<0?O.height:0),ne.scale(Math.abs(A),Math.abs(k))):(ne.translate(O.x,O.y),ne.rotate(O.rotation),ne.scale(A,k));const j=ne.multiply(G.invert());this._nodes.forEach($=>{var F;const R=$.getParent().getAbsoluteTransform(),W=$.getTransform().copy();W.translate($.offsetX(),$.offsetY());const Y=new e.Transform;Y.multiply(R.copy().invert()).multiply(j).multiply(R).multiply(W);const te=Y.decompose();$.setAttrs(te),(F=$.getLayer())===null||F===void 0||F.batchDraw()}),this.rotation(e.Util._getRotation(O.rotation)),this._nodes.forEach($=>{this._fire("transform",{evt:B,target:$}),$._fire("transform",{evt:B,target:$})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(O,B){this.findOne(O).setAttrs(B)}update(){var O;const B=this._getNodeRect();this.rotation(e.Util._getRotation(B.rotation));const Z=B.width,D=B.height,U=this.enabledAnchors(),z=this.resizeEnabled(),G=this.padding(),ne=this.anchorSize(),A=this.find("._anchor");A.forEach(j=>{j.setAttrs({width:ne,height:ne,offsetX:ne/2,offsetY:ne/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ne/2+G,offsetY:ne/2+G,visible:z&&U.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:Z/2,y:0,offsetY:ne/2+G,visible:z&&U.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:Z,y:0,offsetX:ne/2-G,offsetY:ne/2+G,visible:z&&U.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:D/2,offsetX:ne/2+G,visible:z&&U.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:Z,y:D/2,offsetX:ne/2-G,visible:z&&U.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:D,offsetX:ne/2+G,offsetY:ne/2-G,visible:z&&U.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:Z/2,y:D,offsetY:ne/2-G,visible:z&&U.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:Z,y:D,offsetX:ne/2-G,offsetY:ne/2-G,visible:z&&U.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:Z/2,y:-this.rotateAnchorOffset()*e.Util._sign(D)-G,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:Z,height:D,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const k=this.anchorStyleFunc();k&&A.forEach(j=>{k(j)}),(O=this.getLayer())===null||O===void 0||O.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const O=this.findOne("."+this._movingAnchorName);O&&O.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(O){return r.Node.prototype.clone.call(this,O)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};$l.Transformer=T,T.isTransforming=()=>P>0;function M(N){return N instanceof Array||e.Util.warn("enabledAnchors value should be an array"),N instanceof Array&&N.forEach(function(O){S.indexOf(O)===-1&&e.Util.warn("Unknown anchor name: "+O+". Available names are: "+S.join(", "))}),N||[]}return T.prototype.className="Transformer",(0,c._registerNode)(T),t.Factory.addGetterSetter(T,"enabledAnchors",S,M),t.Factory.addGetterSetter(T,"flipEnabled",!0,(0,d.getBooleanValidator)()),t.Factory.addGetterSetter(T,"resizeEnabled",!0),t.Factory.addGetterSetter(T,"anchorSize",10,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"rotateEnabled",!0),t.Factory.addGetterSetter(T,"rotateLineVisible",!0),t.Factory.addGetterSetter(T,"rotationSnaps",[]),t.Factory.addGetterSetter(T,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(T,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"borderEnabled",!0),t.Factory.addGetterSetter(T,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(T,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"anchorFill","white"),t.Factory.addGetterSetter(T,"anchorCornerRadius",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(T,"borderStrokeWidth",1,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"borderDash"),t.Factory.addGetterSetter(T,"keepRatio",!0),t.Factory.addGetterSetter(T,"shiftBehavior","default"),t.Factory.addGetterSetter(T,"centeredScaling",!1),t.Factory.addGetterSetter(T,"ignoreStroke",!1),t.Factory.addGetterSetter(T,"padding",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(T,"nodes"),t.Factory.addGetterSetter(T,"node"),t.Factory.addGetterSetter(T,"boundBoxFunc"),t.Factory.addGetterSetter(T,"anchorDragBoundFunc"),t.Factory.addGetterSetter(T,"anchorStyleFunc"),t.Factory.addGetterSetter(T,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(T,"useSingleNodeRotation",!0),t.Factory.backCompat(T,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),$l}var Il={},CS;function lV(){if(CS)return Il;CS=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.Wedge=void 0;const e=bt(),t=yr(),r=gt(),n=yt(),i=gt();let o=class extends t.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return Il.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(o,"clockwise",!1),e.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Il}var Tl={},_S;function cV(){if(_S)return Tl;_S=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Blur=void 0;const e=bt(),t=ir(),r=yt();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(c,u){const h=c.data,p=c.width,l=c.height;let f,m,b,S,x,w,y,_,P,T,M,N,O,B,Z,D,U,z,G,ne;const A=u+u+1,k=p-1,j=l-1,$=u+1,F=$*($+1)/2,R=new n,W=i[u],Y=o[u];let te=null,ie=R,J=null,ee=null;for(let Q=1;Q<A;Q++)ie=ie.next=new n,Q===$&&(te=ie);ie.next=R,b=m=0;for(let Q=0;Q<l;Q++){N=O=B=Z=S=x=w=y=0,_=$*(D=h[m]),P=$*(U=h[m+1]),T=$*(z=h[m+2]),M=$*(G=h[m+3]),S+=F*D,x+=F*U,w+=F*z,y+=F*G,ie=R;for(let he=0;he<$;he++)ie.r=D,ie.g=U,ie.b=z,ie.a=G,ie=ie.next;for(let he=1;he<$;he++)f=m+((k<he?k:he)<<2),S+=(ie.r=D=h[f])*(ne=$-he),x+=(ie.g=U=h[f+1])*ne,w+=(ie.b=z=h[f+2])*ne,y+=(ie.a=G=h[f+3])*ne,N+=D,O+=U,B+=z,Z+=G,ie=ie.next;J=R,ee=te;for(let he=0;he<p;he++)h[m+3]=G=y*W>>Y,G!==0?(G=255/G,h[m]=(S*W>>Y)*G,h[m+1]=(x*W>>Y)*G,h[m+2]=(w*W>>Y)*G):h[m]=h[m+1]=h[m+2]=0,S-=_,x-=P,w-=T,y-=M,_-=J.r,P-=J.g,T-=J.b,M-=J.a,f=b+((f=he+u+1)<k?f:k)<<2,N+=J.r=h[f],O+=J.g=h[f+1],B+=J.b=h[f+2],Z+=J.a=h[f+3],S+=N,x+=O,w+=B,y+=Z,J=J.next,_+=D=ee.r,P+=U=ee.g,T+=z=ee.b,M+=G=ee.a,N-=D,O-=U,B-=z,Z-=G,ee=ee.next,m+=4;b+=p}for(let Q=0;Q<p;Q++){O=B=Z=N=x=w=y=S=0,m=Q<<2,_=$*(D=h[m]),P=$*(U=h[m+1]),T=$*(z=h[m+2]),M=$*(G=h[m+3]),S+=F*D,x+=F*U,w+=F*z,y+=F*G,ie=R;for(let ge=0;ge<$;ge++)ie.r=D,ie.g=U,ie.b=z,ie.a=G,ie=ie.next;let he=p;for(let ge=1;ge<=u;ge++)m=he+Q<<2,S+=(ie.r=D=h[m])*(ne=$-ge),x+=(ie.g=U=h[m+1])*ne,w+=(ie.b=z=h[m+2])*ne,y+=(ie.a=G=h[m+3])*ne,N+=D,O+=U,B+=z,Z+=G,ie=ie.next,ge<j&&(he+=p);m=Q,J=R,ee=te;for(let ge=0;ge<l;ge++)f=m<<2,h[f+3]=G=y*W>>Y,G>0?(G=255/G,h[f]=(S*W>>Y)*G,h[f+1]=(x*W>>Y)*G,h[f+2]=(w*W>>Y)*G):h[f]=h[f+1]=h[f+2]=0,S-=_,x-=P,w-=T,y-=M,_-=J.r,P-=J.g,T-=J.b,M-=J.a,f=Q+((f=ge+$)<j?f:j)*p<<2,S+=N+=J.r=h[f],x+=O+=J.g=h[f+1],w+=B+=J.b=h[f+2],y+=Z+=J.a=h[f+3],J=J.next,_+=D=ee.r,P+=U=ee.g,T+=z=ee.b,M+=G=ee.a,N-=D,O-=U,B-=z,Z-=G,ee=ee.next,m+=p}}const d=function(u){const h=Math.round(this.blurRadius());h>0&&s(u,h)};return Tl.Blur=d,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Tl}var Nl={},jS;function uV(){if(jS)return Nl;jS=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Brighten=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=this.brightness()*255,s=i.data,d=s.length;for(let c=0;c<d;c+=4)s[c]+=o,s[c+1]+=o,s[c+2]+=o};return Nl.Brighten=n,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Nl}var El={},PS;function dV(){if(PS)return El;PS=1,Object.defineProperty(El,"__esModule",{value:!0}),El.Contrast=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=Math.pow((this.contrast()+100)/100,2),s=i.data,d=s.length;let c=150,u=150,h=150;for(let p=0;p<d;p+=4)c=s[p],u=s[p+1],h=s[p+2],c/=255,c-=.5,c*=o,c+=.5,c*=255,u/=255,u-=.5,u*=o,u+=.5,u*=255,h/=255,h-=.5,h*=o,h+=.5,h*=255,c=c<0?0:c>255?255:c,u=u<0?0:u>255?255:u,h=h<0?0:h>255?255:h,s[p]=c,s[p+1]=u,s[p+2]=h};return El.Contrast=n,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),El}var zl={},$S;function hV(){if($S)return zl;$S=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.Emboss=void 0;const e=bt(),t=ir(),r=tr(),n=yt(),i=function(o){const s=this.embossStrength()*10,d=this.embossWhiteLevel()*255,c=this.embossDirection(),u=this.embossBlend(),h=o.data,p=o.width,l=o.height,f=p*4;let m=0,b=0,S=l;switch(c){case"top-left":m=-1,b=-1;break;case"top":m=-1,b=0;break;case"top-right":m=-1,b=1;break;case"right":m=0,b=1;break;case"bottom-right":m=1,b=1;break;case"bottom":m=1,b=0;break;case"bottom-left":m=1,b=-1;break;case"left":m=0,b=-1;break;default:r.Util.error("Unknown emboss direction: "+c)}do{const x=(S-1)*f;let w=m;S+w<1&&(w=0),S+w>l&&(w=0);const y=(S-1+w)*p*4;let _=p;do{const P=x+(_-1)*4;let T=b;_+T<1&&(T=0),_+T>p&&(T=0);const M=y+(_-1+T)*4,N=h[P]-h[M],O=h[P+1]-h[M+1],B=h[P+2]-h[M+2];let Z=N;const D=Z>0?Z:-Z,U=O>0?O:-O,z=B>0?B:-B;if(U>D&&(Z=O),z>D&&(Z=B),Z*=s,u){const G=h[P]+Z,ne=h[P+1]+Z,A=h[P+2]+Z;h[P]=G>255?255:G<0?0:G,h[P+1]=ne>255?255:ne<0?0:ne,h[P+2]=A>255?255:A<0?0:A}else{let G=d-Z;G<0?G=0:G>255&&(G=255),h[P]=h[P+1]=h[P+2]=G}}while(--_)}while(--S)};return zl.Emboss=i,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),zl}var Dl={},IS;function fV(){if(IS)return Dl;IS=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.Enhance=void 0;const e=bt(),t=ir(),r=yt();function n(o,s,d,c,u){const h=d-s,p=u-c;if(h===0)return c+p/2;if(p===0)return c;let l=(o-s)/h;return l=p*l+c,l}const i=function(o){const s=o.data,d=s.length;let c=s[0],u=c,h,p=s[1],l=p,f,m=s[2],b=m,S;const x=this.enhance();if(x===0)return;for(let N=0;N<d;N+=4)h=s[N+0],h<c?c=h:h>u&&(u=h),f=s[N+1],f<p?p=f:f>l&&(l=f),S=s[N+2],S<m?m=S:S>b&&(b=S);u===c&&(u=255,c=0),l===p&&(l=255,p=0),b===m&&(b=255,m=0);let w,y,_,P,T,M;if(x>0)w=u+x*(255-u),y=c-x*(c-0),_=l+x*(255-l),P=p-x*(p-0),T=b+x*(255-b),M=m-x*(m-0);else{const N=(u+c)*.5;w=u+x*(u-N),y=c+x*(c-N);const O=(l+p)*.5;_=l+x*(l-O),P=p+x*(p-O);const B=(b+m)*.5;T=b+x*(b-B),M=m+x*(m-B)}for(let N=0;N<d;N+=4)s[N+0]=n(s[N+0],c,u,y,w),s[N+1]=n(s[N+1],p,l,P,_),s[N+2]=n(s[N+2],m,b,M,T)};return Dl.Enhance=i,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Dl}var Ol={},TS;function pV(){if(TS)return Ol;TS=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.Grayscale=void 0;const e=function(t){const r=t.data,n=r.length;for(let i=0;i<n;i+=4){const o=.34*r[i]+.5*r[i+1]+.16*r[i+2];r[i]=o,r[i+1]=o,r[i+2]=o}};return Ol.Grayscale=e,Ol}var Fl={},NS;function mV(){if(NS)return Fl;NS=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.HSL=void 0;const e=bt(),t=ir(),r=yt();e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter);const n=function(i){const o=i.data,s=o.length,d=1,c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=this.luminance()*127,p=d*c*Math.cos(u*Math.PI/180),l=d*c*Math.sin(u*Math.PI/180),f=.299*d+.701*p+.167*l,m=.587*d-.587*p+.33*l,b=.114*d-.114*p-.497*l,S=.299*d-.299*p-.328*l,x=.587*d+.413*p+.035*l,w=.114*d-.114*p+.293*l,y=.299*d-.3*p+1.25*l,_=.587*d-.586*p-1.05*l,P=.114*d+.886*p-.2*l;let T,M,N,O;for(let B=0;B<s;B+=4)T=o[B+0],M=o[B+1],N=o[B+2],O=o[B+3],o[B+0]=f*T+m*M+b*N+h,o[B+1]=S*T+x*M+w*N+h,o[B+2]=y*T+_*M+P*N+h,o[B+3]=O};return Fl.HSL=n,Fl}var Ml={},ES;function gV(){if(ES)return Ml;ES=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.HSV=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=i.data,s=o.length,d=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=d*c*Math.cos(u*Math.PI/180),p=d*c*Math.sin(u*Math.PI/180),l=.299*d+.701*h+.167*p,f=.587*d-.587*h+.33*p,m=.114*d-.114*h-.497*p,b=.299*d-.299*h-.328*p,S=.587*d+.413*h+.035*p,x=.114*d-.114*h+.293*p,w=.299*d-.3*h+1.25*p,y=.587*d-.586*h-1.05*p,_=.114*d+.886*h-.2*p;for(let P=0;P<s;P+=4){const T=o[P+0],M=o[P+1],N=o[P+2],O=o[P+3];o[P+0]=l*T+f*M+m*N,o[P+1]=b*T+S*M+x*N,o[P+2]=w*T+y*M+_*N,o[P+3]=O}};return Ml.HSV=n,e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Ml}var Ll={},zS;function vV(){if(zS)return Ll;zS=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.Invert=void 0;const e=function(t){const r=t.data,n=r.length;for(let i=0;i<n;i+=4)r[i]=255-r[i],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]};return Ll.Invert=e,Ll}var Al={},DS;function bV(){if(DS)return Al;DS=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.Kaleidoscope=void 0;const e=bt(),t=ir(),r=tr(),n=yt(),i=function(d,c,u){const h=d.data,p=c.data,l=d.width,f=d.height,m=u.polarCenterX||l/2,b=u.polarCenterY||f/2;let S=Math.sqrt(m*m+b*b),x=l-m,w=f-b;const y=Math.sqrt(x*x+w*w);S=y>S?y:S;const _=f,P=l,T=360/P*Math.PI/180;for(let M=0;M<P;M+=1){const N=Math.sin(M*T),O=Math.cos(M*T);for(let B=0;B<_;B+=1){x=Math.floor(m+S*B/_*O),w=Math.floor(b+S*B/_*N);let Z=(w*l+x)*4;const D=h[Z+0],U=h[Z+1],z=h[Z+2],G=h[Z+3];Z=(M+B*l)*4,p[Z+0]=D,p[Z+1]=U,p[Z+2]=z,p[Z+3]=G}}},o=function(d,c,u){const h=d.data,p=c.data,l=d.width,f=d.height,m=u.polarCenterX||l/2,b=u.polarCenterY||f/2;let S=Math.sqrt(m*m+b*b),x=l-m,w=f-b;const y=Math.sqrt(x*x+w*w);S=y>S?y:S;const _=f,P=l,T=0;let M,N;for(x=0;x<l;x+=1)for(w=0;w<f;w+=1){const O=x-m,B=w-b,Z=Math.sqrt(O*O+B*B)*_/S;let D=(Math.atan2(B,O)*180/Math.PI+360+T)%360;D=D*P/360,M=Math.floor(D),N=Math.floor(Z);let U=(N*l+M)*4;const z=h[U+0],G=h[U+1],ne=h[U+2],A=h[U+3];U=(w*l+x)*4,p[U+0]=z,p[U+1]=G,p[U+2]=ne,p[U+3]=A}},s=function(d){const c=d.width,u=d.height;let h,p,l,f,m,b,S,x,w,y,_=Math.round(this.kaleidoscopePower());const P=Math.round(this.kaleidoscopeAngle()),T=Math.floor(c*(P%360)/360);if(_<1)return;const M=r.Util.createCanvasElement();M.width=c,M.height=u;const N=M.getContext("2d").getImageData(0,0,c,u);r.Util.releaseCanvas(M),i(d,N,{polarCenterX:c/2,polarCenterY:u/2});let O=c/Math.pow(2,_);for(;O<=8;)O=O*2,_-=1;O=Math.ceil(O);let B=O,Z=0,D=B,U=1;for(T+O>c&&(Z=B,D=0,U=-1),p=0;p<u;p+=1)for(h=Z;h!==D;h+=U)l=Math.round(h+T)%c,w=(c*p+l)*4,m=N.data[w+0],b=N.data[w+1],S=N.data[w+2],x=N.data[w+3],y=(c*p+h)*4,N.data[y+0]=m,N.data[y+1]=b,N.data[y+2]=S,N.data[y+3]=x;for(p=0;p<u;p+=1)for(B=Math.floor(O),f=0;f<_;f+=1){for(h=0;h<B+1;h+=1)w=(c*p+h)*4,m=N.data[w+0],b=N.data[w+1],S=N.data[w+2],x=N.data[w+3],y=(c*p+B*2-h-1)*4,N.data[y+0]=m,N.data[y+1]=b,N.data[y+2]=S,N.data[y+3]=x;B*=2}o(N,d,{})};return Al.Kaleidoscope=s,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Al}var Rl={},OS;function yV(){if(OS)return Rl;OS=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.Mask=void 0;const e=bt(),t=ir(),r=yt();function n(l,f,m){let b=(m*l.width+f)*4;const S=[];return S.push(l.data[b++],l.data[b++],l.data[b++],l.data[b++]),S}function i(l,f){return Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)+Math.pow(l[2]-f[2],2))}function o(l){const f=[0,0,0];for(let m=0;m<l.length;m++)f[0]+=l[m][0],f[1]+=l[m][1],f[2]+=l[m][2];return f[0]/=l.length,f[1]/=l.length,f[2]/=l.length,f}function s(l,f){const m=n(l,0,0),b=n(l,l.width-1,0),S=n(l,0,l.height-1),x=n(l,l.width-1,l.height-1),w=f||10;if(i(m,b)<w&&i(b,x)<w&&i(x,S)<w&&i(S,m)<w){const y=o([b,m,x,S]),_=[];for(let P=0;P<l.width*l.height;P++){const T=i(y,[l.data[P*4],l.data[P*4+1],l.data[P*4+2]]);_[P]=T<w?0:255}return _}}function d(l,f){for(let m=0;m<l.width*l.height;m++)l.data[4*m+3]=f[m]}function c(l,f,m){const b=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(b.length)),x=Math.floor(S/2),w=[];for(let y=0;y<m;y++)for(let _=0;_<f;_++){const P=y*f+_;let T=0;for(let M=0;M<S;M++)for(let N=0;N<S;N++){const O=y+M-x,B=_+N-x;if(O>=0&&O<m&&B>=0&&B<f){const Z=O*f+B,D=b[M*S+N];T+=l[Z]*D}}w[P]=T===2040?255:0}return w}function u(l,f,m){const b=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(b.length)),x=Math.floor(S/2),w=[];for(let y=0;y<m;y++)for(let _=0;_<f;_++){const P=y*f+_;let T=0;for(let M=0;M<S;M++)for(let N=0;N<S;N++){const O=y+M-x,B=_+N-x;if(O>=0&&O<m&&B>=0&&B<f){const Z=O*f+B,D=b[M*S+N];T+=l[Z]*D}}w[P]=T>=1020?255:0}return w}function h(l,f,m){const b=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(b.length)),x=Math.floor(S/2),w=[];for(let y=0;y<m;y++)for(let _=0;_<f;_++){const P=y*f+_;let T=0;for(let M=0;M<S;M++)for(let N=0;N<S;N++){const O=y+M-x,B=_+N-x;if(O>=0&&O<m&&B>=0&&B<f){const Z=O*f+B,D=b[M*S+N];T+=l[Z]*D}}w[P]=T}return w}const p=function(l){const f=this.threshold();let m=s(l,f);return m&&(m=c(m,l.width,l.height),m=u(m,l.width,l.height),m=h(m,l.width,l.height),d(l,m)),l};return Rl.Mask=p,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Rl}var Bl={},FS;function xV(){if(FS)return Bl;FS=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.Noise=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=this.noise()*255,s=i.data,d=s.length,c=o/2;for(let u=0;u<d;u+=4)s[u+0]+=c-2*c*Math.random(),s[u+1]+=c-2*c*Math.random(),s[u+2]+=c-2*c*Math.random()};return Bl.Noise=n,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Bl}var Ul={},MS;function wV(){if(MS)return Ul;MS=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Pixelate=void 0;const e=bt(),t=tr(),r=ir(),n=yt(),i=function(o){let s=Math.ceil(this.pixelSize()),d=o.width,c=o.height,u=Math.ceil(d/s),h=Math.ceil(c/s),p=o.data;if(s<=0){t.Util.error("pixelSize value can not be <= 0");return}for(let l=0;l<u;l+=1)for(let f=0;f<h;f+=1){let m=0,b=0,S=0,x=0;const w=l*s,y=w+s,_=f*s,P=_+s;let T=0;for(let M=w;M<y;M+=1)if(!(M>=d))for(let N=_;N<P;N+=1){if(N>=c)continue;const O=(d*N+M)*4;m+=p[O+0],b+=p[O+1],S+=p[O+2],x+=p[O+3],T+=1}m=m/T,b=b/T,S=S/T,x=x/T;for(let M=w;M<y;M+=1)if(!(M>=d))for(let N=_;N<P;N+=1){if(N>=c)continue;const O=(d*N+M)*4;p[O+0]=m,p[O+1]=b,p[O+2]=S,p[O+3]=x}}};return Ul.Pixelate=i,e.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ul}var Vl={},LS;function SV(){if(LS)return Vl;LS=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.Posterize=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=Math.round(this.levels()*254)+1,s=i.data,d=s.length,c=255/o;for(let u=0;u<d;u+=1)s[u]=Math.floor(s[u]/c)*c};return Vl.Posterize=n,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Vl}var Wl={},AS;function kV(){if(AS)return Wl;AS=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.RGB=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=i.data,s=o.length,d=this.red(),c=this.green(),u=this.blue();for(let h=0;h<s;h+=4){const p=(.34*o[h]+.5*o[h+1]+.16*o[h+2])/255;o[h]=p*d,o[h+1]=p*c,o[h+2]=p*u,o[h+3]=o[h+3]}};return Wl.RGB=n,e.Factory.addGetterSetter(t.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),Wl}var Hl={},RS;function CV(){if(RS)return Hl;RS=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.RGBA=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=i.data,s=o.length,d=this.red(),c=this.green(),u=this.blue(),h=this.alpha();for(let p=0;p<s;p+=4){const l=1-h;o[p]=d*h+o[p]*l,o[p+1]=c*h+o[p+1]*l,o[p+2]=u*h+o[p+2]*l}};return Hl.RGBA=n,e.Factory.addGetterSetter(t.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),Hl}var Gl={},BS;function _V(){if(BS)return Gl;BS=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.Sepia=void 0;const e=function(t){const r=t.data,n=r.length;for(let i=0;i<n;i+=4){const o=r[i+0],s=r[i+1],d=r[i+2];r[i+0]=Math.min(255,o*.393+s*.769+d*.189),r[i+1]=Math.min(255,o*.349+s*.686+d*.168),r[i+2]=Math.min(255,o*.272+s*.534+d*.131)}};return Gl.Sepia=e,Gl}var Zl={},US;function jV(){if(US)return Zl;US=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Solarize=void 0;const e=function(t){const r=t.data,n=t.width,i=t.height,o=n*4;let s=i;do{const d=(s-1)*o;let c=n;do{const u=d+(c-1)*4;let h=r[u],p=r[u+1],l=r[u+2];h>127&&(h=255-h),p>127&&(p=255-p),l>127&&(l=255-l),r[u]=h,r[u+1]=p,r[u+2]=l}while(--c)}while(--s)};return Zl.Solarize=e,Zl}var ql={},VS;function PV(){if(VS)return ql;VS=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.Threshold=void 0;const e=bt(),t=ir(),r=yt(),n=function(i){const o=this.threshold()*255,s=i.data,d=s.length;for(let c=0;c<d;c+=1)s[c]=s[c]<o?0:255};return ql.Threshold=n,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ql}var WS;function $V(){if(WS)return ll;WS=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.Konva=void 0;const e=bm(),t=XU(),r=KU(),n=JU(),i=QU(),o=eV(),s=tV(),d=v4(),c=sv(),u=y4(),h=rV(),p=nV(),l=aV(),f=iV(),m=x4(),b=oV(),S=sV(),x=lV(),w=cV(),y=uV(),_=dV(),P=hV(),T=fV(),M=pV(),N=mV(),O=gV(),B=vV(),Z=bV(),D=yV(),U=xV(),z=wV(),G=SV(),ne=kV(),A=CV(),k=_V(),j=jV(),$=PV();return ll.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:r.Arrow,Circle:n.Circle,Ellipse:i.Ellipse,Image:o.Image,Label:s.Label,Tag:s.Tag,Line:d.Line,Path:c.Path,Rect:u.Rect,RegularPolygon:h.RegularPolygon,Ring:p.Ring,Sprite:l.Sprite,Star:f.Star,Text:m.Text,TextPath:b.TextPath,Transformer:S.Transformer,Wedge:x.Wedge,Filters:{Blur:w.Blur,Brighten:y.Brighten,Contrast:_.Contrast,Emboss:P.Emboss,Enhance:T.Enhance,Grayscale:M.Grayscale,HSL:N.HSL,HSV:O.HSV,Invert:B.Invert,Kaleidoscope:Z.Kaleidoscope,Mask:D.Mask,Noise:U.Noise,Pixelate:z.Pixelate,Posterize:G.Posterize,RGB:ne.RGB,RGBA:A.RGBA,Sepia:k.Sepia,Solarize:j.Solarize,Threshold:$.Threshold}}),ll}var IV=Gd.exports,HS;function TV(){if(HS)return Gd.exports;HS=1,Object.defineProperty(IV,"__esModule",{value:!0});const e=$V();return Gd.exports=e.Konva,Gd.exports}TV();var Ld={exports:{}},GS;function NV(){return GS||(GS=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=bm();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const n=bm();e.exports=n.Konva})(Ld,Ld.exports)),Ld.exports}var EV=NV();const su=cu(EV);var Fp={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp,ZS;function zV(){return ZS||(ZS=1,Mp=function(t){var r={},n=T6(),i=R2(),o=Object.assign;function s(g){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+g,C=1;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),P=Symbol.iterator;function T(g){return g===null||typeof g!="object"?null:(g=P&&g[P]||g["@@iterator"],typeof g=="function"?g:null)}function M(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case h:return"Fragment";case u:return"Portal";case l:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case m:return(g.displayName||"Context")+".Consumer";case f:return(g._context.displayName||"Context")+".Provider";case b:var v=g.render;return g=g.displayName,g||(g=v.displayName||v.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case w:return v=g.displayName||null,v!==null?v:M(g.type)||"Memo";case y:v=g._payload,g=g._init;try{return M(g(v))}catch{}}return null}function N(g){var v=g.type;switch(g.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=v.render,g=g.displayName||g.name||"",v.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(v);case 8:return v===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function O(g){var v=g,C=g;if(g.alternate)for(;v.return;)v=v.return;else{g=v;do v=g,(v.flags&4098)!==0&&(C=v.return),g=v.return;while(g)}return v.tag===3?C:null}function B(g){if(O(g)!==g)throw Error(s(188))}function Z(g){var v=g.alternate;if(!v){if(v=O(g),v===null)throw Error(s(188));return v!==g?null:g}for(var C=g,E=v;;){var L=C.return;if(L===null)break;var q=L.alternate;if(q===null){if(E=L.return,E!==null){C=E;continue}break}if(L.child===q.child){for(q=L.child;q;){if(q===C)return B(L),g;if(q===E)return B(L),v;q=q.sibling}throw Error(s(188))}if(C.return!==E.return)C=L,E=q;else{for(var de=!1,je=L.child;je;){if(je===C){de=!0,C=L,E=q;break}if(je===E){de=!0,E=L,C=q;break}je=je.sibling}if(!de){for(je=q.child;je;){if(je===C){de=!0,C=q,E=L;break}if(je===E){de=!0,E=q,C=L;break}je=je.sibling}if(!de)throw Error(s(189))}}if(C.alternate!==E)throw Error(s(190))}if(C.tag!==3)throw Error(s(188));return C.stateNode.current===C?g:v}function D(g){return g=Z(g),g!==null?U(g):null}function U(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var v=U(g);if(v!==null)return v;g=g.sibling}return null}function z(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var v=z(g);if(v!==null)return v}g=g.sibling}return null}var G=Array.isArray,ne=t.getPublicInstance,A=t.getRootHostContext,k=t.getChildHostContext,j=t.prepareForCommit,$=t.resetAfterCommit,F=t.createInstance,R=t.appendInitialChild,W=t.finalizeInitialChildren,Y=t.prepareUpdate,te=t.shouldSetTextContent,ie=t.createTextInstance,J=t.scheduleTimeout,ee=t.cancelTimeout,Q=t.noTimeout,he=t.isPrimaryRenderer,ge=t.supportsMutation,ye=t.supportsPersistence,_e=t.supportsHydration,H=t.getInstanceFromNode,Se=t.preparePortalMount,Ce=t.getCurrentEventPriority,se=t.detachDeletedInstance,ae=t.supportsMicrotasks,xe=t.scheduleMicrotask,$e=t.supportsTestSelectors,ue=t.findFiberRoot,V=t.getBoundingRect,me=t.getTextContent,pe=t.isHiddenSubtree,ke=t.matchAccessibilityRole,Ie=t.setFocusIfFocusable,Re=t.setupIntersectionObserver,Be=t.appendChild,ot=t.appendChildToContainer,st=t.commitTextUpdate,pt=t.commitMount,Rt=t.commitUpdate,St=t.insertBefore,or=t.insertInContainerBefore,Tr=t.removeChild,rr=t.removeChildFromContainer,Nr=t.resetTextContent,pn=t.hideInstance,Qn=t.hideTextInstance,ui=t.unhideInstance,En=t.unhideTextInstance,Fr=t.clearContainer,mn=t.cloneInstance,ea=t.createContainerChildSet,Bi=t.appendChildToContainerChildSet,gn=t.finalizeContainerChildren,Ia=t.replaceContainerChildren,di=t.cloneHiddenInstance,Ui=t.cloneHiddenTextInstance,Vi=t.canHydrateInstance,_s=t.canHydrateTextInstance,Ta=t.canHydrateSuspenseInstance,Wi=t.isSuspenseInstancePending,Na=t.isSuspenseInstanceFallback,js=t.getSuspenseInstanceFallbackErrorDetails,Hi=t.registerSuspenseInstanceRetry,Ea=t.getNextHydratableSibling,za=t.getFirstHydratableChild,Ps=t.getFirstHydratableChildWithinContainer,$s=t.getFirstHydratableChildWithinSuspenseInstance,Gi=t.hydrateInstance,Zi=t.hydrateTextInstance,Is=t.hydrateSuspenseInstance,Ts=t.getNextHydratableInstanceAfterSuspenseInstance,Ns=t.commitHydratedContainer,Es=t.commitHydratedSuspenseInstance,I=t.clearSuspenseBoundary,oe=t.clearSuspenseBoundaryFromContainer,ce=t.shouldDeleteUnhydratedTailInstances,be=t.didNotMatchHydratedContainerTextInstance,Ee=t.didNotMatchHydratedTextInstance,Tt;function Lt(g){if(Tt===void 0)try{throw Error()}catch(C){var v=C.stack.trim().match(/\n( *(at )?)/);Tt=v&&v[1]||""}return`
`+Tt+g}var zs=!1;function Ds(g,v){if(!g||zs)return"";zs=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Ve){var E=Ve}Reflect.construct(g,[],v)}else{try{v.call()}catch(Ve){E=Ve}g.call(v.prototype)}else{try{throw Error()}catch(Ve){E=Ve}g()}}catch(Ve){if(Ve&&E&&typeof Ve.stack=="string"){for(var L=Ve.stack.split(`
`),q=E.stack.split(`
`),de=L.length-1,je=q.length-1;1<=de&&0<=je&&L[de]!==q[je];)je--;for(;1<=de&&0<=je;de--,je--)if(L[de]!==q[je]){if(de!==1||je!==1)do if(de--,je--,0>je||L[de]!==q[je]){var ze=`
`+L[de].replace(" at new "," at ");return g.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",g.displayName)),ze}while(1<=de&&0<=je);break}}}finally{zs=!1,Error.prepareStackTrace=C}return(g=g?g.displayName||g.name:"")?Lt(g):""}var $h=Object.prototype.hasOwnProperty,Os=[],Da=-1;function zn(g){return{current:g}}function Et(g){0>Da||(g.current=Os[Da],Os[Da]=null,Da--)}function zt(g,v){Da++,Os[Da]=g.current,g.current=v}var Dn={},hr=zn(Dn),Cr=zn(!1),ve=Dn;function we(g,v){var C=g.type.contextTypes;if(!C)return Dn;var E=g.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===v)return E.__reactInternalMemoizedMaskedChildContext;var L={},q;for(q in C)L[q]=v[q];return E&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=v,g.__reactInternalMemoizedMaskedChildContext=L),L}function Ae(g){return g=g.childContextTypes,g!=null}function dt(){Et(Cr),Et(hr)}function xt(g,v,C){if(hr.current!==Dn)throw Error(s(168));zt(hr,v),zt(Cr,C)}function On(g,v,C){var E=g.stateNode;if(v=v.childContextTypes,typeof E.getChildContext!="function")return C;E=E.getChildContext();for(var L in E)if(!(L in v))throw Error(s(108,N(g)||"Unknown",L));return o({},C,E)}function Fn(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Dn,ve=hr.current,zt(hr,g),zt(Cr,Cr.current),!0}function qi(g,v,C){var E=g.stateNode;if(!E)throw Error(s(169));C?(g=On(g,v,ve),E.__reactInternalMemoizedMergedChildContext=g,Et(Cr),Et(hr),zt(hr,g)):Et(Cr),zt(Cr,C)}var Gr=Math.clz32?Math.clz32:Nh,Ih=Math.log,Th=Math.LN2;function Nh(g){return g>>>=0,g===0?32:31-(Ih(g)/Th|0)|0}var hi=64,_r=4194304;function ta(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function ra(g,v){var C=g.pendingLanes;if(C===0)return 0;var E=0,L=g.suspendedLanes,q=g.pingedLanes,de=C&268435455;if(de!==0){var je=de&~L;je!==0?E=ta(je):(q&=de,q!==0&&(E=ta(q)))}else de=C&~L,de!==0?E=ta(de):q!==0&&(E=ta(q));if(E===0)return 0;if(v!==0&&v!==E&&(v&L)===0&&(L=E&-E,q=v&-v,L>=q||L===16&&(q&4194240)!==0))return v;if((E&4)!==0&&(E|=C&16),v=g.entangledLanes,v!==0)for(g=g.entanglements,v&=E;0<v;)C=31-Gr(v),L=1<<C,E|=g[C],v&=~L;return E}function P4(g,v){switch(g){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(g,v){for(var C=g.suspendedLanes,E=g.pingedLanes,L=g.expirationTimes,q=g.pendingLanes;0<q;){var de=31-Gr(q),je=1<<de,ze=L[de];ze===-1?((je&C)===0||(je&E)!==0)&&(L[de]=P4(je,v)):ze<=v&&(g.expiredLanes|=je),q&=~je}}function Eh(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function uv(){var g=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),g}function zh(g){for(var v=[],C=0;31>C;C++)v.push(g);return v}function Fs(g,v,C){g.pendingLanes|=v,v!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,v=31-Gr(v),g[v]=C}function I4(g,v){var C=g.pendingLanes&~v;g.pendingLanes=v,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=v,g.mutableReadLanes&=v,g.entangledLanes&=v,v=g.entanglements;var E=g.eventTimes;for(g=g.expirationTimes;0<C;){var L=31-Gr(C),q=1<<L;v[L]=0,E[L]=-1,g[L]=-1,C&=~q}}function Dh(g,v){var C=g.entangledLanes|=v;for(g=g.entanglements;C;){var E=31-Gr(C),L=1<<E;L&v|g[E]&v&&(g[E]|=v),C&=~L}}var _t=0;function dv(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var Oh=i.unstable_scheduleCallback,hv=i.unstable_cancelCallback,T4=i.unstable_shouldYield,N4=i.unstable_requestPaint,fr=i.unstable_now,Fh=i.unstable_ImmediatePriority,E4=i.unstable_UserBlockingPriority,Mh=i.unstable_NormalPriority,z4=i.unstable_IdlePriority,yu=null,Mn=null;function D4(g){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(yu,g,void 0,(g.current.flags&128)===128)}catch{}}function O4(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var vn=typeof Object.is=="function"?Object.is:O4,na=null,xu=!1,Lh=!1;function fv(g){na===null?na=[g]:na.push(g)}function F4(g){xu=!0,fv(g)}function Ln(){if(!Lh&&na!==null){Lh=!0;var g=0,v=_t;try{var C=na;for(_t=1;g<C.length;g++){var E=C[g];do E=E(!0);while(E!==null)}na=null,xu=!1}catch(L){throw na!==null&&(na=na.slice(g+1)),Oh(Fh,Ln),L}finally{_t=v,Lh=!1}}return null}var Xi=[],Yi=0,wu=null,Su=0,tn=[],rn=0,fi=null,aa=1,ia="";function pi(g,v){Xi[Yi++]=Su,Xi[Yi++]=wu,wu=g,Su=v}function pv(g,v,C){tn[rn++]=aa,tn[rn++]=ia,tn[rn++]=fi,fi=g;var E=aa;g=ia;var L=32-Gr(E)-1;E&=~(1<<L),C+=1;var q=32-Gr(v)+L;if(30<q){var de=L-L%5;q=(E&(1<<de)-1).toString(32),E>>=de,L-=de,aa=1<<32-Gr(v)+L|C<<L|E,ia=q+g}else aa=1<<q|C<<L|E,ia=g}function Ah(g){g.return!==null&&(pi(g,1),pv(g,1,0))}function Rh(g){for(;g===wu;)wu=Xi[--Yi],Xi[Yi]=null,Su=Xi[--Yi],Xi[Yi]=null;for(;g===fi;)fi=tn[--rn],tn[rn]=null,ia=tn[--rn],tn[rn]=null,aa=tn[--rn],tn[rn]=null}var Zr=null,nn=null,Ut=!1,Ms=!1,bn=null;function mv(g,v){var C=cn(5,null,null,0);C.elementType="DELETED",C.stateNode=v,C.return=g,v=g.deletions,v===null?(g.deletions=[C],g.flags|=16):v.push(C)}function gv(g,v){switch(g.tag){case 5:return v=Vi(v,g.type,g.pendingProps),v!==null?(g.stateNode=v,Zr=g,nn=za(v),!0):!1;case 6:return v=_s(v,g.pendingProps),v!==null?(g.stateNode=v,Zr=g,nn=null,!0):!1;case 13:if(v=Ta(v),v!==null){var C=fi!==null?{id:aa,overflow:ia}:null;return g.memoizedState={dehydrated:v,treeContext:C,retryLane:1073741824},C=cn(18,null,null,0),C.stateNode=v,C.return=g,g.child=C,Zr=g,nn=null,!0}return!1;default:return!1}}function Bh(g){return(g.mode&1)!==0&&(g.flags&128)===0}function Uh(g){if(Ut){var v=nn;if(v){var C=v;if(!gv(g,v)){if(Bh(g))throw Error(s(418));v=Ea(C);var E=Zr;v&&gv(g,v)?mv(E,C):(g.flags=g.flags&-4097|2,Ut=!1,Zr=g)}}else{if(Bh(g))throw Error(s(418));g.flags=g.flags&-4097|2,Ut=!1,Zr=g}}}function vv(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Zr=g}function ku(g){if(!_e||g!==Zr)return!1;if(!Ut)return vv(g),Ut=!0,!1;if(g.tag!==3&&(g.tag!==5||ce(g.type)&&!te(g.type,g.memoizedProps))){var v=nn;if(v){if(Bh(g))throw bv(),Error(s(418));for(;v;)mv(g,v),v=Ea(v)}}if(vv(g),g.tag===13){if(!_e)throw Error(s(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));nn=Ts(g)}else nn=Zr?Ea(g.stateNode):null;return!0}function bv(){for(var g=nn;g;)g=Ea(g)}function Ki(){_e&&(nn=Zr=null,Ms=Ut=!1)}function Vh(g){bn===null?bn=[g]:bn.push(g)}var M4=d.ReactCurrentBatchConfig;function Cu(g,v){if(vn(g,v))return!0;if(typeof g!="object"||g===null||typeof v!="object"||v===null)return!1;var C=Object.keys(g),E=Object.keys(v);if(C.length!==E.length)return!1;for(E=0;E<C.length;E++){var L=C[E];if(!$h.call(v,L)||!vn(g[L],v[L]))return!1}return!0}function L4(g){switch(g.tag){case 5:return Lt(g.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 2:case 15:return g=Ds(g.type,!1),g;case 11:return g=Ds(g.type.render,!1),g;case 1:return g=Ds(g.type,!0),g;default:return""}}function Ls(g,v,C){if(g=C.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(s(309));var E=C.stateNode}if(!E)throw Error(s(147,g));var L=E,q=""+g;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===q?v.ref:(v=function(de){var je=L.refs;de===null?delete je[q]:je[q]=de},v._stringRef=q,v)}if(typeof g!="string")throw Error(s(284));if(!C._owner)throw Error(s(290,g))}return g}function _u(g,v){throw g=Object.prototype.toString.call(v),Error(s(31,g==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":g))}function yv(g){var v=g._init;return v(g._payload)}function xv(g){function v(Te,Pe){if(g){var De=Te.deletions;De===null?(Te.deletions=[Pe],Te.flags|=16):De.push(Pe)}}function C(Te,Pe){if(!g)return null;for(;Pe!==null;)v(Te,Pe),Pe=Pe.sibling;return null}function E(Te,Pe){for(Te=new Map;Pe!==null;)Pe.key!==null?Te.set(Pe.key,Pe):Te.set(Pe.index,Pe),Pe=Pe.sibling;return Te}function L(Te,Pe){return Te=Ba(Te,Pe),Te.index=0,Te.sibling=null,Te}function q(Te,Pe,De){return Te.index=De,g?(De=Te.alternate,De!==null?(De=De.index,De<Pe?(Te.flags|=2,Pe):De):(Te.flags|=2,Pe)):(Te.flags|=1048576,Pe)}function de(Te){return g&&Te.alternate===null&&(Te.flags|=2),Te}function je(Te,Pe,De,qe){return Pe===null||Pe.tag!==6?(Pe=Af(De,Te.mode,qe),Pe.return=Te,Pe):(Pe=L(Pe,De),Pe.return=Te,Pe)}function ze(Te,Pe,De,qe){var it=De.type;return it===h?Ke(Te,Pe,De.props.children,qe,De.key):Pe!==null&&(Pe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===y&&yv(it)===Pe.type)?(qe=L(Pe,De.props),qe.ref=Ls(Te,Pe,De),qe.return=Te,qe):(qe=rd(De.type,De.key,De.props,null,Te.mode,qe),qe.ref=Ls(Te,Pe,De),qe.return=Te,qe)}function Ve(Te,Pe,De,qe){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==De.containerInfo||Pe.stateNode.implementation!==De.implementation?(Pe=Rf(De,Te.mode,qe),Pe.return=Te,Pe):(Pe=L(Pe,De.children||[]),Pe.return=Te,Pe)}function Ke(Te,Pe,De,qe,it){return Pe===null||Pe.tag!==7?(Pe=wi(De,Te.mode,qe,it),Pe.return=Te,Pe):(Pe=L(Pe,De),Pe.return=Te,Pe)}function ht(Te,Pe,De){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=Af(""+Pe,Te.mode,De),Pe.return=Te,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case c:return De=rd(Pe.type,Pe.key,Pe.props,null,Te.mode,De),De.ref=Ls(Te,null,Pe),De.return=Te,De;case u:return Pe=Rf(Pe,Te.mode,De),Pe.return=Te,Pe;case y:var qe=Pe._init;return ht(Te,qe(Pe._payload),De)}if(G(Pe)||T(Pe))return Pe=wi(Pe,Te.mode,De,null),Pe.return=Te,Pe;_u(Te,Pe)}return null}function Ze(Te,Pe,De,qe){var it=Pe!==null?Pe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return it!==null?null:je(Te,Pe,""+De,qe);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case c:return De.key===it?ze(Te,Pe,De,qe):null;case u:return De.key===it?Ve(Te,Pe,De,qe):null;case y:return it=De._init,Ze(Te,Pe,it(De._payload),qe)}if(G(De)||T(De))return it!==null?null:Ke(Te,Pe,De,qe,null);_u(Te,De)}return null}function Bt(Te,Pe,De,qe,it){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Te=Te.get(De)||null,je(Pe,Te,""+qe,it);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case c:return Te=Te.get(qe.key===null?De:qe.key)||null,ze(Pe,Te,qe,it);case u:return Te=Te.get(qe.key===null?De:qe.key)||null,Ve(Pe,Te,qe,it);case y:var mt=qe._init;return Bt(Te,Pe,De,mt(qe._payload),it)}if(G(qe)||T(qe))return Te=Te.get(De)||null,Ke(Pe,Te,qe,it,null);_u(Pe,qe)}return null}function Ot(Te,Pe,De,qe){for(var it=null,mt=null,ft=Pe,jt=Pe=0,gr=null;ft!==null&&jt<De.length;jt++){ft.index>jt?(gr=ft,ft=null):gr=ft.sibling;var Pt=Ze(Te,ft,De[jt],qe);if(Pt===null){ft===null&&(ft=gr);break}g&&ft&&Pt.alternate===null&&v(Te,ft),Pe=q(Pt,Pe,jt),mt===null?it=Pt:mt.sibling=Pt,mt=Pt,ft=gr}if(jt===De.length)return C(Te,ft),Ut&&pi(Te,jt),it;if(ft===null){for(;jt<De.length;jt++)ft=ht(Te,De[jt],qe),ft!==null&&(Pe=q(ft,Pe,jt),mt===null?it=ft:mt.sibling=ft,mt=ft);return Ut&&pi(Te,jt),it}for(ft=E(Te,ft);jt<De.length;jt++)gr=Bt(ft,Te,jt,De[jt],qe),gr!==null&&(g&&gr.alternate!==null&&ft.delete(gr.key===null?jt:gr.key),Pe=q(gr,Pe,jt),mt===null?it=gr:mt.sibling=gr,mt=gr);return g&&ft.forEach(function(Ua){return v(Te,Ua)}),Ut&&pi(Te,jt),it}function Rr(Te,Pe,De,qe){var it=T(De);if(typeof it!="function")throw Error(s(150));if(De=it.call(De),De==null)throw Error(s(151));for(var mt=it=null,ft=Pe,jt=Pe=0,gr=null,Pt=De.next();ft!==null&&!Pt.done;jt++,Pt=De.next()){ft.index>jt?(gr=ft,ft=null):gr=ft.sibling;var Ua=Ze(Te,ft,Pt.value,qe);if(Ua===null){ft===null&&(ft=gr);break}g&&ft&&Ua.alternate===null&&v(Te,ft),Pe=q(Ua,Pe,jt),mt===null?it=Ua:mt.sibling=Ua,mt=Ua,ft=gr}if(Pt.done)return C(Te,ft),Ut&&pi(Te,jt),it;if(ft===null){for(;!Pt.done;jt++,Pt=De.next())Pt=ht(Te,Pt.value,qe),Pt!==null&&(Pe=q(Pt,Pe,jt),mt===null?it=Pt:mt.sibling=Pt,mt=Pt);return Ut&&pi(Te,jt),it}for(ft=E(Te,ft);!Pt.done;jt++,Pt=De.next())Pt=Bt(ft,Te,jt,Pt.value,qe),Pt!==null&&(g&&Pt.alternate!==null&&ft.delete(Pt.key===null?jt:Pt.key),Pe=q(Pt,Pe,jt),mt===null?it=Pt:mt.sibling=Pt,mt=Pt);return g&&ft.forEach(function(p6){return v(Te,p6)}),Ut&&pi(Te,jt),it}function ca(Te,Pe,De,qe){if(typeof De=="object"&&De!==null&&De.type===h&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case c:e:{for(var it=De.key,mt=Pe;mt!==null;){if(mt.key===it){if(it=De.type,it===h){if(mt.tag===7){C(Te,mt.sibling),Pe=L(mt,De.props.children),Pe.return=Te,Te=Pe;break e}}else if(mt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===y&&yv(it)===mt.type){C(Te,mt.sibling),Pe=L(mt,De.props),Pe.ref=Ls(Te,mt,De),Pe.return=Te,Te=Pe;break e}C(Te,mt);break}else v(Te,mt);mt=mt.sibling}De.type===h?(Pe=wi(De.props.children,Te.mode,qe,De.key),Pe.return=Te,Te=Pe):(qe=rd(De.type,De.key,De.props,null,Te.mode,qe),qe.ref=Ls(Te,Pe,De),qe.return=Te,Te=qe)}return de(Te);case u:e:{for(mt=De.key;Pe!==null;){if(Pe.key===mt)if(Pe.tag===4&&Pe.stateNode.containerInfo===De.containerInfo&&Pe.stateNode.implementation===De.implementation){C(Te,Pe.sibling),Pe=L(Pe,De.children||[]),Pe.return=Te,Te=Pe;break e}else{C(Te,Pe);break}else v(Te,Pe);Pe=Pe.sibling}Pe=Rf(De,Te.mode,qe),Pe.return=Te,Te=Pe}return de(Te);case y:return mt=De._init,ca(Te,Pe,mt(De._payload),qe)}if(G(De))return Ot(Te,Pe,De,qe);if(T(De))return Rr(Te,Pe,De,qe);_u(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Pe!==null&&Pe.tag===6?(C(Te,Pe.sibling),Pe=L(Pe,De),Pe.return=Te,Te=Pe):(C(Te,Pe),Pe=Af(De,Te.mode,qe),Pe.return=Te,Te=Pe),de(Te)):C(Te,Pe)}return ca}var Ji=xv(!0),wv=xv(!1),ju=zn(null),Pu=null,Qi=null,Wh=null;function Hh(){Wh=Qi=Pu=null}function Sv(g,v,C){he?(zt(ju,v._currentValue),v._currentValue=C):(zt(ju,v._currentValue2),v._currentValue2=C)}function Gh(g){var v=ju.current;Et(ju),he?g._currentValue=v:g._currentValue2=v}function Zh(g,v,C){for(;g!==null;){var E=g.alternate;if((g.childLanes&v)!==v?(g.childLanes|=v,E!==null&&(E.childLanes|=v)):E!==null&&(E.childLanes&v)!==v&&(E.childLanes|=v),g===C)break;g=g.return}}function eo(g,v){Pu=g,Wh=Qi=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&v)!==0&&(Mr=!0),g.firstContext=null)}function an(g){var v=he?g._currentValue:g._currentValue2;if(Wh!==g)if(g={context:g,memoizedValue:v,next:null},Qi===null){if(Pu===null)throw Error(s(308));Qi=g,Pu.dependencies={lanes:0,firstContext:g}}else Qi=Qi.next=g;return v}var mi=null;function qh(g){mi===null?mi=[g]:mi.push(g)}function kv(g,v,C,E){var L=v.interleaved;return L===null?(C.next=C,qh(v)):(C.next=L.next,L.next=C),v.interleaved=C,An(g,E)}function An(g,v){g.lanes|=v;var C=g.alternate;for(C!==null&&(C.lanes|=v),C=g,g=g.return;g!==null;)g.childLanes|=v,C=g.alternate,C!==null&&(C.childLanes|=v),C=g,g=g.return;return C.tag===3?C.stateNode:null}var Oa=!1;function Xh(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cv(g,v){g=g.updateQueue,v.updateQueue===g&&(v.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function oa(g,v){return{eventTime:g,lane:v,tag:0,payload:null,callback:null,next:null}}function Fa(g,v,C){var E=g.updateQueue;if(E===null)return null;if(E=E.shared,(vt&2)!==0){var L=E.pending;return L===null?v.next=v:(v.next=L.next,L.next=v),E.pending=v,An(g,C)}return L=E.interleaved,L===null?(v.next=v,qh(E)):(v.next=L.next,L.next=v),E.interleaved=v,An(g,C)}function $u(g,v,C){if(v=v.updateQueue,v!==null&&(v=v.shared,(C&4194240)!==0)){var E=v.lanes;E&=g.pendingLanes,C|=E,v.lanes=C,Dh(g,C)}}function _v(g,v){var C=g.updateQueue,E=g.alternate;if(E!==null&&(E=E.updateQueue,C===E)){var L=null,q=null;if(C=C.firstBaseUpdate,C!==null){do{var de={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};q===null?L=q=de:q=q.next=de,C=C.next}while(C!==null);q===null?L=q=v:q=q.next=v}else L=q=v;C={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:q,shared:E.shared,effects:E.effects},g.updateQueue=C;return}g=C.lastBaseUpdate,g===null?C.firstBaseUpdate=v:g.next=v,C.lastBaseUpdate=v}function Iu(g,v,C,E){var L=g.updateQueue;Oa=!1;var q=L.firstBaseUpdate,de=L.lastBaseUpdate,je=L.shared.pending;if(je!==null){L.shared.pending=null;var ze=je,Ve=ze.next;ze.next=null,de===null?q=Ve:de.next=Ve,de=ze;var Ke=g.alternate;Ke!==null&&(Ke=Ke.updateQueue,je=Ke.lastBaseUpdate,je!==de&&(je===null?Ke.firstBaseUpdate=Ve:je.next=Ve,Ke.lastBaseUpdate=ze))}if(q!==null){var ht=L.baseState;de=0,Ke=Ve=ze=null,je=q;do{var Ze=je.lane,Bt=je.eventTime;if((E&Ze)===Ze){Ke!==null&&(Ke=Ke.next={eventTime:Bt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var Ot=g,Rr=je;switch(Ze=v,Bt=C,Rr.tag){case 1:if(Ot=Rr.payload,typeof Ot=="function"){ht=Ot.call(Bt,ht,Ze);break e}ht=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Rr.payload,Ze=typeof Ot=="function"?Ot.call(Bt,ht,Ze):Ot,Ze==null)break e;ht=o({},ht,Ze);break e;case 2:Oa=!0}}je.callback!==null&&je.lane!==0&&(g.flags|=64,Ze=L.effects,Ze===null?L.effects=[je]:Ze.push(je))}else Bt={eventTime:Bt,lane:Ze,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Ke===null?(Ve=Ke=Bt,ze=ht):Ke=Ke.next=Bt,de|=Ze;if(je=je.next,je===null){if(je=L.shared.pending,je===null)break;Ze=je,je=Ze.next,Ze.next=null,L.lastBaseUpdate=Ze,L.shared.pending=null}}while(!0);if(Ke===null&&(ze=ht),L.baseState=ze,L.firstBaseUpdate=Ve,L.lastBaseUpdate=Ke,v=L.shared.interleaved,v!==null){L=v;do de|=L.lane,L=L.next;while(L!==v)}else q===null&&(L.shared.lanes=0);vi|=de,g.lanes=de,g.memoizedState=ht}}function jv(g,v,C){if(g=v.effects,v.effects=null,g!==null)for(v=0;v<g.length;v++){var E=g[v],L=E.callback;if(L!==null){if(E.callback=null,E=C,typeof L!="function")throw Error(s(191,L));L.call(E)}}}var As={},on=zn(As),Rs=zn(As),to=zn(As);function Rn(g){if(g===As)throw Error(s(174));return g}function Yh(g,v){zt(to,v),zt(Rs,g),zt(on,As),g=A(v),Et(on),zt(on,g)}function ro(){Et(on),Et(Rs),Et(to)}function Pv(g){var v=Rn(to.current),C=Rn(on.current);v=k(C,g.type,v),C!==v&&(zt(Rs,g),zt(on,v))}function Kh(g){Rs.current===g&&(Et(on),Et(Rs))}var Gt=zn(0);function Tu(g){for(var v=g;v!==null;){if(v.tag===13){var C=v.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||Wi(C)||Na(C)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===g)break;for(;v.sibling===null;){if(v.return===null||v.return===g)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Jh=[];function Qh(){for(var g=0;g<Jh.length;g++){var v=Jh[g];he?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}Jh.length=0}var Nu=d.ReactCurrentDispatcher,ef=d.ReactCurrentBatchConfig,gi=0,Zt=null,lr=null,pr=null,Eu=!1,Bs=!1,Us=0,A4=0;function jr(){throw Error(s(321))}function tf(g,v){if(v===null)return!1;for(var C=0;C<v.length&&C<g.length;C++)if(!vn(g[C],v[C]))return!1;return!0}function rf(g,v,C,E,L,q){if(gi=q,Zt=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Nu.current=g===null||g.memoizedState===null?V4:W4,g=C(E,L),Bs){q=0;do{if(Bs=!1,Us=0,25<=q)throw Error(s(301));q+=1,pr=lr=null,v.updateQueue=null,Nu.current=H4,g=C(E,L)}while(Bs)}if(Nu.current=Ou,v=lr!==null&&lr.next!==null,gi=0,pr=lr=Zt=null,Eu=!1,v)throw Error(s(300));return g}function nf(){var g=Us!==0;return Us=0,g}function Bn(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Zt.memoizedState=pr=g:pr=pr.next=g,pr}function sn(){if(lr===null){var g=Zt.alternate;g=g!==null?g.memoizedState:null}else g=lr.next;var v=pr===null?Zt.memoizedState:pr.next;if(v!==null)pr=v,lr=g;else{if(g===null)throw Error(s(310));lr=g,g={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},pr===null?Zt.memoizedState=pr=g:pr=pr.next=g}return pr}function Vs(g,v){return typeof v=="function"?v(g):v}function af(g){var v=sn(),C=v.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=g;var E=lr,L=E.baseQueue,q=C.pending;if(q!==null){if(L!==null){var de=L.next;L.next=q.next,q.next=de}E.baseQueue=L=q,C.pending=null}if(L!==null){q=L.next,E=E.baseState;var je=de=null,ze=null,Ve=q;do{var Ke=Ve.lane;if((gi&Ke)===Ke)ze!==null&&(ze=ze.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),E=Ve.hasEagerState?Ve.eagerState:g(E,Ve.action);else{var ht={lane:Ke,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};ze===null?(je=ze=ht,de=E):ze=ze.next=ht,Zt.lanes|=Ke,vi|=Ke}Ve=Ve.next}while(Ve!==null&&Ve!==q);ze===null?de=E:ze.next=je,vn(E,v.memoizedState)||(Mr=!0),v.memoizedState=E,v.baseState=de,v.baseQueue=ze,C.lastRenderedState=E}if(g=C.interleaved,g!==null){L=g;do q=L.lane,Zt.lanes|=q,vi|=q,L=L.next;while(L!==g)}else L===null&&(C.lanes=0);return[v.memoizedState,C.dispatch]}function of(g){var v=sn(),C=v.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=g;var E=C.dispatch,L=C.pending,q=v.memoizedState;if(L!==null){C.pending=null;var de=L=L.next;do q=g(q,de.action),de=de.next;while(de!==L);vn(q,v.memoizedState)||(Mr=!0),v.memoizedState=q,v.baseQueue===null&&(v.baseState=q),C.lastRenderedState=q}return[q,E]}function $v(){}function Iv(g,v){var C=Zt,E=sn(),L=v(),q=!vn(E.memoizedState,L);if(q&&(E.memoizedState=L,Mr=!0),E=E.queue,sf(Ev.bind(null,C,E,g),[g]),E.getSnapshot!==v||q||pr!==null&&pr.memoizedState.tag&1){if(C.flags|=2048,Ws(9,Nv.bind(null,C,E,L,v),void 0,null),mr===null)throw Error(s(349));(gi&30)!==0||Tv(C,v,L)}return L}function Tv(g,v,C){g.flags|=16384,g={getSnapshot:v,value:C},v=Zt.updateQueue,v===null?(v={lastEffect:null,stores:null},Zt.updateQueue=v,v.stores=[g]):(C=v.stores,C===null?v.stores=[g]:C.push(g))}function Nv(g,v,C,E){v.value=C,v.getSnapshot=E,zv(v)&&Dv(g)}function Ev(g,v,C){return C(function(){zv(v)&&Dv(g)})}function zv(g){var v=g.getSnapshot;g=g.value;try{var C=v();return!vn(g,C)}catch{return!0}}function Dv(g){var v=An(g,1);v!==null&&ln(v,g,1,-1)}function Ov(g){var v=Bn();return typeof g=="function"&&(g=g()),v.memoizedState=v.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:g},v.queue=g,g=g.dispatch=U4.bind(null,Zt,g),[v.memoizedState,g]}function Ws(g,v,C,E){return g={tag:g,create:v,destroy:C,deps:E,next:null},v=Zt.updateQueue,v===null?(v={lastEffect:null,stores:null},Zt.updateQueue=v,v.lastEffect=g.next=g):(C=v.lastEffect,C===null?v.lastEffect=g.next=g:(E=C.next,C.next=g,g.next=E,v.lastEffect=g)),g}function Fv(){return sn().memoizedState}function zu(g,v,C,E){var L=Bn();Zt.flags|=g,L.memoizedState=Ws(1|v,C,void 0,E===void 0?null:E)}function Du(g,v,C,E){var L=sn();E=E===void 0?null:E;var q=void 0;if(lr!==null){var de=lr.memoizedState;if(q=de.destroy,E!==null&&tf(E,de.deps)){L.memoizedState=Ws(v,C,q,E);return}}Zt.flags|=g,L.memoizedState=Ws(1|v,C,q,E)}function Mv(g,v){return zu(8390656,8,g,v)}function sf(g,v){return Du(2048,8,g,v)}function Lv(g,v){return Du(4,2,g,v)}function Av(g,v){return Du(4,4,g,v)}function Rv(g,v){if(typeof v=="function")return g=g(),v(g),function(){v(null)};if(v!=null)return g=g(),v.current=g,function(){v.current=null}}function Bv(g,v,C){return C=C!=null?C.concat([g]):null,Du(4,4,Rv.bind(null,v,g),C)}function lf(){}function Uv(g,v){var C=sn();v=v===void 0?null:v;var E=C.memoizedState;return E!==null&&v!==null&&tf(v,E[1])?E[0]:(C.memoizedState=[g,v],g)}function Vv(g,v){var C=sn();v=v===void 0?null:v;var E=C.memoizedState;return E!==null&&v!==null&&tf(v,E[1])?E[0]:(g=g(),C.memoizedState=[g,v],g)}function Wv(g,v,C){return(gi&21)===0?(g.baseState&&(g.baseState=!1,Mr=!0),g.memoizedState=C):(vn(C,v)||(C=uv(),Zt.lanes|=C,vi|=C,g.baseState=!0),v)}function R4(g,v){var C=_t;_t=C!==0&&4>C?C:4,g(!0);var E=ef.transition;ef.transition={};try{g(!1),v()}finally{_t=C,ef.transition=E}}function Hv(){return sn().memoizedState}function B4(g,v,C){var E=Aa(g);if(C={lane:E,action:C,hasEagerState:!1,eagerState:null,next:null},Gv(g))Zv(v,C);else if(C=kv(g,v,C,E),C!==null){var L=Ir();ln(C,g,E,L),qv(C,v,E)}}function U4(g,v,C){var E=Aa(g),L={lane:E,action:C,hasEagerState:!1,eagerState:null,next:null};if(Gv(g))Zv(v,L);else{var q=g.alternate;if(g.lanes===0&&(q===null||q.lanes===0)&&(q=v.lastRenderedReducer,q!==null))try{var de=v.lastRenderedState,je=q(de,C);if(L.hasEagerState=!0,L.eagerState=je,vn(je,de)){var ze=v.interleaved;ze===null?(L.next=L,qh(v)):(L.next=ze.next,ze.next=L),v.interleaved=L;return}}catch{}finally{}C=kv(g,v,L,E),C!==null&&(L=Ir(),ln(C,g,E,L),qv(C,v,E))}}function Gv(g){var v=g.alternate;return g===Zt||v!==null&&v===Zt}function Zv(g,v){Bs=Eu=!0;var C=g.pending;C===null?v.next=v:(v.next=C.next,C.next=v),g.pending=v}function qv(g,v,C){if((C&4194240)!==0){var E=v.lanes;E&=g.pendingLanes,C|=E,v.lanes=C,Dh(g,C)}}var Ou={readContext:an,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},V4={readContext:an,useCallback:function(g,v){return Bn().memoizedState=[g,v===void 0?null:v],g},useContext:an,useEffect:Mv,useImperativeHandle:function(g,v,C){return C=C!=null?C.concat([g]):null,zu(4194308,4,Rv.bind(null,v,g),C)},useLayoutEffect:function(g,v){return zu(4194308,4,g,v)},useInsertionEffect:function(g,v){return zu(4,2,g,v)},useMemo:function(g,v){var C=Bn();return v=v===void 0?null:v,g=g(),C.memoizedState=[g,v],g},useReducer:function(g,v,C){var E=Bn();return v=C!==void 0?C(v):v,E.memoizedState=E.baseState=v,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:v},E.queue=g,g=g.dispatch=B4.bind(null,Zt,g),[E.memoizedState,g]},useRef:function(g){var v=Bn();return g={current:g},v.memoizedState=g},useState:Ov,useDebugValue:lf,useDeferredValue:function(g){return Bn().memoizedState=g},useTransition:function(){var g=Ov(!1),v=g[0];return g=R4.bind(null,g[1]),Bn().memoizedState=g,[v,g]},useMutableSource:function(){},useSyncExternalStore:function(g,v,C){var E=Zt,L=Bn();if(Ut){if(C===void 0)throw Error(s(407));C=C()}else{if(C=v(),mr===null)throw Error(s(349));(gi&30)!==0||Tv(E,v,C)}L.memoizedState=C;var q={value:C,getSnapshot:v};return L.queue=q,Mv(Ev.bind(null,E,q,g),[g]),E.flags|=2048,Ws(9,Nv.bind(null,E,q,C,v),void 0,null),C},useId:function(){var g=Bn(),v=mr.identifierPrefix;if(Ut){var C=ia,E=aa;C=(E&~(1<<32-Gr(E)-1)).toString(32)+C,v=":"+v+"R"+C,C=Us++,0<C&&(v+="H"+C.toString(32)),v+=":"}else C=A4++,v=":"+v+"r"+C.toString(32)+":";return g.memoizedState=v},unstable_isNewReconciler:!1},W4={readContext:an,useCallback:Uv,useContext:an,useEffect:sf,useImperativeHandle:Bv,useInsertionEffect:Lv,useLayoutEffect:Av,useMemo:Vv,useReducer:af,useRef:Fv,useState:function(){return af(Vs)},useDebugValue:lf,useDeferredValue:function(g){var v=sn();return Wv(v,lr.memoizedState,g)},useTransition:function(){var g=af(Vs)[0],v=sn().memoizedState;return[g,v]},useMutableSource:$v,useSyncExternalStore:Iv,useId:Hv,unstable_isNewReconciler:!1},H4={readContext:an,useCallback:Uv,useContext:an,useEffect:sf,useImperativeHandle:Bv,useInsertionEffect:Lv,useLayoutEffect:Av,useMemo:Vv,useReducer:of,useRef:Fv,useState:function(){return of(Vs)},useDebugValue:lf,useDeferredValue:function(g){var v=sn();return lr===null?v.memoizedState=g:Wv(v,lr.memoizedState,g)},useTransition:function(){var g=of(Vs)[0],v=sn().memoizedState;return[g,v]},useMutableSource:$v,useSyncExternalStore:Iv,useId:Hv,unstable_isNewReconciler:!1};function yn(g,v){if(g&&g.defaultProps){v=o({},v),g=g.defaultProps;for(var C in g)v[C]===void 0&&(v[C]=g[C]);return v}return v}function cf(g,v,C,E){v=g.memoizedState,C=C(E,v),C=C==null?v:o({},v,C),g.memoizedState=C,g.lanes===0&&(g.updateQueue.baseState=C)}var Fu={isMounted:function(g){return(g=g._reactInternals)?O(g)===g:!1},enqueueSetState:function(g,v,C){g=g._reactInternals;var E=Ir(),L=Aa(g),q=oa(E,L);q.payload=v,C!=null&&(q.callback=C),v=Fa(g,q,L),v!==null&&(ln(v,g,L,E),$u(v,g,L))},enqueueReplaceState:function(g,v,C){g=g._reactInternals;var E=Ir(),L=Aa(g),q=oa(E,L);q.tag=1,q.payload=v,C!=null&&(q.callback=C),v=Fa(g,q,L),v!==null&&(ln(v,g,L,E),$u(v,g,L))},enqueueForceUpdate:function(g,v){g=g._reactInternals;var C=Ir(),E=Aa(g),L=oa(C,E);L.tag=2,v!=null&&(L.callback=v),v=Fa(g,L,E),v!==null&&(ln(v,g,E,C),$u(v,g,E))}};function Xv(g,v,C,E,L,q,de){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(E,q,de):v.prototype&&v.prototype.isPureReactComponent?!Cu(C,E)||!Cu(L,q):!0}function Yv(g,v,C){var E=!1,L=Dn,q=v.contextType;return typeof q=="object"&&q!==null?q=an(q):(L=Ae(v)?ve:hr.current,E=v.contextTypes,q=(E=E!=null)?we(g,L):Dn),v=new v(C,q),g.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fu,g.stateNode=v,v._reactInternals=g,E&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=L,g.__reactInternalMemoizedMaskedChildContext=q),v}function Kv(g,v,C,E){g=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(C,E),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(C,E),v.state!==g&&Fu.enqueueReplaceState(v,v.state,null)}function uf(g,v,C,E){var L=g.stateNode;L.props=C,L.state=g.memoizedState,L.refs={},Xh(g);var q=v.contextType;typeof q=="object"&&q!==null?L.context=an(q):(q=Ae(v)?ve:hr.current,L.context=we(g,q)),L.state=g.memoizedState,q=v.getDerivedStateFromProps,typeof q=="function"&&(cf(g,v,q,C),L.state=g.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(v=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),v!==L.state&&Fu.enqueueReplaceState(L,L.state,null),Iu(g,C,L,E),L.state=g.memoizedState),typeof L.componentDidMount=="function"&&(g.flags|=4194308)}function no(g,v){try{var C="",E=v;do C+=L4(E),E=E.return;while(E);var L=C}catch(q){L=`
Error generating stack: `+q.message+`
`+q.stack}return{value:g,source:v,stack:L,digest:null}}function df(g,v,C){return{value:g,source:null,stack:C??null,digest:v??null}}function hf(g,v){try{console.error(v.value)}catch(C){setTimeout(function(){throw C})}}var G4=typeof WeakMap=="function"?WeakMap:Map;function Jv(g,v,C){C=oa(-1,C),C.tag=3,C.payload={element:null};var E=v.value;return C.callback=function(){Yu||(Yu=!0,Ef=E),hf(g,v)},C}function Qv(g,v,C){C=oa(-1,C),C.tag=3;var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var L=v.value;C.payload=function(){return E(L)},C.callback=function(){hf(g,v)}}var q=g.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(C.callback=function(){hf(g,v),typeof E!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var de=v.stack;this.componentDidCatch(v.value,{componentStack:de!==null?de:""})}),C}function eb(g,v,C){var E=g.pingCache;if(E===null){E=g.pingCache=new G4;var L=new Set;E.set(v,L)}else L=E.get(v),L===void 0&&(L=new Set,E.set(v,L));L.has(C)||(L.add(C),g=o6.bind(null,g,v,C),v.then(g,g))}function tb(g){do{var v;if((v=g.tag===13)&&(v=g.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return g;g=g.return}while(g!==null);return null}function rb(g,v,C,E,L){return(g.mode&1)===0?(g===v?g.flags|=65536:(g.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(v=oa(-1,1),v.tag=2,Fa(C,v,1))),C.lanes|=1),g):(g.flags|=65536,g.lanes=L,g)}var Z4=d.ReactCurrentOwner,Mr=!1;function Er(g,v,C,E){v.child=g===null?wv(v,null,C,E):Ji(v,g.child,C,E)}function nb(g,v,C,E,L){C=C.render;var q=v.ref;return eo(v,L),E=rf(g,v,C,E,q,L),C=nf(),g!==null&&!Mr?(v.updateQueue=g.updateQueue,v.flags&=-2053,g.lanes&=~L,sa(g,v,L)):(Ut&&C&&Ah(v),v.flags|=1,Er(g,v,E,L),v.child)}function ab(g,v,C,E,L){if(g===null){var q=C.type;return typeof q=="function"&&!Lf(q)&&q.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(v.tag=15,v.type=q,ib(g,v,q,E,L)):(g=rd(C.type,null,E,v,v.mode,L),g.ref=v.ref,g.return=v,v.child=g)}if(q=g.child,(g.lanes&L)===0){var de=q.memoizedProps;if(C=C.compare,C=C!==null?C:Cu,C(de,E)&&g.ref===v.ref)return sa(g,v,L)}return v.flags|=1,g=Ba(q,E),g.ref=v.ref,g.return=v,v.child=g}function ib(g,v,C,E,L){if(g!==null){var q=g.memoizedProps;if(Cu(q,E)&&g.ref===v.ref)if(Mr=!1,v.pendingProps=E=q,(g.lanes&L)!==0)(g.flags&131072)!==0&&(Mr=!0);else return v.lanes=g.lanes,sa(g,v,L)}return ff(g,v,C,E,L)}function ob(g,v,C){var E=v.pendingProps,L=E.children,q=g!==null?g.memoizedState:null;if(E.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(io,qr),qr|=C;else{if((C&1073741824)===0)return g=q!==null?q.baseLanes|C:C,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:g,cachePool:null,transitions:null},v.updateQueue=null,zt(io,qr),qr|=g,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=q!==null?q.baseLanes:C,zt(io,qr),qr|=E}else q!==null?(E=q.baseLanes|C,v.memoizedState=null):E=C,zt(io,qr),qr|=E;return Er(g,v,L,C),v.child}function sb(g,v){var C=v.ref;(g===null&&C!==null||g!==null&&g.ref!==C)&&(v.flags|=512,v.flags|=2097152)}function ff(g,v,C,E,L){var q=Ae(C)?ve:hr.current;return q=we(v,q),eo(v,L),C=rf(g,v,C,E,q,L),E=nf(),g!==null&&!Mr?(v.updateQueue=g.updateQueue,v.flags&=-2053,g.lanes&=~L,sa(g,v,L)):(Ut&&E&&Ah(v),v.flags|=1,Er(g,v,C,L),v.child)}function lb(g,v,C,E,L){if(Ae(C)){var q=!0;Fn(v)}else q=!1;if(eo(v,L),v.stateNode===null)Lu(g,v),Yv(v,C,E),uf(v,C,E,L),E=!0;else if(g===null){var de=v.stateNode,je=v.memoizedProps;de.props=je;var ze=de.context,Ve=C.contextType;typeof Ve=="object"&&Ve!==null?Ve=an(Ve):(Ve=Ae(C)?ve:hr.current,Ve=we(v,Ve));var Ke=C.getDerivedStateFromProps,ht=typeof Ke=="function"||typeof de.getSnapshotBeforeUpdate=="function";ht||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(je!==E||ze!==Ve)&&Kv(v,de,E,Ve),Oa=!1;var Ze=v.memoizedState;de.state=Ze,Iu(v,E,de,L),ze=v.memoizedState,je!==E||Ze!==ze||Cr.current||Oa?(typeof Ke=="function"&&(cf(v,C,Ke,E),ze=v.memoizedState),(je=Oa||Xv(v,C,je,E,Ze,ze,Ve))?(ht||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(v.flags|=4194308)):(typeof de.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=E,v.memoizedState=ze),de.props=E,de.state=ze,de.context=Ve,E=je):(typeof de.componentDidMount=="function"&&(v.flags|=4194308),E=!1)}else{de=v.stateNode,Cv(g,v),je=v.memoizedProps,Ve=v.type===v.elementType?je:yn(v.type,je),de.props=Ve,ht=v.pendingProps,Ze=de.context,ze=C.contextType,typeof ze=="object"&&ze!==null?ze=an(ze):(ze=Ae(C)?ve:hr.current,ze=we(v,ze));var Bt=C.getDerivedStateFromProps;(Ke=typeof Bt=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(je!==ht||Ze!==ze)&&Kv(v,de,E,ze),Oa=!1,Ze=v.memoizedState,de.state=Ze,Iu(v,E,de,L);var Ot=v.memoizedState;je!==ht||Ze!==Ot||Cr.current||Oa?(typeof Bt=="function"&&(cf(v,C,Bt,E),Ot=v.memoizedState),(Ve=Oa||Xv(v,C,Ve,E,Ze,Ot,ze)||!1)?(Ke||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(E,Ot,ze),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(E,Ot,ze)),typeof de.componentDidUpdate=="function"&&(v.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof de.componentDidUpdate!="function"||je===g.memoizedProps&&Ze===g.memoizedState||(v.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||je===g.memoizedProps&&Ze===g.memoizedState||(v.flags|=1024),v.memoizedProps=E,v.memoizedState=Ot),de.props=E,de.state=Ot,de.context=ze,E=Ve):(typeof de.componentDidUpdate!="function"||je===g.memoizedProps&&Ze===g.memoizedState||(v.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||je===g.memoizedProps&&Ze===g.memoizedState||(v.flags|=1024),E=!1)}return pf(g,v,C,E,q,L)}function pf(g,v,C,E,L,q){sb(g,v);var de=(v.flags&128)!==0;if(!E&&!de)return L&&qi(v,C,!1),sa(g,v,q);E=v.stateNode,Z4.current=v;var je=de&&typeof C.getDerivedStateFromError!="function"?null:E.render();return v.flags|=1,g!==null&&de?(v.child=Ji(v,g.child,null,q),v.child=Ji(v,null,je,q)):Er(g,v,je,q),v.memoizedState=E.state,L&&qi(v,C,!0),v.child}function cb(g){var v=g.stateNode;v.pendingContext?xt(g,v.pendingContext,v.pendingContext!==v.context):v.context&&xt(g,v.context,!1),Yh(g,v.containerInfo)}function ub(g,v,C,E,L){return Ki(),Vh(L),v.flags|=256,Er(g,v,C,E),v.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(g){return{baseLanes:g,cachePool:null,transitions:null}}function db(g,v,C){var E=v.pendingProps,L=Gt.current,q=!1,de=(v.flags&128)!==0,je;if((je=de)||(je=g!==null&&g.memoizedState===null?!1:(L&2)!==0),je?(q=!0,v.flags&=-129):(g===null||g.memoizedState!==null)&&(L|=1),zt(Gt,L&1),g===null)return Uh(v),g=v.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((v.mode&1)===0?v.lanes=1:Na(g)?v.lanes=8:v.lanes=1073741824,null):(de=E.children,g=E.fallback,q?(E=v.mode,q=v.child,de={mode:"hidden",children:de},(E&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=de):q=nd(de,E,0,null),g=wi(g,E,C,null),q.return=v,g.return=v,q.sibling=g,v.child=q,v.child.memoizedState=gf(C),v.memoizedState=mf,g):vf(v,de));if(L=g.memoizedState,L!==null&&(je=L.dehydrated,je!==null))return q4(g,v,de,E,je,L,C);if(q){q=E.fallback,de=v.mode,L=g.child,je=L.sibling;var ze={mode:"hidden",children:E.children};return(de&1)===0&&v.child!==L?(E=v.child,E.childLanes=0,E.pendingProps=ze,v.deletions=null):(E=Ba(L,ze),E.subtreeFlags=L.subtreeFlags&14680064),je!==null?q=Ba(je,q):(q=wi(q,de,C,null),q.flags|=2),q.return=v,E.return=v,E.sibling=q,v.child=E,E=q,q=v.child,de=g.child.memoizedState,de=de===null?gf(C):{baseLanes:de.baseLanes|C,cachePool:null,transitions:de.transitions},q.memoizedState=de,q.childLanes=g.childLanes&~C,v.memoizedState=mf,E}return q=g.child,g=q.sibling,E=Ba(q,{mode:"visible",children:E.children}),(v.mode&1)===0&&(E.lanes=C),E.return=v,E.sibling=null,g!==null&&(C=v.deletions,C===null?(v.deletions=[g],v.flags|=16):C.push(g)),v.child=E,v.memoizedState=null,E}function vf(g,v){return v=nd({mode:"visible",children:v},g.mode,0,null),v.return=g,g.child=v}function Mu(g,v,C,E){return E!==null&&Vh(E),Ji(v,g.child,null,C),g=vf(v,v.pendingProps.children),g.flags|=2,v.memoizedState=null,g}function q4(g,v,C,E,L,q,de){if(C)return v.flags&256?(v.flags&=-257,E=df(Error(s(422))),Mu(g,v,de,E)):v.memoizedState!==null?(v.child=g.child,v.flags|=128,null):(q=E.fallback,L=v.mode,E=nd({mode:"visible",children:E.children},L,0,null),q=wi(q,L,de,null),q.flags|=2,E.return=v,q.return=v,E.sibling=q,v.child=E,(v.mode&1)!==0&&Ji(v,g.child,null,de),v.child.memoizedState=gf(de),v.memoizedState=mf,q);if((v.mode&1)===0)return Mu(g,v,de,null);if(Na(L))return E=js(L).digest,q=Error(s(419)),E=df(q,E,void 0),Mu(g,v,de,E);if(C=(de&g.childLanes)!==0,Mr||C){if(E=mr,E!==null){switch(de&-de){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(E.suspendedLanes|de))!==0?0:L,L!==0&&L!==q.retryLane&&(q.retryLane=L,An(g,L),ln(E,g,L,-1))}return Mf(),E=df(Error(s(421))),Mu(g,v,de,E)}return Wi(L)?(v.flags|=128,v.child=g.child,v=s6.bind(null,g),Hi(L,v),null):(g=q.treeContext,_e&&(nn=$s(L),Zr=v,Ut=!0,bn=null,Ms=!1,g!==null&&(tn[rn++]=aa,tn[rn++]=ia,tn[rn++]=fi,aa=g.id,ia=g.overflow,fi=v)),v=vf(v,E.children),v.flags|=4096,v)}function hb(g,v,C){g.lanes|=v;var E=g.alternate;E!==null&&(E.lanes|=v),Zh(g.return,v,C)}function bf(g,v,C,E,L){var q=g.memoizedState;q===null?g.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:E,tail:C,tailMode:L}:(q.isBackwards=v,q.rendering=null,q.renderingStartTime=0,q.last=E,q.tail=C,q.tailMode=L)}function fb(g,v,C){var E=v.pendingProps,L=E.revealOrder,q=E.tail;if(Er(g,v,E.children,C),E=Gt.current,(E&2)!==0)E=E&1|2,v.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=v.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&hb(g,C,v);else if(g.tag===19)hb(g,C,v);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===v)break e;for(;g.sibling===null;){if(g.return===null||g.return===v)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}E&=1}if(zt(Gt,E),(v.mode&1)===0)v.memoizedState=null;else switch(L){case"forwards":for(C=v.child,L=null;C!==null;)g=C.alternate,g!==null&&Tu(g)===null&&(L=C),C=C.sibling;C=L,C===null?(L=v.child,v.child=null):(L=C.sibling,C.sibling=null),bf(v,!1,L,C,q);break;case"backwards":for(C=null,L=v.child,v.child=null;L!==null;){if(g=L.alternate,g!==null&&Tu(g)===null){v.child=L;break}g=L.sibling,L.sibling=C,C=L,L=g}bf(v,!0,C,null,q);break;case"together":bf(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Lu(g,v){(v.mode&1)===0&&g!==null&&(g.alternate=null,v.alternate=null,v.flags|=2)}function sa(g,v,C){if(g!==null&&(v.dependencies=g.dependencies),vi|=v.lanes,(C&v.childLanes)===0)return null;if(g!==null&&v.child!==g.child)throw Error(s(153));if(v.child!==null){for(g=v.child,C=Ba(g,g.pendingProps),v.child=C,C.return=v;g.sibling!==null;)g=g.sibling,C=C.sibling=Ba(g,g.pendingProps),C.return=v;C.sibling=null}return v.child}function X4(g,v,C){switch(v.tag){case 3:cb(v),Ki();break;case 5:Pv(v);break;case 1:Ae(v.type)&&Fn(v);break;case 4:Yh(v,v.stateNode.containerInfo);break;case 10:Sv(v,v.type._context,v.memoizedProps.value);break;case 13:var E=v.memoizedState;if(E!==null)return E.dehydrated!==null?(zt(Gt,Gt.current&1),v.flags|=128,null):(C&v.child.childLanes)!==0?db(g,v,C):(zt(Gt,Gt.current&1),g=sa(g,v,C),g!==null?g.sibling:null);zt(Gt,Gt.current&1);break;case 19:if(E=(C&v.childLanes)!==0,(g.flags&128)!==0){if(E)return fb(g,v,C);v.flags|=128}var L=v.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),zt(Gt,Gt.current),E)break;return null;case 22:case 23:return v.lanes=0,ob(g,v,C)}return sa(g,v,C)}function Un(g){g.flags|=4}function pb(g,v){if(g!==null&&g.child===v.child)return!0;if((v.flags&16)!==0)return!1;for(g=v.child;g!==null;){if((g.flags&12854)!==0||(g.subtreeFlags&12854)!==0)return!1;g=g.sibling}return!0}var Hs,Gs,Au,Ru;if(ge)Hs=function(g,v){for(var C=v.child;C!==null;){if(C.tag===5||C.tag===6)R(g,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===v)break;for(;C.sibling===null;){if(C.return===null||C.return===v)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Gs=function(){},Au=function(g,v,C,E,L){if(g=g.memoizedProps,g!==E){var q=v.stateNode,de=Rn(on.current);C=Y(q,C,g,E,L,de),(v.updateQueue=C)&&Un(v)}},Ru=function(g,v,C,E){C!==E&&Un(v)};else if(ye){Hs=function(g,v,C,E){for(var L=v.child;L!==null;){if(L.tag===5){var q=L.stateNode;C&&E&&(q=di(q,L.type,L.memoizedProps,L)),R(g,q)}else if(L.tag===6)q=L.stateNode,C&&E&&(q=Ui(q,L.memoizedProps,L)),R(g,q);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)q=L.child,q!==null&&(q.return=L),Hs(g,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===v)break;for(;L.sibling===null;){if(L.return===null||L.return===v)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var mb=function(g,v,C,E){for(var L=v.child;L!==null;){if(L.tag===5){var q=L.stateNode;C&&E&&(q=di(q,L.type,L.memoizedProps,L)),Bi(g,q)}else if(L.tag===6)q=L.stateNode,C&&E&&(q=Ui(q,L.memoizedProps,L)),Bi(g,q);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)q=L.child,q!==null&&(q.return=L),mb(g,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===v)break;for(;L.sibling===null;){if(L.return===null||L.return===v)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};Gs=function(g,v){var C=v.stateNode;if(!pb(g,v)){g=C.containerInfo;var E=ea(g);mb(E,v,!1,!1),C.pendingChildren=E,Un(v),gn(g,E)}},Au=function(g,v,C,E,L){var q=g.stateNode,de=g.memoizedProps;if((g=pb(g,v))&&de===E)v.stateNode=q;else{var je=v.stateNode,ze=Rn(on.current),Ve=null;de!==E&&(Ve=Y(je,C,de,E,L,ze)),g&&Ve===null?v.stateNode=q:(q=mn(q,Ve,C,de,E,v,g,je),W(q,C,E,L,ze)&&Un(v),v.stateNode=q,g?Un(v):Hs(q,v,!1,!1))}},Ru=function(g,v,C,E){C!==E?(g=Rn(to.current),C=Rn(on.current),v.stateNode=ie(E,g,C,v),Un(v)):v.stateNode=g.stateNode}}else Gs=function(){},Au=function(){},Ru=function(){};function Zs(g,v){if(!Ut)switch(g.tailMode){case"hidden":v=g.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?g.tail=null:C.sibling=null;break;case"collapsed":C=g.tail;for(var E=null;C!==null;)C.alternate!==null&&(E=C),C=C.sibling;E===null?v||g.tail===null?g.tail=null:g.tail.sibling=null:E.sibling=null}}function Pr(g){var v=g.alternate!==null&&g.alternate.child===g.child,C=0,E=0;if(v)for(var L=g.child;L!==null;)C|=L.lanes|L.childLanes,E|=L.subtreeFlags&14680064,E|=L.flags&14680064,L.return=g,L=L.sibling;else for(L=g.child;L!==null;)C|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=g,L=L.sibling;return g.subtreeFlags|=E,g.childLanes=C,v}function Y4(g,v,C){var E=v.pendingProps;switch(Rh(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(v),null;case 1:return Ae(v.type)&&dt(),Pr(v),null;case 3:return C=v.stateNode,ro(),Et(Cr),Et(hr),Qh(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(g===null||g.child===null)&&(ku(v)?Un(v):g===null||g.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,bn!==null&&(Of(bn),bn=null))),Gs(g,v),Pr(v),null;case 5:Kh(v),C=Rn(to.current);var L=v.type;if(g!==null&&v.stateNode!=null)Au(g,v,L,E,C),g.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!E){if(v.stateNode===null)throw Error(s(166));return Pr(v),null}if(g=Rn(on.current),ku(v)){if(!_e)throw Error(s(175));g=Gi(v.stateNode,v.type,v.memoizedProps,C,g,v,!Ms),v.updateQueue=g,g!==null&&Un(v)}else{var q=F(L,E,C,g,v);Hs(q,v,!1,!1),v.stateNode=q,W(q,L,E,C,g)&&Un(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Pr(v),null;case 6:if(g&&v.stateNode!=null)Ru(g,v,g.memoizedProps,E);else{if(typeof E!="string"&&v.stateNode===null)throw Error(s(166));if(g=Rn(to.current),C=Rn(on.current),ku(v)){if(!_e)throw Error(s(176));if(g=v.stateNode,C=v.memoizedProps,(E=Zi(g,C,v,!Ms))&&(L=Zr,L!==null))switch(L.tag){case 3:be(L.stateNode.containerInfo,g,C,(L.mode&1)!==0);break;case 5:Ee(L.type,L.memoizedProps,L.stateNode,g,C,(L.mode&1)!==0)}E&&Un(v)}else v.stateNode=ie(E,g,C,v)}return Pr(v),null;case 13:if(Et(Gt),E=v.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(Ut&&nn!==null&&(v.mode&1)!==0&&(v.flags&128)===0)bv(),Ki(),v.flags|=98560,L=!1;else if(L=ku(v),E!==null&&E.dehydrated!==null){if(g===null){if(!L)throw Error(s(318));if(!_e)throw Error(s(344));if(L=v.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(s(317));Is(L,v)}else Ki(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Pr(v),L=!1}else bn!==null&&(Of(bn),bn=null),L=!0;if(!L)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=C,v):(C=E!==null,C!==(g!==null&&g.memoizedState!==null)&&C&&(v.child.flags|=8192,(v.mode&1)!==0&&(g===null||(Gt.current&1)!==0?cr===0&&(cr=3):Mf())),v.updateQueue!==null&&(v.flags|=4),Pr(v),null);case 4:return ro(),Gs(g,v),g===null&&Se(v.stateNode.containerInfo),Pr(v),null;case 10:return Gh(v.type._context),Pr(v),null;case 17:return Ae(v.type)&&dt(),Pr(v),null;case 19:if(Et(Gt),L=v.memoizedState,L===null)return Pr(v),null;if(E=(v.flags&128)!==0,q=L.rendering,q===null)if(E)Zs(L,!1);else{if(cr!==0||g!==null&&(g.flags&128)!==0)for(g=v.child;g!==null;){if(q=Tu(g),q!==null){for(v.flags|=128,Zs(L,!1),g=q.updateQueue,g!==null&&(v.updateQueue=g,v.flags|=4),v.subtreeFlags=0,g=C,C=v.child;C!==null;)E=C,L=g,E.flags&=14680066,q=E.alternate,q===null?(E.childLanes=0,E.lanes=L,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=q.childLanes,E.lanes=q.lanes,E.child=q.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=q.memoizedProps,E.memoizedState=q.memoizedState,E.updateQueue=q.updateQueue,E.type=q.type,L=q.dependencies,E.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),C=C.sibling;return zt(Gt,Gt.current&1|2),v.child}g=g.sibling}L.tail!==null&&fr()>Nf&&(v.flags|=128,E=!0,Zs(L,!1),v.lanes=4194304)}else{if(!E)if(g=Tu(q),g!==null){if(v.flags|=128,E=!0,g=g.updateQueue,g!==null&&(v.updateQueue=g,v.flags|=4),Zs(L,!0),L.tail===null&&L.tailMode==="hidden"&&!q.alternate&&!Ut)return Pr(v),null}else 2*fr()-L.renderingStartTime>Nf&&C!==1073741824&&(v.flags|=128,E=!0,Zs(L,!1),v.lanes=4194304);L.isBackwards?(q.sibling=v.child,v.child=q):(g=L.last,g!==null?g.sibling=q:v.child=q,L.last=q)}return L.tail!==null?(v=L.tail,L.rendering=v,L.tail=v.sibling,L.renderingStartTime=fr(),v.sibling=null,g=Gt.current,zt(Gt,E?g&1|2:g&1),v):(Pr(v),null);case 22:case 23:return Ff(),C=v.memoizedState!==null,g!==null&&g.memoizedState!==null!==C&&(v.flags|=8192),C&&(v.mode&1)!==0?(qr&1073741824)!==0&&(Pr(v),ge&&v.subtreeFlags&6&&(v.flags|=8192)):Pr(v),null;case 24:return null;case 25:return null}throw Error(s(156,v.tag))}function K4(g,v){switch(Rh(v),v.tag){case 1:return Ae(v.type)&&dt(),g=v.flags,g&65536?(v.flags=g&-65537|128,v):null;case 3:return ro(),Et(Cr),Et(hr),Qh(),g=v.flags,(g&65536)!==0&&(g&128)===0?(v.flags=g&-65537|128,v):null;case 5:return Kh(v),null;case 13:if(Et(Gt),g=v.memoizedState,g!==null&&g.dehydrated!==null){if(v.alternate===null)throw Error(s(340));Ki()}return g=v.flags,g&65536?(v.flags=g&-65537|128,v):null;case 19:return Et(Gt),null;case 4:return ro(),null;case 10:return Gh(v.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Bu=!1,$r=!1,J4=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function ao(g,v){var C=g.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(E){Vt(g,v,E)}else C.current=null}function yf(g,v,C){try{C()}catch(E){Vt(g,v,E)}}var gb=!1;function Q4(g,v){for(j(g.containerInfo),Ye=v;Ye!==null;)if(g=Ye,v=g.child,(g.subtreeFlags&1028)!==0&&v!==null)v.return=g,Ye=v;else for(;Ye!==null;){g=Ye;try{var C=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var E=C.memoizedProps,L=C.memoizedState,q=g.stateNode,de=q.getSnapshotBeforeUpdate(g.elementType===g.type?E:yn(g.type,E),L);q.__reactInternalSnapshotBeforeUpdate=de}break;case 3:ge&&Fr(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(je){Vt(g,g.return,je)}if(v=g.sibling,v!==null){v.return=g.return,Ye=v;break}Ye=g.return}return C=gb,gb=!1,C}function qs(g,v,C){var E=v.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var L=E=E.next;do{if((L.tag&g)===g){var q=L.destroy;L.destroy=void 0,q!==void 0&&yf(v,C,q)}L=L.next}while(L!==E)}}function Uu(g,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var C=v=v.next;do{if((C.tag&g)===g){var E=C.create;C.destroy=E()}C=C.next}while(C!==v)}}function xf(g){var v=g.ref;if(v!==null){var C=g.stateNode;switch(g.tag){case 5:g=ne(C);break;default:g=C}typeof v=="function"?v(g):v.current=g}}function vb(g){var v=g.alternate;v!==null&&(g.alternate=null,vb(v)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(v=g.stateNode,v!==null&&se(v)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function bb(g){return g.tag===5||g.tag===3||g.tag===4}function yb(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||bb(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function wf(g,v,C){var E=g.tag;if(E===5||E===6)g=g.stateNode,v?or(C,g,v):ot(C,g);else if(E!==4&&(g=g.child,g!==null))for(wf(g,v,C),g=g.sibling;g!==null;)wf(g,v,C),g=g.sibling}function Sf(g,v,C){var E=g.tag;if(E===5||E===6)g=g.stateNode,v?St(C,g,v):Be(C,g);else if(E!==4&&(g=g.child,g!==null))for(Sf(g,v,C),g=g.sibling;g!==null;)Sf(g,v,C),g=g.sibling}var xr=null,xn=!1;function Vn(g,v,C){for(C=C.child;C!==null;)kf(g,v,C),C=C.sibling}function kf(g,v,C){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(yu,C)}catch{}switch(C.tag){case 5:$r||ao(C,v);case 6:if(ge){var E=xr,L=xn;xr=null,Vn(g,v,C),xr=E,xn=L,xr!==null&&(xn?rr(xr,C.stateNode):Tr(xr,C.stateNode))}else Vn(g,v,C);break;case 18:ge&&xr!==null&&(xn?oe(xr,C.stateNode):I(xr,C.stateNode));break;case 4:ge?(E=xr,L=xn,xr=C.stateNode.containerInfo,xn=!0,Vn(g,v,C),xr=E,xn=L):(ye&&(E=C.stateNode.containerInfo,L=ea(E),Ia(E,L)),Vn(g,v,C));break;case 0:case 11:case 14:case 15:if(!$r&&(E=C.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){L=E=E.next;do{var q=L,de=q.destroy;q=q.tag,de!==void 0&&((q&2)!==0||(q&4)!==0)&&yf(C,v,de),L=L.next}while(L!==E)}Vn(g,v,C);break;case 1:if(!$r&&(ao(C,v),E=C.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=C.memoizedProps,E.state=C.memoizedState,E.componentWillUnmount()}catch(je){Vt(C,v,je)}Vn(g,v,C);break;case 21:Vn(g,v,C);break;case 22:C.mode&1?($r=(E=$r)||C.memoizedState!==null,Vn(g,v,C),$r=E):Vn(g,v,C);break;default:Vn(g,v,C)}}function xb(g){var v=g.updateQueue;if(v!==null){g.updateQueue=null;var C=g.stateNode;C===null&&(C=g.stateNode=new J4),v.forEach(function(E){var L=l6.bind(null,g,E);C.has(E)||(C.add(E),E.then(L,L))})}}function wn(g,v){var C=v.deletions;if(C!==null)for(var E=0;E<C.length;E++){var L=C[E];try{var q=g,de=v;if(ge){var je=de;e:for(;je!==null;){switch(je.tag){case 5:xr=je.stateNode,xn=!1;break e;case 3:xr=je.stateNode.containerInfo,xn=!0;break e;case 4:xr=je.stateNode.containerInfo,xn=!0;break e}je=je.return}if(xr===null)throw Error(s(160));kf(q,de,L),xr=null,xn=!1}else kf(q,de,L);var ze=L.alternate;ze!==null&&(ze.return=null),L.return=null}catch(Ve){Vt(L,v,Ve)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)wb(v,g),v=v.sibling}function wb(g,v){var C=g.alternate,E=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:if(wn(v,g),Wn(g),E&4){try{qs(3,g,g.return),Uu(3,g)}catch(Ze){Vt(g,g.return,Ze)}try{qs(5,g,g.return)}catch(Ze){Vt(g,g.return,Ze)}}break;case 1:wn(v,g),Wn(g),E&512&&C!==null&&ao(C,C.return);break;case 5:if(wn(v,g),Wn(g),E&512&&C!==null&&ao(C,C.return),ge){if(g.flags&32){var L=g.stateNode;try{Nr(L)}catch(Ze){Vt(g,g.return,Ze)}}if(E&4&&(L=g.stateNode,L!=null)){var q=g.memoizedProps;if(C=C!==null?C.memoizedProps:q,E=g.type,v=g.updateQueue,g.updateQueue=null,v!==null)try{Rt(L,v,E,C,q,g)}catch(Ze){Vt(g,g.return,Ze)}}}break;case 6:if(wn(v,g),Wn(g),E&4&&ge){if(g.stateNode===null)throw Error(s(162));L=g.stateNode,q=g.memoizedProps,C=C!==null?C.memoizedProps:q;try{st(L,C,q)}catch(Ze){Vt(g,g.return,Ze)}}break;case 3:if(wn(v,g),Wn(g),E&4){if(ge&&_e&&C!==null&&C.memoizedState.isDehydrated)try{Ns(v.containerInfo)}catch(Ze){Vt(g,g.return,Ze)}if(ye){L=v.containerInfo,q=v.pendingChildren;try{Ia(L,q)}catch(Ze){Vt(g,g.return,Ze)}}}break;case 4:if(wn(v,g),Wn(g),E&4&&ye){q=g.stateNode,L=q.containerInfo,q=q.pendingChildren;try{Ia(L,q)}catch(Ze){Vt(g,g.return,Ze)}}break;case 13:wn(v,g),Wn(g),L=g.child,L.flags&8192&&(q=L.memoizedState!==null,L.stateNode.isHidden=q,!q||L.alternate!==null&&L.alternate.memoizedState!==null||(Tf=fr())),E&4&&xb(g);break;case 22:var de=C!==null&&C.memoizedState!==null;if(g.mode&1?($r=(C=$r)||de,wn(v,g),$r=C):wn(v,g),Wn(g),E&8192){if(C=g.memoizedState!==null,(g.stateNode.isHidden=C)&&!de&&(g.mode&1)!==0)for(Ye=g,E=g.child;E!==null;){for(v=Ye=E;Ye!==null;){de=Ye;var je=de.child;switch(de.tag){case 0:case 11:case 14:case 15:qs(4,de,de.return);break;case 1:ao(de,de.return);var ze=de.stateNode;if(typeof ze.componentWillUnmount=="function"){var Ve=de,Ke=de.return;try{var ht=Ve;ze.props=ht.memoizedProps,ze.state=ht.memoizedState,ze.componentWillUnmount()}catch(Ze){Vt(Ve,Ke,Ze)}}break;case 5:ao(de,de.return);break;case 22:if(de.memoizedState!==null){Cb(v);continue}}je!==null?(je.return=de,Ye=je):Cb(v)}E=E.sibling}if(ge){e:if(E=null,ge)for(v=g;;){if(v.tag===5){if(E===null){E=v;try{L=v.stateNode,C?pn(L):ui(v.stateNode,v.memoizedProps)}catch(Ze){Vt(g,g.return,Ze)}}}else if(v.tag===6){if(E===null)try{q=v.stateNode,C?Qn(q):En(q,v.memoizedProps)}catch(Ze){Vt(g,g.return,Ze)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===g)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===g)break e;for(;v.sibling===null;){if(v.return===null||v.return===g)break e;E===v&&(E=null),v=v.return}E===v&&(E=null),v.sibling.return=v.return,v=v.sibling}}}break;case 19:wn(v,g),Wn(g),E&4&&xb(g);break;case 21:break;default:wn(v,g),Wn(g)}}function Wn(g){var v=g.flags;if(v&2){try{if(ge){e:{for(var C=g.return;C!==null;){if(bb(C)){var E=C;break e}C=C.return}throw Error(s(160))}switch(E.tag){case 5:var L=E.stateNode;E.flags&32&&(Nr(L),E.flags&=-33);var q=yb(g);Sf(g,q,L);break;case 3:case 4:var de=E.stateNode.containerInfo,je=yb(g);wf(g,je,de);break;default:throw Error(s(161))}}}catch(ze){Vt(g,g.return,ze)}g.flags&=-3}v&4096&&(g.flags&=-4097)}function e6(g,v,C){Ye=g,Sb(g)}function Sb(g,v,C){for(var E=(g.mode&1)!==0;Ye!==null;){var L=Ye,q=L.child;if(L.tag===22&&E){var de=L.memoizedState!==null||Bu;if(!de){var je=L.alternate,ze=je!==null&&je.memoizedState!==null||$r;je=Bu;var Ve=$r;if(Bu=de,($r=ze)&&!Ve)for(Ye=L;Ye!==null;)de=Ye,ze=de.child,de.tag===22&&de.memoizedState!==null?_b(L):ze!==null?(ze.return=de,Ye=ze):_b(L);for(;q!==null;)Ye=q,Sb(q),q=q.sibling;Ye=L,Bu=je,$r=Ve}kb(g)}else(L.subtreeFlags&8772)!==0&&q!==null?(q.return=L,Ye=q):kb(g)}}function kb(g){for(;Ye!==null;){var v=Ye;if((v.flags&8772)!==0){var C=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:$r||Uu(5,v);break;case 1:var E=v.stateNode;if(v.flags&4&&!$r)if(C===null)E.componentDidMount();else{var L=v.elementType===v.type?C.memoizedProps:yn(v.type,C.memoizedProps);E.componentDidUpdate(L,C.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var q=v.updateQueue;q!==null&&jv(v,q,E);break;case 3:var de=v.updateQueue;if(de!==null){if(C=null,v.child!==null)switch(v.child.tag){case 5:C=ne(v.child.stateNode);break;case 1:C=v.child.stateNode}jv(v,de,C)}break;case 5:var je=v.stateNode;C===null&&v.flags&4&&pt(je,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&v.memoizedState===null){var ze=v.alternate;if(ze!==null){var Ve=ze.memoizedState;if(Ve!==null){var Ke=Ve.dehydrated;Ke!==null&&Es(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}$r||v.flags&512&&xf(v)}catch(ht){Vt(v,v.return,ht)}}if(v===g){Ye=null;break}if(C=v.sibling,C!==null){C.return=v.return,Ye=C;break}Ye=v.return}}function Cb(g){for(;Ye!==null;){var v=Ye;if(v===g){Ye=null;break}var C=v.sibling;if(C!==null){C.return=v.return,Ye=C;break}Ye=v.return}}function _b(g){for(;Ye!==null;){var v=Ye;try{switch(v.tag){case 0:case 11:case 15:var C=v.return;try{Uu(4,v)}catch(ze){Vt(v,C,ze)}break;case 1:var E=v.stateNode;if(typeof E.componentDidMount=="function"){var L=v.return;try{E.componentDidMount()}catch(ze){Vt(v,L,ze)}}var q=v.return;try{xf(v)}catch(ze){Vt(v,q,ze)}break;case 5:var de=v.return;try{xf(v)}catch(ze){Vt(v,de,ze)}}}catch(ze){Vt(v,v.return,ze)}if(v===g){Ye=null;break}var je=v.sibling;if(je!==null){je.return=v.return,Ye=je;break}Ye=v.return}}var Vu=0,Wu=1,Hu=2,Gu=3,Zu=4;if(typeof Symbol=="function"&&Symbol.for){var Xs=Symbol.for;Vu=Xs("selector.component"),Wu=Xs("selector.has_pseudo_class"),Hu=Xs("selector.role"),Gu=Xs("selector.test_id"),Zu=Xs("selector.text")}function Cf(g){var v=H(g);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(s(364));return v}if(g=ue(g),g===null)throw Error(s(362));return g.stateNode.current}function _f(g,v){switch(v.$$typeof){case Vu:if(g.type===v.value)return!0;break;case Wu:e:{v=v.value,g=[g,0];for(var C=0;C<g.length;){var E=g[C++],L=g[C++],q=v[L];if(E.tag!==5||!pe(E)){for(;q!=null&&_f(E,q);)L++,q=v[L];if(L===v.length){v=!0;break e}else for(E=E.child;E!==null;)g.push(E,L),E=E.sibling}}v=!1}return v;case Hu:if(g.tag===5&&ke(g.stateNode,v.value))return!0;break;case Zu:if((g.tag===5||g.tag===6)&&(g=me(g),g!==null&&0<=g.indexOf(v.value)))return!0;break;case Gu:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function jf(g){switch(g.$$typeof){case Vu:return"<"+(M(g.value)||"Unknown")+">";case Wu:return":has("+(jf(g)||"")+")";case Hu:return'[role="'+g.value+'"]';case Zu:return'"'+g.value+'"';case Gu:return'[data-testname="'+g.value+'"]';default:throw Error(s(365))}}function jb(g,v){var C=[];g=[g,0];for(var E=0;E<g.length;){var L=g[E++],q=g[E++],de=v[q];if(L.tag!==5||!pe(L)){for(;de!=null&&_f(L,de);)q++,de=v[q];if(q===v.length)C.push(L);else for(L=L.child;L!==null;)g.push(L,q),L=L.sibling}}return C}function Pf(g,v){if(!$e)throw Error(s(363));g=Cf(g),g=jb(g,v),v=[],g=Array.from(g);for(var C=0;C<g.length;){var E=g[C++];if(E.tag===5)pe(E)||v.push(E.stateNode);else for(E=E.child;E!==null;)g.push(E),E=E.sibling}return v}var t6=Math.ceil,qu=d.ReactCurrentDispatcher,$f=d.ReactCurrentOwner,nr=d.ReactCurrentBatchConfig,vt=0,mr=null,sr=null,wr=0,qr=0,io=zn(0),cr=0,Ys=null,vi=0,Xu=0,If=0,Ks=null,Lr=null,Tf=0,Nf=1/0,la=null;function oo(){Nf=fr()+500}var Yu=!1,Ef=null,Ma=null,Ku=!1,La=null,Ju=0,Js=0,zf=null,Qu=-1,ed=0;function Ir(){return(vt&6)!==0?fr():Qu!==-1?Qu:Qu=fr()}function Aa(g){return(g.mode&1)===0?1:(vt&2)!==0&&wr!==0?wr&-wr:M4.transition!==null?(ed===0&&(ed=uv()),ed):(g=_t,g!==0?g:Ce())}function ln(g,v,C,E){if(50<Js)throw Js=0,zf=null,Error(s(185));Fs(g,C,E),((vt&2)===0||g!==mr)&&(g===mr&&((vt&2)===0&&(Xu|=C),cr===4&&Ra(g,wr)),Ar(g,E),C===1&&vt===0&&(v.mode&1)===0&&(oo(),xu&&Ln()))}function Ar(g,v){var C=g.callbackNode;$4(g,v);var E=ra(g,g===mr?wr:0);if(E===0)C!==null&&hv(C),g.callbackNode=null,g.callbackPriority=0;else if(v=E&-E,g.callbackPriority!==v){if(C!=null&&hv(C),v===1)g.tag===0?F4($b.bind(null,g)):fv($b.bind(null,g)),ae?xe(function(){(vt&6)===0&&Ln()}):Oh(Fh,Ln),C=null;else{switch(dv(E)){case 1:C=Fh;break;case 4:C=E4;break;case 16:C=Mh;break;case 536870912:C=z4;break;default:C=Mh}C=Mb(C,Pb.bind(null,g))}g.callbackPriority=v,g.callbackNode=C}}function Pb(g,v){if(Qu=-1,ed=0,(vt&6)!==0)throw Error(s(327));var C=g.callbackNode;if(xi()&&g.callbackNode!==C)return null;var E=ra(g,g===mr?wr:0);if(E===0)return null;if((E&30)!==0||(E&g.expiredLanes)!==0||v)v=td(g,E);else{v=E;var L=vt;vt|=2;var q=Nb();(mr!==g||wr!==v)&&(la=null,oo(),bi(g,v));do try{a6();break}catch(je){Tb(g,je)}while(!0);Hh(),qu.current=q,vt=L,sr!==null?v=0:(mr=null,wr=0,v=cr)}if(v!==0){if(v===2&&(L=Eh(g),L!==0&&(E=L,v=Df(g,L))),v===1)throw C=Ys,bi(g,0),Ra(g,E),Ar(g,fr()),C;if(v===6)Ra(g,E);else{if(L=g.current.alternate,(E&30)===0&&!r6(L)&&(v=td(g,E),v===2&&(q=Eh(g),q!==0&&(E=q,v=Df(g,q))),v===1))throw C=Ys,bi(g,0),Ra(g,E),Ar(g,fr()),C;switch(g.finishedWork=L,g.finishedLanes=E,v){case 0:case 1:throw Error(s(345));case 2:yi(g,Lr,la);break;case 3:if(Ra(g,E),(E&130023424)===E&&(v=Tf+500-fr(),10<v)){if(ra(g,0)!==0)break;if(L=g.suspendedLanes,(L&E)!==E){Ir(),g.pingedLanes|=g.suspendedLanes&L;break}g.timeoutHandle=J(yi.bind(null,g,Lr,la),v);break}yi(g,Lr,la);break;case 4:if(Ra(g,E),(E&4194240)===E)break;for(v=g.eventTimes,L=-1;0<E;){var de=31-Gr(E);q=1<<de,de=v[de],de>L&&(L=de),E&=~q}if(E=L,E=fr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*t6(E/1960))-E,10<E){g.timeoutHandle=J(yi.bind(null,g,Lr,la),E);break}yi(g,Lr,la);break;case 5:yi(g,Lr,la);break;default:throw Error(s(329))}}}return Ar(g,fr()),g.callbackNode===C?Pb.bind(null,g):null}function Df(g,v){var C=Ks;return g.current.memoizedState.isDehydrated&&(bi(g,v).flags|=256),g=td(g,v),g!==2&&(v=Lr,Lr=C,v!==null&&Of(v)),g}function Of(g){Lr===null?Lr=g:Lr.push.apply(Lr,g)}function r6(g){for(var v=g;;){if(v.flags&16384){var C=v.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var E=0;E<C.length;E++){var L=C[E],q=L.getSnapshot;L=L.value;try{if(!vn(q(),L))return!1}catch{return!1}}}if(C=v.child,v.subtreeFlags&16384&&C!==null)C.return=v,v=C;else{if(v===g)break;for(;v.sibling===null;){if(v.return===null||v.return===g)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Ra(g,v){for(v&=~If,v&=~Xu,g.suspendedLanes|=v,g.pingedLanes&=~v,g=g.expirationTimes;0<v;){var C=31-Gr(v),E=1<<C;g[C]=-1,v&=~E}}function $b(g){if((vt&6)!==0)throw Error(s(327));xi();var v=ra(g,0);if((v&1)===0)return Ar(g,fr()),null;var C=td(g,v);if(g.tag!==0&&C===2){var E=Eh(g);E!==0&&(v=E,C=Df(g,E))}if(C===1)throw C=Ys,bi(g,0),Ra(g,v),Ar(g,fr()),C;if(C===6)throw Error(s(345));return g.finishedWork=g.current.alternate,g.finishedLanes=v,yi(g,Lr,la),Ar(g,fr()),null}function Ib(g){La!==null&&La.tag===0&&(vt&6)===0&&xi();var v=vt;vt|=1;var C=nr.transition,E=_t;try{if(nr.transition=null,_t=1,g)return g()}finally{_t=E,nr.transition=C,vt=v,(vt&6)===0&&Ln()}}function Ff(){qr=io.current,Et(io)}function bi(g,v){g.finishedWork=null,g.finishedLanes=0;var C=g.timeoutHandle;if(C!==Q&&(g.timeoutHandle=Q,ee(C)),sr!==null)for(C=sr.return;C!==null;){var E=C;switch(Rh(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&dt();break;case 3:ro(),Et(Cr),Et(hr),Qh();break;case 5:Kh(E);break;case 4:ro();break;case 13:Et(Gt);break;case 19:Et(Gt);break;case 10:Gh(E.type._context);break;case 22:case 23:Ff()}C=C.return}if(mr=g,sr=g=Ba(g.current,null),wr=qr=v,cr=0,Ys=null,If=Xu=vi=0,Lr=Ks=null,mi!==null){for(v=0;v<mi.length;v++)if(C=mi[v],E=C.interleaved,E!==null){C.interleaved=null;var L=E.next,q=C.pending;if(q!==null){var de=q.next;q.next=L,E.next=de}C.pending=E}mi=null}return g}function Tb(g,v){do{var C=sr;try{if(Hh(),Nu.current=Ou,Eu){for(var E=Zt.memoizedState;E!==null;){var L=E.queue;L!==null&&(L.pending=null),E=E.next}Eu=!1}if(gi=0,pr=lr=Zt=null,Bs=!1,Us=0,$f.current=null,C===null||C.return===null){cr=1,Ys=v,sr=null;break}e:{var q=g,de=C.return,je=C,ze=v;if(v=wr,je.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var Ve=ze,Ke=je,ht=Ke.tag;if((Ke.mode&1)===0&&(ht===0||ht===11||ht===15)){var Ze=Ke.alternate;Ze?(Ke.updateQueue=Ze.updateQueue,Ke.memoizedState=Ze.memoizedState,Ke.lanes=Ze.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var Bt=tb(de);if(Bt!==null){Bt.flags&=-257,rb(Bt,de,je,q,v),Bt.mode&1&&eb(q,Ve,v),v=Bt,ze=Ve;var Ot=v.updateQueue;if(Ot===null){var Rr=new Set;Rr.add(ze),v.updateQueue=Rr}else Ot.add(ze);break e}else{if((v&1)===0){eb(q,Ve,v),Mf();break e}ze=Error(s(426))}}else if(Ut&&je.mode&1){var ca=tb(de);if(ca!==null){(ca.flags&65536)===0&&(ca.flags|=256),rb(ca,de,je,q,v),Vh(no(ze,je));break e}}q=ze=no(ze,je),cr!==4&&(cr=2),Ks===null?Ks=[q]:Ks.push(q),q=de;do{switch(q.tag){case 3:q.flags|=65536,v&=-v,q.lanes|=v;var Te=Jv(q,ze,v);_v(q,Te);break e;case 1:je=ze;var Pe=q.type,De=q.stateNode;if((q.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Ma===null||!Ma.has(De)))){q.flags|=65536,v&=-v,q.lanes|=v;var qe=Qv(q,je,v);_v(q,qe);break e}}q=q.return}while(q!==null)}zb(C)}catch(it){v=it,sr===C&&C!==null&&(sr=C=C.return);continue}break}while(!0)}function Nb(){var g=qu.current;return qu.current=Ou,g===null?Ou:g}function Mf(){(cr===0||cr===3||cr===2)&&(cr=4),mr===null||(vi&268435455)===0&&(Xu&268435455)===0||Ra(mr,wr)}function td(g,v){var C=vt;vt|=2;var E=Nb();(mr!==g||wr!==v)&&(la=null,bi(g,v));do try{n6();break}catch(L){Tb(g,L)}while(!0);if(Hh(),vt=C,qu.current=E,sr!==null)throw Error(s(261));return mr=null,wr=0,cr}function n6(){for(;sr!==null;)Eb(sr)}function a6(){for(;sr!==null&&!T4();)Eb(sr)}function Eb(g){var v=Fb(g.alternate,g,qr);g.memoizedProps=g.pendingProps,v===null?zb(g):sr=v,$f.current=null}function zb(g){var v=g;do{var C=v.alternate;if(g=v.return,(v.flags&32768)===0){if(C=Y4(C,v,qr),C!==null){sr=C;return}}else{if(C=K4(C,v),C!==null){C.flags&=32767,sr=C;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{cr=6,sr=null;return}}if(v=v.sibling,v!==null){sr=v;return}sr=v=g}while(v!==null);cr===0&&(cr=5)}function yi(g,v,C){var E=_t,L=nr.transition;try{nr.transition=null,_t=1,i6(g,v,C,E)}finally{nr.transition=L,_t=E}return null}function i6(g,v,C,E){do xi();while(La!==null);if((vt&6)!==0)throw Error(s(327));C=g.finishedWork;var L=g.finishedLanes;if(C===null)return null;if(g.finishedWork=null,g.finishedLanes=0,C===g.current)throw Error(s(177));g.callbackNode=null,g.callbackPriority=0;var q=C.lanes|C.childLanes;if(I4(g,q),g===mr&&(sr=mr=null,wr=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Ku||(Ku=!0,Mb(Mh,function(){return xi(),null})),q=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||q){q=nr.transition,nr.transition=null;var de=_t;_t=1;var je=vt;vt|=4,$f.current=null,Q4(g,C),wb(C,g),$(g.containerInfo),g.current=C,e6(C),N4(),vt=je,_t=de,nr.transition=q}else g.current=C;if(Ku&&(Ku=!1,La=g,Ju=L),q=g.pendingLanes,q===0&&(Ma=null),D4(C.stateNode),Ar(g,fr()),v!==null)for(E=g.onRecoverableError,C=0;C<v.length;C++)L=v[C],E(L.value,{componentStack:L.stack,digest:L.digest});if(Yu)throw Yu=!1,g=Ef,Ef=null,g;return(Ju&1)!==0&&g.tag!==0&&xi(),q=g.pendingLanes,(q&1)!==0?g===zf?Js++:(Js=0,zf=g):Js=0,Ln(),null}function xi(){if(La!==null){var g=dv(Ju),v=nr.transition,C=_t;try{if(nr.transition=null,_t=16>g?16:g,La===null)var E=!1;else{if(g=La,La=null,Ju=0,(vt&6)!==0)throw Error(s(331));var L=vt;for(vt|=4,Ye=g.current;Ye!==null;){var q=Ye,de=q.child;if((Ye.flags&16)!==0){var je=q.deletions;if(je!==null){for(var ze=0;ze<je.length;ze++){var Ve=je[ze];for(Ye=Ve;Ye!==null;){var Ke=Ye;switch(Ke.tag){case 0:case 11:case 15:qs(8,Ke,q)}var ht=Ke.child;if(ht!==null)ht.return=Ke,Ye=ht;else for(;Ye!==null;){Ke=Ye;var Ze=Ke.sibling,Bt=Ke.return;if(vb(Ke),Ke===Ve){Ye=null;break}if(Ze!==null){Ze.return=Bt,Ye=Ze;break}Ye=Bt}}}var Ot=q.alternate;if(Ot!==null){var Rr=Ot.child;if(Rr!==null){Ot.child=null;do{var ca=Rr.sibling;Rr.sibling=null,Rr=ca}while(Rr!==null)}}Ye=q}}if((q.subtreeFlags&2064)!==0&&de!==null)de.return=q,Ye=de;else e:for(;Ye!==null;){if(q=Ye,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:qs(9,q,q.return)}var Te=q.sibling;if(Te!==null){Te.return=q.return,Ye=Te;break e}Ye=q.return}}var Pe=g.current;for(Ye=Pe;Ye!==null;){de=Ye;var De=de.child;if((de.subtreeFlags&2064)!==0&&De!==null)De.return=de,Ye=De;else e:for(de=Pe;Ye!==null;){if(je=Ye,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:Uu(9,je)}}catch(it){Vt(je,je.return,it)}if(je===de){Ye=null;break e}var qe=je.sibling;if(qe!==null){qe.return=je.return,Ye=qe;break e}Ye=je.return}}if(vt=L,Ln(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(yu,g)}catch{}E=!0}return E}finally{_t=C,nr.transition=v}}return!1}function Db(g,v,C){v=no(C,v),v=Jv(g,v,1),g=Fa(g,v,1),v=Ir(),g!==null&&(Fs(g,1,v),Ar(g,v))}function Vt(g,v,C){if(g.tag===3)Db(g,g,C);else for(;v!==null;){if(v.tag===3){Db(v,g,C);break}else if(v.tag===1){var E=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ma===null||!Ma.has(E))){g=no(C,g),g=Qv(v,g,1),v=Fa(v,g,1),g=Ir(),v!==null&&(Fs(v,1,g),Ar(v,g));break}}v=v.return}}function o6(g,v,C){var E=g.pingCache;E!==null&&E.delete(v),v=Ir(),g.pingedLanes|=g.suspendedLanes&C,mr===g&&(wr&C)===C&&(cr===4||cr===3&&(wr&130023424)===wr&&500>fr()-Tf?bi(g,0):If|=C),Ar(g,v)}function Ob(g,v){v===0&&((g.mode&1)===0?v=1:(v=_r,_r<<=1,(_r&130023424)===0&&(_r=4194304)));var C=Ir();g=An(g,v),g!==null&&(Fs(g,v,C),Ar(g,C))}function s6(g){var v=g.memoizedState,C=0;v!==null&&(C=v.retryLane),Ob(g,C)}function l6(g,v){var C=0;switch(g.tag){case 13:var E=g.stateNode,L=g.memoizedState;L!==null&&(C=L.retryLane);break;case 19:E=g.stateNode;break;default:throw Error(s(314))}E!==null&&E.delete(v),Ob(g,C)}var Fb;Fb=function(g,v,C){if(g!==null)if(g.memoizedProps!==v.pendingProps||Cr.current)Mr=!0;else{if((g.lanes&C)===0&&(v.flags&128)===0)return Mr=!1,X4(g,v,C);Mr=(g.flags&131072)!==0}else Mr=!1,Ut&&(v.flags&1048576)!==0&&pv(v,Su,v.index);switch(v.lanes=0,v.tag){case 2:var E=v.type;Lu(g,v),g=v.pendingProps;var L=we(v,hr.current);eo(v,C),L=rf(null,v,E,g,L,C);var q=nf();return v.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Ae(E)?(q=!0,Fn(v)):q=!1,v.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Xh(v),L.updater=Fu,v.stateNode=L,L._reactInternals=v,uf(v,E,g,C),v=pf(null,v,E,!0,q,C)):(v.tag=0,Ut&&q&&Ah(v),Er(null,v,L,C),v=v.child),v;case 16:E=v.elementType;e:{switch(Lu(g,v),g=v.pendingProps,L=E._init,E=L(E._payload),v.type=E,L=v.tag=u6(E),g=yn(E,g),L){case 0:v=ff(null,v,E,g,C);break e;case 1:v=lb(null,v,E,g,C);break e;case 11:v=nb(null,v,E,g,C);break e;case 14:v=ab(null,v,E,yn(E.type,g),C);break e}throw Error(s(306,E,""))}return v;case 0:return E=v.type,L=v.pendingProps,L=v.elementType===E?L:yn(E,L),ff(g,v,E,L,C);case 1:return E=v.type,L=v.pendingProps,L=v.elementType===E?L:yn(E,L),lb(g,v,E,L,C);case 3:e:{if(cb(v),g===null)throw Error(s(387));E=v.pendingProps,q=v.memoizedState,L=q.element,Cv(g,v),Iu(v,E,null,C);var de=v.memoizedState;if(E=de.element,_e&&q.isDehydrated)if(q={element:E,isDehydrated:!1,cache:de.cache,pendingSuspenseBoundaries:de.pendingSuspenseBoundaries,transitions:de.transitions},v.updateQueue.baseState=q,v.memoizedState=q,v.flags&256){L=no(Error(s(423)),v),v=ub(g,v,E,C,L);break e}else if(E!==L){L=no(Error(s(424)),v),v=ub(g,v,E,C,L);break e}else for(_e&&(nn=Ps(v.stateNode.containerInfo),Zr=v,Ut=!0,bn=null,Ms=!1),C=wv(v,null,E,C),v.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(Ki(),E===L){v=sa(g,v,C);break e}Er(g,v,E,C)}v=v.child}return v;case 5:return Pv(v),g===null&&Uh(v),E=v.type,L=v.pendingProps,q=g!==null?g.memoizedProps:null,de=L.children,te(E,L)?de=null:q!==null&&te(E,q)&&(v.flags|=32),sb(g,v),Er(g,v,de,C),v.child;case 6:return g===null&&Uh(v),null;case 13:return db(g,v,C);case 4:return Yh(v,v.stateNode.containerInfo),E=v.pendingProps,g===null?v.child=Ji(v,null,E,C):Er(g,v,E,C),v.child;case 11:return E=v.type,L=v.pendingProps,L=v.elementType===E?L:yn(E,L),nb(g,v,E,L,C);case 7:return Er(g,v,v.pendingProps,C),v.child;case 8:return Er(g,v,v.pendingProps.children,C),v.child;case 12:return Er(g,v,v.pendingProps.children,C),v.child;case 10:e:{if(E=v.type._context,L=v.pendingProps,q=v.memoizedProps,de=L.value,Sv(v,E,de),q!==null)if(vn(q.value,de)){if(q.children===L.children&&!Cr.current){v=sa(g,v,C);break e}}else for(q=v.child,q!==null&&(q.return=v);q!==null;){var je=q.dependencies;if(je!==null){de=q.child;for(var ze=je.firstContext;ze!==null;){if(ze.context===E){if(q.tag===1){ze=oa(-1,C&-C),ze.tag=2;var Ve=q.updateQueue;if(Ve!==null){Ve=Ve.shared;var Ke=Ve.pending;Ke===null?ze.next=ze:(ze.next=Ke.next,Ke.next=ze),Ve.pending=ze}}q.lanes|=C,ze=q.alternate,ze!==null&&(ze.lanes|=C),Zh(q.return,C,v),je.lanes|=C;break}ze=ze.next}}else if(q.tag===10)de=q.type===v.type?null:q.child;else if(q.tag===18){if(de=q.return,de===null)throw Error(s(341));de.lanes|=C,je=de.alternate,je!==null&&(je.lanes|=C),Zh(de,C,v),de=q.sibling}else de=q.child;if(de!==null)de.return=q;else for(de=q;de!==null;){if(de===v){de=null;break}if(q=de.sibling,q!==null){q.return=de.return,de=q;break}de=de.return}q=de}Er(g,v,L.children,C),v=v.child}return v;case 9:return L=v.type,E=v.pendingProps.children,eo(v,C),L=an(L),E=E(L),v.flags|=1,Er(g,v,E,C),v.child;case 14:return E=v.type,L=yn(E,v.pendingProps),L=yn(E.type,L),ab(g,v,E,L,C);case 15:return ib(g,v,v.type,v.pendingProps,C);case 17:return E=v.type,L=v.pendingProps,L=v.elementType===E?L:yn(E,L),Lu(g,v),v.tag=1,Ae(E)?(g=!0,Fn(v)):g=!1,eo(v,C),Yv(v,E,L),uf(v,E,L,C),pf(null,v,E,!0,g,C);case 19:return fb(g,v,C);case 22:return ob(g,v,C)}throw Error(s(156,v.tag))};function Mb(g,v){return Oh(g,v)}function c6(g,v,C,E){this.tag=g,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(g,v,C,E){return new c6(g,v,C,E)}function Lf(g){return g=g.prototype,!(!g||!g.isReactComponent)}function u6(g){if(typeof g=="function")return Lf(g)?1:0;if(g!=null){if(g=g.$$typeof,g===b)return 11;if(g===w)return 14}return 2}function Ba(g,v){var C=g.alternate;return C===null?(C=cn(g.tag,v,g.key,g.mode),C.elementType=g.elementType,C.type=g.type,C.stateNode=g.stateNode,C.alternate=g,g.alternate=C):(C.pendingProps=v,C.type=g.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=g.flags&14680064,C.childLanes=g.childLanes,C.lanes=g.lanes,C.child=g.child,C.memoizedProps=g.memoizedProps,C.memoizedState=g.memoizedState,C.updateQueue=g.updateQueue,v=g.dependencies,C.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},C.sibling=g.sibling,C.index=g.index,C.ref=g.ref,C}function rd(g,v,C,E,L,q){var de=2;if(E=g,typeof g=="function")Lf(g)&&(de=1);else if(typeof g=="string")de=5;else e:switch(g){case h:return wi(C.children,L,q,v);case p:de=8,L|=8;break;case l:return g=cn(12,C,v,L|2),g.elementType=l,g.lanes=q,g;case S:return g=cn(13,C,v,L),g.elementType=S,g.lanes=q,g;case x:return g=cn(19,C,v,L),g.elementType=x,g.lanes=q,g;case _:return nd(C,L,q,v);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case f:de=10;break e;case m:de=9;break e;case b:de=11;break e;case w:de=14;break e;case y:de=16,E=null;break e}throw Error(s(130,g==null?g:typeof g,""))}return v=cn(de,C,v,L),v.elementType=g,v.type=E,v.lanes=q,v}function wi(g,v,C,E){return g=cn(7,g,E,v),g.lanes=C,g}function nd(g,v,C,E){return g=cn(22,g,E,v),g.elementType=_,g.lanes=C,g.stateNode={isHidden:!1},g}function Af(g,v,C){return g=cn(6,g,null,v),g.lanes=C,g}function Rf(g,v,C){return v=cn(4,g.children!==null?g.children:[],g.key,v),v.lanes=C,v.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},v}function d6(g,v,C,E,L){this.tag=v,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=E,this.onRecoverableError=L,_e&&(this.mutableSourceEagerHydrationData=null)}function Lb(g,v,C,E,L,q,de,je,ze){return g=new d6(g,v,C,je,ze),v===1?(v=1,q===!0&&(v|=8)):v=0,q=cn(3,null,null,v),g.current=q,q.stateNode=g,q.memoizedState={element:E,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(q),g}function Ab(g){if(!g)return Dn;g=g._reactInternals;e:{if(O(g)!==g||g.tag!==1)throw Error(s(170));var v=g;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Ae(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(s(171))}if(g.tag===1){var C=g.type;if(Ae(C))return On(g,C,v)}return v}function Rb(g){var v=g._reactInternals;if(v===void 0)throw typeof g.render=="function"?Error(s(188)):(g=Object.keys(g).join(","),Error(s(268,g)));return g=D(v),g===null?null:g.stateNode}function Bb(g,v){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var C=g.retryLane;g.retryLane=C!==0&&C<v?C:v}}function ad(g,v){Bb(g,v),(g=g.alternate)&&Bb(g,v)}function h6(g){return g=D(g),g===null?null:g.stateNode}function f6(){return null}return r.attemptContinuousHydration=function(g){if(g.tag===13){var v=An(g,134217728);if(v!==null){var C=Ir();ln(v,g,134217728,C)}ad(g,134217728)}},r.attemptDiscreteHydration=function(g){if(g.tag===13){var v=An(g,1);if(v!==null){var C=Ir();ln(v,g,1,C)}ad(g,1)}},r.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var v=Aa(g),C=An(g,v);if(C!==null){var E=Ir();ln(C,g,v,E)}ad(g,v)}},r.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var v=g.stateNode;if(v.current.memoizedState.isDehydrated){var C=ta(v.pendingLanes);C!==0&&(Dh(v,C|1),Ar(v,fr()),(vt&6)===0&&(oo(),Ln()))}break;case 13:Ib(function(){var E=An(g,1);if(E!==null){var L=Ir();ln(E,g,1,L)}}),ad(g,1)}},r.batchedUpdates=function(g,v){var C=vt;vt|=1;try{return g(v)}finally{vt=C,vt===0&&(oo(),xu&&Ln())}},r.createComponentSelector=function(g){return{$$typeof:Vu,value:g}},r.createContainer=function(g,v,C,E,L,q,de){return Lb(g,v,!1,null,C,E,L,q,de)},r.createHasPseudoClassSelector=function(g){return{$$typeof:Wu,value:g}},r.createHydrationContainer=function(g,v,C,E,L,q,de,je,ze){return g=Lb(C,E,!0,g,L,q,de,je,ze),g.context=Ab(null),C=g.current,E=Ir(),L=Aa(C),q=oa(E,L),q.callback=v??null,Fa(C,q,L),g.current.lanes=L,Fs(g,L,E),Ar(g,E),g},r.createPortal=function(g,v,C){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:g,containerInfo:v,implementation:C}},r.createRoleSelector=function(g){return{$$typeof:Hu,value:g}},r.createTestNameSelector=function(g){return{$$typeof:Gu,value:g}},r.createTextSelector=function(g){return{$$typeof:Zu,value:g}},r.deferredUpdates=function(g){var v=_t,C=nr.transition;try{return nr.transition=null,_t=16,g()}finally{_t=v,nr.transition=C}},r.discreteUpdates=function(g,v,C,E,L){var q=_t,de=nr.transition;try{return nr.transition=null,_t=1,g(v,C,E,L)}finally{_t=q,nr.transition=de,vt===0&&oo()}},r.findAllNodes=Pf,r.findBoundingRects=function(g,v){if(!$e)throw Error(s(363));v=Pf(g,v),g=[];for(var C=0;C<v.length;C++)g.push(V(v[C]));for(v=g.length-1;0<v;v--){C=g[v];for(var E=C.x,L=E+C.width,q=C.y,de=q+C.height,je=v-1;0<=je;je--)if(v!==je){var ze=g[je],Ve=ze.x,Ke=Ve+ze.width,ht=ze.y,Ze=ht+ze.height;if(E>=Ve&&q>=ht&&L<=Ke&&de<=Ze){g.splice(v,1);break}else if(E!==Ve||C.width!==ze.width||Ze<q||ht>de){if(!(q!==ht||C.height!==ze.height||Ke<E||Ve>L)){Ve>E&&(ze.width+=Ve-E,ze.x=E),Ke<L&&(ze.width=L-Ve),g.splice(v,1);break}}else{ht>q&&(ze.height+=ht-q,ze.y=q),Ze<de&&(ze.height=de-ht),g.splice(v,1);break}}}return g},r.findHostInstance=Rb,r.findHostInstanceWithNoPortals=function(g){return g=Z(g),g=g!==null?z(g):null,g===null?null:g.stateNode},r.findHostInstanceWithWarning=function(g){return Rb(g)},r.flushControlled=function(g){var v=vt;vt|=1;var C=nr.transition,E=_t;try{nr.transition=null,_t=1,g()}finally{_t=E,nr.transition=C,vt=v,vt===0&&(oo(),Ln())}},r.flushPassiveEffects=xi,r.flushSync=Ib,r.focusWithin=function(g,v){if(!$e)throw Error(s(363));for(g=Cf(g),v=jb(g,v),v=Array.from(v),g=0;g<v.length;){var C=v[g++];if(!pe(C)){if(C.tag===5&&Ie(C.stateNode))return!0;for(C=C.child;C!==null;)v.push(C),C=C.sibling}}return!1},r.getCurrentUpdatePriority=function(){return _t},r.getFindAllNodesFailureDescription=function(g,v){if(!$e)throw Error(s(363));var C=0,E=[];g=[Cf(g),0];for(var L=0;L<g.length;){var q=g[L++],de=g[L++],je=v[de];if((q.tag!==5||!pe(q))&&(_f(q,je)&&(E.push(jf(je)),de++,de>C&&(C=de)),de<v.length))for(q=q.child;q!==null;)g.push(q,de),q=q.sibling}if(C<v.length){for(g=[];C<v.length;C++)g.push(jf(v[C]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},r.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return ne(g.child.stateNode);default:return g.child.stateNode}},r.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:h6,findFiberByHostInstance:g.findFiberByHostInstance||f6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)g=!0;else{try{yu=v.inject(g),Mn=v}catch{}g=!!v.checkDCE}}return g},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(g,v,C,E){if(!$e)throw Error(s(363));g=Pf(g,v);var L=Re(g,C,E).disconnect;return{disconnect:function(){L()}}},r.registerMutableSourceForHydration=function(g,v){var C=v._getVersion;C=C(v._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[v,C]:g.mutableSourceEagerHydrationData.push(v,C)},r.runWithPriority=function(g,v){var C=_t;try{return _t=g,v()}finally{_t=C}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(g,v,C,E){var L=v.current,q=Ir(),de=Aa(L);return C=Ab(C),v.context===null?v.context=C:v.pendingContext=C,v=oa(q,de),v.payload={element:g},E=E===void 0?null:E,E!==null&&(v.callback=E),g=Fa(L,v,de),g!==null&&(ln(g,L,de,q),$u(g,L,de)),de},r}),Mp}var qS;function DV(){return qS||(qS=1,Fp.exports=zV()),Fp.exports}var OV=DV();const FV=cu(OV);var Lp={exports:{}},Ga={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function MV(){return XS||(XS=1,Ga.ConcurrentRoot=1,Ga.ContinuousEventPriority=4,Ga.DefaultEventPriority=16,Ga.DiscreteEventPriority=1,Ga.IdleEventPriority=536870912,Ga.LegacyRoot=0),Ga}var YS;function LV(){return YS||(YS=1,Lp.exports=MV()),Lp.exports}var w4=LV(),AV=gt();const KS={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let JS=!1,QS=!1;const lv=".react-konva-event",RV=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,BV=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,UV={};function Ph(e,t,r=UV){if(!JS&&"zIndex"in t&&(console.warn(BV),JS=!0),!QS&&t.draggable){var n=t.x!==void 0||t.y!==void 0,i=t.onDragEnd||t.onDragMove;n&&!i&&(console.warn(RV),QS=!0)}for(var o in r)if(!KS[o]){var s=o.slice(0,2)==="on",d=r[o]!==t[o];if(s&&d){var c=o.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e.off(c,r[o])}var u=!t.hasOwnProperty(o);u&&e.setAttr(o,void 0)}var h=t._useStrictMode,p={},l=!1;const f={};for(var o in t)if(!KS[o]){var s=o.slice(0,2)==="on",m=r[o]!==t[o];if(s&&m){var c=o.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t[o]&&(f[c]=t[o])}!s&&(t[o]!==r[o]||h&&t[o]!==e.getAttr(o))&&(l=!0,p[o]=t[o])}l&&(e.setAttrs(p),ci(e));for(var c in f)e.on(c+lv,f[c])}function ci(e){if(!AV.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var Ap=R2();const S4={},VV={};su.Node.prototype._applyProps=Ph;function WV(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),ci(e)}function HV(e,t,r){let n=su[e];n||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),n=su.Group);const i={},o={};for(var s in t){var d=s.slice(0,2)==="on";d?o[s]=t[s]:i[s]=t[s]}const c=new n(i);return Ph(c,o),c}function GV(e,t,r){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function ZV(e,t,r){return!1}function qV(e){return e}function XV(){return null}function YV(){return null}function KV(e,t,r,n){return VV}function JV(){}function QV(e){}function eW(e,t){return!1}function tW(){return S4}function rW(){return S4}const nW=setTimeout,aW=clearTimeout,iW=-1;function oW(e,t){return!1}const sW=!1,lW=!0,cW=!0;function uW(e,t){t.parent===e?t.moveToTop():e.add(t),ci(e)}function dW(e,t){t.parent===e?t.moveToTop():e.add(t),ci(e)}function k4(e,t,r){t._remove(),e.add(t),t.setZIndex(r.getZIndex()),ci(e)}function hW(e,t,r){k4(e,t,r)}function fW(e,t){t.destroy(),t.off(lv),ci(e)}function pW(e,t){t.destroy(),t.off(lv),ci(e)}function mW(e,t,r){console.error(`Text components are not yet supported in ReactKonva. You text is: "${r}"`)}function gW(e,t,r){}function vW(e,t,r,n,i){Ph(e,i,n)}function bW(e){e.hide(),ci(e)}function yW(e){}function xW(e,t){(t.visible==null||t.visible)&&e.show()}function wW(e,t){}function SW(e){}function kW(){}const CW=()=>w4.DefaultEventPriority,_W=Object.freeze(Object.defineProperty({__proto__:null,appendChild:uW,appendChildToContainer:dW,appendInitialChild:WV,cancelTimeout:aW,clearContainer:SW,commitMount:gW,commitTextUpdate:mW,commitUpdate:vW,createInstance:HV,createTextInstance:GV,detachDeletedInstance:kW,finalizeInitialChildren:ZV,getChildHostContext:rW,getCurrentEventPriority:CW,getPublicInstance:qV,getRootHostContext:tW,hideInstance:bW,hideTextInstance:yW,idlePriority:Ap.unstable_IdlePriority,insertBefore:k4,insertInContainerBefore:hW,isPrimaryRenderer:sW,noTimeout:iW,now:Ap.unstable_now,prepareForCommit:XV,preparePortalMount:YV,prepareUpdate:KV,removeChild:fW,removeChildFromContainer:pW,resetAfterCommit:JV,resetTextContent:QV,run:Ap.unstable_runWithPriority,scheduleTimeout:nW,shouldDeprioritizeSubtree:eW,shouldSetTextContent:oW,supportsMutation:cW,unhideInstance:xW,unhideTextInstance:wW,warnsIfNotActing:lW},Symbol.toStringTag,{value:"Module"}));var jW=Object.defineProperty,PW=Object.defineProperties,$W=Object.getOwnPropertyDescriptors,e2=Object.getOwnPropertySymbols,IW=Object.prototype.hasOwnProperty,TW=Object.prototype.propertyIsEnumerable,t2=(e,t,r)=>t in e?jW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r2=(e,t)=>{for(var r in t||(t={}))IW.call(t,r)&&t2(e,r,t[r]);if(e2)for(var r of e2(t))TW.call(t,r)&&t2(e,r,t[r]);return e},NW=(e,t)=>PW(e,$W(t)),n2,a2;typeof window<"u"&&((n2=window.document)!=null&&n2.createElement||((a2=window.navigator)==null?void 0:a2.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function C4(e,t,r){if(!e)return;if(r(e)===!0)return e;let n=e.child;for(;n;){const i=C4(n,t,r);if(i)return i;n=n.sibling}}function _4(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const i2=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=i2;return}return i2.apply(this,arguments)};const cv=_4(X.createContext(null));class j4 extends X.Component{render(){return X.createElement(cv.Provider,{value:this._reactInternals},this.props.children)}}function EW(){const e=X.useContext(cv);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=X.useId();return X.useMemo(()=>{for(const n of[e,e==null?void 0:e.alternate]){if(!n)continue;const i=C4(n,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(i)return i}},[e,t])}function zW(){const e=EW(),[t]=X.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&typeof r.type=="object"){const i=r.type._context===void 0&&r.type.Provider===r.type?r.type:r.type._context;i&&i!==cv&&!t.has(i)&&t.set(i,X.useContext(_4(i)))}r=r.return}return t}function DW(){const e=zW();return X.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>X.createElement(t,null,X.createElement(r.Provider,NW(r2({},n),{value:e.get(r)}))),t=>X.createElement(j4,r2({},t))),[e])}function OW(e){const t=wt.useRef({});return wt.useLayoutEffect(()=>{t.current=e}),wt.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const FW=e=>{const t=wt.useRef(null),r=wt.useRef(null),n=wt.useRef(null),i=OW(e),o=DW(),s=d=>{const{forwardedRef:c}=e;c&&(typeof c=="function"?c(d):c.current=d)};return wt.useLayoutEffect(()=>(r.current=new su.Stage({width:e.width,height:e.height,container:t.current}),s(r.current),n.current=Zc.createContainer(r.current,w4.LegacyRoot,!1,null),Zc.updateContainer(wt.createElement(o,{},e.children),n.current),()=>{su.isBrowser&&(s(null),Zc.updateContainer(null,n.current,null),r.current.destroy())}),[]),wt.useLayoutEffect(()=>{s(r.current),Ph(r.current,e,i),Zc.updateContainer(wt.createElement(o,{},e.children),n.current,null)}),wt.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Zc=FV(_W);Zc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:wt.version,rendererPackageName:"react-konva"});wt.forwardRef((e,t)=>wt.createElement(j4,{},wt.createElement(FW,{...e,forwardedRef:t})));const MW={add:"text-green-400",delete:"text-red-400",move:"text-yellow-400",resize:"text-purple-400",update:"text-blue-400",canvas:"text-cyan-400",initial:"text-gray-400"};function LW(e,t){if(!e)return"initial";const r=e.elements||[],n=t.elements||[],i=JSON.stringify(e.windows||[]),o=JSON.stringify(t.windows||[]);if(i!==o)return"canvas";if(n.length>r.length)return"add";if(n.length<r.length)return"delete";const s=new Map(r.map(d=>[d.id,d]));for(const d of n){const c=s.get(d.id);if(c){if(c.x!==d.x||c.y!==d.y)return"move";if(c.width!==d.width||c.height!==d.height)return"resize"}}return"update"}function AW(e,t){if(!e)return(t.elements||[]).slice(0,3).map(c=>c.name);const r=e.elements||[],n=t.elements||[],i=new Map(r.map(d=>[d.id,d])),o=new Map(n.map(d=>[d.id,d])),s=[];for(const d of n)i.has(d.id)||s.push(d.name);for(const d of r)o.has(d.id)||s.push(d.name);if(s.length===0)for(const d of n){const c=i.get(d.id);c&&JSON.stringify(c)!==JSON.stringify(d)&&s.push(d.name)}return s}function RW(e){if(!e)return"just now";const r=Date.now()-e,n=Math.floor(r/1e3);if(n<5)return"just now";if(n<60)return`${n}s ago`;const i=Math.floor(n/60);return i<60?`${i}m ago`:`${Math.floor(i/60)}h ago`}function Rp({index:e,isCurrent:t,isFuture:r,beforeState:n,afterState:i,timestamp:o,onClick:s}){var S;const d=LW(n,i),c=AW(n,i),u=RW(o),h=d.toUpperCase(),p=MW[d];let l="bg-gray-800 hover:bg-gray-750",f="",m="";t?(l="bg-blue-900 hover:bg-blue-800",f="border-l-4 border-l-green-400",m=""):r?(l="bg-blue-950 hover:bg-blue-900",f="border-l-4 border-l-blue-500",m="opacity-70"):(l="bg-gray-850 hover:bg-gray-800",m="");let b="";if(c.length===0)b=`${((S=i.elements)==null?void 0:S.length)||0} elements`;else if(c.length<=3)b=c.join(", ");else{const x=c.slice(0,2).join(", "),w=c.length-2;b=`${x} + ${w} more`}return a.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 border-b border-gray-700 cursor-pointer transition-colors ${l} ${f} ${m}`,onClick:s,children:[a.jsx("span",{className:"text-xs text-gray-500 font-mono w-8 text-right shrink-0",children:e}),a.jsx("span",{className:`text-xs font-semibold ${p} w-16 shrink-0 text-center`,children:h}),a.jsx("span",{className:"text-xs text-gray-300 flex-1 truncate",children:b}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap shrink-0",children:u})]})}function BW(){const e=Zd(fe.temporal,h=>h.pastStates),t=Zd(fe.temporal,h=>h.futureStates),r=e.length,n=X.useRef(Date.now()),i=X.useRef(null),o=X.useRef(null);X.useEffect(()=>{n.current=Date.now()},[]),X.useEffect(()=>{o.current&&i.current&&o.current.scrollIntoView({behavior:"smooth",block:"center"})},[r]);const s=()=>{const h=fe.getState(),p={totalStates:e.length+t.length+1,pastStates:e.length,futureStates:t.length,currentElements:h.elements.length,elements:h.elements.map(l=>({id:l.id,type:l.type,name:l.name,x:l.x,y:l.y,width:l.width,height:l.height}))};navigator.clipboard.writeText(JSON.stringify(p,null,2))},d=h=>{const{pastStates:p,undo:l,redo:f}=fe.temporal.getState(),m=p.length;h<m?l(m-h):h>m&&f(h-m)};if(e.length===0&&t.length===0)return a.jsxs("div",{className:"h-full flex flex-col bg-gray-800",children:[a.jsx("div",{className:"p-3 border-b border-gray-700",children:a.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"History"})}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No history yet"})})]});const c=fe.getState(),u=[...e,c,...t];return a.jsxs("div",{className:"h-full flex flex-col bg-gray-800",children:[a.jsxs("div",{className:"p-3 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"History"}),a.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:["[",e.length+t.length+1," states]"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[e.length," past | ",t.length," future"]}),a.jsx("button",{onClick:s,className:"px-2 py-0.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded",children:"Copy"})]})]}),a.jsxs("div",{ref:i,className:"flex-1 overflow-y-auto scroll-smooth",children:[e.map((h,p)=>a.jsx(Rp,{index:p,isCurrent:!1,isFuture:!1,beforeState:p>0?u[p-1]:null,afterState:h,timestamp:n.current-(e.length-p)*1e3,onClick:()=>d(p)},`past-${p}`)),a.jsx("div",{ref:o,children:a.jsx(Rp,{index:r,isCurrent:!0,isFuture:!1,beforeState:e.length>0?e[e.length-1]:null,afterState:c,timestamp:n.current,onClick:()=>d(r)},"current")}),t.map((h,p)=>a.jsx(Rp,{index:r+1+p,isCurrent:!1,isFuture:!0,beforeState:u[r+p],afterState:h,timestamp:n.current+(p+1)*1e3,onClick:()=>d(r+1+p)},`future-${p}`))]})]})}function UW({currentContainerId:e,containerStack:t}){const r=fe(d=>d.elements),n=fe(d=>d.startEditingContainer),i=fe(d=>d.closeContainerEditor),o=X.useMemo(()=>{var d;return[...t.map(c=>{const u=r.find(h=>h.id===c);return{id:c,name:(u==null?void 0:u.name)||"Container"}}),{id:e,name:((d=r.find(c=>c.id===e))==null?void 0:d.name)||"Container"}]},[t,e,r]),s=(d,c)=>{c!==o.length-1&&(i(),setTimeout(()=>{for(let u=0;u<=c;u++)n(o[u].id)},0))};return o.length<=1?null:a.jsx("nav",{className:"flex items-center text-sm","aria-label":"Breadcrumb",children:o.map((d,c)=>a.jsxs("div",{className:"flex items-center",children:[c>0&&a.jsx("svg",{className:"w-4 h-4 text-gray-500 mx-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a.jsx("button",{onClick:()=>s(d.id,c),className:`px-2 py-0.5 rounded transition-colors ${c===o.length-1?"text-white bg-gray-700 cursor-default":"text-gray-400 hover:text-white hover:bg-gray-700"}`,disabled:c===o.length-1,children:d.name})]},d.id))})}function VW({containerId:e}){return a.jsxs("div",{className:"overflow-y-auto flex flex-col border-r",style:{backgroundColor:"#2d1515",borderColor:"#4a2020"},children:[a.jsxs("div",{className:"p-4 border-b",style:{borderColor:"#4a2020"},children:[a.jsx("h1",{className:"text-xl font-bold text-red-100 tracking-tight",children:"Elements"}),a.jsx("span",{className:"text-xs text-red-300/50",children:"Click or drag to add"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto container-editor-palette",children:a.jsx(IC,{})}),a.jsx("style",{children:`
        .container-editor-palette [class*="bg-gray-700"] {
          background-color: #3d1f1f !important;
        }
        .container-editor-palette [class*="bg-gray-800"] {
          background-color: #2d1515 !important;
        }
        .container-editor-palette [class*="hover:bg-gray-600"]:hover {
          background-color: #4d2525 !important;
        }
        .container-editor-palette [class*="hover:bg-gray-700"]:hover {
          background-color: #3d1f1f !important;
        }
        .container-editor-palette [class*="border-gray-600"] {
          border-color: #4a2020 !important;
        }
        .container-editor-palette [class*="border-gray-700"] {
          border-color: #3a1818 !important;
        }
      `})]})}function WW({containerId:e}){const t=fe(s=>s.elements),r=fe(s=>s.selectedIds),n=X.useMemo(()=>t.find(s=>s.id===e),[t,e]),i=X.useMemo(()=>{var s;return!n||!us(n)?0:((s=n.children)==null?void 0:s.length)||0},[n]),o=r.length>0;return a.jsxs("div",{className:"overflow-y-auto flex flex-col border-l",style:{backgroundColor:"#2d1515",borderColor:"#4a2020"},children:[a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto container-editor-properties",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-100 mb-4",children:"Properties"}),o?a.jsx(sj,{}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-3 rounded text-sm",style:{backgroundColor:"#3d1f1f"},children:a.jsx("p",{className:"text-red-200/70",children:"Select an element to edit its properties"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-red-200/80",children:"Container Info"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-300/50",children:"Name:"}),a.jsx("span",{className:"text-red-100",children:(n==null?void 0:n.name)||"Unknown"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-300/50",children:"Type:"}),a.jsx("span",{className:"text-red-100",children:(n==null?void 0:n.type)||"Unknown"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-300/50",children:"Children:"}),a.jsx("span",{className:"text-red-100",children:i})]})]})]}),a.jsxs("div",{className:"p-3 rounded text-xs space-y-1",style:{backgroundColor:"#251010"},children:[a.jsx("p",{className:"text-red-300/60 font-medium",children:"Tips:"}),a.jsxs("ul",{className:"text-red-300/50 space-y-0.5 list-disc list-inside",children:[a.jsx("li",{children:"Drag elements from the palette"}),a.jsx("li",{children:"Click to select, drag to move"}),a.jsx("li",{children:"Delete key removes selected"}),a.jsx("li",{children:"Double-click nested containers to edit"})]})]})]})]}),a.jsx("style",{children:`
        .container-editor-properties [class*="bg-gray-700"] {
          background-color: #3d1f1f !important;
        }
        .container-editor-properties [class*="bg-gray-800"] {
          background-color: #2d1515 !important;
        }
        .container-editor-properties [class*="hover:bg-gray-600"]:hover {
          background-color: #4d2525 !important;
        }
        .container-editor-properties [class*="hover:bg-gray-700"]:hover {
          background-color: #3d1f1f !important;
        }
        .container-editor-properties [class*="border-gray-600"] {
          border-color: #4a2020 !important;
        }
        .container-editor-properties [class*="border-gray-700"] {
          border-color: #3a1818 !important;
        }
        .container-editor-properties input,
        .container-editor-properties select {
          background-color: #3d1f1f !important;
          border-color: #4a2020 !important;
        }
      `})]})}const Ad=20;function HW(e){const t=X.useRef([]),r=fe(p=>p.selectedIds),n=fe(p=>p.getElement),i=fe(p=>p.addChildToContainer),o=fe(p=>p.getContainerChildren),s=fe(p=>p.clearSelection),d=fe(p=>p.selectMultiple),c=X.useCallback(()=>{const p=o(e),l=new Set(p.map(m=>m.id)),f=r.filter(m=>l.has(m)).map(m=>n(m)).filter(m=>m!==void 0);f.length!==0&&(t.current=f)},[r,n,e,o]),u=X.useCallback(()=>{if(t.current.length===0)return;const p=[];for(const l of t.current){const f={...structuredClone(l),id:crypto.randomUUID(),x:l.x+Ad,y:l.y+Ad,name:`${l.name} copy`};i(e,f),p.push(f.id)}s(),d(p)},[e,i,s,d]),h=X.useCallback(()=>{const p=o(e),l=new Set(p.map(b=>b.id)),f=r.filter(b=>l.has(b)).map(b=>n(b)).filter(b=>b!==void 0);if(f.length===0)return;const m=[];for(const b of f){const S={...structuredClone(b),id:crypto.randomUUID(),x:b.x+Ad,y:b.y+Ad,name:`${b.name} copy`};i(e,S),m.push(S.id)}s(),d(m)},[r,n,e,o,i,s,d]);return{copyToClipboard:c,pasteFromClipboard:u,duplicateSelected:h}}function GW(){const e=fe(s=>s.snapToGrid),t=fe(s=>s.gridSize),r=fe(s=>s.showGrid),n=fe(s=>s.gridColor);return{snapToGrid:e,gridSize:t,showGrid:r,gridColor:n,snapPosition:(s,d)=>e?{x:Math.round(s/t)*t,y:Math.round(d/t)*t}:{x:s,y:d},snapSize:(s,d)=>e?{width:Math.max(t,Math.round(s/t)*t),height:Math.max(t,Math.round(d/t)*t)}:{width:s,height:d}}}function ZW({containerId:e,contentWidth:t,contentHeight:r,onClose:n}){const i=fe(W=>W.elements),o=fe(W=>W.updateElement),s=fe(W=>W.removeChildFromContainer),d=fe(W=>W.startEditingContainer),c=fe(W=>W.selectElement),u=fe(W=>W.toggleSelection),h=fe(W=>W.addToSelection),p=fe(W=>W.clearSelection),l=fe(W=>W.selectedIds),f=X.useRef(null),[m,b]=X.useState({width:0,height:0}),{copyToClipboard:S,pasteFromClipboard:x,duplicateSelected:w}=HW(e),{showGrid:y,gridSize:_,gridColor:P,snapPosition:T}=GW(),[M,N]=X.useState(null),[O,B]=X.useState({isDragging:!1,startX:0,startY:0,currentX:0,currentY:0,elementStartPositions:new Map}),Z=X.useMemo(()=>i.find(W=>W.id===e),[i,e]),D=X.useMemo(()=>!Z||!us(Z)?[]:(Z.children||[]).map(Y=>i.find(te=>te.id===Y)).filter(Y=>Y!==void 0),[Z,i]);X.useEffect(()=>{if(!f.current)return;const W=new ResizeObserver(Y=>{for(const te of Y)b({width:te.contentRect.width,height:te.contentRect.height})});return W.observe(f.current),()=>W.disconnect()},[]);const U=Math.max(40,(m.width-t)/2),z=Math.max(40,(m.height-r-60)/2);X.useEffect(()=>{if(!O.isDragging)return;const W=te=>{B(ie=>({...ie,currentX:te.clientX,currentY:te.clientY}))},Y=()=>{if(O.elementStartPositions.size>0){const te=O.currentX-O.startX,ie=O.currentY-O.startY;O.elementStartPositions.forEach((J,ee)=>{let Q=Math.max(0,Math.min(t-20,J.x+te)),he=Math.max(0,Math.min(r-20,J.y+ie));const ge=T(Q,he);Q=ge.x,he=ge.y,o(ee,{x:Q,y:he})})}B({isDragging:!1,startX:0,startY:0,currentX:0,currentY:0,elementStartPositions:new Map})};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",Y)}},[O.isDragging,O.startX,O.startY,O.currentX,O.currentY,O.elementStartPositions,t,r,o,T]);const G=X.useCallback((W,Y)=>{const te=l.includes(W),ie=Y.altKey||Y.ctrlKey||Y.metaKey;Y.shiftKey?h(W):ie&&te?u(W):ie&&!te?h(W):te&&l.length>1||c(W)},[l,c,u,h]),ne=X.useCallback((W,Y)=>{if(Y.stopPropagation(),Y.preventDefault(),!i.find(he=>he.id===W))return;G(W,Y);const ie=Y.altKey||Y.ctrlKey||Y.metaKey,J=l.includes(W);if(ie&&J)return;const ee=l.includes(W)?l:[W],Q=new Map;for(const he of ee){const ge=i.find(ye=>ye.id===he);ge&&ge.parentId===e&&Q.set(he,{x:ge.x,y:ge.y})}B({isDragging:!0,startX:Y.clientX,startY:Y.clientY,currentX:Y.clientX,currentY:Y.clientY,elementStartPositions:Q})},[i,l,G,e]),A=X.useCallback(W=>{W.target===W.currentTarget&&p()},[p]),k=X.useCallback(()=>{l.length>0&&(l.forEach(W=>{const Y=i.find(te=>te.id===W);(Y==null?void 0:Y.parentId)===e&&s(e,W)}),p())},[e,l,i,s,p]),j=X.useCallback(W=>{const Y=i.find(te=>te.id===W);Y&&us(Y)&&d(W)},[i,d]),$=X.useCallback(W=>{if(W.target instanceof HTMLInputElement||W.target instanceof HTMLTextAreaElement)return;const Y=W.metaKey||W.ctrlKey;Y&&W.key==="c"?(W.preventDefault(),S()):Y&&W.key==="v"?(W.preventDefault(),x()):Y&&W.key==="d"?(W.preventDefault(),w()):W.key==="Delete"||W.key==="Backspace"?k():W.key==="Escape"&&n()},[S,x,w,k,n]),F=X.useCallback(W=>{W.preventDefault(),N({x:W.clientX,y:W.clientY})},[]);X.useEffect(()=>{var W;(W=f.current)==null||W.focus()},[]),X.useEffect(()=>{if(!M)return;const W=()=>N(null);return document.addEventListener("click",W),()=>document.removeEventListener("click",W)},[M]);const R=W=>!O.isDragging||!O.elementStartPositions.has(W)?{x:0,y:0}:{x:O.currentX-O.startX,y:O.currentY-O.startY};return a.jsxs("div",{ref:f,className:"w-full h-full relative overflow-hidden",onKeyDown:$,onContextMenu:F,tabIndex:0,style:{outline:"none"},children:[a.jsx("div",{className:"absolute inset-0",onClick:A,style:{backgroundImage:`repeating-linear-gradient(
            45deg,
            transparent,
            transparent 10px,
            rgba(80, 30, 30, 0.3) 10px,
            rgba(80, 30, 30, 0.3) 20px
          )`,backgroundColor:"#120808"}}),a.jsxs("div",{className:"absolute",style:{left:U,top:z,width:t,height:r,backgroundColor:"#1f1f1f",border:"2px solid #4a2020",borderRadius:"4px",boxShadow:"0 0 40px rgba(0,0,0,0.5)",overflow:"hidden"},onClick:A,children:[y&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`
                linear-gradient(to right, ${P}22 1px, transparent 1px),
                linear-gradient(to bottom, ${P}22 1px, transparent 1px)
              `,backgroundSize:`${_}px ${_}px`}}),D.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Click elements in the palette to add them here"})}),D.map(W=>{const Y=l.includes(W.id),te=O.isDragging&&O.elementStartPositions.has(W.id),ie=us(W),J=gC(W.type),ee=R(W.id);if(!J)return null;const Q=W.x+ee.x,he=W.y+ee.y;return a.jsxs("div",{className:`absolute select-none ${Y?"ring-2 ring-red-500":""}`,style:{left:Q,top:he,width:W.width,height:W.height,cursor:te?"grabbing":"grab",zIndex:te?100:Y?10:1,opacity:te?.8:1},onMouseDown:ge=>ne(W.id,ge),onDoubleClick:()=>j(W.id),children:[a.jsx("div",{style:{width:"100%",height:"100%",pointerEvents:"none"},children:a.jsx(J,{config:W})}),ie&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center pointer-events-none",title:"Double-click to edit contents",children:a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]},W.id)})]}),a.jsx("button",{onClick:n,className:"absolute px-6 py-2 text-white font-semibold rounded-lg shadow-lg transition-all hover:scale-105",style:{left:U+t-80,top:z+r+20,backgroundColor:"#b91c1c",boxShadow:"0 4px 14px rgba(185, 28, 28, 0.4)"},onMouseEnter:W=>{W.currentTarget.style.backgroundColor="#dc2626"},onMouseLeave:W=>{W.currentTarget.style.backgroundColor="#b91c1c"},children:"OK"}),l.length>0&&a.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg flex items-center gap-4",style:{backgroundColor:"rgba(45, 21, 21, 0.95)",border:"1px solid #4a2020"},children:[a.jsxs("span",{className:"text-red-200 text-sm",children:[l.length," element",l.length>1?"s":""," selected"]}),a.jsxs("button",{onClick:k,className:"text-red-400 hover:text-red-300 transition-colors flex items-center gap-1 text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),O.isDragging&&a.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/80 text-white text-xs p-2 rounded",children:["Dragging: ",O.elementStartPositions.size," element",O.elementStartPositions.size>1?"s":""," | Offset: ",Math.round(O.currentX-O.startX),", ",Math.round(O.currentY-O.startY)]}),M&&a.jsxs("div",{className:"fixed bg-gray-800 border border-gray-700 rounded shadow-lg py-1 z-50",style:{left:M.x,top:M.y},children:[a.jsxs("button",{className:"w-full px-4 py-1 text-left text-sm hover:bg-gray-700 text-white",onClick:()=>{S(),N(null)},children:["Copy ",a.jsx("span",{className:"text-gray-500 ml-4",children:"Ctrl+C"})]}),a.jsxs("button",{className:"w-full px-4 py-1 text-left text-sm hover:bg-gray-700 text-white",onClick:()=>{x(),N(null)},children:["Paste ",a.jsx("span",{className:"text-gray-500 ml-4",children:"Ctrl+V"})]}),a.jsxs("button",{className:"w-full px-4 py-1 text-left text-sm hover:bg-gray-700 text-white",onClick:()=>{w(),N(null)},children:["Duplicate ",a.jsx("span",{className:"text-gray-500 ml-4",children:"Ctrl+D"})]})]})]})}function qW(){const e=fe(d=>d.editingContainerId),t=fe(d=>d.containerEditStack),r=fe(d=>d.closeContainerEditor),n=fe(d=>d.elements),i=X.useMemo(()=>e?n.find(d=>d.id===e):null,[n,e]);if(!e||!i||!us(i))return null;const o=i.width,s=i.height;return a.jsxs("div",{className:"fixed inset-0 z-50 text-gray-100",style:{display:"grid",gridTemplateColumns:"250px 1fr 300px",gridTemplateRows:"auto 1fr",backgroundColor:"#1a0a0a"},children:[a.jsxs("div",{className:"col-span-3 px-4 py-2 border-b flex items-center justify-between",style:{backgroundColor:"#2d1515",borderColor:"#4a2020"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-100",children:"Container Editor"}),a.jsx(UW,{currentContainerId:e,containerStack:t}),a.jsxs("span",{className:"text-red-300/60 text-sm",children:[i.name," (",o," x ",s,"px)"]})]}),a.jsx("div",{className:"flex items-center gap-2 text-sm text-red-300/60",children:a.jsx("span",{children:"Press Escape or click OK to exit"})})]}),a.jsx(VW,{containerId:e}),a.jsx("div",{className:"relative overflow-hidden",style:{backgroundColor:"#120808"},children:a.jsx(ZW,{containerId:e,contentWidth:o,contentHeight:s,onClose:r})}),a.jsx(WW,{containerId:e})]})}function XW(){const[e,t]=X.useState(!1),r=()=>{t(n=>!n)};return Wt("ctrl+shift+h, meta+shift+h",n=>{n.preventDefault(),r()},{preventDefault:!0,enableOnFormTags:!0,enableOnContentEditable:!0}),{isPanelVisible:e,setIsPanelVisible:t,togglePanel:r}}function YW(e){X.useEffect(()=>{},[e])}const KW={title:"Faceplate - VST3 UI Designer",description:"Design and export VST3 plugin user interfaces with visual drag-and-drop tools and automatic code generation for JUCE WebView2.",examples:[{label:"Getting Started",explanation:"Add elements from the left palette by dragging them onto the canvas. Position and resize using drag handles or arrow keys. Customize properties in the right panel. Export to C++ code for JUCE integration."},{label:"Keyboard Shortcuts",explanation:"Ctrl/Cmd+C/V: Copy/Paste | Ctrl/Cmd+Z/Y: Undo/Redo | Arrow keys: Nudge 1px | Shift+Arrow: Nudge 10px | Ctrl+G: Toggle grid | Delete: Remove element | F1: Context help | Ctrl+Shift+P: Preview"},{label:"Workflow",explanation:`1. Design UI on canvas with elements from palette
2. Organize elements using Layers panel
3. Customize appearance in Properties panel
4. Preview in browser to test
5. Export C++ code for JUCE WebView2`},{label:"Multi-Window Projects",explanation:"Create multiple windows for complex plugins (main UI, settings, about). Use Window tabs to switch between them. Buttons can navigate between windows at runtime."}],relatedTopics:["Select an element and press F1 for element-specific help","Each property section has a (?) button for detailed help","Use Layers panel to organize and lock/hide elements","Export to folder for complete JUCE integration bundle"]};function JW(){const e=fe(r=>r.selectedIds),t=fe(r=>r.elements);Wt("f1",r=>{if(r.preventDefault(),e.length===1){const n=t.find(i=>i.id===e[0]);if(n){const i=oD(n.type);um(i);return}}um(KW)},{preventDefault:!0,enableOnFormTags:!0},[e,t])}function QW(e=!0){const t=fe(c=>c.elements),r=fe(c=>c.windows),n=fe(c=>c.getActiveWindow()),i=fe(c=>c.getLayersInOrder),o=X.useCallback(c=>{const u=[],h=new Set,p=l=>{if(h.has(l))return;h.add(l);const f=t.find(b=>b.id===l);if(!f)return;u.push(f);const m=t.filter(b=>b.parentId===l);for(const b of m)p(b.id)};for(const l of c)p(l);return u},[t]),s=X.useCallback(c=>{const u=i(),h=new Map(u.map((p,l)=>[p.id,l]));return[...c].sort((p,l)=>{const f=p.layerId||"default",m=l.layerId||"default",b=h.get(f)??0,S=h.get(m)??0;return b!==S?b-S:(p.zIndex||0)-(l.zIndex||0)})},[i]),d=X.useCallback(async()=>{if(!n){$t.error("No active window to preview");return}const c=r.length>1;$t.loading("Opening preview...",{id:"preview"});const u=c?await xU({windows:r.map(h=>({id:h.id,name:h.name,elements:s(o(h.elementIds)),width:h.width,height:h.height,backgroundColor:h.backgroundColor})),activeWindowId:n.id,enableResponsiveScaling:!0}):await bU({elements:s(o(n.elementIds)),canvasWidth:n.width,canvasHeight:n.height,backgroundColor:n.backgroundColor,enableResponsiveScaling:!0});if(u.success)$t.success("Preview opened",{id:"preview"});else{const h=u.error||"Preview failed",p=h.includes("Popup blocked")?" Enable popups for this site.":"";$t.error(h+p,{id:"preview"})}},[n,r,s,o]);return Wt("ctrl+shift+p, meta+shift+p",c=>{c.preventDefault(),d()},{preventDefault:!0,enableOnFormTags:!0,enableOnContentEditable:!0,enabled:e},[d,e]),{openPreview:d}}function eH({elementType:e,variant:t}){return a.jsx("div",{className:"bg-gray-700 border border-blue-500 rounded px-3 py-2 shadow-lg",style:{opacity:.9,pointerEvents:"none"},children:a.jsx("span",{className:"text-sm text-white capitalize",children:e})})}function tH(){const{isPanelVisible:e}=XW();fe(P=>P.savedStateSnapshot),fe(P=>P.elements),fe(P=>P.windows),fe(P=>P.snapToGrid),fe(P=>P.gridSize),fe(P=>P.assets),fe(P=>P.knobStyles);const t=!1;YW(!1),X.useEffect(()=>{{document.title="Faceplate - Try It";return}},[t]),JW(),QW(!1),X.useEffect(()=>{(async()=>{try{const T=await o9("effect-starter"),M=fe.getState(),O={id:crypto.randomUUID(),name:"Main Window",type:"release",width:T.metadata.canvasWidth,height:T.metadata.canvasHeight,backgroundColor:T.metadata.backgroundColor,backgroundType:"color",elementIds:T.elements.map(B=>B.id),createdAt:Date.now()};M.setWindows([O]),M.selectMultiple([]),M.setElements(T.elements)}catch{}})()},[]);const r=N6(E6(D6,{activationConstraint:{distance:8}})),n=fe(P=>P.scale),i=fe(P=>P.offsetX),o=fe(P=>P.offsetY),s=fe(P=>P.addElement),d=fe(P=>P.updateElement),c=fe(P=>P.snapToGrid),u=fe(P=>P.gridSize),h=fe(P=>P.setLiveDragValues),p=fe(P=>P.getElement),l=fe(P=>P.getAsset),f=fe(P=>P.addElementToWindow),m=fe(P=>P.selectedLayerId),[b,S]=X.useState(null),x=X.useRef(null);X.useEffect(()=>{if(!b){x.current=null;return}const P=T=>{x.current={x:T.clientX,y:T.clientY}};return window.addEventListener("mousemove",P),()=>window.removeEventListener("mousemove",P)},[b]);const w=P=>{var O,B,Z;const{active:T}=P,M=(O=T.data.current)==null?void 0:O.sourceType;if(((B=T.data.current)==null?void 0:B.type)==="library-asset"){const D=(Z=T.data.current)==null?void 0:Z.assetId,U=l(D);U&&S({elementType:"image",variant:{name:U.name}});return}if(M!=="element"){const{elementType:D,variant:U}=T.data.current||{};D&&S({elementType:D,variant:U})}},y=P=>{var O;const{active:T,delta:M}=P;if(((O=T.data.current)==null?void 0:O.sourceType)==="element"){const B=M.x/n,Z=M.y/n,D=fe.getState().selectedIds,U={};D.forEach(z=>{const G=p(z);G&&!G.locked&&(U[z]={x:G.x+B,y:G.y+Z,width:G.width,height:G.height})}),h(U)}},_=P=>{var F,R,W,Y,te,ie,J;const{active:T,over:M,delta:N}=P;if(((F=T.data.current)==null?void 0:F.sourceType)==="element"){const ee=N.x/n,Q=N.y/n;fe.getState().selectedIds.forEach(ge=>{const ye=p(ge);if(!ye||ye.locked)return;const _e=ye.x+ee,H=ye.y+Q,Se=c?ss(_e,u):_e,Ce=c?ss(H,u):H;d(ge,{x:Se,y:Ce})}),h(null);return}if(((R=T.data.current)==null?void 0:R.type)==="library-asset"){if(!M||M.id!=="canvas-droppable"){S(null);return}const ee=(W=T.data.current)==null?void 0:W.assetId;if(!ee)return;const Q=l(ee);if(!Q)return;const he=document.querySelector(".canvas-viewport");if(!he)return;const ge=he.getBoundingClientRect();let ye,_e;const H=x.current;if(H)ye=H.x,_e=H.y;else{const xe=P.activatorEvent;ye=xe.clientX+(((Y=P.delta)==null?void 0:Y.x)||0),_e=xe.clientY+(((te=P.delta)==null?void 0:te.y)||0)}const Se=(ye-ge.left-i)/n,Ce=(_e-ge.top-o)/n,se=dm(Q.svgContent)||{width:100,height:100},ae=Xd({x:Se,y:Ce,assetId:ee,name:Q.name,width:se.width,height:se.height});ae.x=Se-ae.width/2,ae.y=Ce-ae.height/2,ae.layerId=m||"default",s(ae),f(ae.id),S(null);return}if(!M||M.id!=="canvas-droppable"){S(null);return}const{elementType:Z,variant:D}=T.data.current||{};if(!Z)return;const U=document.querySelector(".canvas-viewport");if(!U)return;const z=U.getBoundingClientRect();let G,ne;const A=x.current;if(A)G=A.x,ne=A.y;else{const ee=P.activatorEvent;G=ee.clientX+(((ie=P.delta)==null?void 0:ie.x)||0),ne=ee.clientY+(((J=P.delta)==null?void 0:J.y)||0)}const k=(G-z.left-i)/n,j=(ne-z.top-o)/n;let $;switch(Z){case"knob":$=zm({x:k,y:j,...D});break;case"slider":$=Dm({x:k,y:j,...D});break;case"button":$=Om({x:k,y:j,...D});break;case"label":$=ug({x:k,y:j,...D});break;case"meter":$=dg({x:k,y:j,...D});break;case"image":$=Kc({x:k,y:j,...D});break;case"dropdown":$=Mm({x:k,y:j,...D});break;case"checkbox":$=Lm({x:k,y:j,...D});break;case"radiogroup":$=Am({x:k,y:j,...D});break;case"rangeslider":$=Fm({x:k,y:j,...D});break;case"modulationmatrix":$=bg({x:k,y:j,...D});break;case"rectangle":$=Kg({x:k,y:j,...D});break;case"line":$=Jg({x:k,y:j,...D});break;case"asciiart":$=Qg({x:k,y:j,...D});break;case"dbdisplay":$=hg({x:k,y:j,...D});break;case"frequencydisplay":$=fg({x:k,y:j,...D});break;case"gainreductionmeter":$=pg({x:k,y:j,...D});break;case"panel":$=jm({x:k,y:j,...D});break;case"frame":$=_m({x:k,y:j,...D});break;case"groupbox":$=Cm({x:k,y:j,...D});break;case"collapsible":$=km({x:k,y:j,...D});break;case"tooltip":$=Sm({x:k,y:j,...D});break;case"windowchrome":$=wm({x:k,y:j,...D});break;case"horizontalspacer":$=xm({x:k,y:j,...D});break;case"verticalspacer":$=ym({x:k,y:j,...D});break;case"textfield":$=Rm({x:k,y:j,...D});break;case"waveform":$=gg({x:k,y:j,...D});break;case"oscilloscope":$=vg({x:k,y:j,...D});break;case"presetbrowser":$=mg({x:k,y:j,...D});break;case"svggraphic":$=Xd({x:k,y:j,...D});break;case"eqcurve":$=i0({x:k,y:j,...D});break;case"compressorcurve":$=o0({x:k,y:j,...D});break;case"envelopedisplay":$=s0({x:k,y:j,...D});break;case"lfodisplay":$=l0({x:k,y:j,...D});break;case"filterresponse":$=c0({x:k,y:j,...D});break;case"steppedknob":$=Um({x:k,y:j,...D});break;case"centerdetentknob":$=Vm({x:k,y:j,...D});break;case"dotindicatorknob":$=Wm({x:k,y:j,...D});break;case"multislider":$=Bm({x:k,y:j,...D});break;case"bipolarslider":$=Hm({x:k,y:j,...D});break;case"crossfadeslider":$=Gm({x:k,y:j,...D});break;case"notchedslider":$=Zm({x:k,y:j,...D});break;case"asciislider":$=qm({x:k,y:j,...D});break;case"asciibutton":$=Xm({x:k,y:j,...D});break;case"iconbutton":$=Qm({x:k,y:j,...D});break;case"toggleswitch":$=eg({x:k,y:j,...D});break;case"powerbutton":$=tg({x:k,y:j,...D});break;case"rockerswitch":$=Ym({x:k,y:j,...D});break;case"rotaryswitch":$=Km({x:k,y:j,...D});break;case"segmentbutton":$=Jm({x:k,y:j,...D});break;case"stepper":$=rg({x:k,y:j,...D});break;case"breadcrumb":$=ng({x:k,y:j,...D});break;case"multiselectdropdown":$=sg({x:k,y:j,...D});break;case"combobox":$=lg({x:k,y:j,...D});break;case"menubutton":$=cg({x:k,y:j,...D});break;case"tabbar":$=ag({x:k,y:j,...D});break;case"tagselector":$=ig({x:k,y:j,...D});break;case"treeview":$=og({x:k,y:j,...D});break;case"numericdisplay":$=yg({x:k,y:j,...D});break;case"timedisplay":$=xg({x:k,y:j,...D});break;case"percentagedisplay":$=wg({x:k,y:j,...D});break;case"ratiodisplay":$=Sg({x:k,y:j,...D});break;case"notedisplay":$=kg({x:k,y:j,...D});break;case"bpmdisplay":$=Cg({x:k,y:j,...D});break;case"editabledisplay":$=_g({x:k,y:j,...D});break;case"multivaluedisplay":$=jg({x:k,y:j,...D});break;case"rmsmetermo":$=Pg({x:k,y:j,...D});break;case"rmsmeterstereo":$=$g({x:k,y:j,...D});break;case"vumetermono":$=Ig({x:k,y:j,...D});break;case"vumeterstereo":$=Tg({x:k,y:j,...D});break;case"ppmtype1mono":$=Ng({x:k,y:j,...D});break;case"ppmtype1stereo":$=Eg({x:k,y:j,...D});break;case"ppmtype2mono":$=zg({x:k,y:j,...D});break;case"ppmtype2stereo":$=Dg({x:k,y:j,...D});break;case"truepeakmetermono":$=Og({x:k,y:j,...D});break;case"truepeakmeterstereo":$=Fg({x:k,y:j,...D});break;case"lufsmomomo":$=Mg({x:k,y:j,...D});break;case"lufsmomostereo":$=Lg({x:k,y:j,...D});break;case"lufsshortmono":$=Ag({x:k,y:j,...D});break;case"lufsshortstereo":$=Rg({x:k,y:j,...D});break;case"lufsintmono":$=Bg({x:k,y:j,...D});break;case"lufsintstereo":$=Ug({x:k,y:j,...D});break;case"k12metermono":$=Vg({x:k,y:j,...D});break;case"k12meterstereo":$=Wg({x:k,y:j,...D});break;case"k14metermono":$=Hg({x:k,y:j,...D});break;case"k14meterstereo":$=Gg({x:k,y:j,...D});break;case"k20metermono":$=Zg({x:k,y:j,...D});break;case"k20meterstereo":$=qg({x:k,y:j,...D});break;case"correlationmeter":$=Xg({x:k,y:j,...D});break;case"stereowidthmeter":$=Yg({x:k,y:j,...D});break;case"scrollingwaveform":$=e0({x:k,y:j,...D});break;case"spectrumanalyzer":$=t0({x:k,y:j,...D});break;case"spectrogram":$=r0({x:k,y:j,...D});break;case"goniometer":$=n0({x:k,y:j,...D});break;case"vectorscope":$=a0({x:k,y:j,...D});break;case"pianokeyboard":$=u0({x:k,y:j,...D});break;case"drumpad":$=d0({x:k,y:j,...D});break;case"padgrid":$=h0({x:k,y:j,...D});break;case"stepsequencer":$=f0({x:k,y:j,...D});break;case"xypad":$=p0({x:k,y:j,...D});break;case"wavetabledisplay":$=m0({x:k,y:j,...D});break;case"harmoniceditor":$=g0({x:k,y:j,...D});break;case"looppoints":$=v0({x:k,y:j,...D});break;case"envelopeeditor":$=b0({x:k,y:j,...D});break;case"sampledisplay":$=y0({x:k,y:j,...D});break;case"patchbay":$=x0({x:k,y:j,...D});break;case"signalflow":$=w0({x:k,y:j,...D});break;default:return}$&&($.x=k-$.width/2,$.y=j-$.height/2,$.layerId=m||"default",qc($.type)&&($.isPro=!0)),s($),f($.id),S(null)};return a.jsxs(a.Fragment,{children:[a.jsxs(A2,{sensors:r,onDragStart:w,onDragMove:y,onDragEnd:_,children:[a.jsx(CU,{bottomPanel:a.jsx(BW,{}),showBottomPanel:e,children:a.jsx(HU,{})}),a.jsx(z6,{dropAnimation:null,children:b&&a.jsx(eH,{elementType:b.elementType,variant:b.variant})})]}),a.jsx(j3,{position:"top-right",toastOptions:{style:{background:"#1f2937",color:"#f3f4f6"},error:{style:{background:"#7f1d1d",color:"#fecaca"}},success:{style:{background:"#14532d",color:"#bbf7d0"}}}}),a.jsx(qW,{})]})}L6.createRoot(document.getElementById("root")).render(a.jsx(X.StrictMode,{children:a.jsx(tH,{})}));
