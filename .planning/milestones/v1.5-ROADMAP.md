# Milestone v1.5: Export & Asset Management

**Status:** SHIPPED 2026-01-27
**Phases:** 36-37
**Total Plans:** 6

## Overview

Centralized font management with user directory selection and export bundling, plus SVG export with named layers for re-import workflow.

## Phases

### Phase 36: SVG Export with Named Layers

**Goal**: Export individual elements as SVG with meaningful layer names for re-import workflow
**Depends on**: None
**Plans**: 1 plan (no separate plan file - implementation bundled with Phase 37)

Plans:
- [x] 36-01: SVG element export with layer conventions

**Details:**
- Export as SVG option for any element (property panel button)
- SVG layers have meaningful names based on element structure (e.g., `knob-body`, `knob-indicator`, `slider-track`, `slider-thumb`)
- Consistent naming convention documented (LAYER_CONVENTIONS in svgElementExport.ts)
- When importing SVG for an element, auto-match layers by name
- Validation on import: error if required layers missing, warning if extra layers present
- Layer naming convention ensures re-imported SVGs work immediately without manual mapping

### Phase 37: Font Management System

**Goal**: Centralized font management with user directory selection and export bundling
**Depends on**: None
**Plans**: 5 plans

Plans:
- [x] 37-01: Font Management Service Layer (fontStorage, fontParser, fontScanner, fontManager)
- [x] 37-02: Font State Management (fontsSlice, store integration)
- [x] 37-03: Font Selection UI (FontSettings dialog, useFonts hook)
- [x] 37-04: Custom Font Dropdown with Preview
- [x] 37-05: Export Support (base64 font embedding)

**Details:**
Success criteria (adjusted for browser constraints):
1. User-selected fonts folder via file picker (permission persisted in IndexedDB)
2. Manual rescan on user request (no auto-watch - browser limitation)
3. All discovered fonts appear in font selection dropdowns
4. Settings UI with folder selection and rescan trigger
5. Display selected folder path with copy button (no file explorer reveal - browser limitation)
6. Export only bundles fonts actually used in the project
7. Custom font dropdown with preview (fonts shown in their own typeface)

---

## Milestone Summary

**Key Decisions:**
- Use native File System Access API instead of browser-fs-access (need directory handle for persistence)
- IndexedDB for font storage (offline access, faster than re-scanning)
- Singleton FontManager pattern (single source of truth for loaded fonts)
- Base64 embedding for custom fonts in export (self-contained bundles)
- Size warning thresholds: >500KB per font, >2MB total
- Async CSS generation (IndexedDB font loading requires async)

**Issues Resolved:**
- Custom fonts now persist across browser sessions
- Export bundles are self-contained for offline JUCE WebView2 use
- SVG re-import workflow simplified with automatic layer matching

**Technical Debt Incurred:**
- None

---

*Archived: 2026-01-27 as part of v1.5 milestone completion*
*For current project status, see .planning/ROADMAP.md (if exists) or .planning/PROJECT.md*
