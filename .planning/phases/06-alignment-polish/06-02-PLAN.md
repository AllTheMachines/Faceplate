---
phase: 06-alignment-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/RightPanel/HelpPanel.tsx
  - src/components/RightPanel/RightPanel.tsx
autonomous: true

must_haves:
  truths:
    - "User can see all keyboard shortcuts in a help panel"
    - "Shortcuts are organized by category (Selection, Edit, Z-Order, View)"
    - "Both Windows (Ctrl) and Mac (Cmd) modifier keys displayed"
    - "Help panel is accessible from the right panel"
  artifacts:
    - path: "src/components/RightPanel/HelpPanel.tsx"
      provides: "Keyboard shortcuts reference panel"
      exports: ["HelpPanel"]
    - path: "src/components/RightPanel/RightPanel.tsx"
      provides: "Integration of HelpPanel"
      contains: "HelpPanel"
  key_links:
    - from: "RightPanel.tsx"
      to: "HelpPanel.tsx"
      via: "import and render"
      pattern: "import.*HelpPanel"
---

<objective>
Create a help panel displaying all keyboard shortcuts for the UI designer.

Purpose: Users need a reference for keyboard shortcuts to work efficiently. This addresses requirement UIUX-03 "All keyboard shortcuts display in tooltips or help panel."

Output: HelpPanel component integrated into the right panel showing all shortcuts organized by category.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Existing right panel structure
@src/components/RightPanel/RightPanel.tsx

# For reference - all shortcuts defined here
@src/components/Canvas/hooks/useKeyboardShortcuts.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HelpPanel component</name>
  <files>src/components/RightPanel/HelpPanel.tsx</files>
  <action>
Create a new HelpPanel component that displays all keyboard shortcuts:

1. Define shortcut data structure:
   ```typescript
   interface ShortcutItem {
     keys: string  // e.g., "Ctrl/Cmd + C"
     action: string  // e.g., "Copy selected elements"
   }

   interface ShortcutCategory {
     name: string
     shortcuts: ShortcutItem[]
   }
   ```

2. Define shortcuts organized by category:
   - **Selection:**
     - Click: Select element
     - Shift + Click: Add to selection
     - Ctrl/Cmd + Click: Toggle selection
     - Drag on canvas: Marquee select
     - Escape: Clear selection

   - **Edit:**
     - Ctrl/Cmd + C: Copy selected elements
     - Ctrl/Cmd + V: Paste elements
     - Delete / Backspace: Delete selected elements
     - Ctrl/Cmd + Z: Undo
     - Ctrl/Cmd + Y / Ctrl/Cmd + Shift + Z: Redo

   - **Z-Order:**
     - Ctrl/Cmd + ]: Bring forward
     - Ctrl/Cmd + [: Send backward
     - Ctrl/Cmd + Shift + ]: Bring to front
     - Ctrl/Cmd + Shift + [: Send to back

   - **Transform:**
     - Arrow keys: Nudge 1px
     - Shift + Arrow keys: Nudge 10px

   - **View:**
     - Spacebar + Drag: Pan canvas
     - Scroll wheel: Zoom in/out

3. Render with Tailwind styling:
   - Container with dark background (bg-gray-900)
   - Section headers with text-gray-400
   - Shortcut key badges with bg-gray-700 rounded px-1.5 py-0.5 text-xs font-mono
   - Action descriptions in text-gray-300

4. Make the component collapsible with a toggle button (optional but nice for space):
   - Use useState for expanded/collapsed state
   - Default to expanded
   - Show chevron icon indicating state

Example structure:
```tsx
export function HelpPanel() {
  const [expanded, setExpanded] = useState(true)

  return (
    <div className="border-t border-gray-700">
      <button onClick={() => setExpanded(!expanded)} ...>
        <span>Keyboard Shortcuts</span>
        <ChevronIcon />
      </button>
      {expanded && (
        <div className="p-3 space-y-4">
          {categories.map(category => (
            <ShortcutSection key={category.name} ... />
          ))}
        </div>
      )}
    </div>
  )
}
```

Use inline SVG for chevron icon (no new dependencies).
  </action>
  <verify>
Component exists and exports correctly:
```bash
grep -q "export function HelpPanel" src/components/RightPanel/HelpPanel.tsx && echo "HelpPanel exported"
grep -q "Ctrl/Cmd" src/components/RightPanel/HelpPanel.tsx && echo "Shows modifier keys"
```
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
HelpPanel component exists with all keyboard shortcuts organized by category, showing both Windows and Mac modifier key conventions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate HelpPanel into RightPanel</name>
  <files>src/components/RightPanel/RightPanel.tsx</files>
  <action>
Add HelpPanel to the bottom of the RightPanel component:

1. Import HelpPanel:
   ```typescript
   import { HelpPanel } from './HelpPanel'
   ```

2. Add HelpPanel at the bottom of the panel, after other sections:
   - Position it at the bottom using flex layout
   - It should be visible when scrolling to bottom of right panel
   - Use `mt-auto` to push to bottom if using flex column

3. Ensure the right panel layout accommodates the help panel:
   - If right panel uses fixed sections, add HelpPanel after the last section
   - If using overflow-y-auto, HelpPanel scrolls with content

Structure example:
```tsx
export function RightPanel() {
  return (
    <div className="h-full flex flex-col bg-gray-800 ...">
      {/* Existing sections */}
      <PropertyPanel />
      <ZOrderPanel />

      {/* Help panel at bottom */}
      <div className="mt-auto">
        <HelpPanel />
      </div>
    </div>
  )
}
```
  </action>
  <verify>
Integration complete:
```bash
grep -q "HelpPanel" src/components/RightPanel/RightPanel.tsx && echo "HelpPanel imported/used"
```
App runs: `npm run dev`
Visual check: Help panel visible at bottom of right panel
  </verify>
  <done>
HelpPanel is rendered in the right panel, accessible to users at all times as a shortcuts reference.
  </done>
</task>

</tasks>

<verification>
## Visual Verification

1. **Panel visibility:**
   - Launch app with `npm run dev`
   - Look at right panel
   - Verify: "Keyboard Shortcuts" section visible (scroll down if needed)

2. **Content completeness:**
   - Verify all categories present: Selection, Edit, Z-Order, Transform, View
   - Verify Copy/Paste shortcuts shown: Ctrl/Cmd + C, Ctrl/Cmd + V
   - Verify modifier keys show both platforms: "Ctrl/Cmd"

3. **Styling consistency:**
   - Verify dark theme matches rest of app
   - Verify shortcut keys have distinct badge styling
   - Verify text is readable (good contrast)

4. **Collapse functionality (if implemented):**
   - Click header to collapse
   - Verify shortcuts hidden
   - Click again to expand
   - Verify shortcuts visible again
</verification>

<success_criteria>
- [ ] HelpPanel component created with all shortcuts
- [ ] Shortcuts organized into logical categories
- [ ] Both Ctrl (Windows) and Cmd (Mac) shown for modifier shortcuts
- [ ] HelpPanel integrated into RightPanel
- [ ] Styling matches existing dark theme
- [ ] TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-alignment-polish/06-02-SUMMARY.md`
</output>
