---
phase: 18-export-polish
plan: 05
type: execute
wave: 2
depends_on: []
files_modified:
  - src/services/export/documentationGenerator.ts
autonomous: true

must_haves:
  truths:
    - "README with JUCE integration instructions included in exported bundle"
    - "README contains minimal working example (10-20 lines C++)"
    - "README links to official JUCE WebView documentation"
  artifacts:
    - path: "src/services/export/documentationGenerator.ts"
      provides: "JUCE integration README generator"
      exports: ["generateREADME"]
  key_links:
    - from: "exported README.md"
      to: "JUCE WebView2 documentation"
      via: "links"
      pattern: "juce.com"
---

<objective>
Add JUCE integration README to exported bundle

Purpose: Help developers quickly integrate the exported bundle into JUCE WebView2 without searching documentation
Output: README.md generator with quickstart C++ example and JUCE WebView2 setup instructions
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-export-polish/18-RESEARCH.md

# Relevant source files
@src/services/export/documentationGenerator.ts
@src/services/export/codeGenerator.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create JUCE integration README generator</name>
  <files>src/services/export/documentationGenerator.ts</files>
  <action>
Update `src/services/export/documentationGenerator.ts` to add a `generateREADME` function:

```typescript
/**
 * Generate README.md for JUCE WebView2 integration
 * Provides quickstart instructions for integrating exported bundle
 */
export function generateREADME(): string {
  return `# JUCE WebView2 Plugin UI

This bundle was generated by [VST3 WebView UI Designer](https://github.com/yourrepo).

## Quick Start

1. Copy this folder to your JUCE project's \`Resources\` directory

2. In your plugin editor, create a WebBrowserComponent:

\`\`\`cpp
// PluginEditor.h
#include <juce_gui_extra/juce_gui_extra.h>

class MyPluginEditor : public juce::AudioProcessorEditor
{
public:
    MyPluginEditor(MyAudioProcessor& p);
    ~MyPluginEditor() override;

    void resized() override;

private:
    juce::WebBrowserComponent webView {
        juce::WebBrowserComponent::Options{}
            .withBackend(juce::WebBrowserComponent::Options::Backend::webview2)
            .withResourceProvider([this](const auto& url) { return getResource(url); })
            .withNativeFunction("setParameter", [this](auto& var, auto complete) {
                // Handle parameter changes from UI
                auto paramId = var[0].toString();
                auto value = (float)var[1];
                // Apply to your processor...
                complete({});
            })
    };

    std::optional<juce::WebBrowserComponent::Resource> getResource(const juce::String& url);
};
\`\`\`

3. Implement the resource provider:

\`\`\`cpp
// PluginEditor.cpp
std::optional<juce::WebBrowserComponent::Resource>
MyPluginEditor::getResource(const juce::String& url)
{
    // Map URLs to bundled files
    static const std::map<juce::String, const char*> resources = {
        { "/", "index.html" },
        { "/index.html", "index.html" },
        { "/style.css", "style.css" },
        { "/components.js", "components.js" },
        { "/bindings.js", "bindings.js" }
    };

    auto it = resources.find(url);
    if (it == resources.end())
        return std::nullopt;

    // Load from BinaryData or file system
    auto data = juce::MemoryBlock();
    // ... load your resource

    return juce::WebBrowserComponent::Resource {
        std::move(data),
        url.endsWith(".css") ? "text/css" :
        url.endsWith(".js") ? "application/javascript" :
        "text/html"
    };
}
\`\`\`

## Files in this Bundle

- \`index.html\` - Main UI document
- \`style.css\` - Element styles and layout
- \`components.js\` - UI update functions for JUCE callbacks
- \`bindings.js\` - JUCE WebView2 parameter bindings

## Parameter Binding

Elements with \`data-type="knob"\`, \`data-type="slider"\`, etc. automatically bind to JUCE parameters.
Set the \`parameterId\` property in the designer to match your C++ parameter IDs.

## Resources

- [JUCE WebView2 Documentation](https://juce.com/blog/juce-8-feature-overview-webview-uis/)
- [JUCE Forum - WebView2 Discussion](https://forum.juce.com/c/juce/5)
- [WebBrowserComponent API Reference](https://docs.juce.com/master/classWebBrowserComponent.html)

## Responsive Scaling

If responsive scaling is enabled, the UI will automatically scale to fit the plugin window
while maintaining aspect ratio. Scale limits: 25% minimum, 200% maximum.

---
*Generated by VST3 WebView UI Designer*
`;
}
```

This provides:
- Quick start with minimal working C++ example (~15 lines each snippet)
- File list explanation
- Parameter binding documentation
- Links to official JUCE resources
- Note about responsive scaling

Per CONTEXT.md: README should help developers integrate the exported bundle into JUCE WebView2 quickly
Per RESEARCH.md: Minimal working example (10-20 lines) plus links to JUCE docs
  </action>
  <verify>
- `npx tsc --noEmit` passes
- Function exported from documentationGenerator.ts
- README includes C++ code examples
- README includes links to JUCE documentation
  </verify>
  <done>JUCE integration README generator created with quickstart examples and documentation links</done>
</task>

<task type="auto">
  <name>Task 2: Include README in exported bundle</name>
  <files>src/services/export/codeGenerator.ts</files>
  <action>
Update `src/services/export/codeGenerator.ts` to include README.md in the exported ZIP:

1. **Import the README generator:**
```typescript
import { generateREADME } from './documentationGenerator';
```

2. **In exportJUCEBundle function**, add README.md to the ZIP:

After adding the other files to the ZIP, add:
```typescript
// Add README with integration instructions
zip.file('README.md', generateREADME());
```

This should be added alongside the existing files (index.html, style.css, etc.) that are added to the ZIP.
  </action>
  <verify>
- `npx tsc --noEmit` passes
- Export bundle includes README.md
- README.md is generated from generateREADME()
  </verify>
  <done>README.md included in exported JUCE bundle</done>
</task>

</tasks>

<verification>
1. Run `npx tsc --noEmit` to verify TypeScript compilation
2. Export a JUCE bundle and extract the ZIP
3. Verify README.md exists in the bundle
4. Verify README.md contains C++ examples and JUCE links
</verification>

<success_criteria>
- Exported ZIP includes README.md
- README has minimal working C++ examples
- README links to official JUCE documentation
- README explains the bundle files
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/18-export-polish/18-05-SUMMARY.md`
</output>
