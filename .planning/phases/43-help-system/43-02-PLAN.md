---
phase: 43-help-system
plan: 02
type: execute
wave: 2
depends_on: ["43-01"]
files_modified:
  - src/content/help/sections.ts
  - src/components/Properties/PropertySection.tsx
  - src/components/Properties/PropertyPanel.tsx
autonomous: true

must_haves:
  truths:
    - "PropertySection component accepts optional helpContent prop"
    - "Help (?) button appears in section header when helpContent provided"
    - "Position & Size section has help button explaining coordinates and sizing"
    - "Identity section has help button explaining name and parameter binding"
    - "Lock section has help button explaining lock behavior"
    - "SVG section has help button explaining export/import workflow"
  artifacts:
    - path: "src/content/help/sections.ts"
      provides: "Help content for all PropertyPanel sections"
      exports: ["sectionHelp"]
    - path: "src/components/Properties/PropertySection.tsx"
      provides: "Updated PropertySection with optional help button"
      exports: ["PropertySection"]
  key_links:
    - from: "src/components/Properties/PropertySection.tsx"
      to: "src/components/common/HelpButton.tsx"
      via: "HelpButton import and conditional render"
      pattern: "helpContent && <HelpButton"
    - from: "src/components/Properties/PropertyPanel.tsx"
      to: "src/content/help/sections.ts"
      via: "sectionHelp import for each section"
      pattern: "sectionHelp\\["
---

<objective>
Create help content for Properties Panel sections and integrate HelpButton into PropertySection component.

Purpose: Enable users to access contextual help for Position & Size, Identity, Lock, and SVG sections directly from section headers. This covers requirements HELP-01, HELP-02, HELP-03, HELP-04.

Output:
- sectionHelp object with detailed content for all 4 property sections
- Updated PropertySection accepting optional helpContent prop
- PropertyPanel passing help content to each section
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/43-help-system/43-RESEARCH.md
@.planning/phases/43-help-system/43-01-SUMMARY.md

# Key existing files
@src/components/Properties/PropertySection.tsx
@src/components/Properties/PropertyPanel.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create section help content</name>
  <files>src/content/help/sections.ts</files>
  <action>
Create comprehensive help content for each PropertyPanel section:

1. **Import** HelpContent type from './types'

2. **Export sectionHelp** as Record<string, HelpContent> with these entries:

**'position-size'**:
- title: "Position & Size"
- description: Explain coordinates relative to top-left (0,0), pixel-based
- examples:
  - "Setting Position": X/Y values in pixels, X increases right, Y increases down, negative values position off-canvas
  - "Setting Size": Width/Height define bounding box, minimum 20x20 for visibility
  - "Live Updates": Values update in real-time during drag/resize
- relatedTopics: Lock element, arrow keys nudge (1px, Shift+arrow 10px), Layers panel z-order

**'identity'**:
- title: "Identity"
- description: Element name and parameter binding for runtime
- examples:
  - "Element Name": Descriptive name for Layers panel and generated code, doesn't need to be unique
  - "Parameter ID": Optional identifier binding to JUCE AudioParameter, controls element at runtime

**'lock'**:
- title: "Lock"
- description: Prevent accidental modifications during editing
- examples:
  - "When to Lock": Lock backgrounds, guides, finalized sections
  - "Locked Behavior": Cannot move/resize/delete, can still select to view properties, unlock to edit

**'svg'**:
- title: "SVG Import/Export"
- description: Export with named layers for vector tool editing, import back for validation
- examples:
  - "Export Workflow": Download SVG with named layers (handle, track, fill), edit in Illustrator/Inkscape/Figma, import to validate
  - "Import Validation": Select edited SVG, validator checks for required layers, warns about missing/unexpected
  - "Expected Layers": Each element type expects specific names, case-sensitive, export to see complete structure
- relatedTopics: Layer names must match exactly, check console for detailed validation

All content should be helpful for users unfamiliar with the tool, explaining not just what but WHY.
  </action>
  <verify>File exists at src/content/help/sections.ts. Export sectionHelp with 4 entries. TypeScript compiles: `npx tsc --noEmit`</verify>
  <done>sectionHelp object exported with comprehensive help for all 4 PropertyPanel sections</done>
</task>

<task type="auto">
  <name>Task 2: Update PropertySection component</name>
  <files>src/components/Properties/PropertySection.tsx</files>
  <action>
Modify PropertySection to accept and display optional help content:

1. **Import** HelpButton from '../common/HelpButton'
2. **Import** HelpContent type from '../../content/help/types'

3. **Update interface**:
```typescript
interface PropertySectionProps {
  title: string
  children: React.ReactNode
  helpContent?: HelpContent
}
```

4. **Update component**:
- Change header from simple h3 to flex container with space-between
- h3 remains with same text styling
- Conditionally render HelpButton when helpContent is provided
- Keep all existing styling and structure

Updated structure:
```tsx
<div className="mb-6">
  <div className="flex items-center justify-between mb-3">
    <h3 className="text-sm font-medium text-gray-300">{title}</h3>
    {helpContent && <HelpButton content={helpContent} />}
  </div>
  <div>{children}</div>
</div>
```

This is a minimal change - just wrapping the header in a flex container and adding the conditional button.
  </action>
  <verify>PropertySection accepts helpContent prop. When prop provided, (?) button appears in header. TypeScript compiles.</verify>
  <done>PropertySection renders help button in header when helpContent prop provided</done>
</task>

<task type="auto">
  <name>Task 3: Integrate help into PropertyPanel</name>
  <files>src/components/Properties/PropertyPanel.tsx</files>
  <action>
Wire up sectionHelp content to each PropertySection in PropertyPanel:

1. **Import** sectionHelp from '../../content/help/sections'

2. **Update each PropertySection** to pass helpContent prop:

```tsx
{/* Position & Size */}
<PropertySection title="Position & Size" helpContent={sectionHelp['position-size']}>

{/* Identity */}
<PropertySection title="Identity" helpContent={sectionHelp['identity']}>

{/* Lock */}
<PropertySection title="Lock" helpContent={sectionHelp['lock']}>

{/* SVG */}
<PropertySection title="SVG" helpContent={sectionHelp['svg']}>
```

Only these 4 sections need help buttons. The type-specific properties rendered by getPropertyComponent() will get element-type help in a later plan.

Keep all existing functionality unchanged - just add the helpContent prop to each section.
  </action>
  <verify>Each of the 4 sections in PropertyPanel has helpContent prop. Run app, select element, see (?) buttons in section headers. Click opens help window.</verify>
  <done>All 4 PropertyPanel sections display help buttons that open contextual documentation</done>
</task>

</tasks>

<verification>
1. Run `npm run dev` and open app in browser
2. Add any element to canvas (e.g., Knob)
3. Select the element to see Properties Panel
4. Verify each section header has (?) icon:
   - Position & Size: (?) icon visible
   - Identity: (?) icon visible
   - Lock: (?) icon visible
   - SVG: (?) icon visible
5. Click each (?) button:
   - New window opens with dark theme
   - Content matches section (correct title, description, examples)
   - Window can be resized, scrolled
6. Click same button again - should focus existing window, not open duplicate
</verification>

<success_criteria>
- sectionHelp contains helpful content for all 4 sections
- Each section explains properties with practical examples
- Help windows have consistent dark theme matching app
- No duplicate windows when clicking same help button twice
- PropertySection remains backward compatible (helpContent optional)
</success_criteria>

<output>
After completion, create `.planning/phases/43-help-system/43-02-SUMMARY.md`
</output>
