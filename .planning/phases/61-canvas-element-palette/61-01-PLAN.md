---
phase: 61-canvas-element-palette
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/manual/canvas.md
autonomous: true

must_haves:
  truths:
    - "Canvas topic file documents all manipulation workflows: drag-drop, selection (click, multi-select, drag rectangle), move, resize, constrained drag, arrow nudge"
    - "Copy/paste, duplicate with 20px offset, delete, undo/redo are documented with keyboard shortcuts"
    - "Snap grid section documents toggle (Ctrl+G), adjustable size, visual grid display"
    - "Element locking documents individual lock and global lockAllMode"
    - "Background configuration covers color and gradient types"
    - "Pan/zoom documents space+drag, scroll wheel zoom, zoom indicator, zoom limits"
    - "All keyboard shortcuts include both Windows (Ctrl) and Mac (Cmd) variants"
  artifacts:
    - path: "docs/manual/canvas.md"
      provides: "Complete canvas interaction documentation with all workflows"
      min_lines: 200
  key_links:
    - from: "docs/manual/canvas.md"
      to: "docs/manual/README.md"
      via: "navigation link back to index"
      pattern: "\\[.*\\]\\(README\\.md\\)"
    - from: "docs/manual/canvas.md"
      to: "docs/manual/palette.md"
      via: "cross-reference to palette topic"
      pattern: "\\[.*\\]\\(palette\\.md\\)"
---

<objective>
Write the complete canvas interaction documentation for the Faceplate user manual.

Purpose: Give users a comprehensive guide to every canvas workflow -- from adding elements through selection, positioning, editing, locking, grid settings, background configuration, and navigation. This is the most interaction-heavy topic in the manual.
Output: `docs/manual/canvas.md` -- a complete canvas guide satisfying CANV-01 through CANV-09.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/61-canvas-element-palette/61-RESEARCH.md
@.planning/phases/61-canvas-element-palette/61-CONTEXT.md
@docs/manual/getting-started.md
@docs/manual/README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write the canvas interaction documentation</name>
  <files>docs/manual/canvas.md</files>
  <action>
Create `docs/manual/canvas.md` following the established topic file format from `getting-started.md`: title, overview paragraph, step-by-step sections with screenshot placeholders.

**IMPORTANT:** This is documentation only. No code changes. Target audience is beginner-friendly -- assume no prior knowledge of design tools.

The file must contain these sections in this order:

**1. Title and overview (2 sentences max)**
```
# Canvas

The canvas is your main design surface where you build plugin UIs. This guide covers every way you can interact with elements on the canvas -- from adding and selecting to positioning, editing, and navigating.
```

**2. Section: Adding Elements** (anchored as `## Adding Elements`)

Overview: Explain drag-drop from the Element Palette to the canvas.

Steps:
1. Open the **Elements** tab in the left panel
2. Find the element you want (browse categories or use search)
3. Click and drag the element from the palette onto the canvas
4. Release to place the element at the drop position
5. The element appears at its default size and can be repositioned immediately

Note inline: If snap grid is enabled (see Canvas Settings below), the element snaps to the nearest grid point when placed.

Screenshot placeholder: `![Dragging an element from the palette onto the canvas](../images/canvas-drag-drop.png)`

**3. Section: Selecting Elements** (anchored as `## Selecting Elements`)

Overview: Select elements to edit their properties, move them, or apply actions like copy and paste.

**Click to select:**
1. Click any element on the canvas to select it
2. Blue resize handles appear at corners and edges
3. The Properties panel on the right updates to show the element's settings

**Multi-select with Ctrl/Cmd+click:**
1. Click the first element to select it
2. Hold **Ctrl** (Windows/Linux) or **Cmd** (Mac) and click additional elements
3. All selected elements show resize handles
4. Drag any selected element to move the entire group

**Marquee selection (drag rectangle):**
1. Click on an empty area of the canvas (not on any element)
2. Drag to draw a selection rectangle
3. Release to select all elements within the rectangle

Note inline: The marquee activates after dragging at least 5 pixels to prevent accidental selections.

**Clear selection:** Press **Escape** to deselect all elements.

Screenshot placeholder: `![Multiple elements selected with resize handles visible](../images/canvas-selection.png)`

**4. Section: Positioning Elements** (anchored as `## Positioning Elements`)

Overview: Move and resize elements to build your layout.

**Drag to move:**
1. Click and hold a selected element
2. Drag it to the desired position
3. Release to place it
4. If snap grid is enabled, the element snaps to the nearest grid point

**Resize with handles:**
1. Select an element to show its resize handles
2. Click and drag any corner or edge handle to resize
3. Corner handles resize in both directions at once
4. Edge handles resize in one direction only

**Arrow key nudging:**
- Press **Arrow keys** to nudge selected elements by 1 pixel
- Hold **Shift** and press **Arrow keys** to nudge by 10 pixels
- Nudging respects snap grid when enabled

**Layer order (z-order):**
- **Ctrl+Shift+]** (or **Cmd+Shift+]** on Mac) -- Bring to Front
- **Ctrl+Shift+[** (or **Cmd+Shift+[** on Mac) -- Send to Back
- **Ctrl+]** (or **Cmd+]** on Mac) -- Bring Forward one level
- **Ctrl+[** (or **Cmd+[** on Mac) -- Send Backward one level

**5. Section: Editing & History** (anchored as `## Editing & History`)

Overview: Copy, paste, duplicate, delete elements, and undo or redo changes.

**Copy and paste:**
1. Select one or more elements
2. Press **Ctrl+C** (or **Cmd+C** on Mac) to copy
3. Press **Ctrl+V** (or **Cmd+V** on Mac) to paste
4. Pasted elements appear offset 20 pixels down and to the right from the original position

**Duplicate:**
1. Select one or more elements
2. Press **Ctrl+D** (or **Cmd+D** on Mac) to duplicate
3. The duplicate appears offset 20 pixels down and to the right

Note inline: Duplicating is faster than copy-paste when you want an immediate copy -- it skips the clipboard.

**Delete:**
- Select elements and press **Delete** or **Backspace** to remove them from the canvas

**Undo and redo:**
- Press **Ctrl+Z** (or **Cmd+Z** on Mac) to undo the last action
- Press **Ctrl+Y** or **Ctrl+Shift+Z** (or **Cmd+Shift+Z** on Mac) to redo
- The undo/redo buttons are also available in the left panel header
- Dragging an element creates a single undo entry for the entire drag operation (not one per pixel moved)

**6. Section: Element Locking** (anchored as `## Element Locking`)

Overview: Lock elements to prevent accidental moves or edits while working on other parts of your layout.

**Lock individual elements:**
1. Select the element you want to lock
2. Toggle the lock in the Properties panel or Layers panel
3. Locked elements cannot be moved, resized, or deleted until unlocked
4. Locked elements can still be selected to view their properties

**Lock all elements (global mode):**
1. Toggle the lock-all mode from the canvas toolbar
2. When active, all elements on the canvas are locked regardless of their individual lock setting
3. Toggle off to return to normal editing

Note inline: Locking is useful when building complex layouts -- lock your background and container elements so you can freely position controls without accidentally moving the underlying structure.

**7. Section: Canvas Settings** (anchored as `## Canvas Settings`)

This section contains three subsections:

**### Snap Grid**

Overview: The snap grid helps you align elements precisely by snapping their positions to a regular grid.

- Press **Ctrl+G** (or **Cmd+G** on Mac) to toggle the snap grid on or off
- When enabled, a dotted grid overlay appears on the canvas
- Elements snap to the nearest grid point when placed, moved, or resized
- The default grid size is 10 pixels -- you can adjust this in the canvas settings
- You can also change the grid color (default is white)

Screenshot placeholder: `![Canvas with snap grid enabled showing grid lines](../images/canvas-snap-grid.png)`

**### Background Configuration**

Overview: Configure the canvas background to match your plugin's design.

**Solid color:**
1. With no elements selected, the Properties panel shows window settings
2. Find the Background section
3. Select **Color** as the background type
4. Use the color picker to choose your background color

**Gradient:**
1. Select **Gradient** as the background type
2. Choose the start and end colors
3. Adjust the angle to control the gradient direction

Note inline: Background settings apply to the current window. In multi-window projects, each window can have its own background configuration.

Screenshot placeholder: `![Background configuration options in the properties panel](../images/canvas-background-options.png)`

**### Pan & Zoom**

Overview: Navigate around the canvas, especially useful for large or complex layouts.

Quick reference:
- **Scroll wheel** -- Zoom in/out (5% per scroll step, centered on cursor position)
- **Space + drag** -- Pan the canvas (cursor changes to a hand icon)
- **Zoom limits** -- 10% (0.1x) minimum to 1000% (10x) maximum
- **Zoom indicator** -- Shown in the bottom-right corner of the canvas; click it to type a specific zoom level, double-click to reset to 100%

Screenshot placeholder: `![Zoom indicator in the bottom-right corner of the canvas](../images/canvas-zoom-controls.png)`

**8. Section: Keyboard Shortcuts Reference** (anchored as `## Keyboard Shortcuts`)

A compact reference table of all canvas keyboard shortcuts:

| Action | Windows / Linux | Mac |
|--------|-----------------|-----|
| Undo | Ctrl+Z | Cmd+Z |
| Redo | Ctrl+Y or Ctrl+Shift+Z | Cmd+Shift+Z |
| Copy | Ctrl+C | Cmd+C |
| Paste | Ctrl+V | Cmd+V |
| Duplicate | Ctrl+D | Cmd+D |
| Delete | Delete or Backspace | Delete or Backspace |
| Clear selection | Escape | Escape |
| Toggle snap grid | Ctrl+G | Cmd+G |
| Nudge 1px | Arrow keys | Arrow keys |
| Nudge 10px | Shift+Arrow keys | Shift+Arrow keys |
| Bring to Front | Ctrl+Shift+] | Cmd+Shift+] |
| Send to Back | Ctrl+Shift+[ | Cmd+Shift+[ |
| Bring Forward | Ctrl+] | Cmd+] |
| Send Backward | Ctrl+[ | Cmd+[ |
| Pan canvas | Space+drag | Space+drag |

**9. Footer: navigation links**

At the end of the file, include:
- Link back to manual index: [Back to User Manual](README.md)
- Cross-references: [Element Palette](palette.md) | [Properties Panel](properties.md)

**Format rules (same as getting-started.md):**
- Use bold for UI element names: **Elements** tab, **Properties** panel
- Use backtick for values and commands: `10 pixels`, `Ctrl+G`
- Use bold for keyboard shortcuts in text: **Ctrl+Z**, **Shift+Arrow**
- Screenshot filenames follow pattern: `canvas-{subject}.png`
- Do NOT reference React components, TypeScript types, or implementation details -- this is user-facing
- Edge cases as inline notes within steps, not callout boxes
- Each section starts with 1-2 sentence overview, then numbered steps or bullet reference list
  </action>
  <verify>
Verify the file exists and covers all requirements:
- Check: `docs/manual/canvas.md` exists
- Check: Contains ## Adding Elements section with drag-drop workflow (CANV-01)
- Check: Contains ## Selecting Elements section with click, multi-select, marquee (CANV-02)
- Check: Contains ## Positioning Elements section with move, resize, arrow nudge (CANV-03)
- Check: Contains ## Editing & History section with copy/paste, duplicate 20px offset, undo/redo (CANV-04, CANV-05)
- Check: Contains ## Canvas Settings with ### Snap Grid subsection with Ctrl+G toggle (CANV-06)
- Check: Contains ## Element Locking section (CANV-07)
- Check: Contains ### Background Configuration subsection with color and gradient (CANV-08)
- Check: Contains ### Pan & Zoom subsection with scroll, space+drag, zoom controls (CANV-09)
- Check: Contains ## Keyboard Shortcuts reference table with both Windows and Mac columns
- Check: Contains 4-6 screenshot placeholders using `![description](../images/canvas-*.png)` format
- Check: Contains link back to README.md
- Check: Contains cross-references to palette.md and properties.md
- Check: File is at least 200 lines
- Check: No code-level references (no React, TypeScript, Zustand mentions)
  </verify>
  <done>
docs/manual/canvas.md exists with:
- Adding Elements section with drag-drop workflow and screenshot (CANV-01)
- Selecting Elements section covering click, Ctrl/Cmd+click, marquee selection (CANV-02)
- Positioning Elements section with drag, resize, arrow nudge, layer order shortcuts (CANV-03)
- Editing & History section with copy/paste/duplicate (20px offset), delete, undo/redo (CANV-04, CANV-05)
- Snap Grid section with Ctrl+G toggle, adjustable size, visual display (CANV-06)
- Element Locking section with individual and lock-all modes (CANV-07)
- Background Configuration with color and gradient types (CANV-08)
- Pan & Zoom with scroll, space+drag, zoom indicator, zoom limits (CANV-09)
- Keyboard Shortcuts reference table with Windows and Mac columns
- 4-6 screenshot placeholders with descriptive filenames
- Navigation links to README.md, palette.md, properties.md
- 200+ lines, beginner-friendly, no implementation references
  </done>
</task>

</tasks>

<verification>
- `docs/manual/canvas.md` exists and follows topic file format from getting-started.md
- All 9 CANV requirements are satisfied (CANV-01 through CANV-09)
- Every keyboard shortcut includes both Windows (Ctrl) and Mac (Cmd) variants
- 4-6 screenshot placeholders placed at key workflow transitions
- Keyboard shortcuts reference table at the end for quick lookup
- File reads as a user guide with numbered steps and inline notes
- No code references, no React/TypeScript/Zustand mentions
</verification>

<success_criteria>
- docs/manual/canvas.md is 200+ lines of well-structured markdown
- CANV-01 through CANV-09 all satisfied
- Keyboard shortcuts documented inline AND in reference table
- 4-6 screenshot placeholders with descriptive filenames
- Cross-references to related topics (palette.md, properties.md, README.md)
- Consistent format with getting-started.md (bold UI names, backtick commands, inline notes)
</success_criteria>

<output>
After completion, create `.planning/phases/61-canvas-element-palette/61-01-SUMMARY.md`
</output>
