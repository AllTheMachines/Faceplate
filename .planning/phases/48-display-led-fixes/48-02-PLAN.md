---
phase: 48-display-led-fixes
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/types/elements/displays.ts
  - src/services/elementFactory.ts
  - src/components/elements/renderers/displays/SingleLEDRenderer.tsx
  - src/components/elements/renderers/displays/BiColorLEDRenderer.tsx
  - src/components/elements/renderers/displays/TriColorLEDRenderer.tsx
  - src/components/elements/renderers/displays/LEDArrayRenderer.tsx
  - src/components/elements/renderers/displays/LEDRingRenderer.tsx
  - src/components/elements/renderers/displays/LEDMatrixRenderer.tsx
  - src/components/elements/renderers/displays/index.ts
  - src/components/Properties/SingleLEDProperties.tsx
  - src/components/Properties/BiColorLEDProperties.tsx
  - src/components/Properties/TriColorLEDProperties.tsx
  - src/components/Properties/LEDArrayProperties.tsx
  - src/components/Properties/LEDRingProperties.tsx
  - src/components/Properties/LEDMatrixProperties.tsx
  - src/components/Properties/index.ts
  - src/components/Palette/Palette.tsx
  - src/services/export/htmlGenerator.ts
  - src/services/export/cssGenerator.ts
  - src/services/export/jsGenerator.ts
  - src/content/help/elements.ts
autonomous: true

must_haves:
  truths:
    - "LED element types no longer exist in the codebase"
    - "Palette no longer shows LED Indicators category"
    - "Export code no longer references any LED types"
    - "Projects with LED elements load silently (elements filtered out)"
  artifacts:
    - path: "src/types/elements/displays.ts"
      provides: "DisplayElement union without LED types"
      contains: "!SingleLEDElementConfig"
  key_links:
    - from: "elementFactory.ts"
      to: "displays.ts"
      via: "no LED case statements"
      pattern: "!singleled"
---

<objective>
Remove all 6 LED element types from the codebase.

Purpose: LED-01 determined that LED elements are no longer needed. Per CONTEXT.md, this is a silent breaking change - LED elements removed entirely with no migration warnings.

Output: Codebase with no LED element references - cleaner types, palette, exports, and help content.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/48-display-led-fixes/48-CONTEXT.md
@.planning/phases/47-button-knob-fixes/47-02-PLAN.md
@.planning/phases/47-button-knob-fixes/47-02-SUMMARY.md

@src/types/elements/displays.ts
@src/components/Palette/Palette.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove LED types and factories from displays.ts</name>
  <files>src/types/elements/displays.ts</files>
  <action>
In src/types/elements/displays.ts, DELETE the following:

1. DELETE 6 LED interfaces (lines ~640-766):
   - SingleLEDElementConfig (lines ~640-657)
   - BiColorLEDElementConfig (lines ~659-677)
   - TriColorLEDElementConfig (lines ~679-697)
   - LEDArrayElementConfig (lines ~699-721)
   - LEDRingElementConfig (lines ~723-744)
   - LEDMatrixElementConfig (lines ~746-766)

2. REMOVE from DisplayElement union type (lines ~782-787):
   Delete these 6 lines:
   ```typescript
   | SingleLEDElementConfig
   | BiColorLEDElementConfig
   | TriColorLEDElementConfig
   | LEDArrayElementConfig
   | LEDRingElementConfig
   | LEDMatrixElementConfig
   ```

3. DELETE 6 type guard functions (lines ~893-914):
   - isSingleLED()
   - isBiColorLED()
   - isTriColorLED()
   - isLEDArray()
   - isLEDRing()
   - isLEDMatrix()

4. DELETE 6 factory functions (lines ~1269-1450):
   - createSingleLED()
   - createBiColorLED()
   - createTriColorLED()
   - createLEDArray()
   - createLEDRing()
   - createLEDMatrix()

TypeScript will now show errors in files still referencing LED types - this is expected.
  </action>
  <verify>TypeScript shows errors in dependent files (renderers, properties, factory, exports) - this confirms we found all references</verify>
  <done>LED types, type guards, and factory functions removed from displays.ts</done>
</task>

<task type="auto">
  <name>Task 2: Delete LED renderers, properties, and update indexes</name>
  <files>
    src/components/elements/renderers/displays/SingleLEDRenderer.tsx
    src/components/elements/renderers/displays/BiColorLEDRenderer.tsx
    src/components/elements/renderers/displays/TriColorLEDRenderer.tsx
    src/components/elements/renderers/displays/LEDArrayRenderer.tsx
    src/components/elements/renderers/displays/LEDRingRenderer.tsx
    src/components/elements/renderers/displays/LEDMatrixRenderer.tsx
    src/components/elements/renderers/displays/index.ts
    src/components/Properties/SingleLEDProperties.tsx
    src/components/Properties/BiColorLEDProperties.tsx
    src/components/Properties/TriColorLEDProperties.tsx
    src/components/Properties/LEDArrayProperties.tsx
    src/components/Properties/LEDRingProperties.tsx
    src/components/Properties/LEDMatrixProperties.tsx
    src/components/Properties/index.ts
  </files>
  <action>
DELETE renderer files (6 files):
- src/components/elements/renderers/displays/SingleLEDRenderer.tsx
- src/components/elements/renderers/displays/BiColorLEDRenderer.tsx
- src/components/elements/renderers/displays/TriColorLEDRenderer.tsx
- src/components/elements/renderers/displays/LEDArrayRenderer.tsx
- src/components/elements/renderers/displays/LEDRingRenderer.tsx
- src/components/elements/renderers/displays/LEDMatrixRenderer.tsx

UPDATE src/components/elements/renderers/displays/index.ts:
- Remove all 6 LED export lines (e.g., `export { SingleLEDRenderer } from './SingleLEDRenderer'`)
- Remove LED renderers from any renderer registry/map if present

DELETE property files (6 files):
- src/components/Properties/SingleLEDProperties.tsx
- src/components/Properties/BiColorLEDProperties.tsx
- src/components/Properties/TriColorLEDProperties.tsx
- src/components/Properties/LEDArrayProperties.tsx
- src/components/Properties/LEDRingProperties.tsx
- src/components/Properties/LEDMatrixProperties.tsx

UPDATE src/components/Properties/index.ts:
- Remove all 6 LED export lines (e.g., `export { SingleLEDProperties } from './SingleLEDProperties'`)
- Remove LED properties from any property panel registry/map if present
  </action>
  <verify>Files deleted, exports removed. TypeScript errors should decrease significantly.</verify>
  <done>12 LED files deleted, renderer and property indexes cleaned up</done>
</task>

<task type="auto">
  <name>Task 3: Remove LED from palette, factory, exports, and help</name>
  <files>
    src/components/Palette/Palette.tsx
    src/services/elementFactory.ts
    src/services/export/htmlGenerator.ts
    src/services/export/cssGenerator.ts
    src/services/export/jsGenerator.ts
    src/content/help/elements.ts
  </files>
  <action>
1. src/components/Palette/Palette.tsx:
   DELETE entire 'LED Indicators' category object (lines ~57-67):
   ```typescript
   {
     name: 'LED Indicators',
     items: [
       { id: 'singleled', type: 'singleled', name: 'Single LED' },
       { id: 'bicolorled', type: 'bicolorled', name: 'Bi-Color LED' },
       { id: 'tricolorled', type: 'tricolorled', name: 'Tri-Color LED' },
       { id: 'ledarray', type: 'ledarray', name: 'LED Array' },
       { id: 'ledring', type: 'ledring', name: 'LED Ring' },
       { id: 'ledmatrix', type: 'ledmatrix', name: 'LED Matrix' },
     ],
   },
   ```

2. src/services/elementFactory.ts:
   - Remove any imports of LED factory functions (createSingleLED, etc.)
   - Remove all 6 LED case statements from element creation switch/map:
     - case 'singleled'
     - case 'bicolorled'
     - case 'tricolorled'
     - case 'ledarray'
     - case 'ledring'
     - case 'ledmatrix'

3. Export generators (htmlGenerator.ts, cssGenerator.ts, jsGenerator.ts):
   - Remove all `case 'singleled'`, `case 'bicolorled'`, etc. from switch statements
   - Remove any LED-specific helper functions
   - Remove any LED-related imports

4. src/content/help/elements.ts:
   - Remove all LED element entries from help content
   - Search for 'singleled', 'bicolorled', 'tricolorled', 'ledarray', 'ledring', 'ledmatrix'
   - Remove any LED-related help topics or categories

5. VERIFY complete removal:
   Run: `grep -ri "singleled\|bicolorled\|tricolorled\|ledarray\|ledring\|ledmatrix" src/`
   Should return no results (or only comments/changelog entries)
  </action>
  <verify>
`npm run build` compiles without errors
`grep -ri "singleled\|bicolorled\|tricolorled\|ledarray\|ledring\|ledmatrix" src/` returns no results
  </verify>
  <done>All LED references removed from palette, factory, exports, and help content</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with no errors
2. `grep -ri "singleled\|bicolorled\|tricolorled\|ledarray\|ledring\|ledmatrix" src/` returns no results
3. Run dev server, open palette - no LED Indicators category visible
4. TypeScript: No types reference any LED ElementConfig
5. If loading a project with old LED elements - elements silently filtered out (no crash, no warnings)
</verification>

<success_criteria>
- Zero references to LED types in src/ directory
- TypeScript compiles cleanly
- Palette does not show LED Indicators category
- Project builds successfully
- Dev server runs without errors
</success_criteria>

<output>
After completion, create `.planning/phases/48-display-led-fixes/48-02-SUMMARY.md`
</output>
