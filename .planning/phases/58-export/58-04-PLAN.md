---
phase: 58-export
plan: 04
type: execute
wave: 3
depends_on: ["58-01", "58-02", "58-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Styled slider exports correctly render in browser preview"
    - "Styled button exports correctly render with state toggle"
    - "Styled meter exports correctly render with zone fills"
    - "No TypeScript errors in export services"
  artifacts: []
  key_links: []
---

<objective>
Verify that styled element export works end-to-end in browser preview.

Purpose: Ensure all export changes (HTML, CSS, JS) work together correctly before marking the phase complete.

Output: Verified working export for styled sliders, buttons, and meters.
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/58-export/58-CONTEXT.md
@.planning/phases/58-export/58-01-SUMMARY.md
@.planning/phases/58-export/58-02-SUMMARY.md
@.planning/phases/58-export/58-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build and verify compilation</name>
  <files></files>
  <action>
1. Run TypeScript build to ensure no compilation errors:
   ```bash
   npm run build
   ```

2. Check for any TypeScript errors related to export services:
   - htmlGenerator.ts
   - cssGenerator.ts
   - jsGenerator.ts

3. If errors exist, fix them before proceeding:
   - Type imports may need updates
   - Function signatures may need adjustment
   - Property access on discriminated unions may need narrowing

4. Verify all new functions are exported/accessible:
   - generateStyledSliderHTML
   - generateStyledButtonHTML
   - generateStyledMeterHTML
   - generateStyledAnimationHelpers

5. Run dev server to prepare for manual testing:
   ```bash
   npm run dev
   ```
  </action>
  <verify>
    - npm run build exits with code 0
    - npm run dev starts without errors
  </verify>
  <done>
    - No TypeScript compilation errors
    - Dev server running
  </done>
</task>

<task type="auto">
  <name>Task 2: Update buildInfo timestamp</name>
  <files>src/buildInfo.ts</files>
  <action>
Per CLAUDE.md instructions, update the build timestamp:

1. Get current time:
   ```bash
   date "+%d %b %H:%M CET"
   ```

2. Update src/buildInfo.ts with the exact output:
   ```typescript
   export const lastUpdated = 'DD Mon HH:MM CET'
   ```
  </action>
  <verify>
    - src/buildInfo.ts contains updated timestamp
  </verify>
  <done>
    - Build timestamp reflects current time
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete styled element export system:
- HTML generators for styled sliders, buttons, and meters
- CSS rules for layer positioning and animations
- JS animation helpers (updateSlider, updateMeter, updateButton)
  </what-built>
  <how-to-verify>
1. Open the app at http://localhost:5173

2. Create a test project with styled elements:
   a. Add a Slider element
   b. Assign an SVG style (if one exists for linear category)
   c. Add a Button element
   d. Assign an SVG style (if one exists for button category)
   e. Add a Meter element
   f. Assign an SVG style (if one exists for meter category)

3. Click "Preview" button to open browser preview

4. In the preview, verify:
   a. Styled slider shows SVG layers (track, fill, thumb)
   b. Styled button shows SVG layers with correct initial state
   c. Styled meter shows SVG layers with zone fills

5. Test interactivity in preview:
   a. Drag slider - thumb should move, fill should follow
   b. Click button - state should toggle instantly (no fade)
   c. Meter should show fill level (if wired to mock data)

6. Check browser console for errors:
   - No JavaScript errors
   - No missing element warnings

If no styled elements are available yet (Phase 59 UI Dialogs):
- Verify export functions exist by checking code
- Verify non-styled elements still export correctly
- Mark as approved with note about manual style testing pending

  </how-to-verify>
  <resume-signal>Type "approved" if styled elements export correctly, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Phase 58 is complete when:
1. TypeScript compiles without errors
2. Dev server runs without errors
3. Human verification confirms styled elements export correctly
4. Browser preview shows styled elements with working animations
</verification>

<success_criteria>
- [ ] npm run build succeeds
- [ ] npm run dev runs without errors
- [ ] Human verification passed
- [ ] Styled elements render in preview with SVG layers
- [ ] Animations work (slider drag, button toggle, meter fill)
</success_criteria>

<output>
After completion, create `.planning/phases/58-export/58-04-SUMMARY.md`
</output>
