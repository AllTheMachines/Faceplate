---
phase: 62-properties-layers
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/manual/layers.md
autonomous: true

must_haves:
  truths:
    - "Layers topic file documents creating a new layer with name and color"
    - "Renaming a layer via double-click is documented step-by-step"
    - "Deleting a layer is documented with warning about element deletion"
    - "Layer visibility toggle (eye icon) is documented with effect on canvas rendering"
    - "Layer lock toggle is documented with effect on element interaction"
    - "Z-order is explained: layers higher in panel render on top, drag to reorder"
    - "Moving elements between layers via right-click context menu gets its own dedicated subsection"
  artifacts:
    - path: "docs/manual/layers.md"
      provides: "Complete layers system documentation with step-by-step tutorials for all operations"
      min_lines: 150
  key_links:
    - from: "docs/manual/layers.md"
      to: "docs/manual/README.md"
      via: "navigation link back to index"
      pattern: "\\[.*\\]\\(README\\.md\\)"
    - from: "docs/manual/layers.md"
      to: "docs/manual/canvas.md"
      via: "cross-reference to canvas for element interaction"
      pattern: "\\[.*\\]\\(canvas\\.md\\)"
    - from: "docs/manual/layers.md"
      to: "docs/manual/properties.md"
      via: "cross-reference to properties panel"
      pattern: "\\[.*\\]\\(properties\\.md\\)"
---

<objective>
Write the complete layers system documentation for the Faceplate user manual.

Purpose: Give users step-by-step tutorials for every layers operation -- creating, renaming, deleting layers, toggling visibility and lock, reordering for z-order control, and moving elements between layers.
Output: `docs/manual/layers.md` -- a complete layers guide satisfying LAY-01 through LAY-06.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/62-properties-layers/62-RESEARCH.md
@.planning/phases/62-properties-layers/62-CONTEXT.md
@docs/manual/getting-started.md
@docs/manual/canvas.md
@docs/manual/README.md
@src/components/Layers/LayersPanel.tsx
@src/components/Layers/LayerRow.tsx
@src/components/Layers/DeleteLayerDialog.tsx
@src/components/Canvas/Canvas.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write the layers system documentation</name>
  <files>docs/manual/layers.md</files>
  <action>
Create `docs/manual/layers.md` following the established topic file format from `getting-started.md` and `canvas.md`: title, overview paragraph, then content sections.

**IMPORTANT:** This is documentation only. No code changes. Target audience is beginner-friendly. This is a TUTORIAL document using step-by-step numbered instructions for each operation.

**CRITICAL CONTEXT DECISIONS (from 62-CONTEXT.md -- these are LOCKED):**
- Step-by-step tutorial format for each operation
- "Moving elements between layers" gets its own dedicated subsection
- Z-order explained with text only -- layers higher in panel render on top, drag to reorder
- No best practices or workflow tips -- just document the mechanics

**Source files for accurate mechanics:**
- `LayersPanel.tsx`: creating layers (name + color), H key shortcut for visibility toggle, drag-and-drop reorder via @dnd-kit
- `LayerRow.tsx`: double-click to rename (not on default layer), visibility toggle (eye icon), lock toggle, delete button (hover to reveal, not on default layer), sortable drag handle
- `DeleteLayerDialog.tsx`: confirmation dialog shows element count, warns that deleting a layer ALSO DELETES all elements in it (not moves them)
- `Canvas.tsx`: right-click context menu has "Move to Layer" submenu listing all layers

The file must contain these sections in this order:

**1. Title and overview**
```
# Layers

Layers let you organize your design elements into groups. Each layer can be independently shown, hidden, locked, or reordered to control which elements appear in front of others.
```

Brief explanation: The **Layers** tab is in the left panel. Every project starts with a **Default** layer that cannot be renamed or deleted. You can create additional layers to organize your design.

Screenshot placeholder: `![Layers panel showing multiple layers with visibility and lock icons](../images/layers-panel-overview.png)`

**2. Section: Creating a Layer** (anchored as `## Creating a Layer`)

Step-by-step (from LayersPanel.tsx handleStartCreate / handleCreateLayer):

1. Click the **Layers** tab in the left panel
2. Click the **+ New Layer** button at the bottom of the panel
3. Type a name for the layer (or leave blank for an auto-generated name like "Layer 1")
4. Choose a color by clicking one of the color swatches -- the color appears as a dot next to the layer name
5. Click **Create** to add the layer, or press **Enter**
6. Click **Cancel** or press **Escape** to cancel

New layers appear at the top of the layer list, above existing layers.

**3. Section: Renaming a Layer** (anchored as `## Renaming a Layer`)

Step-by-step (from LayerRow.tsx handleDoubleClick / handleSave):

1. Double-click the layer name in the layers panel
2. The name becomes an editable text field
3. Type the new name
4. Press **Enter** to save, or click away from the text field
5. Press **Escape** to cancel and keep the original name

Note: The **Default** layer cannot be renamed.

**4. Section: Deleting a Layer** (anchored as `## Deleting a Layer`)

Step-by-step (from LayerRow.tsx delete button + DeleteLayerDialog.tsx):

1. Hover over the layer you want to delete -- a delete icon (trash) appears on the right
2. Click the delete icon
3. A confirmation dialog appears showing the layer name and how many elements are in the layer
4. Click **Delete** to confirm, or **Cancel** to keep the layer

Important inline warning: **Deleting a layer also deletes all elements in that layer.** This action cannot be undone. If you want to keep the elements, move them to another layer first (see [Moving Elements Between Layers](#moving-elements-between-layers) below).

Note: The **Default** layer cannot be deleted.

**5. Section: Layer Visibility** (anchored as `## Layer Visibility`)

Step-by-step (from LayerRow.tsx toggleLayerVisibility):

1. Click the eye icon on the right side of a layer row
2. When visible (eye open), all elements on that layer are shown on the canvas
3. When hidden (eye closed), all elements on that layer are hidden from the canvas and the layer row appears dimmed
4. Click the eye icon again to toggle back

Keyboard shortcut: Press **H** to toggle visibility of the currently selected layer.

Hidden layers and their elements are not included in exported output.

**6. Section: Layer Lock** (anchored as `## Layer Lock`)

Step-by-step (from LayerRow.tsx toggleLayerLock):

1. Click the lock icon on the right side of a layer row (next to the eye icon)
2. When locked (lock closed, shown in yellow), elements on that layer cannot be selected, moved, or resized on the canvas
3. When unlocked (lock open), elements behave normally
4. Click the lock icon again to toggle back

Note: Locking a layer prevents interaction on the canvas, but you can still view the element's properties if you select it through other means. This is useful for protecting background elements from accidental changes while working on foreground elements.

**7. Section: Z-Order (Layer Ordering)** (anchored as `## Z-Order`)

Per CONTEXT decisions, text-only explanation -- no diagrams:

Layers control which elements appear in front of others on the canvas. Layers higher in the layers panel render on top of layers lower in the panel.

To change the rendering order:

1. Hover over the layer you want to move -- a drag handle (six dots) appears on the left
2. Click and hold the drag handle
3. Drag the layer up or down to its new position
4. Release to drop the layer in place

Elements on the topmost layer always appear in front of elements on lower layers. Within the same layer, elements follow their individual z-order (controlled by right-click context menu on the canvas).

Note: The **Default** layer always stays at the bottom of the list and cannot be reordered.

**8. Section: Moving Elements Between Layers** (anchored as `## Moving Elements Between Layers`)

This gets its own dedicated subsection per CONTEXT decisions. From Canvas.tsx context menu:

To move an element from one layer to another:

1. Right-click the element on the canvas
2. Hover over **Move to Layer** in the context menu
3. A submenu appears listing all available layers
4. Click the target layer name
5. The element is moved to the selected layer immediately

This works for single elements. To move multiple elements, select them all first (see [Canvas](canvas.md) for selection methods), then right-click any selected element to access the Move to Layer option.

**9. Footer: navigation links**

At the end of the file, include:
```
---

[Back to User Manual](README.md) | [Canvas](canvas.md) | [Properties Panel](properties.md) | [Element Palette](palette.md)
```

**Format rules (same as getting-started.md and canvas.md):**
- Use bold for UI element names: **Layers** tab, **Default** layer, **+ New Layer** button
- Use numbered steps for all operations (tutorial format)
- Screenshot placeholder format: `![description](../images/filename.png)`
- Do NOT reference React components, TypeScript types, Zustand store, or implementation details
- Do NOT add best practices or workflow tips -- just document the mechanics
- Keyboard shortcuts documented inline where applicable
  </action>
  <verify>
Verify the file exists and covers all requirements:
- Check: `docs/manual/layers.md` exists
- Check: Contains overview with layers panel screenshot placeholder (LAY-01)
- Check: Contains ## Creating a Layer section with numbered steps (LAY-02)
- Check: Contains ## Renaming a Layer section with numbered steps (LAY-02)
- Check: Contains ## Deleting a Layer section with numbered steps and element deletion warning (LAY-02)
- Check: Contains ## Layer Visibility section with eye icon toggle and H shortcut (LAY-03)
- Check: Contains ## Layer Lock section with lock icon toggle (LAY-04)
- Check: Contains ## Z-Order section with drag-to-reorder instructions (LAY-05)
- Check: Contains ## Moving Elements Between Layers as its own dedicated section with right-click steps (LAY-06)
- Check: Screenshot placeholder exists for layers-panel-overview.png
- Check: Contains link back to README.md
- Check: Contains cross-references to canvas.md and properties.md
- Check: File is at least 150 lines
- Check: All operations use numbered step format (tutorial style)
- Check: No code-level references (no React, TypeScript, Zustand, @dnd-kit mentions)
- Check: No best practices or workflow tips (just mechanics)
  </verify>
  <done>
docs/manual/layers.md exists with:
- Overview section with layers panel screenshot placeholder (LAY-01)
- Creating, renaming, and deleting layers documented with numbered steps (LAY-02)
- Delete layer warning about element deletion included
- Layer visibility toggle with eye icon and H keyboard shortcut documented (LAY-03)
- Layer lock toggle with lock icon and effect on canvas interaction documented (LAY-04)
- Z-order section explaining higher-in-panel = renders-on-top, drag-to-reorder (LAY-05)
- Moving Elements Between Layers as dedicated subsection with right-click context menu steps (LAY-06)
- Default layer limitations noted (cannot rename, delete, or reorder)
- 1+ screenshot placeholders
- Navigation links to README.md, canvas.md, properties.md, palette.md
- 150+ lines, tutorial format, beginner-friendly, no implementation references
  </done>
</task>

</tasks>

<verification>
- `docs/manual/layers.md` exists and follows topic file format from getting-started.md
- All 6 LAY requirements satisfied (LAY-01 through LAY-06)
- All operations documented with numbered step format (tutorial style)
- Delete layer warning explicitly mentions element deletion
- Z-order explained with text only per CONTEXT (no diagrams)
- Moving elements between layers is a dedicated subsection
- Default layer limitations documented throughout (cannot rename, delete, reorder)
- Screenshot placeholder for layers panel overview
- Cross-references to canvas.md, properties.md, palette.md, README.md
- File reads as a user-facing tutorial guide, not developer documentation
</verification>

<success_criteria>
- docs/manual/layers.md is 150+ lines of well-structured markdown
- LAY-01 through LAY-06 all satisfied
- Tutorial format with numbered steps per CONTEXT decisions
- Seven operation sections: create, rename, delete, visibility, lock, z-order, move between layers
- Delete warning about element deletion clearly stated
- Z-order is text-only explanation (no diagrams)
- Moving elements between layers is a dedicated subsection (not merged with another)
- Default layer limitations noted throughout
- 1+ screenshot placeholders with descriptive filenames
- Navigation links to README.md + cross-references
- Consistent format with getting-started.md and canvas.md
</success_criteria>

<output>
After completion, create `.planning/phases/62-properties-layers/62-02-SUMMARY.md`
</output>
