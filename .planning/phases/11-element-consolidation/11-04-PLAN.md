---
phase: 11-element-consolidation
plan: 04
type: execute
wave: 2
depends_on: ["11-01"]
files_modified:
  - src/components/Palette/Palette.tsx
autonomous: true

must_haves:
  truths:
    - "Palette shows single 'Slider' item instead of 'V Slider' and 'H Slider'"
    - "Palette shows single 'Button' item instead of 'Momentary' and 'Toggle'"
    - "User can change orientation/mode via property panel after dropping"
  artifacts:
    - path: "src/components/Palette/Palette.tsx"
      provides: "Consolidated palette items"
      contains: "Slider"
  key_links:
    - from: "Palette.tsx"
      to: "element creation"
      via: "paletteCategories items"
      pattern: "type.*slider|type.*button"
---

<objective>
Consolidate palette to show unified Slider and Button entries

Purpose: Address the element consolidation requirement - users should see "Slider" and "Button" in the palette, then change orientation/mode via property panel. The current "V Slider", "H Slider", "Momentary", "Toggle" naming suggests these are different element types.

Output: Simplified palette with single entries for Slider and Button elements
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-element-consolidation/11-RESEARCH.md

@src/components/Palette/Palette.tsx
@src/types/elements.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Consolidate Slider palette items</name>
  <files>src/components/Palette/Palette.tsx</files>
  <action>
Update the "Linear Controls" category to show a single "Slider" item instead of separate V/H slider items.

Current (lines 16-19):
```tsx
{
  name: 'Linear Controls',
  items: [
    { id: 'slider-vertical', type: 'slider', name: 'V Slider', variant: { orientation: 'vertical' } },
    { id: 'slider-horizontal', type: 'slider', name: 'H Slider', variant: { orientation: 'horizontal' } },
  ],
},
```

Replace with:
```tsx
{
  name: 'Linear Controls',
  items: [
    { id: 'slider', type: 'slider', name: 'Slider', variant: { orientation: 'vertical' } },
  ],
},
```

The default orientation is 'vertical' - users can change to horizontal in the property panel.

Rationale: The underlying type is already unified ('slider' with orientation property). The palette should reflect this by showing one Slider item. Users discover the orientation property in the property panel after dropping the element.
  </action>
  <verify>
Run the app, check the "Linear Controls" category in the left palette. It should show a single "Slider" item, not "V Slider" and "H Slider". Drag the Slider to the canvas - it should create a vertical slider. Select it and change orientation to Horizontal in properties - it should work.
  </verify>
  <done>Palette shows single "Slider" item; orientation is changed via property panel</done>
</task>

<task type="auto">
  <name>Task 2: Consolidate Button palette items</name>
  <files>src/components/Palette/Palette.tsx</files>
  <action>
Update the "Buttons & Switches" category to show a single "Button" item instead of separate Momentary/Toggle items.

Current (lines 21-26):
```tsx
{
  name: 'Buttons & Switches',
  items: [
    { id: 'button-momentary', type: 'button', name: 'Momentary', variant: { mode: 'momentary' } },
    { id: 'button-toggle', type: 'button', name: 'Toggle', variant: { mode: 'toggle' } },
  ],
},
```

Replace with:
```tsx
{
  name: 'Buttons & Switches',
  items: [
    { id: 'button', type: 'button', name: 'Button', variant: { mode: 'momentary' } },
  ],
},
```

The default mode is 'momentary' - users can change to toggle in the property panel.

Rationale: Same reasoning as Slider - the underlying type is unified ('button' with mode property). The palette should reflect this.
  </action>
  <verify>
Check the "Buttons & Switches" category in the palette. It should show a single "Button" item, not "Momentary" and "Toggle". Drag the Button to the canvas - it should create a momentary button. Select it and change mode to Toggle in properties - it should work.
  </verify>
  <done>Palette shows single "Button" item; mode is changed via property panel</done>
</task>

<task type="auto">
  <name>Task 3: Rename category for clarity</name>
  <files>src/components/Palette/Palette.tsx</files>
  <action>
Optionally rename the "Buttons & Switches" category to just "Buttons" since we now only have one button type (switches could be confused with toggle buttons which are now just buttons with mode=toggle).

Change:
```tsx
{
  name: 'Buttons & Switches',
  ...
}
```

To:
```tsx
{
  name: 'Buttons',
  ...
}
```

This is a minor naming cleanup for consistency.
  </action>
  <verify>
The palette should show "Buttons" category header instead of "Buttons & Switches". Visual verification in the app.
  </verify>
  <done>Category renamed to "Buttons" for cleaner presentation</done>
</task>

</tasks>

<verification>
1. `npm run dev` - app starts without errors
2. `npm run typecheck` - no TypeScript errors
3. Palette "Linear Controls" shows single "Slider" item
4. Palette "Buttons" shows single "Button" item
5. Dropped Slider defaults to vertical, can change to horizontal in properties
6. Dropped Button defaults to momentary, can change to toggle in properties
7. No duplicate palette items for the same underlying element type
</verification>

<success_criteria>
- Single "Slider" item in palette (replaces V Slider + H Slider)
- Single "Button" item in palette (replaces Momentary + Toggle)
- Default orientations/modes are sensible (vertical slider, momentary button)
- Property panel allows changing orientation/mode
- Cleaner, less confusing element palette
</success_criteria>

<output>
After completion, create `.planning/phases/11-element-consolidation/11-04-SUMMARY.md`
</output>
