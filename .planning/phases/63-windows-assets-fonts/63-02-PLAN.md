---
phase: 63-windows-assets-fonts
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/manual/assets.md
  - docs/manual/fonts.md
autonomous: true

must_haves:
  truths:
    - "Asset library topic file explains the Assets tab in the left panel and what it is for (managing imported SVG graphics)"
    - "SVG import workflow is documented: click Import, drop/browse file, preview, assign categories (logo, icon, decoration, background), import to library"
    - "Drag-to-canvas workflow documented as a brief paragraph (not numbered steps) -- drag from library onto canvas to place as SVG Graphic element"
    - "SVG sanitization gets a one-sentence trust mention: Faceplate automatically sanitizes imported SVGs"
    - "Asset categories covered naturally within the import workflow, not as a standalone list"
    - "Font topic file documents built-in fonts (bundled with app) and custom fonts (from user folder)"
    - "Font folder selection is minimal steps: go to Settings, select folder, fonts appear in dropdowns"
    - "Export bundling explained: base64 for custom fonts (larger but self-contained), file references for built-in fonts"
    - "Font preview dropdown gets one-sentence mention only, no screenshot placeholder"
    - "Screenshot placeholders exist for: asset library sidebar, SVG import dialog, font folder selection"
  artifacts:
    - path: "docs/manual/assets.md"
      provides: "Complete asset library documentation covering ASSET-01 through ASSET-05"
      min_lines: 80
    - path: "docs/manual/fonts.md"
      provides: "Complete font management documentation covering FONT-01 through FONT-04"
      min_lines: 80
  key_links:
    - from: "docs/manual/assets.md"
      to: "docs/manual/README.md"
      via: "navigation link back to index"
      pattern: "\\[.*\\]\\(README\\.md\\)"
    - from: "docs/manual/fonts.md"
      to: "docs/manual/README.md"
      via: "navigation link back to index"
      pattern: "\\[.*\\]\\(README\\.md\\)"
    - from: "docs/manual/fonts.md"
      to: "docs/manual/properties.md"
      via: "cross-reference to properties panel for font selection"
      pattern: "\\[.*\\]\\(properties\\.md\\)"
---

<objective>
Write the asset library and font management documentation for the Faceplate user manual.

Purpose: Give users reference guides for two related features -- importing and organizing SVG graphics in the asset library, and managing fonts (built-in and custom) with an understanding of how font choice affects exported bundles.
Output: `docs/manual/assets.md` and `docs/manual/fonts.md` -- complete documentation satisfying ASSET-01 through ASSET-05 and FONT-01 through FONT-04.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/63-windows-assets-fonts/63-RESEARCH.md
@.planning/phases/63-windows-assets-fonts/63-CONTEXT.md
@docs/manual/getting-started.md
@docs/manual/canvas.md
@docs/manual/layers.md
@docs/manual/README.md
@src/components/AssetLibrary/ImportAssetDialog.tsx
@src/types/asset.ts
@src/lib/svg-sanitizer.ts
@src/services/fonts/fontManager.ts
@src/services/fonts/fontRegistry.ts
@src/services/export/fontExporter.ts
@src/components/Settings/LicenseSettings.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write the asset library documentation</name>
  <files>docs/manual/assets.md</files>
  <action>
Create `docs/manual/assets.md` following the established topic file format from `canvas.md` and `layers.md`: title, overview paragraph, then content sections.

**IMPORTANT:** This is documentation only. No code changes. Target audience is VST3 developers. Feature-oriented reference style per CONTEXT.md.

**CRITICAL CONTEXT DECISIONS (from 63-CONTEXT.md -- these are LOCKED):**
- SVG security sanitization: ONE-SENTENCE mention only ("Faceplate automatically sanitizes imported SVGs to remove potentially unsafe content")
- Asset categories covered naturally within the import workflow, NOT as a standalone list
- Import validation errors NOT documented separately -- error messages are self-explanatory
- Drag-to-canvas: brief paragraph, NOT numbered steps (it's intuitive enough)
- Screenshot placeholders: key screens only (2 for this file)

The file must contain these sections:

**1. Title and overview**
```
# Asset Library

The Asset Library stores your imported SVG graphics for reuse across your designs. Access it from the **Assets** tab in the left panel.
```

Screenshot placeholder: `![Asset library tab in the left panel showing imported SVG graphics](../images/assets-library-sidebar.png)`

**2. Section: Importing SVGs** (anchored as `## Importing SVGs`)

Document the import workflow from ImportAssetDialog.tsx behavior. Use numbered steps here since import is a multi-step process:

1. Click the **Assets** tab in the left panel
2. Click the **+ Import** button at the top
3. Drop an SVG file into the drop zone, or click to browse your files
4. A preview of the SVG appears along with file metadata
5. Enter a name for the asset (defaults to the filename)
6. Select one or more categories to organize the asset: **logo**, **icon**, **decoration**, or **background**
7. Click **Import** to add it to your library

Categories are optional tags that help you organize your assets as your library grows. You can assign multiple categories to a single asset.

Screenshot placeholder: `![SVG import dialog showing preview, name field, and category selection](../images/assets-import-dialog.png)`

SVG sanitization one-sentence mention per CONTEXT: Faceplate automatically sanitizes imported SVGs to remove potentially unsafe content like embedded scripts, ensuring your exported JUCE WebView2 bundle is secure.

**3. Section: Organizing Assets** (anchored as `## Organizing Assets`)

Brief reference-style explanation:
- Assets appear in the library with their preview thumbnail and name
- Filter assets by category using the category buttons at the top of the Assets panel
- Right-click an asset to rename or delete it
- Categories assigned during import can help you find assets quickly as your library grows

**4. Section: Using Assets on the Canvas** (anchored as `## Using Assets on the Canvas`)

Per CONTEXT, this is a BRIEF PARAGRAPH, not numbered steps:

Drag any asset from the library directly onto the canvas to place it as an **SVG Graphic** element. The graphic appears at its natural SVG dimensions and can be resized, repositioned, and styled using the Properties panel like any other element.

**5. Footer: navigation links**

```
---

[Back to User Manual](README.md) | [Canvas](canvas.md) | [Multi-Window Projects](windows.md) | [Font Management](fonts.md)
```

**Format rules (same as canvas.md and layers.md):**
- Use bold for UI element names: **Assets** tab, **+ Import** button, **SVG Graphic** element
- Screenshot placeholder format: `![description](../images/filename.png)`
- Do NOT reference React components, TypeScript types, DOMPurify, or implementation details
- Do NOT create separate sections for validation errors or troubleshooting
- Flat prose style, no tip/note callout boxes
  </action>
  <verify>
Verify the file exists and covers all requirements:
- Check: `docs/manual/assets.md` exists
- Check: Contains overview explaining asset library purpose with sidebar screenshot placeholder (ASSET-01)
- Check: Contains ## Importing SVGs section with numbered steps for upload dialog workflow (ASSET-02)
- Check: Categories (logo, icon, decoration, background) mentioned within import workflow (ASSET-02)
- Check: Contains ## Organizing Assets section covering filtering and management (ASSET-03)
- Check: Contains ## Using Assets on the Canvas section as brief paragraph, not numbered steps (ASSET-04)
- Check: SVG sanitization mentioned in one sentence (ASSET-05)
- Check: Screenshot placeholders exist for: assets-library-sidebar.png, assets-import-dialog.png
- Check: Contains link back to README.md
- Check: File is at least 80 lines
- Check: No code-level references (no React, DOMPurify, TypeScript mentions)
- Check: No separate validation error or troubleshooting sections
  </verify>
  <done>
docs/manual/assets.md exists with:
- Overview with asset library sidebar screenshot placeholder (ASSET-01)
- Importing SVGs section with numbered workflow steps and import dialog screenshot (ASSET-02)
- Categories covered naturally within import flow (ASSET-02)
- Organizing Assets section with filtering and management (ASSET-03)
- Using Assets on the Canvas as brief paragraph (ASSET-04)
- SVG sanitization one-sentence mention (ASSET-05)
- 2 screenshot placeholders
- Navigation links to README.md, canvas.md, windows.md, fonts.md
- 80+ lines, reference format, no implementation references
  </done>
</task>

<task type="auto">
  <name>Task 2: Write the font management documentation</name>
  <files>docs/manual/fonts.md</files>
  <action>
Create `docs/manual/fonts.md` following the established topic file format from `canvas.md` and `layers.md`: title, overview paragraph, then content sections.

**IMPORTANT:** This is documentation only. No code changes. Target audience is VST3 developers. Feature-oriented reference style per CONTEXT.md.

**CRITICAL CONTEXT DECISIONS (from 63-CONTEXT.md -- these are LOCKED):**
- Built-in vs custom font distinction: Claude's discretion on approach (RESEARCH recommends sequential: built-in first, then custom)
- Export bundling details explained IN the font docs (base64 for custom, file refs for built-in)
- Font folder selection: minimal steps ("Go to Settings, select your fonts folder, custom fonts appear in the dropdown")
- Font preview dropdown: ONE-SENTENCE mention only, NO screenshot placeholder
- Tips/callouts: Claude's discretion (RESEARCH recommends flat prose to match existing style)

The file must contain these sections:

**1. Title and overview**
```
# Font Management

Faceplate supports both built-in fonts and custom fonts from your system. Fonts are used for labels, value displays, and any text element in your designs.
```

**2. Section: Built-in Fonts** (anchored as `## Built-in Fonts`)

Explain built-in fonts first (sequential approach per RESEARCH recommendation):

Faceplate includes a set of built-in fonts that are always available without any setup. These include common typefaces like Inter, Roboto, Roboto Mono, Arial, Helvetica, Georgia, and others across sans-serif, serif, monospace, and display categories.

Built-in fonts appear in the font dropdown of any element that supports text styling. Select a font from the dropdown in the Properties panel to apply it.

When you export your project, built-in fonts are referenced by file path in the generated CSS. The font files are included in the export bundle alongside your HTML and JavaScript.

**3. Section: Custom Fonts** (anchored as `## Custom Fonts`)

Explain how to add custom fonts from a local folder:

To use your own fonts in Faceplate, point the application to a folder containing font files on your system.

Font folder selection -- minimal per CONTEXT:

1. Open Settings (gear icon in the toolbar)
2. Under **Font Settings**, click **Select Fonts Folder**
3. Choose a folder containing `.ttf`, `.otf`, `.woff`, or `.woff2` font files
4. Faceplate scans the folder and loads the fonts

Screenshot placeholder: `![Font settings showing the Select Fonts Folder button and scan status](../images/fonts-folder-selection.png)`

After scanning, custom fonts appear in font dropdowns throughout the application alongside the built-in fonts. The dropdown shows each font rendered in its own typeface so you can preview how it looks. (This is the one-sentence preview mention per CONTEXT.)

Mention that the directory handle is persisted across sessions -- Faceplate remembers your fonts folder and reloads fonts automatically when you reopen the application. The browser may ask for permission to access the folder again.

**4. Section: Fonts in Export** (anchored as `## Fonts in Export`)

Explain how font choice affects the exported bundle (per CONTEXT -- this should be IN the font docs):

When you export your project to a JUCE WebView2 bundle, fonts are bundled differently depending on their type:

- **Built-in fonts** are included as separate font files in the export. The generated CSS references them by relative path. This keeps the bundle size minimal.
- **Custom fonts** are embedded directly into the CSS as base64-encoded data. This makes the export fully self-contained (no external font file dependencies) but increases the bundle size.

If bundle size is a concern, prefer built-in fonts where possible. Use custom fonts when your design requires a specific typeface that is not in the built-in collection.

**5. Footer: navigation links**

```
---

[Back to User Manual](README.md) | [Properties Panel](properties.md) | [Multi-Window Projects](windows.md) | [Asset Library](assets.md)
```

**Format rules (same as canvas.md and layers.md):**
- Use bold for UI element names: **Font Settings**, **Select Fonts Folder** button
- Use backticks for file extensions: `.ttf`, `.otf`, `.woff`, `.woff2`
- Screenshot placeholder format: `![description](../images/filename.png)`
- Do NOT reference React components, TypeScript types, FontFace API, IndexedDB, File System Access API, or implementation details
- Flat prose style matching existing manual files (no tip/note callout boxes)
- Font preview dropdown: ONE SENTENCE only, no screenshot placeholder for it
  </action>
  <verify>
Verify the file exists and covers all requirements:
- Check: `docs/manual/fonts.md` exists
- Check: Contains overview explaining font system purpose (FONT-01)
- Check: Contains ## Built-in Fonts section explaining bundled fonts (FONT-01)
- Check: Contains ## Custom Fonts section with folder selection steps (FONT-02)
- Check: Font preview dropdown mentioned in one sentence (FONT-03)
- Check: Contains ## Fonts in Export section explaining base64 for custom, file refs for built-in (FONT-04)
- Check: Screenshot placeholder exists for: fonts-folder-selection.png
- Check: NO screenshot placeholder for font preview dropdown (per CONTEXT)
- Check: Contains link back to README.md
- Check: Contains cross-reference to properties.md
- Check: File is at least 80 lines
- Check: No code-level references (no FontFace API, IndexedDB, File System Access API, React mentions)
- Check: Bundle size tradeoff mentioned to help users make informed font choices
  </verify>
  <done>
docs/manual/fonts.md exists with:
- Overview explaining font system (FONT-01)
- Built-in Fonts section documenting bundled fonts and how they work (FONT-01)
- Custom Fonts section with minimal folder selection steps and directory persistence (FONT-02)
- Font preview dropdown as one-sentence mention (FONT-03)
- Fonts in Export section explaining base64 for custom vs file refs for built-in (FONT-04)
- 1 screenshot placeholder (font folder selection only, no dropdown preview per CONTEXT)
- Navigation links to README.md, properties.md, windows.md, assets.md
- 80+ lines, reference format, flat prose, no implementation references
  </done>
</task>

</tasks>

<verification>
- `docs/manual/assets.md` exists and follows topic file format from canvas.md
- `docs/manual/fonts.md` exists and follows topic file format from canvas.md
- All 5 ASSET requirements satisfied (ASSET-01 through ASSET-05)
- All 4 FONT requirements satisfied (FONT-01 through FONT-04)
- SVG sanitization is one-sentence mention, not technical deep dive
- Categories covered within import flow, not standalone
- Drag-to-canvas is brief paragraph, not numbered steps
- Font preview dropdown is one-sentence mention with no screenshot placeholder
- Export bundling tradeoff explained in font docs
- 3+ screenshot placeholders total (2 for assets, 1 for fonts)
- Cross-references to README.md, canvas.md, properties.md, windows.md
- Files read as user-facing reference guides, not developer documentation
</verification>

<success_criteria>
- docs/manual/assets.md is 80+ lines of well-structured markdown
- docs/manual/fonts.md is 80+ lines of well-structured markdown
- ASSET-01 through ASSET-05 all satisfied
- FONT-01 through FONT-04 all satisfied
- Feature-oriented reference format per CONTEXT decisions
- SVG sanitization = one sentence
- Drag-to-canvas = brief paragraph
- Font preview = one sentence, no screenshot
- Export bundling = explained with tradeoff guidance
- 3 screenshot placeholders total (sidebar, import dialog, font folder)
- Consistent format with canvas.md and layers.md
</success_criteria>

<output>
After completion, create `.planning/phases/63-windows-assets-fonts/63-02-SUMMARY.md`
</output>
